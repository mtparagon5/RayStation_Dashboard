/** 
 * WebDataRocks Reporting v1.0.2 (http://www.webdatarocks.com/)
 * Copyright 2018 WebDataRocks. All rights reserved.
 */

var WebDataRocks=function(p){G9VV.J3B="rowLevels";G9VV.u0B=" filterHeaderCell";U9VV.t0C=127;G9VV.o2B="%";v9VV.W8Q="printcomplete";G9VV.c5B="hierarchies";U9VV.L2C="-";v9VV.o9Q="min";G9VV.R7B="%d%";G9VV.P2B="params";v9VV.L7C="dd/MM/yyyy";G9VV.z6B="extendedDataWidth";U9VV.I4C="wdr-droppable";U9VV.v0C=40;U9VV.g0C=99;G9VV.N6B="extendedDataHeight";U9VV.Z8C=24;W9VV.J3Y="wdr-search-btn";v9VV.p0B="<td {0}>";W9VV.G8x="isReportDefined";v9VV.I3C="ul";G9VV.n3B="search";G9VV.D0B="class='";G9VV.P3B="columnCount";U9VV.P2C="ntr";G9VV.Q6B="levelOrdinal";U9VV.e0C=192;G9VV.r3B="columnAxis";U9VV.n8C=7;G9VV.Q7B="%q%";U9VV.V2C="padding";G9VV.c4B="...";G9VV.J5B=".Day";W9VV.J9x="solid";v9VV.B8B="and";W9VV.b9Y="==";function v9VV(){}U9VV.G3C="wdr-ui-prompt";v9VV.R6C="&";v9VV.l5C="/";W9VV.B6Y="wdr-drag-handle";W9VV.S1Y="classic";U9VV.i4C="touchstart";W9VV.L2Y="i";W9VV.F2Y=".wdr-cell";U9VV.m8C=32;U9VV.r8C=35;U9VV.Q2C="undefined";v9VV.j9Q="*";v9VV.e5C="<body>";W9VV.t2Y="wdr-filters";U9VV.i8C=19;G9VV.E4B="rgb(33, 33, 33)";v9VV.l6C=1E6;G9VV.i3B="rowsOnly";v9VV.y9Q="landscape";G9VV.r0B="showHeaders";W9VV.L8Y="max-width";U9VV.a8C=11;W9VV.a1Y="dblclick";U9VV.R4C="mouseup";v9VV.q0B=" columnHeaderCell";G9VV.Q5B="measuresHierarchy";W9VV.Y4Y='">';U9VV.F3C="position";v9VV.I8B="</config>";v9VV.P7C=", ";v9VV.g6Q="All";W9VV.y2Y="title";U9VV.V4C=2048;W9VV.b2Y="wdr-helper";v9VV.c6C="text/xml";W9VV.p6Y="wdr-aggregations-view";W9VV.K8Y="wdr-ui-label-light";v9VV.a3C="wdr-ui-hgroup";G9VV.F4B="background-color";W9VV.D0Y="wdr-level-";W9VV.v8x="isReportComplete";W9VV.j3Y="wdr-popup-header wdr-ui-row";W9VV.Z3Y="wdr-close-search wdr-ui-icon wdr-icon-act_close";U9VV.o0C=100;v9VV.h7C=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/i;G9VV.A5B="regularMeasures";G9VV.b0B="font-size";W9VV.a4Y=".wdr-filters";v9VV.i7C="\t";U9VV.G2C="id";W9VV.Y6Y="wdr-values";W9VV.d3Y="wdr-lst-hierarchies";W9VV.g2Y="z-index";U9VV.h8C=13;G9VV.u6B="dataHeight";v9VV.A8B="filename";W9VV.M9Y=">";G9VV.D7B="' in CSV is invalid: ";G9VV.N7B="The following JSON meta object for the field '";U9VV.l2C="size";v9VV.S8B="\x3c!--";v9VV.o6C="html";G9VV.F0B="#wdr-data-sheet";W9VV.k7B="%n%";v9VV.A6C="file";function W9VV(){}G9VV.G6B="rowSortTuple";function U9VV(){}W9VV.l6Y="wdr-lst-measures";G9VV.a0B=".filterHeaderCell{{0}}\n";v9VV.n6C="json";G9VV.S3B="dataLoaded";W9VV.f3Y="wdr-search-wrap";W9VV.r7B="desc";v9VV.o5C="<title>";v9VV.n9Q="max";U9VV.Y0C=60;v9VV.X9B="Year";U9VV.r2C="keyup";v9VV.h6C="=";G9VV.F3B="\\";U9VV.j2C="right";G9VV.V6B="hasRowSorting";U9VV.W3C="type";v9VV.j5C="<html>";U9VV.m0C=500;v9VV.a7C="dd/MM/yyyy HH:mm:ss";G9VV.o6B="folder";U9VV.I8C=30;v9VV.Y1Q="portrait";U9VV.s4C=" ";v9VV.B0B="class='cell'";v9VV.N6C=1E3;G9VV.x7B=/^(\+|dt\+|t\+|n\+|-|ds\+|d\+|m\+|w\+|D\+|D4\+|url\+|img\+|id\+)/;U9VV.O8C=1;v9VV.F9Q=";";U9VV.M2C="left";v9VV.O5C="1px";W9VV.N3Y="wdr-moreicon-display";G9VV.t5B="formula";W9VV.a3Y="wdr-ui-row";G9VV.r6B="asc";W9VV.k2Y=".wdr-header";G9VV.v6B="rowSortType";W9VV.z3Y="wdr-calc-display";v9VV.W0B="caption";G9VV.m3B="measureDepth";U9VV.a0C=191;v9VV.U9Q='"';v9VV.m7C="|";G9VV.N0B=" cell";U9VV.V3C="_";G9VV.h5B="measures_";U9VV.A4C="touchend";G9VV.x6B="lastColsTupleInteracted";U9VV.g2C="bottom";U9VV.N2C="wdr-noselect";W9VV.m1Y="wdr-popup-title";W9VV.F4Y="isSmooth";U9VV.p3C="text";W9VV.N2Y="wdr-rows-resize";U9VV.x2C="number";v9VV.t7C=":";W9VV.g3Y="wdr-ui-col wdr-vam";U9VV.C2C="paste";U9VV.L8C=10;U9VV.C8C=37;v9VV.m3C="label";G9VV.h7B="**--!--**/";G9VV.i5B=".Month";v9VV.v8Q="exportcomplete";G9VV.H4B="rgb(242, 242, 242)";U9VV.z0C=63;G9VV.t0B=".totalCell{{0}}\n";G9VV.U5B="hierarchy";G9VV.p6B="columnSortTuple";G9VV.C3B="rowCount";U9VV.o8C=6;U9VV.x4C=null;U9VV.y4C="px";v9VV.m8B=".js";W9VV.j1Y="wdr-grid-layout";G9VV.R3B="QUERY_COMPLETE";G9VV.x4B="italic";G9VV.Y7B=".csv";v9VV.m6C="\n";G9VV.z0B=" totalCell";v9VV.M1B="export";v9VV.R1B="if";W9VV.l3Y="isExpandAll";U9VV.U0C=39;v9VV.C7C="}";U9VV.r4C="div";U9VV.s2C="width";W9VV.E3Y="wdr-ui-icon wdr-icon-act_search";W9VV.D3Y="wdr-droppable-valid";G9VV.k5B=".Year";W9VV.X6Y="wdr-search-opened";v9VV.W9Q="truestyle";U9VV.A0C=200;v9VV.a1Q="members";W9VV.a6Y="wdr-level";U9VV.f0C=224;U9VV.y8C=25;G9VV.w3B="rowAxis";v9VV.M5C="-9999px";G9VV.H3B="columnsOnly";U9VV.v2C="all";v9VV.l8Q="beforegriddraw";v9VV.P5C="Day";W9VV.y3Y="wdr-list-content";G9VV.Z3B="pages";U9VV.O3C="absolute";U9VV.Y3C="wdr-selected";W9VV.v9Y="count";W9VV.w3Y="wdr-prompt";v9VV.Q7C="rgb(255,255,255)";W9VV.c6Y="wdr-text-display";U9VV.E2C="wdr-ui-btn";v9VV.d8B="/**----**";U9VV.c0C=128;G9VV.A6B="month";W9VV.z2Y="wdr-cols-resize";v9VV.R7C="#";U9VV.I2C="span";v9VV.S5Q="Limitation!";v9VV.T8B=".json";v9VV.k6C=",";G9VV.f3B="isClassic";v9VV.A5C=2E3;U9VV.V0C=50;G9VV.M6B="uniqueName";G9VV.y3B="measures";v9VV.M6C="GET";U9VV.y2C="inline-block";G9VV.P0B="drillThrough";W9VV.u3Y="wdr-aggr-display";U9VV.J2C="a";W9VV.O9Y="<";v9VV.w7C="{";U9VV.E8C=21;U9VV.n2C="none";W9VV.F3Y="#wdr-drag-handle";G9VV.g3B="descendants";v9VV.M8Q="rows";G9VV.b5B="hidden";W9VV.w5Y="<b>$1</b>";G9VV.A3B="QUERY_ERROR";G9VV.g2B="percent";G9VV.J4B="rgb(0,0,0)";G9VV.W2B="color";U9VV.K2C="string";G9VV.F6B="flat";W9VV.l4Y="data-r";U9VV.b8C=3;W9VV.V8Y="wdr-ui-btn-dark";U9VV.e8C=12;v9VV.K9Q="(";W9VV.p4Y="data-c";U9VV.e4C="mousemove";U9VV.E4C="opacity";v9VV.L1Q="update";W9VV.M3Y="wdr-level-folder";G9VV.f6B="filter";v9VV.O7C="0";W9VV.K4Y="line-height";W9VV.K3Y="wdr-drop-indicator";U9VV.S8C=27;G9VV.k3B="dataStorage";v9VV.f7C=".";U9VV.q2C="parent";G9VV.l6B="columnSortType";v9VV.U7C="Month";G9VV.c0B=".rowHeaderCell{{0}}\n";U9VV.c8C=9;W9VV.L3Y="wdr-popup-content";U9VV.j8C=4;v9VV.d3C="data-index";G9VV.I3B="rowMaxDepth";G9VV.a6B=".[]";W9VV.j9Y="!=";G9VV.x0B="style='";W9VV.P7B="date";W9VV.t3Y="wdr-ui-btn-light wdr-icon-act_calc";v9VV.b8Q="columns";v9VV.t8Q="slice";G9VV.e0B=".level{0}{{1}}\n";G9VV.V5B="level";U9VV.b2C="top";W9VV.O3Y="wdr-folder";v9VV.y3C="li";v9VV.z9Q=")";v9VV.S3C="allowMultipleSelection";v9VV.H6C="length";U9VV.k8C=17;U9VV.P8C=38;G9VV.n0B=".cell{{0}}\n";W9VV.c3Y="wdr-btn-add-measure";v9VV.t5C="<style>";G9VV.q6B="dataWidth";U9VV.H2C="click";W9VV.H3Y="wdr-search-inp";G9VV.R0B=".{0}{{1}}\n";U9VV.o2C="input";W9VV.k7Y="close";v9VV.F5C="name";G9VV.h0B="padding-left";G9VV.X6B="columnSortMeasure";v9VV.j7C="true";v9VV.x1Q="function";v9VV.t9Q="sum";W9VV.B2Y="wdr-cols-sheet";U9VV.C4C="";U9VV.g8C=5;W9VV.a8Y="max-height";G9VV.B6B="hasColumnSorting";G9VV.T0B="showAggregations";v9VV.V6C="scroll";W9VV.x3Y="wdr-droppable-invalid";W9VV.T3Y="wdr-list-header";W9VV.w4Y="wdr-row";v9VV.k5C="boolean";v9VV.F1Q="keydown";G9VV.L0B=".columnHeaderCell{{0}}\n";W9VV.k8Y="wdr-pivot-title";U9VV.B3C="focusout";U9VV.t8C=8;U9VV.Q8C=16;G9VV.M0B="font-family";U9VV.M8C=2;U9VV.O2C="height";G9VV.W6B="rowSortMeasure";G9VV.q7B=1E4;G9VV.b4B="text-align";U9VV.k4C="wdr-draggable";v9VV.I5C="?";U9VV.T8C=31;G9VV.E3B="columnLevels";W9VV.f7B="NaN";v9VV.e1B="delete";v9VV.X0B="</td>";U9VV.a2C="textarea";G9VV.M4B="font-weight";v9VV.k8B="url";v9VV.v9Q="'";v9VV.n5C="</title>";v9VV.S7C="&#39;";W9VV.m8Y="wdr-filtered";W9VV.o3Y="wdr-popup-subtitle";U9VV.A8C=15;v9VV.g9Q="^";U9VV.R2C="block";U9VV.F8C=0;W9VV.i2Y="wdr-compact-view";function G9VV(){}W9VV.L6Y="wdr-measure";W9VV.h2Y="wdr-rows-filter";U9VV.k2C="on";v9VV.R8B="report.json";U9VV.f4C="mousedown";U9VV.m4C="mouseleave";U9VV.J8C=20;U9VV.N0C=64;G9VV.K4B="bold";W9VV.T9x='"/>';W9VV.y9Y="isInlineData";W9VV.Y2Y="wheel";U9VV.w2C="keypress";G9VV.R5B="calculatedMeasures";W9VV.n3Y="wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row";v9VV.D5C="Singleton";v9VV.Z3C="data";U9VV.X3C="focusin";W9VV.F8Y=" / ";W9VV.d1Y="compact";G9VV.T3B="columnMaxDepth";G9VV.N4B="off";v9VV.D7C="+";W9VV.a9Y="value";v9VV.C1B="false";G9VV.d3B="measuresPosition";W9VV.Q2Y="[Measures]";v9VV.p8Q="aftergriddraw";U9VV.q3C="wdr-ui-toggle-btn";W9VV.z4Y="min-height";G9VV.Y6B="isEmpty";G9VV.D6B="lastRowsTupleInteracted";W9VV.q1Y="tabindex";v9VV.Y0B=" rowHeaderCell level";W9VV.v4Y=1E5;W9VV.g1Y="isFlatTable";W9VV.O8Y=" - ";G9VV.U6B="multiMeasures";G9VV.s6B="pivot";v9VV.J5C="relative";W9VV.n2Y="data-h";v9VV.S5C="()";U9VV.R8C=14;v9VV.J7C="\r";var __extends=this&&this.__extends||function(){var U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,W){G.__proto__=W;}||function(B,X){for(var V in X)X.hasOwnProperty(V)&&(B[V]=X[V]);};return function(N,Y){U(N,Y);N.prototype=U9VV.x4C===Y?Object.create(Y):(K.prototype=Y.prototype,new K());function K(){this.constructor=N;}};}(),events;(function(O){var F=function(){var a4C="event_resize";var L4C="event_close";var c4C="event_open";var t4C="event_cancel";var n4C="event_closed";var o4C="event_opened";var g4C="event_error";var j4C="event_change";var b4C="event_select";var M4C="event_progress";var O4C="event_connected";var F4C="event_complete";j.isNativeType=function(i){var K4C="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange focusin focusout touchstart touchmove touchend touchenter touchleave touchcancel";return-U9VV.O8C<K4C.split(U9VV.s4C).indexOf(i);};j.COMPLETE=F4C;j.CONNECTED=O4C;j.PROGRESS=M4C;function j(Q,R,A){var O4x=U9VV;void O4x.F8C===R&&(R=O4x.x4C);void O4x.F8C===A&&(A=O4x.x4C);this.type=Q;this.target=R;this.data=A;}j.SELECT=b4C;j.CHANGE=j4C;j.ERROR=g4C;j.OPENED=o4C;j.CLOSED=n4C;j.CANCEL=t4C;j.OPEN=c4C;j.CLOSE=L4C;j.RESIZE=a4C;return j;}();O._Event=F;F=function(){J.prototype.areListenersEqual=function(E,I){return E.type==I.type&&E.handler==I.handler;};J.prototype.hasEventListener=function(P,U9){var M4x=U9VV;if(utils.nullOrUndefined(this._listeners[P]))return!M4x.O8C;for(var C=M4x.F8C;C<this._listeners[P].length;C++)if(this.areListenersEqual(this._listeners[P][C],U9))return!M4x.F8C;return!M4x.O8C;};function J(){this.dispatchActive=!U9VV.O8C;this._listeners=[];this._addedListeners=[];this._deletedListeners=[];}J.prototype.addEventListener=function(v9,G9,W9){var g4x=U9VV;void g4x.F8C===W9&&(W9=g4x.F8C);G9={type:v9,handler:G9,priority:W9};if(!this.hasEventListener(v9,G9))if(this.dispatchActive)utils.nullOrUndefined(this._addedListeners[v9])&&(this._addedListeners[v9]=[]),this._addedListeners[v9].push(G9);else if(utils.nullOrUndefined(this._listeners[v9])&&(this._listeners[v9]=[]),g4x.F8C==this._listeners[v9].length)this._listeners[v9].push(G9);else{this._listeners[v9][this._listeners[v9].length-g4x.O8C].priority>=W9&&this._listeners[v9].push(G9);for(var V9=g4x.F8C;V9<this._listeners[v9].length;V9++)if(this._listeners[v9][V9].priority<W9){this._listeners[v9].splice(V9,g4x.F8C,G9);break;}}};J.prototype.removeEventListener=function(l9,q9){if(!utils.nullOrUndefined(this._listeners[l9])){for(var Y9={type:l9,handler:q9},X9=this._listeners[l9].slice(U9VV.F8C),B9=[],p9=U9VV.F8C;p9<X9.length;p9++)this.areListenersEqual(X9[p9],Y9)?this.dispatchActive&&(utils.nullOrUndefined(this._deletedListeners[l9])&&(this._deletedListeners[l9]=[]),this._deletedListeners[l9].push(X9[p9])):B9.push(X9[p9]);this._listeners[l9]=B9;}};J.prototype.removeAllEventListeners=function(u9){void U9VV.F8C===u9?(this._listeners=[],this._addedListeners=[],this._deletedListeners=[]):(utils.nullOrUndefined(this._listeners)||(this._listeners[u9]=[]),utils.nullOrUndefined(this._addedListeners)||(this._addedListeners[u9]=[]),utils.nullOrUndefined(this._deletedListeners)||(this._deletedListeners[u9]=[]));};J.prototype.dispatch=function(N9){var t4x=U9VV;if(!utils.nullOrUndefined(this._listeners[N9.type])){this.dispatchActive=!t4x.F8C;for(var z9=this._listeners[N9.type].slice(t4x.F8C),D9=t4x.F8C;D9<z9.length;D9++){if(!utils.nullOrUndefined(this._deletedListeners[N9.type])){var K9=!t4x.O8C,s9;for(s9 in this._deletedListeners[N9.type])this.areListenersEqual(z9[D9],this._deletedListeners[N9.type][s9])&&(K9=!t4x.F8C);if(K9)continue;}N9 instanceof pivot.model.APIEvent?z9[D9].handler.call(this,N9.data):z9[D9].handler.call(this,N9);}delete this._deletedListeners[N9.type];for(var x9 in this._addedListeners){if(utils.nullOrUndefined(this._listeners[x9]))z9=[];else if(this._listeners[x9]instanceof Array)z9=this._listeners[x9].slice(t4x.F8C);else continue;if(!utils.nullOrUndefined(this._addedListeners[x9]))for(D9=t4x.F8C;D9<this._addedListeners[x9].length;D9++)if(t4x.F8C==z9.length)z9.push(this._addedListeners[x9][D9]);else for(z9[z9.length-t4x.O8C].priority==this._addedListeners[x9][D9].priority&&z9.push(this._addedListeners[x9][D9]),N9=t4x.F8C;N9<z9.length;N9++)if(z9[N9].priority<this._addedListeners[x9][D9].priority){z9.splice(N9,t4x.F8C,this._addedListeners[x9][D9]);break;}this._listeners[x9]=z9;this._addedListeners[x9]=[];}this.dispatchActive=!t4x.O8C;}};J.prototype.dispatchWith=function(F9,O9,M9){F9=new O._Event(F9,U9VV.x4C==O9?this:O9,M9);this.dispatch(F9);};return J;}();O.EventDispatcher=F;}(events||(events={})));var uicontrols;(function(b9){(function(g9){var j9=function(){var H4C="wdr-dragging-move";var J4C="wdr-dragging";o9.getInstance=function(){o9.instance||(o9.instance=new o9());return o9.instance;};function o9(){var b7x=U9VV;var Q4C="touchcancel";var h4C="touchmove";var n9=this;this.distance=b7x.g8C;this._lastDraggable=b7x.x4C;utils.fmdocument.addEventListener(b7x.e4C,function(t9){return n9.onMouseMove(t9);});utils.fmdocument.addEventListener(h4C,function(c9){return n9.onTouchMove(c9);},!b7x.O8C);utils.fmdocument.addEventListener(b7x.R4C,function(L9){return n9.onMouseUp(L9);});utils.fmdocument.addEventListener(b7x.A4C,function(a9){return n9.onTouchEnd(a9);});utils.fmdocument.addEventListener(Q4C,function(e9){return n9.onTouchEnd(e9);});}o9.dispose=function(){o9.instance=U9VV.x4C;};o9.prototype.makeDraggable=function(R9,A9){var h9=this;R9.addClass(U9VV.k4C);var Q9=function(k9){A9.handle&&!k9.target.matches(A9.handle)||h9.dragElement==R9||(U9VV.x4C!=h9.dragElement&&h9.stopDrag(A9,k9),h9.dragElement=R9,h9.dragOptions=A9,h9.startX=h9.getX(k9),h9.startY=h9.getY(k9));};R9.addEventListener(U9VV.f4C,Q9);R9.addEventListener(U9VV.i4C,Q9);};o9.prototype.getX=function(f9){return f9 instanceof MouseEvent?f9.clientX:f9.changedTouches[U9VV.F8C].clientX;};o9.prototype.getY=function(i9){return i9 instanceof MouseEvent?i9.clientY:i9.changedTouches[U9VV.F8C].clientY;};o9.prototype.onMouseMove=function(J9){var t7x=U9VV;if(t7x.O8C==J9.which&&this.dragElement)if(this.dragHelper&&this.dragElement.hasClass(J4C)){this.setHelperPosition(J9.clientX,J9.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,J9);J9.preventDefault();}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,J9)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(t7x.E4C,t7x.F8C),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(J9.clientX,J9.clientY,!t7x.F8C),this.dragElement.addClass(J4C)):(this.dragElement=t7x.x4C,this.dragHelper.removeFromParent(!t7x.F8C),this.dragHelper=t7x.x4C);};o9.prototype.isDistanceOK=function(E9,H9){return Math.abs(this.startX-E9)>this.distance||Math.abs(this.startY-H9)>this.distance?!U9VV.F8C:!U9VV.O8C;};o9.prototype.setHelperPosition=function(y9,d9,S9){var L7x=U9VV;var d4C="margin-left";var Z4C="margin-top";void L7x.F8C===S9&&(S9=!L7x.O8C);if(L7x.x4C!=this.dragHelper){var Z9=pivot._view.PivotView.stage.container.getOffset();this.dragHelper.position({top:d9-Z9.top,left:y9-Z9.left});this.isDistanceOK(y9,d9)&&(this.dragHelper.css(L7x.E4C,L7x.O8C),this.dragElement.addClass(H4C));S9&&L7x.x4C!=this.dragElement&&(Z9=this.dragElement.getOffset(),d9=Math.max(L7x.F8C,Math.min(this.dragElement.height,d9-Z9.top)),y9=Math.max(L7x.F8C,Math.min(this.dragElement.width,this.dragHelper.width,y9-Z9.left)),this.dragHelper.css(Z4C,-d9+L7x.y4C),this.dragHelper.css(d4C,-y9+L7x.y4C));}};o9.prototype.onTouchMove=function(m9){var a7x=U9VV;var S4C=".wdr-droppable";if(this.dragElement){var I9=m9.touches[a7x.F8C];if(this.dragHelper&&this.dragElement.hasClass(J4C)){this.setHelperPosition(I9.clientX,I9.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,m9);m9.preventDefault();I9=m9.changedTouches[a7x.F8C];if(I9=b9.UIElement.convert(document.elementFromPoint(I9.clientX,I9.clientY))){var T9=I9.closest(S4C);T9&&T9.droppableOptions&&T9.droppableOptions.onDragOver&&(T9.droppableOptions.onDragOver(this.dragElement,this.dragHelper,T9,m9),this._lastDraggable=T9);}if((a7x.x4C==I9||a7x.x4C==T9)&&a7x.x4C!=this._lastDraggable&&this._lastDraggable.droppableOptions&&this._lastDraggable.droppableOptions.onDragLeave)this._lastDraggable.droppableOptions.onDragLeave(this.dragElement,this.dragHelper,this._lastDraggable,m9);}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,m9)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(a7x.E4C,a7x.F8C),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(I9.clientX,I9.clientY,!a7x.F8C),this.dragElement.addClass(J4C)):(this.dragElement=a7x.x4C,this.dragHelper.removeFromParent(!a7x.F8C),this.dragHelper=a7x.x4C);}};o9.prototype.onMouseUp=function(w9){this.stopDrag(this.dragOptions,w9);};o9.prototype.onTouchEnd=function(P9){for(var r9=P9.changedTouches[U9VV.F8C],C9=r9=b9.UIElement.convert(document.elementFromPoint(r9.clientX,r9.clientY));r9;){if(r9.hasClass(U9VV.I4C)){utils.nullOrEmpty(r9.droppableOptions.itemSelector)||(C9=C9.closest(r9.droppableOptions.itemSelector));r9.droppableOptions.onDrop(this.dragElement,r9,C9,P9);break;}r9=r9.parent;}this.stopDrag(this.dragOptions,P9);};o9.prototype.stopDrag=function(v1,U1){var h7x=U9VV;h7x.x4C!=this.dragHelper&&(this.dragHelper.removeFromParent(!h7x.F8C),this.dragHelper=h7x.x4C);if(h7x.x4C!=this.dragElement){this.dragElement.removeClass(J4C);this.dragElement.removeClass(H4C);if(v1.onDragEnd&&this.isDistanceOK(this.getX(U1),this.getY(U1)))v1.onDragEnd(this.dragElement,U1);this.dragElement=h7x.x4C;}this._lastDraggable=h7x.x4C;this.startY=this.startX=NaN;};o9.prototype.makeDroppable=function(V1,l1,W1){var f7x=U9VV;var w4C="mouseover";var T4C="mouseenter";var G1=this;V1.hasClass(f7x.I4C)||(V1.addClass(f7x.I4C),V1.addEventListener(T4C,function(p1){if(f7x.x4C!=G1.dragElement&&f7x.O8C==p1.which&&W1.onDragEnter)W1.onDragEnter(G1.dragElement,G1.dragHelper,l1,p1);}),V1.addEventListener(f7x.m4C,function(X1){if(f7x.x4C!=G1.dragElement&&f7x.O8C==X1.which&&W1.onDragLeave)W1.onDragLeave(G1.dragElement,G1.dragHelper,l1,X1);}),V1.addEventListener(w4C,function(B1){if(f7x.x4C!=G1.dragElement&&f7x.O8C==B1.which&&W1.onDragOver)W1.onDragOver(G1.dragElement,G1.dragHelper,l1,B1);}),V1.addEventListener(f7x.R4C,function(u1){if(f7x.x4C!=G1.dragElement&&f7x.O8C==u1.which){var Y1=b9.UIElement.convert(u1.target);utils.nullOrEmpty(W1.itemSelector)||(Y1=Y1.closest(W1.itemSelector));W1.onDrop(G1.dragElement,V1,Y1,u1);}}));};return o9;}();g9.DragManager=j9;}(b9.dragndrop||(b9.dragndrop={})));}(uicontrols||(uicontrols={})));(function(z1){var N1=function(x1){var W2C="wdr-ui-disabled";__extends(D1,x1);function D1(s1,F1){var L4x=U9VV;var U2C="wdr-ui-mobile";var P4C="wdr-ui ";void L4x.F8C===s1&&(s1=L4x.r4C);void L4x.F8C===F1&&(F1=L4x.C4C);var K1=x1.call(this)||this;K1.container=new z1.UIElement(s1);K1.container.addClass(P4C+F1);utils.browserVersion().isMobile&&K1.container.addClass(U2C);K1.validate();return K1;}D1.prototype.validate=function(){this.invalidHash={};};D1.prototype.invalidate=function(O1){void U9VV.F8C===O1&&(O1=U9VV.v2C);this.invalidHash[O1]=!U9VV.F8C;this.draw();};D1.prototype.isInvalid=function(){var e4x=U9VV;for(var b1=[],M1=e4x.F8C;M1<arguments.length;M1++)b1[M1]=arguments[M1];if(this.invalidHash.all)return!e4x.F8C;for(M1=e4x.F8C;M1<b1.length;M1++)if(this.invalidHash[b1[M1]])return!e4x.F8C;return!e4x.O8C;};D1.prototype.draw=function(){this.validate();};D1.prototype.validateNow=function(){this.invalidate();};D1.prototype.show=function(){this.container.show();};D1.prototype.hide=function(){this.container.hide();};D1.prototype.getId=function(){return this.container.attr(U9VV.G2C);};D1.prototype.setId=function(j1){this.container.attr(U9VV.G2C,j1);};D1.prototype.getName=function(){return this.name;};D1.prototype.setName=function(g1){this.name=g1;};D1.prototype.html=function(o1){if(void U9VV.F8C===o1)return this.container.html();this.container.html(o1);return this;};D1.prototype.setEnabled=function(n1){this.container.toggleClass(W2C,!n1);};D1.prototype.getEnabled=function(){return!this.container.hasClass(W2C);};D1.prototype.addClass=function(t1){void U9VV.F8C===t1&&(t1=U9VV.C4C);this.container.addClass(t1);};D1.prototype.removeClass=function(c1){this.container.removeClass(c1);};Object.defineProperty(D1.prototype,U9VV.V2C,{get:function(){return this.container.padding;},set:function(L1){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});D1.prototype.getWidth=function(a1){return this.container.getWidth(a1);};D1.prototype.setWidth=function(e1){this.getWidth()!==e1&&(this.container.setWidth(e1),this.invalidate(U9VV.l2C));};D1.prototype.getHeight=function(h1){void U9VV.F8C===h1&&(h1=!U9VV.O8C);return this.container.getHeight(h1);};D1.prototype.setHeight=function(R1){this.getHeight()!==R1&&(this.container.setHeight(R1),this.invalidate(U9VV.l2C));};D1.prototype.isVisible=function(A1){void U9VV.F8C===A1&&(A1=void U9VV.F8C);void U9VV.F8C!==A1&&(A1?this.show():this.hide());return this.container.visible;};D1.prototype.position=function(){return this.container.position();};D1.prototype.addChild=function(k1,Q1){void U9VV.F8C===Q1&&(Q1=!U9VV.O8C);Q1?this.container.prepend(k1.container):this.container.append(k1.container);};D1.prototype.removeFromParent=function(f1){void U9VV.F8C===f1&&(f1=!U9VV.O8C);f1?this.container.remove():this.container.detach();};D1.prototype.getX=function(){return this.container.left;};D1.prototype.getY=function(){return this.container.top;};D1.prototype.hitTestPoint=function(i1,J1){return i1>=this.getX()&&i1<=this.getX()+this.getWidth()&&J1>=this.getY()&&J1<=this.getY()+this.getHeight();};D1.prototype.addEventListener=function(E1,H1){this.container.addEventListener(E1,H1);};D1.prototype.removeEventListener=function(Z1,y1){this.container.removeEventListener(Z1,y1);};D1.prototype.dispatch=function(d1){this.container.dispatch(d1);};D1.prototype.dispatchWith=function(S1,I1,T1){this.container.dispatchWith(S1,I1,T1);};D1.prototype.addLayoutClasses=function(m1){var B2C="wdr-layout-mobile-small";var X2C="wdr-layout-mobile";var p2C="wdr-layout-tablet";var P0C=768;var r0C=580;var T0C=460;void U9VV.F8C===m1&&(m1=!U9VV.O8C);m1=m1?this.getWidth(!U9VV.F8C):pivot._view.PivotView.stageWidth;this.container.toggleClass(p2C,P0C>m1);this.container.toggleClass(X2C,r0C>m1);this.container.toggleClass(B2C,T0C>m1);};return D1;}(events.EventDispatcher);z1.UIComponentBase=N1;}(uicontrols||(uicontrols={})));(function(w1){var r1=function(P1){var r0x=U9VV;var f2C="droppableOptions";var e2C="visible";var c2C="y";var t2C="x";var F2C="borderWidth";var z2C="class";var u2C="nodeName";var Y2C="element";__extends(C1,P1);Object.defineProperty(C1.prototype,Y2C,{get:function(){return this._element;},set:function(W8){(this._element=W8)&&(this._element.uielement=this);},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.G2C,{get:function(){return this.element.id;},set:function(V8){this.element.id=V8;},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.q2C,{get:function(){return C1.convert(this.element.parentElement);},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,u2C,{get:function(){return this._element.nodeName.toLowerCase();},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.addChild=function(l8){this.element.appendChild(l8.element);};C1.prototype.children=function(){for(var p8=this.element.firstElementChild,X8=[];p8;)X8.push(C1.convert(p8)),p8=p8.nextElementSibling;return X8;};C1.prototype.contains=function(B8){return this.element.contains(B8.element);};C1.prototype.append=function(Y8){Y8&&this.addChild(Y8);return this;};C1.prototype.prepend=function(q8){this.element.insertBefore(q8.element,this.element.firstChild);return this;};C1.prototype.before=function(u8){this.element.parentNode&&this.element.parentNode.insertBefore(u8.element,this.element);return this;};C1.prototype.after=function(z8){this.element.parentNode&&this.element.nextElementSibling?this.element.parentNode.insertBefore(z8.element,this.element.nextElementSibling):this.append(z8);return this;};C1.prototype.addComponent=function(N8){this.element.appendChild(N8.container.element);};C1.prototype.removeFromParent=function(D8){void r0x.F8C===D8&&(D8=!r0x.F8C);D8?this.remove():this.detach();};C1.prototype.remove=function(){r0x.x4C!=this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispose());};C1.prototype.detach=function(){if(r0x.x4C!=this.element&&this.element.parentNode){var x8=this.element.cloneNode(!r0x.F8C);this.element.parentNode.removeChild(this.element);this.element=x8;}};C1.prototype.removeAllChildren=function(){for(;this.element&&this.element.firstChild;){var K8=C1.convert(this.element.firstChild);K8&&K8.dispose&&K8.dispose();this.element.removeChild(this.element.firstChild);}};C1.prototype.clone=function(){return C1.convert(this.element.cloneNode(!r0x.F8C));};C1.convert=function(s8){return s8&&s8.nodeType==Node.ELEMENT_NODE?utils.nullOrUndefined(s8.uielement)?new C1(s8):s8.uielement:r0x.x4C;};C1.prototype.get=function(O8){var F8=this.children();return r0x.F8C<F8.length?F8[O8]:r0x.x4C;};C1.prototype.find=function(g8,o8){if(void r0x.F8C===o8||!r0x.O8C==o8)return C1.convert(this.element.querySelector(g8));for(var b8=this.element.querySelectorAll(g8),j8=[],M8=r0x.F8C;M8<b8.length;M8++)j8.push(C1.convert(b8[M8]));return j8;};C1.prototype.closest=function(t8){if(!this.element)return r0x.x4C;for(var n8=this.element;r0x.x4C!=n8;){if(n8.matches){if(n8.matches(t8))return n8==this.element?this:C1.convert(n8);}else if(n8.msMatchesSelector(t8))return n8==this.element?this:C1.convert(n8);n8=n8.parentElement;}return r0x.x4C;};C1.prototype.addClass=function(a8){if(!this.element)return this;a8=a8.trim();for(var L8=a8.split(r0x.s4C),c8=r0x.F8C;c8<L8.length;c8++)r0x.F8C<L8[c8].length&&(utils.detectBrowser().isMsie?(a8=this.element.getAttribute(z2C),utils.nullOrUndefined(a8)?this.element.setAttribute(z2C,L8[c8]):-r0x.O8C==a8.split(r0x.s4C).indexOf(L8[c8])&&this.element.setAttribute(z2C,a8+r0x.s4C+L8[c8])):!r0x.O8C==this.element.classList.contains(L8[c8])&&this.element.classList.add(L8[c8]));return this;};C1.prototype.removeClass=function(e8){if(!this.element)return this;e8=e8.trim();if(r0x.F8C<e8.length)if(utils.detectBrowser().isMsie){var h8=this.element.getAttribute(z2C);utils.nullOrUndefined(h8)||(h8=h8.split(r0x.s4C),e8=h8.indexOf(e8),-r0x.O8C<e8&&(h8.splice(e8,r0x.O8C),this.element.setAttribute(z2C,h8.join(r0x.s4C))));}else this.element.classList.contains(e8)&&this.element.classList.remove(e8);return this;};C1.prototype.toggleClass=function(R8,A8){A8?this.addClass(R8):this.removeClass(R8);};C1.prototype.hasClass=function(Q8){return this.element.classList.contains(Q8);};C1.prototype.disableSelection=function(){this.addClass(r0x.N2C);return this;};C1.prototype.enableSelection=function(){var D2C="wdr-selectable";this.addClass(D2C);return this;};C1.prototype.getWidth=function(k8){void r0x.F8C===k8&&(k8=!r0x.O8C);if(!this.element)return r0x.F8C;var f8=window.getComputedStyle(this.element);k8=k8?r0x.F8C:(parseFloat(f8.paddingLeft)||r0x.F8C)+(parseFloat(f8.paddingRight)||r0x.F8C);return this.element.clientWidth-k8;};C1.prototype.setWidth=function(i8){r0x.x2C===typeof i8?this.element.style.width=i8+r0x.y4C:r0x.K2C===typeof i8&&(this.element.style.width=i8);return this;};Object.defineProperty(C1.prototype,r0x.s2C,{get:function(){return this.getWidth();},set:function(J8){this.setWidth(J8);},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.V2C,{get:function(){var E8=window.getComputedStyle(this.element);return{left:parseFloat(E8.paddingLeft)||r0x.F8C,right:parseFloat(E8.paddingRight)||r0x.F8C,top:parseFloat(E8.paddingTop)||r0x.F8C,bottom:parseFloat(E8.paddingBottom)||r0x.F8C};},set:function(H8){},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,F2C,{get:function(){var Z8=window.getComputedStyle(this.element);return{left:parseFloat(Z8.borderLeftWidth||Z8.borderWidth)||r0x.F8C,right:parseFloat(Z8.borderRightWidth||Z8.borderWidth)||r0x.F8C,top:parseFloat(Z8.borderTopWidth||Z8.borderWidth)||r0x.F8C,bottom:parseFloat(Z8.borderBottomWidth||Z8.borderWidth)||r0x.F8C};},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.getHeight=function(y8){void r0x.F8C===y8&&(y8=!r0x.O8C);var d8=window.getComputedStyle(this.element);y8=y8?r0x.F8C:(parseFloat(d8.paddingTop)||r0x.F8C)+(parseFloat(d8.paddingBottom)||r0x.F8C);return r0x.F8C>this.element.clientHeight-y8?r0x.F8C:this.element.clientHeight-y8;};C1.prototype.setHeight=function(S8){r0x.x2C===typeof S8?this.element.style.height=S8+r0x.y4C:r0x.K2C===typeof S8&&(this.element.style.height=S8);return this;};Object.defineProperty(C1.prototype,r0x.O2C,{get:function(){return this.getHeight();},set:function(I8){this.setHeight(I8);},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.M2C,{get:function(){return this.element.getBoundingClientRect().left;},set:function(T8){this.element.style.left=T8+r0x.y4C;},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.b2C,{get:function(){return this.element.getBoundingClientRect().top;},set:function(m8){this.element.style.top=m8+r0x.y4C;},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.j2C,{get:function(){return this.element.getBoundingClientRect().right;},set:function(w8){this.element.style.right=w8+r0x.y4C;},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,r0x.g2C,{get:function(){return this.element.getBoundingClientRect().bottom;},set:function(r8){this.element.style.bottom=r8+r0x.y4C;},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.outerHtml=function(){return this.element.outerHTML;};C1.prototype.html=function(C8){if(void r0x.F8C===C8)return this.element.innerHTML;this.element.innerHTML=C8;return this;};C1.prototype.empty=function(){this.html(r0x.C4C);};C1.prototype.clear=function(){this.empty();};C1.prototype.text=function(P8){if(void r0x.F8C===P8)return this.element.textContent;r0x.o2C==this.element.tagName.toLowerCase()?this.element.value=P8:this.element.textContent=P8;return this;};C1.prototype.focus=function(){this.element.focus();return this;};C1.prototype.blur=function(){this.element.blur();return this;};C1.prototype.show=function(){this.element.style.display=this.display;};C1.prototype.hide=function(){this.element.style.display=r0x.n2C;};Object.defineProperty(C1.prototype,t2C,{get:function(){return this.element.offsetLeft;},enumerable:!r0x.F8C,configurable:!r0x.F8C});Object.defineProperty(C1.prototype,c2C,{get:function(){return this.element.offsetTop;},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.offset=function(U0){if(void r0x.F8C===U0)return this.getOffset();this.css(r0x.M2C,U0.left+r0x.y4C);this.css(r0x.b2C,U0.top+r0x.y4C);};C1.prototype.getBoundingClientRect=function(){return this.element.getBoundingClientRect();};C1.prototype.position=function(v0){if(void r0x.F8C===v0)return{top:this.y,left:this.x};this.offset(v0);};C1.prototype.attr=function(G0,W0){if(void r0x.F8C===W0)return this.element.getAttribute(G0);try{this.element.setAttribute(G0,W0);}catch(V0){this.element.attributes[G0]=W0;}return this;};C1.prototype.removeAttr=function(l0){this.element.removeAttribute(l0);return this;};C1.prototype.css=function(p0,X0){if(void r0x.F8C===X0)return window.getComputedStyle(this.element)[C1.toCamelCase(p0)];this.element.style[C1.toCamelCase(p0)]=X0;return this;};C1.toCamelCase=function(B0){var Y0=B0.split(r0x.L2C);if(r0x.O8C<Y0.length){for(B0=r0x.O8C;B0<Y0.length;B0++)Y0[B0]=Y0[B0].charAt(r0x.F8C).toUpperCase()+Y0[B0].substr(r0x.O8C);return Y0.join(r0x.C4C);}return B0;};C1.prototype.val=function(){return r0x.o2C==this.element.tagName.toLowerCase()||r0x.a2C==this.element.tagName.toLowerCase()?this.element.value:this.element.textContent;};C1.prototype.requestAnimationFrame=function(u0){var q0=r0x.F8C;window.requestAnimationFrame?q0=window.requestAnimationFrame(u0):window.msRequestAnimationFrame?q0=window.msRequestAnimationFrame(u0):window.mozRequestAnimationFrame?q0=window.mozRequestAnimationFrame(u0):window.webkitRequestAnimationFrame?q0=window.webkitRequestAnimationFrame(u0):u0.call(r0x.x4C);this.frames.push(q0);return q0;};C1.prototype.cancelAnimationFrame=function(z0){this.frames.splice(this.frames.indexOf(z0),r0x.O8C);r0x.F8C!=z0&&(r0x.x4C!=window.cancelAnimationFrame?window.cancelAnimationFrame(z0):r0x.x4C!=window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(z0):r0x.x4C!=window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(z0):r0x.x4C!=window.webkitCancelAnimationFrame&&window.webkitCancelAnimationFrame(z0));};Object.defineProperty(C1.prototype,e2C,{get:function(){var h2C="display";return this.element&&r0x.n2C!=this.css(h2C);},set:function(N0){N0?this.show():this.hide();},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.getOffset=function(x0){void r0x.F8C===x0&&(x0=r0x.x4C);if(r0x.x4C==x0)return this.element.getBoundingClientRect();for(var K0=r0x.F8C,s0=r0x.F8C,D0=this.element;D0&&D0!=x0&&!isNaN(D0.offsetLeft)&&!isNaN(D0.offsetTop);)K0+=D0.offsetLeft-D0.scrollLeft,s0+=D0.offsetTop-D0.scrollTop,D0=D0.offsetParent;return{top:s0,left:K0};};function C1(v8,G8){var A2C="wdr-ui-element";void r0x.F8C===v8&&(v8=r0x.r4C);void r0x.F8C===G8&&(G8=r0x.C4C);var U8=P1.call(this)||this;U8.display=r0x.R2C;U8.frames=[];U8.__handlers=[];U8.element=r0x.K2C==typeof v8?document.createElement(v8):v8;U8.addClass(A2C);U8.addClass(G8);return U8;}C1.prototype.getScrollTop=function(){return this.element.scrollTop;};C1.prototype.setScrollTop=function(F0){this.element.scrollTop=F0;return this;};C1.prototype.setScrollLeft=function(O0){this.element.scrollLeft=O0;return this;};C1.prototype.addEventListener=function(M0,b0,j0){r0x.Q2C!==typeof this.element[r0x.k2C+M0]||events._Event.isNativeType(M0)?(utils.nullOrUndefined(this.__handlers[M0])&&(this.__handlers[M0]=[]),this.__handlers[M0][b0.toString()]=function(g0){b0(g0);},this.element.addEventListener(M0,this.__handlers[M0][b0.toString()],j0)):P1.prototype.addEventListener.call(this,M0,b0,j0);};C1.prototype.removeEventListener=function(o0,n0,t0){r0x.Q2C!==typeof this.element[r0x.k2C+o0]||events._Event.isNativeType(o0)?this.__handlers[o0]&&this.element.removeEventListener(o0,this.__handlers[o0][n0.toString()],t0):P1.prototype.removeEventListener.call(this,o0,n0);};C1.prototype.dispatch=function(c0){P1.prototype.dispatch.call(this,c0);};C1.prototype.removeAllEventListeners=function(e0){for(var L0 in this.__handlers)if(void r0x.F8C===e0||e0==L0)for(var a0 in this.__handlers[L0])try{this.element.removeEventListener(L0,this.__handlers[L0][a0],!r0x.F8C),this.element.removeEventListener(L0,this.__handlers[L0][a0],!r0x.O8C);}catch(h0){console.error(h0);}this.__handlers=[];P1.prototype.removeAllEventListeners.call(this,L0);};C1.prototype.dispose=function(){this.removeAllEventListeners();this.removeAllChildren();this._element=this._element.uielement=r0x.x4C;for(var R0=r0x.F8C;R0<this.frames.length;R0++)this.cancelAnimationFrame(this.frames[R0]);this.frames=[];this._resizableHelper&&this._resizableHelper.dispose();};C1.prototype.refresh=function(){this.html(this.html());};C1.prototype.draggable=function(A0){w1.dragndrop.DragManager.getInstance().makeDraggable(this,A0);};C1.prototype.droppable=function(Q0,k0){this._droppableOptions=Q0;w1.dragndrop.DragManager.getInstance().makeDroppable(this,k0?k0:this,Q0);};Object.defineProperty(C1.prototype,f2C,{get:function(){return this._droppableOptions;},enumerable:!r0x.F8C,configurable:!r0x.F8C});C1.prototype.index=function(){for(var f0=r0x.F8C,i0=this.element;i0=i0.previousElementSibling;)f0++;return f0;};C1.prototype.resizable=function(J0){this._resizableHelper=new w1.resizable.ResizableHelper(this,J0);};return C1;}(events.EventDispatcher);w1.UIElement=r1;}(uicontrols||(uicontrols={})));(function(E0){var H0=function(y0){var S2C="buttonclick";var d2C="buttonmousedown";var i2C="wdr-ui-pressed";__extends(Z0,y0);Z0.prototype.onClick=function(r0){this.getEnabled()&&this.dispatchWith(Z0.CLICK_EVENT,this);r0.stopImmediatePropagation();};Z0.prototype.onMouseDown=function(){var C0=this;this.container.toggleClass(i2C,!U9VV.F8C);this.mouseDownTimeout=utils.fmSetInterval(function(){return C0.dispatchMouseDown();},this.getRepeatDelay());};Z0.prototype.dispatchMouseDown=function(){this.dispatch(new events._Event(Z0.MOUSE_DOWN_EVENT,this));};Z0.prototype.onMouseUp=function(){this.container.toggleClass(i2C,!U9VV.O8C);utils.fmClearInterval(this.mouseDownTimeout);};Z0.prototype.onMouseOut=function(){this.container.toggleClass(i2C,!U9VV.O8C);utils.fmClearInterval(this.mouseDownTimeout);};Z0.prototype.getLabel=function(){return this.label;};Z0.prototype.setRepeatDelay=function(P0){this.repeatDelay=P0;};function Z0(S0){var I4x=U9VV;var Z2C="mouseout";void I4x.F8C===S0&&(S0=I4x.C4C);var d0=y0.call(this,I4x.J2C,I4x.E2C)||this;d0.mouseDownTimeout=I4x.F8C;d0.repeatDelay=I4x.V0C;d0.addClass(S0);d0.container.addEventListener(I4x.H2C,function(I0){return d0.onClick(I0);});d0.container.addEventListener(I4x.f4C,function(T0){return d0.onMouseDown();});d0.container.addEventListener(I4x.R4C,function(m0){return d0.onMouseUp();});d0.container.addEventListener(Z2C,function(w0){return d0.onMouseOut();});d0.container.display=I4x.y2C;return d0;}Z0.prototype.getRepeatDelay=function(){return this.repeatDelay;};Z0.prototype.setLabel=function(U4){this.label!=U4&&(this.label=U4,this.container.text(this.label));};Z0.MOUSE_DOWN_EVENT=d2C;Z0.CLICK_EVENT=S2C;return Z0;}(E0.UIComponentBase);E0.UIButton=H0;}(uicontrols||(uicontrols={})));(function(v4){var G4=function(V4){__extends(W4,V4);W4.prototype.getLabel=function(){return this.label;};function W4(p4){var T4x=U9VV;var T2C="wdr-ui wdr-ui-label";void T4x.F8C===p4&&(p4=T4x.C4C);var l4=V4.call(this,T4x.I2C,T2C)||this;l4.container.display=T4x.y2C;l4.setLabel(p4);return l4;}W4.prototype.setLabel=function(B4,X4){void U9VV.F8C===X4&&(X4=!U9VV.O8C);this.label!=B4&&(this.label=B4,X4?this.container.html(this.label):this.container.text(this.label));};W4.prototype.setSelectable=function(Y4){Y4?this.container.enableSelection():this.container.disableSelection();};return W4;}(v4.UIComponentBase);v4.UILabel=G4;}(uicontrols||(uicontrols={})));(function(u4){var z4=function(D4){var U3C="ntl";__extends(N4,D4);N4.prototype.onKeyUp=function(O4){this.dispatchChange();};function N4(){var w4x=U9VV;var m2C="wdr-ui-text-area";var x4=D4.call(this,w4x.a2C,m2C)||this;x4.container.addEventListener(w4x.w2C,function(K4){return x4.onKeyPressed(K4);});x4.container.addEventListener(w4x.r2C,function(s4){return x4.onKeyUp(s4);});x4.container.addEventListener(w4x.C2C,function(F4){return x4.onInputPaste(F4);});return x4;}N4.prototype.onInputPaste=function(M4){this.dispatchChange();};N4.prototype.dispatchChange=function(){this.dispatch(new events._Event(u4.UITextInput.CHANGE_EVENT,this));};N4.prototype.getText=function(){return this.container.val();};N4.prototype.setText=function(b4){this.getText()!=b4&&(this.container.element.value=b4,this.dispatchChange());};N4.prototype.clear=function(){this.setText(U9VV.C4C);};N4.prototype.insertText=function(o4){var g4=this.getSelectionBeginIndex(),n4=this.getSelectionEndIndex(),j4=this.getText(),j4=j4.substr(U9VV.F8C,g4)+o4+j4.substr(g4);this.setText(j4);this.setSelection(g4+o4.length,n4+o4.length);};N4.prototype.setSelection=function(c4,t4){void U9VV.F8C===t4&&(t4=-U9VV.O8C);this.container.element.focus();this.container.element.setSelectionRange(c4,U9VV.F8C>t4?c4:t4);};N4.prototype.getSelectionBeginIndex=function(){return this.container.element.selectionStart;};N4.prototype.getSelectionEndIndex=function(){return this.container.element.selectionEnd;};N4.prototype.selectAll=function(){this.setSelection(U9VV.F8C,this.getText().length);};N4.prototype.onKeyPressed=function(L4){L4.ctrlKey?(this.dispatchWith(N4.EVENT_CTRL_ENTER),L4.preventDefault()):U9VV.h8C==L4.keyCode&&(this.dispatchWith(N4.EVENT_ENTER),L4.preventDefault());};N4.EVENT_ENTER=U9VV.P2C;N4.EVENT_CTRL_ENTER=U3C;return N4;}(u4.UIComponentBase);u4.UITextArea=z4;}(uicontrols||(uicontrols={})));(function(a4){var e4=function(R4){var v3C="data-placeholder";__extends(h4,R4);h4.getChar=function(E4){var G2x=U9VV;return G2x.x4C==E4.which?G2x.m8C>E4.keyCode?G2x.x4C:String.fromCharCode(E4.keyCode):G2x.F8C!=E4.which&&G2x.F8C!=E4.charCode?G2x.m8C>E4.which?G2x.x4C:String.fromCharCode(E4.which):G2x.x4C;};h4.prototype.onKeyPressed=function(H4){U9VV.h8C==H4.keyCode&&this.dispatchWith(h4.EVENT_ENTER);if(!(utils.nullOrUndefined(this.restrictRule)||H4.ctrlKey||H4.altKey||H4.metaKey)){var Z4=h4.getChar(H4);U9VV.x4C!=Z4&&!U9VV.O8C===this.restrictRule.test(Z4)&&H4.preventDefault();}};h4.prototype.onKeyUp=function(y4){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};h4.prototype.onInputPaste=function(d4){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};h4.prototype.dispatchChange=function(){var S4=this;U9VV.F8C<this.changeDelay?this.changeDispatched&&(this.changeDispatched=!U9VV.O8C,utils.fmSetTimeout(function(){return S4._dispatchChange();},this.changeDelay)):this._dispatchChange();};h4.prototype._dispatchChange=function(){this.changeDispatched=!U9VV.F8C;this.dispatch(new events._Event(h4.CHANGE_EVENT,this,this.text));};h4.prototype.onFocusIn=function(){U9VV.F8C==this.text.length&&(this.container.text(U9VV.C4C),this.enablePrompt(!U9VV.O8C));};h4.prototype.onFocusOut=function(){this.enablePrompt(U9VV.F8C==this.text.length);};h4.prototype.getText=function(){return this.text=this.container.val()==this.prompt?this.text:this.container.val();};h4.prototype.setText=function(I4){this.text!=I4&&(this.text=I4,this.container.text(this.text),this.enablePrompt(U9VV.F8C==this.text.length));};h4.prototype.clear=function(T4){void U9VV.F8C===T4&&(T4=!U9VV.F8C);this.setText(U9VV.C4C);T4&&this._dispatchChange();};h4.prototype.setPrompt=function(m4){m4!=this.prompt&&(this.prompt=m4,this.container.attr(v3C,this.prompt),this.enablePrompt(U9VV.F8C==this.text.length));};h4.prototype.enablePrompt=function(w4){this.container.text(w4?this.prompt:this.text);this.container.toggleClass(U9VV.G3C,w4);};h4.prototype.getPrompt=function(){return this.prompt;};h4.prototype.setRestriction=function(r4){this.restrictRule=r4;};h4.prototype.getRestriction=function(){return this.restrictRule;};h4.prototype.setChangeDelay=function(C4){this.changeDelay=C4;};h4.prototype.getChangeDelay=function(){return this.changeDelay;};h4.prototype.getType=function(){return this.container.attr(U9VV.W3C);};h4.prototype.setType=function(P4){this.container.attr(U9VV.W3C,P4);};h4.CHANGE_EVENT=U9VV.V3C;function h4(){var D2x=U9VV;var l3C="wdr-ui-text-input";var A4=R4.call(this,D2x.o2C,l3C)||this;A4.text=D2x.C4C;A4.prompt=D2x.C4C;A4.changeDelay=D2x.F8C;A4.changeDispatched=!D2x.F8C;A4.container.display=D2x.y2C;A4.container.attr(D2x.W3C,D2x.p3C);A4.container.attr(v3C,D2x.C4C);A4.container.addEventListener(D2x.X3C,function(Q4){return A4.onFocusIn();});A4.container.addEventListener(D2x.B3C,function(k4){return A4.onFocusOut();});A4.container.addEventListener(D2x.r2C,function(f4){return A4.onKeyUp(f4);});A4.container.addEventListener(D2x.w2C,function(i4){return A4.onKeyPressed(i4);});A4.container.addEventListener(D2x.C2C,function(J4){return A4.onInputPaste(J4);});return A4;}h4.EVENT_ENTER=U9VV.P2C;return h4;}(a4.UIComponentBase);a4.UITextInput=e4;}(uicontrols||(uicontrols={})));(function(U2){var v2=function(W2){__extends(G2,W2);G2.prototype.onClick=function(){this.getEnabled()&&(this.toggle(),this.dispatchWith(events._Event.CHANGE,this));};G2.prototype.toggle=function(){var x2x=U9VV;this.selected=x2x.O8C==this.selected?x2x.F8C:x2x.O8C;this.container.toggleClass(x2x.Y3C,x2x.O8C==this.selected);};function G2(){var K2x=U9VV;var V2=W2.call(this)||this;V2.container.display=K2x.y2C;V2.container.hasClass(K2x.E2C)&&V2.container.removeClass(K2x.E2C);V2.container.addClass(K2x.q3C);V2.selected=K2x.F8C;V2.addEventListener(U2.UIButton.CLICK_EVENT,function(){return V2.onClick();});return V2;}G2.prototype.setSelection=function(l2){var s2x=U9VV;this.selected==l2||s2x.O8C<l2||-s2x.O8C>l2||(this.selected=l2,this.container.toggleClass(s2x.Y3C,s2x.O8C==this.selected));};G2.prototype.getSelection=function(){return this.selected;};return G2;}(U2.UIButton);U2.UIToggleButton=v2;}(uicontrols||(uicontrols={})));(function(p2){var X2=function(Y2){var Q8x=U9VV;var z3C="checked";var u3C="wdr-ui-semi-selected";__extends(B2,Y2);B2.prototype.toggle=function(){Y2.prototype.toggle.call(this);this.container.toggleClass(u3C,-Q8x.O8C==this.getSelection());};B2.prototype.setLabel=function(N2,z2){void Q8x.F8C===z2&&(z2=!Q8x.O8C);Q8x.x4C!=this.labelHolder&&this.labelHolder.setLabel(N2,z2);};B2.prototype.getLabel=function(){return Q8x.x4C!=this.labelHolder?this.labelHolder.getLabel():Q8x.C4C;};B2.prototype.setSelection=function(D2){this.getSelection()==D2||Q8x.O8C<D2||-Q8x.O8C>D2||(Y2.prototype.setSelection.call(this,D2),this.container.toggleClass(u3C,-Q8x.O8C==this.getSelection()));};Object.defineProperty(B2.prototype,z3C,{get:function(){return Q8x.O8C==this.getSelection();},set:function(x2){this.setSelection(x2?Q8x.O8C:Q8x.F8C);},enumerable:!Q8x.F8C,configurable:!Q8x.F8C});B2.SELECTED=Q8x.O8C;B2.UNSELECTED=Q8x.F8C;B2.SEMI_SELECTED=-Q8x.O8C;function B2(){var D3C="Label";var N3C="wdr-ui-checkbox";var u2=Y2.call(this)||this;u2.container.display=Q8x.y2C;u2.container.hasClass(Q8x.q3C)&&u2.container.removeClass(Q8x.q3C);u2.container.addClass(N3C);u2.labelHolder=new p2.UILabel(D3C);u2.container.append(u2.labelHolder.container);return u2;}return B2;}(p2.UIToggleButton);p2.UICheckBox=X2;}(uicontrols||(uicontrols={})));(function(K2){var s2=function(O2){var k8x=U9VV;var b3C="divider_moved_event";var M3C="containment";var x3C="direction";__extends(F2,O2);F2.prototype.onMouseDown=function(o2){this._height=this.direction==F2.HORIZONTAL?this.getHeight():this.getWidth();this._baseOffset=this.container.parent.getOffset();utils.fmdocument.addEventListener(k8x.e4C,this.mouseMoveHandler);o2.preventDefault();o2.stopImmediatePropagation();};F2.prototype.onMouseMove=function(n2){if(this.direction==F2.HORIZONTAL){var t2=n2.clientY-this._baseOffset.top;if(this._containment&&(t2<this._containment[k8x.O8C]||t2>this._containment[k8x.b8C]))return;this.container.css(k8x.b2C,t2-this._height/k8x.M8C+k8x.y4C);this.dispatchWith(F2.EVENT_MOVED,this,{top:t2});}this.direction==F2.VERTICAL&&(n2=n2.clientX-this._baseOffset.left,this._containment&&(n2<this._containment[k8x.F8C]||n2>this._containment[k8x.M8C])||(this.container.css(k8x.M2C,n2-this._height/k8x.M8C+k8x.y4C),this.dispatchWith(F2.EVENT_MOVED,this,{left:n2})));};F2.prototype.onMouseUp=function(c2){utils.fmdocument.removeEventListener(k8x.e4C,this.mouseMoveHandler);};Object.defineProperty(F2.prototype,x3C,{get:function(){return this._direction;},set:function(L2){var s3C="wdr-ui-vertical";var K3C="wdr-ui-horizontal";this._direction=L2;this.container.toggleClass(K3C,this._direction==F2.HORIZONTAL);this.container.toggleClass(s3C,this._direction==F2.VERTICAL);this.container.css(k8x.F3C,k8x.O3C);},enumerable:!k8x.F8C,configurable:!k8x.F8C});Object.defineProperty(F2.prototype,M3C,{set:function(a2){this._containment=a2;},enumerable:!k8x.F8C,configurable:!k8x.F8C});F2.HORIZONTAL=k8x.F8C;F2.VERTICAL=k8x.O8C;F2.EVENT_MOVED=b3C;function F2(){var j3C="wdr-ui-divider";var M2=O2.call(this,k8x.r4C,j3C)||this;M2.mouseMoveHandler=function(b2){return M2.onMouseMove(b2);};M2.mouseDownHandler=function(j2){return M2.onMouseDown(j2);};M2.mouseUpHandler=function(g2){return M2.onMouseUp(g2);};M2.direction=F2.HORIZONTAL;M2.addEventListener(k8x.f4C,M2.mouseDownHandler);utils.fmdocument.addEventListener(k8x.R4C,M2.mouseUpHandler);M2.container.disableSelection();return M2;}return F2;}(K2.UIComponentBase);K2.UIDivider=s2;}(uicontrols||(uicontrols={})));(function(e2){var h2=function(A2){var o3C="wdr-ui-transparent";var g3C="wdr-ui-opaque";__extends(R2,A2);R2.prototype.setTransparent=function(Q2){this.container.toggleClass(g3C,!U9VV.O8C);this.container.toggleClass(o3C,Q2);};function R2(){var n3C="wdr-ui-modal-overlay";return A2.call(this,U9VV.r4C,n3C)||this;}R2.prototype.setOpaque=function(k2){this.container.toggleClass(o3C,!U9VV.O8C);this.container.toggleClass(g3C,k2);};return R2;}(e2.UIComponentBase);e2.UIModalOverlay=h2;}(uicontrols||(uicontrols={})));(function(f2){(function(J2){var i2=function(H2){__extends(E2,H2);E2.prototype.removeChild=function(y2){this.contains(y2)&&y2.container.detach();};E2.prototype.contains=function(d2){return utils.nullOrUndefined(d2)?!U9VV.O8C:this.container.contains(d2.container);};E2.prototype.getWidth=function(){return this.container.width;};function E2(Z2){var t3C="wdr-ui-container";void U9VV.F8C===Z2&&(Z2=t3C);return H2.call(this,U9VV.r4C,Z2)||this;}E2.prototype.getHeight=function(){return this.container.height;};E2.prototype.removeAllChildren=function(){for(var I2=this.container.children(),S2=I2.length-U9VV.O8C;U9VV.F8C<=S2;S2--)I2[S2].removeFromParent();};return E2;}(f2.UIComponentBase);J2.UIContainer=i2;}(f2.containers||(f2.containers={})));}(uicontrols||(uicontrols={})));(function(T2){(function(m2){var w2=function(r2){__extends(C2,r2);function C2(){var c3C="wdr-ui-border-container";return r2.call(this,c3C)||this;}return C2;}(m2.UIContainer);m2.UIBorderContainer=w2;}(T2.containers||(T2.containers={})));}(uicontrols||(uicontrols={})));(function(P2){(function(U3){var v3=function(W3){__extends(G3,W3);G3.prototype.setPosition=function(l3,p3){this.container.offset({left:Math.floor(l3),top:Math.floor(p3)});this.container.css(U9VV.F3C,U9VV.O3C);};function G3(){var L3C="wdr-ui-window";var V3=W3.call(this)||this;V3.container.addClass(L3C);V3.hide();return V3;}G3.prototype.getPosition=function(){return this.container.offset();};return G3;}(U3.UIContainer);U3.UIWindow=v3;}(P2.containers||(P2.containers={})));}(uicontrols||(uicontrols={})));(function(X3){(function(B3){var Y3=function(u3){__extends(z3,u3);function z3(){return u3.call(this,v9VV.a3C)||this;}return z3;}(B3.UIContainer);B3.UIHGroup=Y3;}(X3.containers||(X3.containers={})));}(uicontrols||(uicontrols={})));(function(N3){(function(D3){var x3=function(K3){__extends(s3,K3);function s3(){var e3C="wdr-ui-vgroup";return K3.call(this,e3C)||this;}return s3;}(D3.UIContainer);D3.UIVGroup=x3;}(N3.containers||(N3.containers={})));}(uicontrols||(uicontrols={})));(function(F3){(function(O3){var M3=function(b3){__extends(j3,b3);function j3(){var h3C="wdr-ui-panel";return b3.call(this,h3C)||this;}return j3;}(O3.UIContainer);O3.UIPanel=M3;}(F3.containers||(F3.containers={})));}(uicontrols||(uicontrols={})));(function(g3){(function(o3){var n3=function(c3){var Q3C="overlay";var R3C="resize";__extends(t3,c3);t3.prototype.onWindowResize=function(R3){var h3=this;R3.target===window&&(this.container.requestAnimationFrame(function(){return h3.centerPosition();}),this.addLayoutClasses());};t3.prototype.onOverlayClick=function(){this.close();};t3.prototype.open=function(){var A3C="fm-ui-opaque";utils.fmwindow.addEventListener(R3C,this.resizeHandler);this._overlay.show();this._overlay.container.toggleClass(A3C,this.isOpaque);this.show();this.centerPosition();this.dispatchWith(events._Event.OPENED);this.addLayoutClasses();};t3.prototype.close=function(){utils.fmwindow.removeEventListener(R3C,this.resizeHandler);this._overlay.hide();this.hide();this.dispatchWith(events._Event.CLOSED);};t3.prototype.centerPosition=function(){var Q9f=U9VV;var A3=this._modalParent;if(A3){var Q3=Math.max(Q9f.F8C,(A3.getWidth(!Q9f.F8C)-this.container.getWidth(!Q9f.F8C)-Q9f.M8C)/Q9f.M8C),A3=Math.max(Q9f.F8C,(A3.getHeight(!Q9f.F8C)-this.container.getHeight(!Q9f.F8C)-Q9f.M8C)/Q9f.M8C);this.setPosition(Q3,A3);}};Object.defineProperty(t3.prototype,Q3C,{get:function(){return this._overlay;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});function t3(a3){var k3C="wdr-ui-popup";var L3=c3.call(this)||this;L3._overlayClickHandler=function(){return L3.onOverlayClick();};L3.resizeHandler=function(e3){return L3.onWindowResize(e3);};L3.isOpaque=!U9VV.O8C;L3._modalParent=a3;L3.container.addClass(k3C);L3.hide();L3._overlay=new g3.UIModalOverlay();L3._overlay.addEventListener(U9VV.H2C,L3._overlayClickHandler);L3._overlay.hide();L3._modalParent&&L3._modalParent.addChild(L3._overlay.container);return L3;}return t3;}(o3.UIWindow);o3.UIPopup=n3;}(g3.containers||(g3.containers={})));}(uicontrols||(uicontrols={})));(function(k3){(function(f3){var i3=function(J3){__extends(E3,J3);function E3(){var f3C="wdr-ui-toolbar";return J3.call(this,f3C)||this;}return E3;}(f3.UIContainer);f3.UIToolbar=i3;}(k3.containers||(k3.containers={})));}(uicontrols||(uicontrols={})));(function(H3){(function(Z3){var y3=function(S3){__extends(d3,S3);d3.prototype.setHeader=function(T3){this.header!=T3&&(this.header=T3,this.headerDisplay.setLabel(T3));};function d3(){var J3C="wdr-ui-header-display";var i3C="wdr-ui-toolbar-mobile";var I3=S3.call(this,i3C)||this;I3.headerDisplay=new H3.UILabel();I3.headerDisplay.addClass(J3C);I3.addChild(I3.headerDisplay);return I3;}d3.prototype.getHeader=function(){return this.header;};d3.prototype.setLeftItem=function(m3){var E3C="wdr-ui-left";this.leftItem!=m3&&(U9VV.x4C!=this.leftItem&&this.leftItem.removeFromParent(),this.leftItem=m3,U9VV.x4C!=this.leftItem&&(this.leftItem.addClass(E3C),this.addChild(this.leftItem)));};d3.prototype.setRightItem=function(w3){var H3C="wdr-ui-right";this.rightItem!=w3&&(U9VV.x4C!=this.rightItem&&this.rightItem.removeFromParent(),this.rightItem=w3,U9VV.x4C!=this.rightItem&&(this.rightItem.addClass(H3C),this.addChild(this.rightItem)));};return d3;}(Z3.UIContainer);Z3.UIToolbarMobile=y3;}(H3.containers||(H3.containers={})));}(uicontrols||(uicontrols={})));(function(r3){(function(P3){var C3=function(){U6.prototype.setItems=function(v6){this.allItems=v6;};U6.prototype.getItems=function(W6,V6){if(U9VV.F8C>W6||V6>this.allItems.length+U9VV.O8C)return[];this.items.length=U9VV.F8C;for(var G6=W6;G6<V6;G6++)this.items.push(this.allItems[G6]);return this.items;};U6.prototype.getLength=function(){return this.allItems.length;};function U6(){this.items=[];this.allItems=[];}return U6;}();P3.SmartDataProvider=C3;}(r3.dataProviders||(r3.dataProviders={})));}(uicontrols||(uicontrols={})));(function(l6){(function(X6){var p6=function(Y6){var g2x=U9VV;__extends(B6,Y6);B6.prototype.getRowHeight=function(){return g2x.F8C<this.visibleItems.length?this.visibleItems[g2x.F8C].getHeight():this.rowHeight;};B6.prototype.getStartIdx=function(){return g2x.F8C;};B6.prototype.getRowCount=function(){return this.dataProvider.length;};B6.prototype.draw=function(){this.isInvalid(v9VV.Z3C)&&this.drawItems();this.validate();};B6.prototype.drawItems=function(){var N6=this,x6=this.container.getScrollTop();this.removeAllItems();for(var K6,D6=this.getDataProvider(),z6=g2x.F8C;z6<D6.length;z6++)K6=this.getItem(D6[z6],z6),this.addItem(K6);this.container.setScrollTop(x6);this.container.requestAnimationFrame(function(){g2x.F8C<N6.visibleItems.length&&(N6.rowHeight=N6.visibleItems[g2x.F8C].getHeight());});};B6.prototype.getItem=function(F6,O6){var s6;this.useCache&&g2x.F8C<this.itemsCache.length?(s6=this.itemsCache.pop(),s6.setData(F6),s6.setIndex(O6)):(s6=this.itemRendererFactory(F6,O6),s6.setLabelField(this.labelField));return s6;};B6.prototype.addItem=function(M6){this.visibleItems.push(M6);this.addChild(M6);};B6.prototype.removeAllItems=function(){for(;g2x.F8C<this.visibleItems.length;)this._removeItem(this.visibleItems.pop());};B6.prototype.removeItem=function(j6){for(var b6=g2x.F8C;b6<this.visibleItems.length;b6++)if(this.visibleItems[b6]===j6){this.visibleItems.splice(b6,g2x.O8C);break;}this._removeItem(j6);};B6.prototype._removeItem=function(g6){g2x.x4C!=this.container.find(g6.container.element.nodeName)&&g6.container.remove();};B6.prototype.onItemClick=function(o6){o6=l6.UIElement.convert(o6.target).closest(v9VV.y3C);if(g2x.x4C!=o6){o6=parseInt(o6.attr(v9VV.d3C));var n6=this.getStartIdx()+o6,t6=this.selectedItem,c6=this.selectedIndex;this.setSelectedIndex(o6);this.dispatchWith(events._Event.CHANGE,this,{selectedItem:this.selectedItem,selectedIndex:this.selectedIndex,realIndex:n6,prevItem:t6,prevIndex:c6});}};B6.prototype.getDataProvider=function(){return this.dataProvider;};B6.prototype.setDataProvider=function(a6,L6){void g2x.F8C===L6&&(L6=!g2x.F8C);this.dataProvider=a6;L6&&this.invalidate(v9VV.Z3C);};B6.prototype.getLabelField=function(){return this.labelField;};B6.prototype.setLabelField=function(e6){this.labelField!=e6&&(this.labelField=e6,this.invalidate(v9VV.Z3C));};B6.prototype.setItemRendererFactory=function(h6){this.itemRendererFactory=h6;this.invalidate(v9VV.Z3C);};B6.prototype.validateItemAt=function(R6){-g2x.O8C<R6&&R6<this.visibleItems.length&&this.visibleItems[R6].validateNow();};B6.prototype.validateItem=function(f6,A6){void g2x.F8C===A6&&(A6=g2x.C4C);for(var k6,Q6=g2x.F8C;Q6<this.visibleItems.length;Q6++)if(k6=this.visibleItems[Q6].getData(),g2x.F8C==A6.length&&k6===f6||g2x.F8C<A6.length&&k6.hasOwnProperty(A6)&&k6[A6]==f6[A6]){this.visibleItems[Q6].validateNow();break;}};B6.prototype.getSelectedIndex=function(){return this.selectedIndex;};B6.prototype.setSelectedIndex=function(i6){var J6=this.getDataProvider();-g2x.O8C<i6&&i6<J6.length?this.updateSelectedItem(J6[i6],i6):this.updateSelectedItem(g2x.x4C,-g2x.O8C);};B6.prototype.getSelectedItem=function(){return this.selectedItem;};B6.prototype.setSelectedItem=function(Z6,y6){var E6=this.getDataProvider();if(utils.nullOrUndefined(Z6)||utils.nullOrEmpty(y6))-g2x.O8C<E6.indexOf(Z6)&&this.updateSelectedItem(Z6,E6.indexOf(Z6));else for(var H6=g2x.F8C;H6<E6.length;H6++)if(!utils.nullOrUndefined(E6[H6])&&E6[H6][y6]==Z6[y6]){this.updateSelectedItem(E6[H6],H6);break;}};B6.prototype.updateSelectedItem=function(I6,d6){if(this.allowMultipleSelection){var S6=-g2x.O8C<this.selectedIndices.indexOf(d6);!(S6=!S6)&&g2x.M8C>this.selectedIndices.length||(S6?(this.selectedIndices.push(d6),this.selectedItems.push(I6)):(this.selectedIndices.splice(this.selectedIndices.indexOf(d6),g2x.O8C),this.selectedItems.splice(this.selectedItems.indexOf(I6),g2x.O8C)),this.markSelected&&(I6.isSelected=S6,this.validateItemAt(d6)));}else this.markSelected&&g2x.x4C!=this.selectedItem&&(this.selectedItem.isSelected=!g2x.O8C,this.validateItemAt(this.selectedIndex)),this.selectedItem=I6,this.selectedIndex=d6,this.markSelected&&g2x.x4C!=this.selectedItem&&(this.selectedItem.isSelected=!g2x.F8C,this.validateItemAt(this.selectedIndex));};B6.prototype.defaultItemRendererFactory=function(m6,w6){var T6=new l6.renderers.UIItemRenderer();T6.setData(m6);T6.setIndex(w6);return T6;};B6.prototype.getMinHeight=function(){return this.getRowHeight();};B6.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getDataProvider().length;};Object.defineProperty(B6.prototype,v9VV.S3C,{get:function(){return this._allowMultipleSelection;},set:function(r6){this._allowMultipleSelection=r6;},enumerable:!g2x.F8C,configurable:!g2x.F8C});function B6(){var T3C="wdr-ui-list";var q6=Y6.call(this,v9VV.I3C,T3C)||this;q6.rowHeight=utils.browserVersion().isMobile?B6.DEFAULT_ROW_HEIGHT_MOBILE:B6.DEFAULT_ROW_HEIGHT;q6.selectedItems=[];q6.selectedIndices=[];q6.markSelected=!g2x.O8C;q6.useCache=!g2x.F8C;q6._allowMultipleSelection=!g2x.O8C;q6.dataProvider=[];q6.itemsCache=[];q6.visibleItems=[];q6.labelField=v9VV.m3C;q6.itemRendererFactory=q6.defaultItemRendererFactory;q6.selectedItem=g2x.x4C;q6.selectedIndex=-g2x.O8C;q6.container.addEventListener(g2x.H2C,function(u6){return q6.onItemClick(u6);});return q6;}B6.prototype.getSelectedIndices=function(){return this.selectedIndices;};B6.prototype.setSelectedIndices=function(P6){this.selectedIndices=P6;this.selectedItems.length=g2x.F8C;P6=this.getDataProvider();for(var C6=g2x.F8C;C6<P6.length;C6++)-g2x.O8C<this.selectedIndices.indexOf(C6)?(this.selectedItems.push(P6[C6]),this.markSelected&&(P6[C6].isSelected=!g2x.F8C,this.validateItemAt(C6))):this.markSelected&&(P6[C6].isSelected=!g2x.O8C,this.validateItemAt(C6));};B6.prototype.getSelectedItems=function(){return this.selectedItems;};B6.prototype.setSelectedItems=function(v5){this.selectedItems=v5;this.selectedIndices.length=g2x.F8C;v5=this.getDataProvider();for(var U5=g2x.F8C;U5<v5.length;U5++)-g2x.O8C<this.selectedItems.indexOf(v5[U5])?(this.selectedIndices.push(U5),this.markSelected&&(v5[U5].isSelected=!g2x.F8C,this.validateItemAt(U5))):this.markSelected&&(v5[U5].isSelected=!g2x.O8C,this.validateItemAt(U5));};B6.prototype.droppable=function(G5){this.container.droppable(G5,this);};B6.DEFAULT_ROW_HEIGHT=g2x.E8C;B6.DEFAULT_ROW_HEIGHT_MOBILE=g2x.T8C;return B6;}(l6.UIComponentBase);X6.UIList=p6;}(l6.lists||(l6.lists={})));}(uicontrols||(uicontrols={})));(function(W5){(function(V5){var l5=function(X5){var n2x=U9VV;var v6C="markSelected";__extends(p5,X5);p5.prototype.itemRendererFactory=function(z5,N5){var u5=new W5.renderers.SelectItemRenderer();u5.setData(z5);u5.setIndex(N5);return u5;};p5.prototype.onListChange=function(D5){this.enablePrompt(n2x.x4C==D5.data.selectedItem);this.dispatchWith(events._Event.CHANGE,this,D5.data);this.allowMultipleSelection||this.close();};p5.prototype.onBtnChange=function(){this.dropDownBtn.getSelection()?this.open():this.close();};p5.prototype.enablePrompt=function(K5){var x5=this.dropDownList.getSelectedItem(),x5=K5||this.allowMultipleSelection||n2x.x4C==x5?this.prompt:x5[this.getLabelField()];this.dropDownBtn.setLabel(x5);this.container.toggleClass(n2x.G3C,K5);};p5.prototype.setPrompt=function(s5){this.prompt!==s5&&(this.prompt=s5,this.enablePrompt(!n2x.F8C));};p5.prototype.getPrompt=function(){return this.prompt;};p5.prototype.open=function(){this.getEnabled()&&(this.dropDownListWrap.show(),this.dropDownList.setWidth(this.dropDownBtn.getWidth(!n2x.F8C)),this.dropDownBtn.setSelection(n2x.O8C),document.body.addEventListener(n2x.f4C,this.mouseHandler));};p5.prototype.handleMouse=function(F5){var w3C=".fm-ui-dropdown";n2x.x4C==W5.UIElement.convert(F5.target).closest(w3C)&&(document.body.removeEventListener(n2x.f4C,this.mouseHandler),this.close());};p5.prototype.close=function(){this.getEnabled()&&(this.dropDownListWrap.hide(),this.dropDownBtn.setSelection(n2x.F8C),document.body.removeEventListener(n2x.R4C,this.mouseHandler));};p5.prototype.getDataProvider=function(){return this.dropDownList.getDataProvider();};p5.prototype.setDataProvider=function(O5){this.dropDownList.setDataProvider(O5);};p5.prototype.getLabelField=function(){return this.dropDownList.getLabelField();};p5.prototype.setLabelField=function(M5){this.dropDownList.setLabelField(M5);};p5.prototype.setItemRendererFactory=function(b5){this.dropDownList.setItemRendererFactory(b5);};p5.prototype.validateNow=function(){this.dropDownList.validateNow();};p5.prototype.validateItemAt=function(j5){this.dropDownList.validateItemAt(j5);};p5.prototype.getSelectedIndex=function(){return this.dropDownList.getSelectedIndex();};p5.prototype.setSelectedIndex=function(g5){this.dropDownList.setSelectedIndex(g5);this.enablePrompt(n2x.x4C==this.dropDownList.getSelectedItem());};p5.prototype.getSelectedIndices=function(){return this.dropDownList.getSelectedIndices();};p5.prototype.setSelectedIndices=function(o5){this.dropDownList.setSelectedIndices(o5);this.enablePrompt(!n2x.F8C);};p5.prototype.getSelectedItem=function(){return this.dropDownList.getSelectedItem();};function p5(){var P3C="wdr-ui-dropdown-list";var C3C="Choose item";var r3C="wdr-ui-dropdown";var B5=X5.call(this,n2x.r4C,r3C)||this;B5.prompt=C3C;B5.mouseHandler=function(Y5){return B5.handleMouse(Y5);};B5._allowMultipleSelection=!n2x.O8C;B5.container.display=n2x.y2C;B5.dropDownBtn=new V5.UIDropDownButton();B5.dropDownBtn.addEventListener(events._Event.CHANGE,function(){return B5.onBtnChange();});B5.dropDownListWrap=new W5.UIComponentBase(n2x.r4C,P3C);B5.dropDownListWrap.hide();B5.dropDownList=new V5.UIList();B5.dropDownList.markSelected=!n2x.F8C;B5.dropDownList.setItemRendererFactory(B5.itemRendererFactory);B5.dropDownList.addEventListener(events._Event.CHANGE,function(q5){return B5.onListChange(q5);});B5.dropDownListWrap.addChild(B5.dropDownList);B5.addChild(B5.dropDownBtn);B5.addChild(B5.dropDownListWrap);return B5;}p5.prototype.setSelectedItem=function(n5,t5){this.dropDownList.setSelectedItem(n5,t5);this.enablePrompt(n2x.x4C==this.dropDownList.getSelectedItem());};p5.prototype.getSelectedItems=function(){return this.dropDownList.getSelectedItems();};p5.prototype.setSelectedItems=function(c5){this.dropDownList.setSelectedItems(c5);this.enablePrompt(!n2x.F8C);};p5.prototype.show=function(){X5.prototype.show.call(this);};p5.prototype.getRowHeight=function(){return this.dropDownList.getRowHeight();};p5.prototype.getRowCount=function(){return this.dropDownList.getRowCount();};p5.prototype.validateItem=function(L5,a5){};p5.prototype.getMinHeight=function(){return n2x.F8C;};p5.prototype.getMaxHeight=function(){return n2x.F8C;};Object.defineProperty(p5.prototype,v9VV.S3C,{get:function(){return this._allowMultipleSelection;},set:function(e5){var U6C="wdr-ui-dropdown-multiple-selection-list";this._allowMultipleSelection=e5;this.dropDownList.allowMultipleSelection=e5;this._allowMultipleSelection?this.dropDownList.container.addClass(U6C):this.dropDownList.container.removeClass(U6C);},enumerable:!n2x.F8C,configurable:!n2x.F8C});Object.defineProperty(p5.prototype,v6C,{set:function(h5){this.dropDownList.markSelected=h5;},enumerable:!n2x.F8C,configurable:!n2x.F8C});return p5;}(W5.UIComponentBase);V5.UIDropDownList=l5;}(W5.lists||(W5.lists={})));}(uicontrols||(uicontrols={})));(function(R5){(function(A5){var Q5=function(f5){__extends(k5,f5);k5.prototype.onScroll=function(){this.invalidate(v9VV.Z3C);};k5.prototype.draw=function(){this._placeholder.setHeight(Math.min(this.getMaxHeight(),k5.MAX_HEIGHT));if(this.isInvalid(v9VV.Z3C)){this._list.setDataProvider(this.getDataProvider());var J5=this.getStartIdx()*this.getRowHeight()*this.getScale()-this.getScaleFix();this._list.container.top=Math.min(J5,this._placeholder.getHeight()-this._list.container.height);}this.validate();};k5.prototype.getScale=function(){return this.getMaxHeight()>k5.MAX_HEIGHT?k5.MAX_HEIGHT/this.getMaxHeight():U9VV.O8C;};k5.prototype.getStartIdx=function(){return U9VV.O8C!=this.getScale()?Math.floor((this.getScrollPosition()+this.getScaleFix())/this.getScale()/this.getRowHeight()):Math.floor(this.getScrollPosition()/this.getRowHeight());};k5.prototype.getScaleFix=function(){return U9VV.O8C!=this.getScale()?(this.getHeight()/this.getScale()-this.getHeight())*(this.getScrollPosition()/k5.MAX_HEIGHT)*this.getScale():U9VV.F8C;};Object.defineProperty(k5.prototype,v9VV.S3C,{get:function(){return this._list.allowMultipleSelection;},set:function(E5){this._list.allowMultipleSelection=E5;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});k5.prototype.getLabelField=function(){return this._list.getLabelField();};k5.prototype.setLabelField=function(H5){this._list.setLabelField(H5);};function k5(){var W6C="wdr-ui-vlist-placeholder";var G6C="wdr-ui-vlist";var i5=f5.call(this)||this;i5.addClass(G6C);i5._list=new A5.UIList();i5.addChild(i5._list);i5._placeholder=new R5.UIComponentBase(U9VV.r4C,W6C);i5.addChild(i5._placeholder);i5.addEventListener(v9VV.V6C,function(){return i5.onScroll();});return i5;}k5.prototype.setItemRendererFactory=function(Z5){this._list.setItemRendererFactory(Z5);};k5.prototype.validateItemAt=function(y5){this._list.validateItemAt(y5);};k5.prototype.validateItem=function(S5,d5){void U9VV.F8C===d5&&(d5=U9VV.C4C);this._list.validateItem(S5,d5);};k5.prototype.getRowHeight=function(){return U9VV.C8C;};k5.prototype.getRowCount=function(){return U9VV.F8C<this.getRowHeight()?Math.ceil(this.getHeight()/this.getRowHeight())+U9VV.O8C:U9VV.F8C;};k5.prototype.getSelectedIndex=function(){return this._list.getSelectedIndex();};k5.prototype.setSelectedIndex=function(I5){this._list.setSelectedIndex(I5);};k5.prototype.getSelectedIndices=function(){return this._list.getSelectedIndices();};k5.prototype.setSelectedIndices=function(T5){this._list.setSelectedIndices(T5);};k5.prototype.getSelectedItem=function(){return this._list.getSelectedItem();};k5.prototype.setSelectedItem=function(m5,w5){this._list.setSelectedItem(m5,w5);};k5.prototype.getSelectedItems=function(){return this._list.getSelectedItems();};k5.prototype.setSelectedItems=function(r5){this._list.setSelectedItems(r5);};k5.prototype.getMinHeight=function(){return this._list.getRowHeight();};k5.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getSmartDataProvider().getLength();};k5.prototype.getSmartDataProvider=function(){return this.smartDataProvider;};k5.prototype.setSmartDataProvider=function(C5){this.smartDataProvider=C5;};k5.prototype.getScrollPosition=function(){return this.container.getScrollTop();};k5.prototype.setScrollPosition=function(P5){this.container.setScrollTop(P5);};k5.prototype.setDataProvider=function(U7){this.getSmartDataProvider()&&(this.getSmartDataProvider().setItems(U7),this.setScrollPosition(U9VV.F8C),this.invalidate(v9VV.Z3C));};k5.prototype.getDataProvider=function(){var v7=this.getStartIdx(),G7=v7+this.getRowCount();return this.getSmartDataProvider()?this.getSmartDataProvider().getItems(v7,G7):[];};k5.MAX_HEIGHT=v9VV.l6C;return k5;}(R5.UIComponentBase);A5.UIVirtualList=Q5;}(R5.lists||(R5.lists={})));}(uicontrols||(uicontrols={})));(function(W7){(function(l7){var V7=function(X7){__extends(p7,X7);function p7(){var p6C="wdr-ui-dropdown-btn";var B7=X7.call(this)||this;B7.addClass(p6C);B7.labelDisplay=new W7.UILabel();B7.addChild(B7.labelDisplay);return B7;}p7.prototype.setLabel=function(Y7){this.labelDisplay.setLabel(Y7);};return p7;}(W7.UIToggleButton);l7.UIDropDownButton=V7;}(W7.lists||(W7.lists={})));}(uicontrols||(uicontrols={})));(function(q7){(function(z7){var u7=function(D7){__extends(N7,D7);N7.prototype.getData=function(){return this.data;};N7.prototype.setData=function(K7){U9VV.x4C!=K7&&(this.data=K7,this.invalidate(v9VV.Z3C));};N7.prototype.getIndex=function(){return parseInt(this.container.attr(v9VV.d3C));};N7.prototype.setIndex=function(s7){this.container.attr(v9VV.d3C,s7);};N7.prototype.getLabelField=function(){return this.labelField;};N7.prototype.setLabelField=function(F7){this.labelField!=F7&&(this.labelField=F7,this.invalidate(v9VV.Z3C));};N7.prototype.getLabelFunction=function(){return this.labelFunction;};N7.prototype.setLabelFunction=function(O7){this.labelFunction!=O7&&(this.labelFunction=O7,this.invalidate(v9VV.Z3C));};N7.prototype.draw=function(){this.isInvalid(v9VV.Z3C)&&this.container.text(this.data[this.labelField]);this.validate();};function N7(){var x7=D7.call(this,v9VV.y3C)||this;x7.labelField=v9VV.m3C;return x7;}return N7;}(q7.UIComponentBase);z7.UIItemRenderer=u7;}(q7.renderers||(q7.renderers={})));}(uicontrols||(uicontrols={})));(function(M7){(function(b7){var j7=function(o7){__extends(g7,o7);function g7(){return o7.call(this)||this;}g7.prototype.draw=function(){var r5x=U9VV;var B6C="wdr-not-selected";var X6C="#wdr-text-display";var n7=this.getData();r5x.x4C==this.label&&(this.label=new M7.UILabel(),this.label.setId(X6C),this.container.append(this.label.container));this.label.setLabel(n7[this.getLabelField()],!r5x.F8C);this.container.toggleClass(r5x.Y3C,!r5x.F8C===n7.isSelected);this.container.toggleClass(B6C,!r5x.F8C!==n7.isSelected);};return g7;}(b7.UIItemRenderer);b7.SelectItemRenderer=j7;}(M7.renderers||(M7.renderers={})));}(uicontrols||(uicontrols={})));(function(t7){(function(L7){var c7=function(){a7.prototype.createHandles=function(){for(var f7=U9VV.F8C;f7<this.options.sides.length;f7++)this.createHandle(this.options.sides[f7]);};a7.prototype.createHandle=function(J7){var q6C="fm-";var Y6C="fm-resizable-handle";var i7=new t7.UIElement(U9VV.r4C,Y6C);i7.addClass(q6C+J7);i7.addEventListener(U9VV.f4C,this._mouseDownHandler);this.target.addChild(i7);return i7;};a7.prototype.onMouseDown=function(E7){var z6C="fm-right";var u6C="fm-left";E7=t7.UIElement.convert(E7.target);E7.hasClass(u6C)?this._currentSide=U9VV.M2C:E7.hasClass(z6C)&&(this._currentSide=U9VV.j2C);this.startResizing();};a7.prototype.onMouseUp=function(H7){this.onResize(H7.clientX,H7.clientY);this.stopResizing();};a7.prototype.onMouseMove=function(Z7){if(this._boundingRect&&(Z7.clientX<this._boundingRect.left||Z7.clientX>this._boundingRect.right||Z7.clientY<this._boundingRect.top||Z7.clientY>this._boundingRect.bottom))this.onMouseUp(Z7);else this.onResize(Z7.clientX,Z7.clientY);};a7.prototype.onResize=function(S7,I7){var y7={left:this._originalPosition.left,top:this._originalPosition.top},d7={width:this._originalSize.width,height:this._originalSize.height};U9VV.M2C==this._currentSide&&(y7.left=S7,d7.width+=this._originalPosition.left-y7.left);U9VV.j2C==this._currentSide&&(d7.width=S7-this._originalPosition.left);this.options.resize&&this.options.resize({side:this._currentSide,originalPosition:this._originalPosition,originalSize:this._originalSize,position:y7,size:d7});};function a7(h7,R7){var e7=this;this._mouseDownHandler=function(A7){return e7.onMouseDown(A7);};this._mouseUpHandler=function(Q7){return e7.onMouseUp(Q7);};this._mouseMoveHandler=function(k7){return e7.onMouseMove(k7);};this.target=h7;this.options=R7;this.createHandles();}a7.prototype.startResizing=function(){var G7x=U9VV;document.addEventListener(G7x.e4C,this._mouseMoveHandler);document.addEventListener(G7x.R4C,this._mouseUpHandler);this._originalSize={width:this.target.getWidth(!G7x.F8C),height:this.target.getHeight(!G7x.F8C)};this._originalPosition={left:this.target.getOffset().left,top:this.target.getOffset().top};this._boundingRect=this.options.containtment?this.options.containtment.getBoundingClientRect():G7x.x4C;};a7.prototype.stopResizing=function(){document.removeEventListener(U9VV.e4C,this._mouseMoveHandler);document.removeEventListener(U9VV.R4C,this._mouseUpHandler);};a7.prototype.dispose=function(){document.removeEventListener(U9VV.e4C,this._mouseMoveHandler);document.removeEventListener(U9VV.R4C,this._mouseUpHandler);};return a7;}();L7.ResizableHelper=c7;}(t7.resizable||(t7.resizable={})));}(uicontrols||(uicontrols={})));(function(T7){(function(w7){var m7=function(){r7.prototype.listen=function(W9V){this.handler=W9V;this.target.addEventListener(U9VV.i4C,this.touchStartHandler);this.target.addEventListener(U9VV.A4C,this.touchEndHandler);};function r7(U9V,C7){void U9VV.F8C===C7&&(C7=v9VV.N6C);var P7=this;this.touchStartHandler=function(v9V){return P7.onTouchStart(v9V);};this.touchEndHandler=function(G9V){return P7.onTouchEnd(G9V);};this.target=U9V;this.delay=C7;}r7.prototype.stop=function(){this.target.removeEventListener(U9VV.i4C,this.touchStartHandler);this.target.removeEventListener(U9VV.A4C,this.touchEndHandler);};r7.prototype.onTouchStart=function(l9V){var V9V=this;this.timer=utils.fmSetTimeout(function(){return V9V.callHandler(l9V);},this.delay);};r7.prototype.onTouchEnd=function(p9V){this.timer&&utils.fmClearTimeout(this.timer);};r7.prototype.callHandler=function(X9V){this.handler(X9V,X9V&&U9VV.F8C<X9V.changedTouches.length?X9V.changedTouches[U9VV.F8C]:U9VV.x4C);};return r7;}();w7.LongPressListener=m7;}(T7._utils||(T7._utils={})));}(uicontrols||(uicontrols={})));var pivot;(function(B9V){var O6C="Seeking past EOF";var F6C="Seeking past start of the buffer";var D4C=1114111;var z4C=65536;var u4C=65535;var Y4C=57343;var B4C=56320;var X4C=55296;var U4C=1023;var J0C=240;var s9V=function(){var f8x=U9VV;var s6C="dataView";var K6C="buffer";var x6C="byteLength";var D6C="byteOffset";Object.defineProperty(F9V.prototype,D6C,{get:function(){return this._byteOffset;},set:function(j9V){this._byteOffset=j9V;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!f8x.F8C,configurable:!f8x.F8C});Object.defineProperty(F9V.prototype,x6C,{get:function(){return this._byteLength-this._byteOffset;},enumerable:!f8x.F8C,configurable:!f8x.F8C});Object.defineProperty(F9V.prototype,K6C,{get:function(){this._trimAlloc();return this._buffer;},set:function(g9V){this._buffer=g9V;this._dataView=f8x.F8C==this._byteOffset?new DataView(this._buffer):new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!f8x.F8C,configurable:!f8x.F8C});Object.defineProperty(F9V.prototype,s6C,{get:function(){return this._dataView;},set:function(o9V){this._byteOffset=o9V.byteOffset;this._buffer=o9V.buffer;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._byteOffset+o9V.byteLength;},enumerable:!f8x.F8C,configurable:!f8x.F8C});F9V.prototype.seek=function(n9V){n9V=Math.max(f8x.F8C,Math.min(this.byteLength,n9V));this.position=isNaN(n9V)||!isFinite(n9V)?f8x.F8C:n9V;};F9V.prototype.writeString=function(t9V){this.writeUint8Array(u9V.encode(t9V));};function F9V(b9V,O9V,M9V){void f8x.F8C===O9V&&(O9V=f8x.F8C);void f8x.F8C===M9V&&(M9V=F9V.LITTLE_ENDIAN);this._dynamicSize=!f8x.F8C;this._byteLength=f8x.F8C;this._byteOffset=O9V;this.buffer=b9V;this.position=f8x.F8C;this.endianness=M9V;}F9V.prototype.writeUint32=function(L9V,c9V){void f8x.F8C===c9V&&(c9V=f8x.x4C);this._realloc(f8x.j8C);this._dataView.setUint32(this.position,L9V,f8x.x4C==c9V?this.endianness:c9V);this.position+=f8x.j8C;};F9V.prototype.writeUint8=function(a9V){this._realloc(f8x.O8C);this._dataView.setUint8(this.position,a9V);this.position+=f8x.O8C;};F9V.prototype.writeUint8Array=function(e9V){this._realloc(f8x.O8C*e9V.length);if(e9V instanceof Uint8Array&&f8x.F8C==this.byteOffset+this.position%e9V.BYTES_PER_ELEMENT)this.memcpy(this._buffer,this.byteOffset+this.position,e9V.buffer,f8x.F8C,e9V.byteLength),this.mapUint8Array(e9V.length);else for(var h9V=f8x.F8C;h9V<e9V.length;h9V++)this.writeUint8(e9V[h9V]);};F9V.prototype.readString=function(R9V,A9V){return z9V.decode(this.mapUint8Array(R9V));};F9V.prototype.readUint32=function(){var Q9V=this._dataView.getUint32(this.position,this.endianness);this.position+=f8x.j8C;return Q9V;};F9V.prototype.readUint8=function(){var k9V=this._dataView.getUint8(this.position);this.position+=f8x.O8C;return k9V;};F9V.prototype.readUint8Array=function(f9V){void f8x.F8C===f9V&&(f9V=-f8x.O8C);f9V=f8x.F8C>f9V?this.byteLength-this.position:f9V;var i9V=new Uint8Array(f9V);this.memcpy(i9V.buffer,f8x.F8C,this.buffer,this.byteOffset+this.position,f9V*i9V.BYTES_PER_ELEMENT);this.position+=i9V.byteLength;return i9V;};F9V.prototype.mapUint8Array=function(J9V){this._realloc(f8x.O8C*J9V);var E9V=new Uint8Array(this._buffer,this.byteOffset+this.position,J9V);this.position+=f8x.O8C*J9V;return E9V;};F9V.prototype._realloc=function(Z9V){if(this._dynamicSize){Z9V=this._byteOffset+this.position+Z9V;var H9V=this._buffer.byteLength;if(Z9V<=H9V)Z9V>this._byteLength&&(this._byteLength=Z9V);else{for(f8x.O8C>H9V&&(H9V=f8x.O8C);Z9V>H9V;)H9V*=f8x.M8C;var H9V=new ArrayBuffer(H9V),y9V=new Uint8Array(this._buffer);new Uint8Array(H9V,f8x.F8C,y9V.length).set(y9V);this.buffer=H9V;this._byteLength=Z9V;}}};F9V.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var d9V=new ArrayBuffer(this._byteLength),S9V=new Uint8Array(d9V),I9V=new Uint8Array(this._buffer,f8x.F8C,S9V.length);S9V.set(I9V);this.buffer=d9V;}};F9V.prototype.memcpy=function(T9V,r9V,m9V,C9V,w9V){T9V=new Uint8Array(T9V,r9V,w9V);m9V=new Uint8Array(m9V,C9V,w9V);T9V.set(m9V);};F9V.BIG_ENDIAN=!f8x.O8C;F9V.LITTLE_ENDIAN=!f8x.F8C;return F9V;}();B9V.DataStream=s9V;var u9V=function(){P9V.encode=function(U1V){U1V=U1V?String(U1V):U9VV.C4C;var v1V=[],G1V=new K9V(v1V);U1V=new q9V(U1V);U9VV.x4C==P9V.encoder&&(P9V.encoder=new D9V());for(;U1V.get()!==P9V.EOF_code_point;)P9V.encoder.encode(G1V,U1V);var W1V;do W1V=P9V.encoder.encode(G1V,U1V);while(W1V!==P9V.EOF_byte);return new Uint8Array(v1V);};P9V.EOF_byte=-U9VV.O8C;P9V.EOF_code_point=-U9VV.O8C;function P9V(){}return P9V;}();B9V.TextEncoder=u9V;var z9V=function(){V1V.decode=function(l1V){var e2x=U9VV;l1V||(l1V=new Uint8Array(e2x.F8C));l1V=new Uint8Array(l1V.buffer,l1V.byteOffset,l1V.byteLength);l1V=new x9V(l1V);var X1V=new N9V(),p1V;e2x.x4C==V1V.decoder&&(V1V.decoder=new Y9V());for(;l1V.get()!==V1V.EOF_byte;)p1V=V1V.decoder.decode(l1V),e2x.x4C!==p1V&&p1V!==V1V.EOF_code_point&&X1V.emit(p1V);do p1V=V1V.decoder.decode(l1V),e2x.x4C!==p1V&&p1V!==V1V.EOF_code_point&&X1V.emit(p1V);while(p1V!==V1V.EOF_code_point);return X1V.str();};function V1V(){}V1V.EOF_byte=-U9VV.O8C;V1V.EOF_code_point=-U9VV.O8C;return V1V;}();B9V.TextDecoder=z9V;var Y9V=function(){B1V.prototype.decode=function(q1V){var h2x=U9VV;var E0C=244;var i0C=239;var k0C=223;var h0C=194;var Y1V=q1V.get();if(Y1V===this.EOF_byte)return this.EOF_code_point;q1V.offset(h2x.O8C);if(h2x.F8C===this.utf8_bytes_needed){if(this.inRange(Y1V,h2x.F8C,h2x.t0C))return Y1V;if(this.inRange(Y1V,h0C,k0C))this.utf8_bytes_needed=h2x.O8C,this.utf8_lower_boundary=h2x.c0C,this.utf8_code_point=Y1V-h2x.e0C;else if(this.inRange(Y1V,h2x.f0C,i0C))this.utf8_bytes_needed=h2x.M8C,this.utf8_lower_boundary=h2x.V4C,this.utf8_code_point=Y1V-h2x.f0C;else if(this.inRange(Y1V,J0C,E0C))this.utf8_bytes_needed=h2x.b8C,this.utf8_lower_boundary=z4C,this.utf8_code_point=Y1V-J0C;else return this.EOF_code_point;this.utf8_code_point*=Math.pow(h2x.N0C,this.utf8_bytes_needed);return h2x.x4C;}if(!this.inRange(Y1V,h2x.c0C,h2x.a0C))return this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=h2x.F8C,q1V.offset(-h2x.O8C),this.EOF_code_point;this.utf8_bytes_seen+=h2x.O8C;this.utf8_code_point+=(Y1V-h2x.c0C)*Math.pow(h2x.N0C,this.utf8_bytes_needed-this.utf8_bytes_seen);if(this.utf8_bytes_seen!==this.utf8_bytes_needed)return h2x.x4C;q1V=this.utf8_code_point;Y1V=this.utf8_lower_boundary;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=h2x.F8C;return this.inRange(q1V,Y1V,D4C)&&!this.inRange(q1V,X4C,Y4C)?q1V:this.EOF_code_point;};B1V.prototype.inRange=function(u1V,z1V,N1V){return z1V<=u1V&&u1V<=N1V;};function B1V(){this.EOF_code_point=this.EOF_byte=-U9VV.O8C;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=U9VV.F8C;}return B1V;}();B9V.UTF8Decoder=Y9V;var D9V=function(){D1V.prototype.inRange=function(x1V,K1V,s1V){return K1V<=x1V&&x1V<=s1V;};D1V.prototype.div=function(F1V,O1V){return Math.floor(F1V/O1V);};function D1V(){this.EOF_code_point=this.EOF_byte=-U9VV.O8C;}D1V.prototype.encode=function(g1V,o1V){var Q2x=U9VV;var W4C=2047;var M1V=o1V.get();if(M1V===this.EOF_code_point)return this.EOF_byte;o1V.offset(Q2x.O8C);if(this.inRange(M1V,X4C,Y4C))return this.EOF_code_point;if(this.inRange(M1V,Q2x.F8C,Q2x.t0C))return g1V.emit(M1V);var j1V,b1V;this.inRange(M1V,Q2x.c0C,W4C)?(j1V=Q2x.O8C,b1V=Q2x.e0C):this.inRange(M1V,Q2x.V4C,u4C)?(j1V=Q2x.M8C,b1V=Q2x.f0C):this.inRange(M1V,z4C,D4C)&&(j1V=Q2x.b8C,b1V=J0C);for(b1V=g1V.emit(this.div(M1V,Math.pow(Q2x.N0C,j1V))+b1V);Q2x.F8C<j1V;)b1V=this.div(M1V,Math.pow(Q2x.N0C,j1V-Q2x.O8C)),b1V=g1V.emit(Q2x.c0C+b1V%Q2x.N0C),j1V-=Q2x.O8C;return b1V;};return D1V;}();B9V.UTF8Encoder=D9V;var x9V=function(){n1V.prototype.get=function(){return this.pos>=this.bytes.length?this.EOF_byte:Number(this.bytes[this.pos]);};n1V.prototype.offset=function(c1V){this.pos+=c1V;if(U9VV.F8C>this.pos)throw Error(F6C);if(this.pos>this.bytes.length)throw Error(O6C);};n1V.prototype.match=function(a1V){var f2x=U9VV;if(a1V.length>this.pos+this.bytes.length)return!f2x.O8C;var L1V;for(L1V=f2x.F8C;L1V<a1V.length;L1V+=f2x.O8C)if(Number(this.bytes[this.pos+L1V])!==a1V[L1V])return!f2x.O8C;return!f2x.F8C;};function n1V(t1V){this.EOF_byte=-U9VV.O8C;this.pos=U9VV.F8C;this.bytes=t1V;}return n1V;}();B9V.ByteInputStream=x9V;var K9V=function(){e1V.prototype.emit=function(Q1V){var R1V=this.EOF_byte,A1V;for(A1V=U9VV.F8C;A1V<arguments.length;++A1V)R1V=Number(arguments[A1V]),this.bytes[this.pos++]=R1V;return R1V;};function e1V(h1V){this.EOF_byte=-U9VV.O8C;this.pos=U9VV.F8C;this.bytes=h1V;}return e1V;}();B9V.ByteOutputStream=K9V;var q9V=function(){k1V.prototype.getCps=function(H1V){var H2x=U9VV;var q4C=65533;for(var i1V=[],J1V=H2x.F8C,y1V=H1V.length;J1V<H1V.length;){var E1V=H1V.charCodeAt(J1V);if(this.inRange(E1V,X4C,Y4C))if(this.inRange(E1V,B4C,Y4C))i1V.push(q4C);else if(J1V===y1V-H2x.O8C)i1V.push(q4C);else{var Z1V=H1V.charCodeAt(J1V+H2x.O8C);this.inRange(Z1V,B4C,Y4C)?(E1V&=U4C,Z1V&=U4C,J1V+=H2x.O8C,i1V.push(z4C+(E1V<<H2x.L8C)+Z1V)):i1V.push(q4C);}else i1V.push(E1V);J1V+=H2x.O8C;}return i1V;};k1V.prototype.inRange=function(d1V,S1V,I1V){return S1V<=d1V&&d1V<=I1V;};function k1V(f1V){this.pos=U9VV.F8C;this.EOF_code_point=-U9VV.O8C;this._str=f1V;this.cps=this.getCps(this._str);}k1V.prototype.offset=function(T1V){this.pos+=T1V;if(U9VV.F8C>this.pos)throw Error(F6C);if(this.pos>this.cps.length)throw Error(O6C);};k1V.prototype.get=function(){return this.pos>=this.cps.length?this.EOF_code_point:this.cps[this.pos];};return k1V;}();B9V.CodePointInputStream=q9V;var N9V=function(){m1V.prototype.str=function(){return this._str;};m1V.prototype.emit=function(w1V){u4C>=w1V?this._str+=String.fromCharCode(w1V):(w1V-=z4C,this._str+=String.fromCharCode(X4C+(w1V>>U9VV.L8C&U4C)),this._str+=String.fromCharCode(B4C+(w1V&U4C)));};function m1V(){this._str=U9VV.C4C;}return m1V;}();B9V.CodePointOutputStream=N9V;}(pivot||(pivot={})));var misc;(function(C1V){var r1V=function(U8V){__extends(P1V,U8V);P1V.prototype.load=function(W8V){var b6C="arraybuffer";var G8V=this;this.url=W8V;this.connected=!U9VV.O8C;this.close();this.xhr=new XMLHttpRequest();this.xhr.open(v9VV.M6C,W8V,!U9VV.F8C);this.xhr.responseType=b6C;this.xhr.onload=function(V8V){return G8V.onComplete(V8V);};this.xhr.onprogress=function(l8V){return G8V.onProgress(l8V);};this.xhr.onerror=function(p8V){return G8V.onError(p8V);};this.xhr.onreadystatechange=function(X8V){return G8V.onReadyStateChange(X8V);};this.xhr.send();};P1V.prototype.onComplete=function(B8V){this.response=this.xhr.response;this.dispatch(new events._Event(events._Event.COMPLETE,this));};P1V.prototype.onProgress=function(Y8V){this.dispatch(Y8V);};P1V.prototype.onError=function(q8V){this.dispatch(q8V);};P1V.prototype.onReadyStateChange=function(u8V){var m2x=U9VV;m2x.x4C!=this.xhr&&m2x.j8C===this.xhr.readyState&&m2x.A0C!==this.xhr.status&&this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText));m2x.x4C!=this.xhr&&m2x.b8C>this.xhr.readyState&&!this.connected&&(this.connected=!m2x.F8C,this.dispatch(new events._Event(events._Event.CONNECTED)));};P1V.prototype.close=function(){U9VV.x4C!=this.xhr&&this.xhr.abort();};function P1V(){var v8V=U8V.call(this)||this;v8V.connected=!U9VV.O8C;return v8V;}P1V.prototype.dispose=function(){var C2x=U9VV;this.response=C2x.x4C;C2x.x4C!=this.xhr&&(this.xhr.onload=C2x.x4C,this.xhr.onprogress=C2x.x4C,this.xhr.onerror=C2x.x4C,this.xhr.onreadystatechange=C2x.x4C);this.xhr=C2x.x4C;};return P1V;}(events.EventDispatcher);C1V.URLBinaryLoader=r1V;}(misc||(misc={})));(function(z8V){var N8V=function(O8V){__extends(F8V,O8V);F8V.prototype.load=function(o8V,g8V){var P2x=U9VV;var j6C="Content-type";var j8V=this;void P2x.F8C===g8V&&(g8V=P2x.x4C);this.url=o8V;this._bytesLoaded=P2x.F8C;this.connected=!P2x.O8C;this.processRequestHeader(g8V);this.close();this.xhr=new XMLHttpRequest();this.xhr.open(this.requestMethod,this.url,!P2x.F8C);this.xhr.onerror=function(n8V){return j8V.onError(n8V);};this.xhr.onreadystatechange=function(t8V){return j8V.onReadyStateChange(t8V);};this.xhr.onprogress=function(c8V){return j8V.onProgress(c8V);};this.xhr.setRequestHeader(j6C,this.contentType);for(var b8V=P2x.F8C;b8V<this.requestHeaders.length;b8V++)this.xhr.setRequestHeader(this.requestHeaders[b8V].header,this.requestHeaders[b8V].value);this.xhr.send(this.data);};function F8V(){var U3x=U9VV;var M8V=O8V.call(this)||this;M8V.dataType=D8V.TEXT;M8V.contentType=x8V.TEXT_PLAIN;M8V.requestMethod=K8V.GET;M8V.connected=!U3x.O8C;M8V.withCredentials=!U3x.O8C;M8V._lastProgressTriggered=U3x.F8C;M8V._lastEvent=U3x.x4C;M8V.progressInterval=U3x.F8C;M8V.requestHeaders=[];M8V.data={};M8V._bytesLoaded=U3x.F8C;return M8V;}F8V.prototype.processRequestHeader=function(L8V){this.requestHeaders=[];if(U9VV.x4C!=L8V)for(var a8V in L8V)this.requestHeaders.push(new s8V(a8V,L8V[a8V]));};F8V.prototype.getBytesLoaded=function(){return this._bytesLoaded;};F8V.prototype.success=function(){this.response=this.xhr.response||this.xhr.responseText;this._bytesLoaded=this._lastEvent?this._lastEvent.loaded:this.response.length;this.dispatch(new events._Event(events._Event.COMPLETE,this));};F8V.prototype.onReadyStateChange=function(e8V){var G3x=U9VV;G3x.x4C!=this.xhr&&G3x.j8C===this.xhr.readyState&&(G3x.A0C===this.xhr.status?this.success():this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText)));G3x.x4C!=this.xhr&&G3x.b8C>this.xhr.readyState&&!this.connected&&(this.connected=!G3x.F8C,this.dispatch(new events._Event(events._Event.CONNECTED)));};F8V.prototype.onProgress=function(h8V){utils.getTimer()-this._lastProgressTriggered>this.progressInterval?(this.response=this.xhr.response||this.xhr.responseText,this._bytesLoaded=h8V.loaded,this.dispatch(h8V),this._lastProgressTriggered=utils.getTimer(),this._lastEvent=U9VV.x4C):this._lastEvent=h8V;};F8V.prototype.onError=function(R8V){this.dispatch(new events._Event(events._Event.ERROR,this));};F8V.prototype.close=function(){U9VV.x4C!=this.xhr&&(this.xhr.onprogress=U9VV.x4C,this.xhr.onreadystatechange=U9VV.x4C,this.xhr.abort());};F8V.prototype.dispose=function(){var l3x=U9VV;this.data=this.response=l3x.x4C;this.requestHeaders=[];l3x.x4C!=this.xhr&&(this.xhr.onprogress=l3x.x4C,this.xhr.onreadystatechange=l3x.x4C);this._lastProgressTriggered=this._lastEvent=this.xhr=l3x.x4C;};return F8V;}(events.EventDispatcher);z8V.URLStream=N8V;var D8V=function(){var g6C="xml";A8V.TEXT=U9VV.p3C;A8V.XML=g6C;A8V.HTML=v9VV.o6C;function A8V(){}A8V.JSON=v9VV.n6C;return A8V;}();z8V.DataType=D8V;var x8V=function(){var a6C="application/x-www-form-urlencoded";var L6C="application/json";var t6C="text/plain";Q8V.TEXT_PLAIN=t6C;Q8V.TEXT_XML=v9VV.c6C;Q8V.APPLICATION_JSON=L6C;function Q8V(){}Q8V.APPLICATION_URLENCODED=a6C;return Q8V;}();z8V.ContentType=x8V;var K8V=function(){var e6C="POST";k8V.POST=e6C;k8V.GET=v9VV.M6C;function k8V(){}return k8V;}();z8V.URLRequestMethod=K8V;var s8V=function(){return function(f8V,i8V){this.header=f8V;this.value=i8V;};}();z8V.URLRequestHeader=s8V;N8V=function(){J8V.prototype.toString=function(){var E8V=[],H8V;for(H8V in this.data)E8V.push(H8V+v9VV.h6C+this.data[H8V]);return E8V.join(v9VV.R6C);};function J8V(){this.data={};}return J8V;}();z8V.URLVariables=N8V;}(misc||(misc={})));(function(y8V){var d8V=function(I8V){__extends(S8V,I8V);S8V.prototype.browse=function(m8V){var X3x=U9VV;var f6C="change";var Q6C="accept";var w8V=this;void X3x.F8C===m8V&&(m8V=[]);this.input=document.createElement(X3x.o2C);this.input.setAttribute(X3x.W3C,v9VV.A6C);this.input.style.display=X3x.n2C;document.body.appendChild(this.input);this.input.setAttribute(Q6C,m8V.join(v9VV.k6C));this.input.addEventListener(f6C,function(){return w8V.onChange();});this.dialogOpened=!X3x.F8C;this.input.click();};S8V.prototype.onChange=function(){this.dialogOpened=!U9VV.O8C;utils.nullOrUndefined(this.input.files)||utils.nullOrUndefined(this.input.files[U9VV.F8C])||(this.file=this.input.files[U9VV.F8C],this.dispatchWith(events._Event.SELECT));};S8V.prototype.onFocus=function(){var r8V=this;this.dialogOpened&&utils.fmSetTimeout(function(){(utils.nullOrUndefined(r8V.input.files)||utils.nullOrUndefined(r8V.input.files[U9VV.F8C]))&&r8V.dispatchWith(events._Event.CANCEL);r8V.dialogOpened=!U9VV.O8C;},U9VV.m0C);};S8V.prototype.load=function(P8V){var C8V=this;void U9VV.F8C===P8V&&(P8V=Z8V.TEXT);U9VV.x4C!=this.file&&(this.reader=new FileReader(),this.reader.onload=function(U0V){return C8V.onLoad(U0V);},this.reader.onprogress=function(v0V){return C8V.onProgress(v0V);},this.reader.onerror=function(G0V){return C8V.onError(G0V);},P8V==Z8V.ARRAY_BUFFER?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file));};S8V.prototype.onLoad=function(W0V){this.response=this.reader.result;this.dispatch(new events._Event(events._Event.COMPLETE,this));};S8V.prototype.onProgress=function(V0V){this.dispatch(V0V);};S8V.prototype.onError=function(l0V){this.dispatch(l0V);};S8V.prototype.dispose=function(){this.reader=this.file=this.response=U9VV.x4C;};function S8V(){var T8V=I8V.call(this)||this;T8V.dialogOpened=!U9VV.O8C;document.body.onfocus=function(){return T8V.onFocus();};return T8V;}return S8V;}(events.EventDispatcher);y8V.FileReference=d8V;var Z8V=function(){var J6C="ARRAY_BUFFER";var i6C="TEXT";p0V.TEXT=i6C;p0V.ARRAY_BUFFER=J6C;function p0V(){}return p0V;}();y8V.ReadMethod=Z8V;}(misc||(misc={})));(function(Y0V){var X0V=function(){var d8x=U9VV;var E6C="item";Object.defineProperty(u0V.prototype,E6C,{get:function(){return this[d8x.F8C];},enumerable:!d8x.F8C,configurable:!d8x.F8C});u0V.prototype.find=function(z0V){return void d8x.F8C===this.item?this:this.item.find(z0V);};u0V.prototype.text=function(){return void d8x.F8C===this.item?d8x.C4C:this.item.text();};u0V.prototype.attr=function(N0V,D0V){return void d8x.F8C===this.item?void d8x.F8C:D0V?this.item.attr(N0V,D0V):this.item.attr(N0V);};u0V.prototype.children=function(){for(var K0V=new u0V(),x0V=d8x.F8C;void d8x.F8C!==this[x0V];)K0V[x0V++]=B0V.convert(this[x0V]);return K0V;};u0V.prototype.push=function(s0V){this[this.length]=s0V;return this;};function u0V(){}Object.defineProperty(u0V.prototype,v9VV.H6C,{get:function(){for(var F0V=d8x.F8C;void d8x.F8C!==this[F0V];)F0V++;return F0V;},enumerable:!d8x.F8C,configurable:!d8x.F8C});return u0V;}();Y0V.XMLNodeList=X0V;var B0V=function(M0V){__extends(O0V,M0V);O0V.prototype.text=function(b0V){return b0V||!U9VV.O8C===b0V?(this.textContent=b0V.toString(),this):b0V=utils.nullOrUndefined(this.textContent)?U9VV.C4C:this.textContent;};O0V.prototype.append=function(j0V){if(utils.nullOrUndefined(j0V)||U9VV.K2C==typeof j0V&&utils.nullOrEmpty(j0V))return this;(j0V instanceof CDATASection||U9VV.C4C!=j0V.textContent)&&this.appendChild(j0V);return this;};O0V.prototype.isEmpty=function(){return U9VV.C4C==this.text();};O0V.prototype.find=function(o0V){o0V=this.querySelectorAll(o0V);for(var n0V=new X0V(),g0V=U9VV.F8C;g0V<o0V.length;g0V++)n0V[g0V]=O0V.convert(o0V[g0V]);return n0V;};O0V.prototype.attr=function(c0V,t0V){if(t0V||!U9VV.O8C===t0V)return this.setAttribute(c0V,t0V),this;t0V=this.getAttribute(c0V);U9VV.x4C==t0V&&(t0V=void U9VV.F8C);return t0V;};O0V.prototype.getChildren=function(){for(var a0V=new X0V(),L0V=this.firstElementChild;L0V;)L0V.nodeType===Node.ELEMENT_NODE&&a0V.push(O0V.convert(L0V)),L0V=L0V.nextElementSibling;return a0V;};Object.defineProperty(O0V.prototype,v9VV.H6C,{get:function(){return this.childNodes.length;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});O0V.convert=function(e0V){e0V.find=O0V.prototype.find;e0V.append=O0V.prototype.append;e0V.text=O0V.prototype.text;e0V.attr=O0V.prototype.attr;e0V.isEmpty=O0V.prototype.isEmpty;e0V.getChildren=O0V.prototype.getChildren;return e0V;};function O0V(){return U9VV.x4C!==M0V&&M0V.apply(this,arguments)||this;}return O0V;}(Element);Y0V.XMLNode=B0V;var q0V=function(){var x5C="<tmp/>";h0V.create=function(R0V){if(U9VV.x4C==R0V.firstChild){R0V=new DOMParser().parseFromString(R0V,v9VV.c6C);if(h0V.isParseError(R0V))return U9VV.x4C;R0V=R0V.firstElementChild?R0V.firstElementChild:R0V.firstChild;}else R0V=R0V.firstChild;return B0V.convert(R0V);};h0V.isParseError=function(A0V){var j3x=U9VV;var Z6C="parsererror";if(!A0V.getElementsByTagName(Z6C)||!A0V.getElementsByTagName(Z6C)[j3x.F8C])return!j3x.O8C;var Q0V=A0V.getElementsByTagName(Z6C)[j3x.F8C].namespaceURI;return j3x.F8C<A0V.getElementsByTagNameNS(Q0V,Z6C).length;};h0V.cdata=function(k0V){return h0V.doc.createCDATASection(k0V);};h0V.toXMLString=function(J0V,i0V){var g3x=U9VV;void g3x.F8C===i0V&&(i0V=!g3x.O8C);g3x.x4C==h0V.serializer&&(h0V.serializer=new XMLSerializer());var f0V=h0V.serializer.serializeToString(J0V);!g3x.F8C==i0V&&(f0V=h0V.format(f0V));return f0V.trim();};h0V.format=function(H0V){var o3x=U9VV;var N5C="]]\x3e";var z5C="<![CDATA[";var u5C=/xmlns\=/;var q5C=/xmlns\:/;var Y5C=/<\?/;var B5C=/\/>/;var X5C=/<\//;var p5C=/<\w/;var V5C=/^<\/[\w:\-\.\,]+/;var W5C=/^<[\w:\-\.\,]+/;var G5C=/^<\/\w/;var v5C=/^<\w/;var U5C=/!DOCTYPE/;var P6C=/\]>/;var C6C=/--\x3e/;var r6C=/<!/;var w6C="    ";var T6C="~::~";var I6C="~::~xmlns=";var S6C="~::~xmlns:";var d6C="~::~<";var y6C="><";H0V=H0V.replace(/>\s{0,}</g,y6C).replace(/</g,d6C).replace(/\s*xmlns\:/g,S6C).replace(/\s*xmlns\=/g,I6C).split(T6C);for(var I0V=H0V.length,d0V=!o3x.O8C,S0V=o3x.F8C,Z0V=o3x.C4C,E0V=o3x.F8C,y0V=[v9VV.m6C],E0V=o3x.F8C;o3x.J8C>E0V;E0V++)y0V.push(y0V[E0V]+w6C);for(E0V=o3x.F8C;E0V<I0V;E0V++)if(-o3x.O8C<H0V[E0V].search(r6C)){if(Z0V+=y0V[S0V]+H0V[E0V],d0V=!o3x.F8C,-o3x.O8C<H0V[E0V].search(C6C)||-o3x.O8C<H0V[E0V].search(P6C)||-o3x.O8C<H0V[E0V].search(U5C))d0V=!o3x.O8C;}else-o3x.O8C<H0V[E0V].search(C6C)||-o3x.O8C<H0V[E0V].search(P6C)?(Z0V+=H0V[E0V],d0V=!o3x.O8C):v5C.exec(H0V[E0V-o3x.O8C])&&G5C.exec(H0V[E0V])&&W5C.exec(H0V[E0V-o3x.O8C])[o3x.F8C]==V5C.exec(H0V[E0V])[o3x.F8C].replace(v9VV.l5C,o3x.C4C)?(Z0V+=H0V[E0V],d0V||S0V--):Z0V=-o3x.O8C<H0V[E0V].search(p5C)&&-o3x.O8C==H0V[E0V].search(X5C)&&-o3x.O8C==H0V[E0V].search(B5C)?d0V?Z0V+=H0V[E0V]:Z0V+=y0V[S0V++]+H0V[E0V]:-o3x.O8C<H0V[E0V].search(p5C)&&-o3x.O8C<H0V[E0V].search(X5C)?d0V?Z0V+=H0V[E0V]:Z0V+=y0V[S0V]+H0V[E0V]:-o3x.O8C<H0V[E0V].search(X5C)?d0V?Z0V+=H0V[E0V]:Z0V+=y0V[--S0V]+H0V[E0V]:-o3x.O8C<H0V[E0V].search(B5C)?d0V?Z0V+=H0V[E0V]:Z0V+=y0V[S0V]+H0V[E0V]:-o3x.O8C<H0V[E0V].search(Y5C)?Z0V+(y0V[S0V]+H0V[E0V]):-o3x.O8C<H0V[E0V].search(q5C)||-o3x.O8C<H0V[E0V].search(u5C)?Z0V+(y0V[S0V]+H0V[E0V]):Z0V+H0V[E0V];H0V=v9VV.m6C==Z0V[o3x.F8C]?Z0V.slice(o3x.O8C):Z0V;H0V=H0V.replace(/[\r\n\s]*<\!\[CDATA\[/g,z5C);return H0V=H0V.replace(/]]\x3e\s*/g,N5C);};function h0V(){throw Error(v9VV.D5C);}h0V.doc=new DOMParser().parseFromString(x5C,v9VV.c6C);return h0V;}();Y0V.XML=q0V;}(misc||(misc={})));(function(m0V){var T0V=function(){w0V.print=function(G4V,U4V,v4V){var L3x=v9VV;var c3x=U9VV;var R5C="</html>";var h5C="</body>";var a5C="</head>";var L5C="</style>";var c5C="body{-webkit-print-color-adjust:exact;}";var g5C="<head>";var b5C="<!DOCTYPE html>";var s5C="iframe";var K5C="printer-";void c3x.F8C===U4V&&(U4V=c3x.C4C);void c3x.F8C===v4V&&(v4V=c3x.C4C);var C0V=K5C+new Date().getTime(),P0V=new uicontrols.UIElement(s5C).attr(L3x.F5C,C0V);P0V.css(c3x.s2C,L3x.O5C).css(c3x.O2C,L3x.O5C).css(c3x.F3C,c3x.O3C).css(c3x.M2C,L3x.M5C);uicontrols.UIElement.convert(document.body).append(P0V);var C0V=window.frames[C0V],r0V=C0V.document;r0V.open();r0V.write(b5C);r0V.write(L3x.j5C);r0V.write(g5C);r0V.write(L3x.o5C);r0V.write(v4V);r0V.write(L3x.n5C);r0V.write(L3x.t5C);r0V.write(U4V+c5C);r0V.write(L5C);r0V.write(a5C);r0V.write(L3x.e5C);r0V.write(G4V);r0V.write(h5C);r0V.write(R5C);r0V.close();C0V.focus();C0V.print();utils.fmSetTimeout(function(){P0V.remove();},L3x.A5C);};function w0V(){}return w0V;}();m0V.PrintJob=T0V;}(misc||(misc={})));var utils;(function(W4V){var Q5C="target";var l4V=function(){Object.defineProperty(X4V.prototype,Q5C,{get:function(){return U9VV.x4C;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});X4V.prototype.areListenersEqual=function(B4V,Y4V){return B4V.type===Y4V.type&&B4V.handler===Y4V.handler&&B4V.useCapture===Y4V.useCapture;};X4V.prototype.hasEventListener=function(u4V,z4V){var e3x=U9VV;if(W4V.nullOrUndefined(this.listeners[u4V]))return!e3x.O8C;for(var q4V=e3x.F8C;q4V<this.listeners[u4V].length;q4V++)if(this.areListenersEqual(this.listeners[u4V][q4V],z4V))return!e3x.F8C;return!e3x.O8C;};X4V.prototype.addEventListener=function(N4V,x4V,K4V){var D4V={type:N4V,handler:x4V,useCapture:K4V};this.hasEventListener(N4V,D4V)||(W4V.nullOrUndefined(this.listeners[N4V])&&(this.listeners[N4V]=[]),this.listeners[N4V].push(D4V),this.target.addEventListener(N4V,x4V,K4V));};X4V.prototype.removeEventListener=function(s4V,O4V,M4V){O4V={type:s4V,handler:O4V,useCapture:M4V};for(s4V in this.listeners){for(var b4V=[],F4V=U9VV.F8C;F4V<this.listeners[s4V].length;F4V++)this.areListenersEqual(this.listeners[s4V][F4V],O4V)?v9VV.k5C===typeof M4V?this.target.removeEventListener(s4V,this.listeners[s4V][F4V].handler,M4V):this.target.removeEventListener(s4V,this.listeners[s4V][F4V].handler):b4V.push(this.listeners[s4V][F4V]);this.listeners[s4V]=b4V;}};X4V.prototype.dispose=function(){for(var j4V in this.listeners)for(var g4V=U9VV.F8C;g4V<this.listeners[j4V].length;g4V++)this.target.removeEventListener(j4V,this.listeners[j4V][g4V].handler,!U9VV.F8C),this.target.removeEventListener(j4V,this.listeners[j4V][g4V].handler,!U9VV.O8C);this.listeners={};};function X4V(){this.listeners={};}return X4V;}(),p4V=function(n4V){__extends(o4V,n4V);o4V.getInstance=function(){U9VV.x4C==o4V.instance&&(o4V.instance=new o4V());return o4V.instance;};function o4V(){return U9VV.x4C!==n4V&&n4V.apply(this,arguments)||this;}Object.defineProperty(o4V.prototype,Q5C,{get:function(){return document;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});return o4V;}(l4V),l4V=function(c4V){__extends(t4V,c4V);t4V.getInstance=function(){U9VV.x4C==t4V.instance&&(t4V.instance=new t4V());return t4V.instance;};function t4V(){return U9VV.x4C!==c4V&&c4V.apply(this,arguments)||this;}Object.defineProperty(t4V.prototype,Q5C,{get:function(){return window;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});return t4V;}(l4V),V4V=function(){L4V.dispose=function(){for(;U9VV.F8C<L4V.timeouts.length;)clearTimeout(L4V.timeouts.pop());for(;U9VV.F8C<L4V.intervals.length;)clearInterval(L4V.intervals.pop());};L4V.timeouts=[];function L4V(){}L4V.intervals=[];return L4V;}();W4V.Timers=V4V;W4V.fmSetTimeout=function(e4V,h4V){var a4V=setTimeout(e4V,h4V);V4V.timeouts.push(a4V);return a4V;};W4V.fmClearTimeout=function(R4V){clearTimeout(R4V);V4V.timeouts.splice(V4V.timeouts.indexOf(R4V),U9VV.O8C);};W4V.fmSetInterval=function(Q4V,k4V){var A4V=setInterval(Q4V,k4V);V4V.intervals.push(A4V);return A4V;};W4V.fmClearInterval=function(f4V){clearInterval(f4V);V4V.intervals.splice(V4V.intervals.indexOf(f4V),U9VV.O8C);};W4V.fmdocument=p4V.getInstance();W4V.fmwindow=l4V.getInstance();}(utils||(utils={})));(function(J4V){var i4V=function(H4V){var f5C="onresize";__extends(E4V,H4V);function E4V(y4V){var Z4V=H4V.call(this)||this;Z4V._scrollListener=function(){return Z4V.scrollListener();};Z4V._dispatchResize=function(){return Z4V._dispatchResize();};Z4V._target=y4V;Z4V.startListener(Z4V._target.element);return Z4V;}E4V.prototype.resetTriggers=function(d4V){var E3x=U9VV;var S4V=d4V.__resizeTriggers__;d4V=S4V.firstElementChild;var S4V=S4V.lastElementChild,I4V=d4V.firstElementChild;S4V.scrollLeft=S4V.scrollWidth;S4V.scrollTop=S4V.scrollHeight;I4V.style.width=d4V.offsetWidth+E3x.O8C+E3x.y4C;I4V.style.height=d4V.offsetHeight+E3x.O8C+E3x.y4C;d4V.scrollLeft=d4V.scrollWidth;d4V.scrollTop=d4V.scrollHeight;};E4V.prototype.checkTriggers=function(T4V){return T4V.offsetWidth!=T4V.__resizeLast__.width||T4V.offsetHeight!=T4V.__resizeLast__.height;};E4V.prototype.scrollListener=function(){var w4V=this;if(U9VV.x4C!=this._target){var m4V=this._target.element;this.resetTriggers(m4V);m4V.__resizeRAF__&&this._target.cancelAnimationFrame(m4V.__resizeRAF__);m4V.__resizeRAF__=this._target.requestAnimationFrame(function(){w4V.checkTriggers(m4V)&&(m4V.__resizeLast__.width=m4V.offsetWidth,m4V.__resizeLast__.height=m4V.offsetHeight,w4V.dispatchResize());});}};E4V.prototype.dispatchResize=function(){this.dispatchWith(events._Event.RESIZE);};E4V.prototype.startListener=function(r4V){var H5C='<div class="wdr-expand-trigger"><div></div></div><div class="wdr-contract-trigger"></div>';var E5C="wdr-resize-triggers";var i5C="static";r4V.attachEvent?r4V.attachEvent(f5C,this._dispatchResize):r4V.__resizeTriggers__||(i5C==getComputedStyle(r4V).position&&(r4V.style.position=v9VV.J5C),r4V.__resizeLast__={},r4V.__resizeListeners__=[],r4V.__resizeTriggers__=document.createElement(U9VV.r4C),r4V.__resizeTriggers__.className=E5C,r4V.__resizeTriggers__.innerHTML=H5C,r4V.appendChild(r4V.__resizeTriggers__),this.resetTriggers(r4V),r4V.addEventListener(v9VV.V6C,this._scrollListener,!U9VV.F8C));};E4V.prototype.stopListener=function(C4V){C4V.detachEvent?C4V.detachEvent(f5C,this._dispatchResize):(C4V.removeEventListener(v9VV.V6C,this._scrollListener),C4V.__resizeTriggers__=!C4V.removeChild(C4V.__resizeTriggers__));};E4V.prototype.dispose=function(){this._target&&this._target.element&&this.stopListener(this._target.element);this._dispatchResize=this._scrollListener=this._target=U9VV.x4C;};return E4V;}(events.EventDispatcher);J4V.ResizeListener=i4V;}(utils||(utils={})));(function(U2V){var P4V=function(){var l4C=3600;v2V.isHttpURL=function(G2V){var y5C="https://";var Z5C="http://";return U9VV.x4C!=G2V&&(U9VV.F8C==G2V.indexOf(Z5C)||U9VV.F8C==G2V.indexOf(y5C));};v2V.isBlobURL=function(W2V){var d5C="blob:http";return U9VV.x4C!=W2V&&U9VV.F8C==W2V.indexOf(d5C);};function v2V(){}v2V.getUrl=function(V2V,p2V){var w3x=v9VV;var m3x=U9VV;var T5C="..";void m3x.F8C===p2V&&(p2V=!m3x.O8C);if(!V2V)return w3x.S5C;V2V=V2V.trim();if(m3x.F8C==V2V.length)return w3x.S5C;if(v2V.isBlobURL(V2V))return V2V;if(p2V){var l2V=-m3x.O8C<V2V.indexOf(w3x.I5C)?w3x.R6C:w3x.I5C;V2V+=l2V+Math.round(Date.now()/l4C);}if(v2V.isHttpURL(V2V)||m3x.F8C==V2V.indexOf(w3x.A6C)||w3x.l5C==V2V.substr(m3x.F8C,m3x.O8C))return V2V;if(-m3x.O8C!=V2V.indexOf(T5C)){for(l2V=V2V.split(w3x.l5C);T5C==l2V[m3x.F8C];)m3x.F8C<l2V.length&&l2V.shift();V2V=w3x.l5C+l2V.join(w3x.l5C);w3x.l5C==V2V.substr(m3x.F8C,m3x.O8C)&&(V2V=V2V.substring(m3x.O8C));}return V2V;};v2V.addTimestamp=function(X2V){var B2V=-U9VV.O8C<X2V.indexOf(v9VV.I5C)?v9VV.R6C:v9VV.I5C;return X2V+=B2V+Math.round(Date.now()/l4C);};return v2V;}();U2V.URLUtils=P4V;}(utils||(utils={})));(function(q2V){var Y2V=function(){var b7C="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December";var M7C="Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday";var m5C="UTC:";u2V.isUTCFormat=function(z2V){return m5C==z2V.slice(U9VV.F8C,U9VV.j8C);};u2V.format=function(D2V,b2V){var U6x=U9VV;var F7C="rd";var s7C="nd";var K7C="st";var x7C="th";var N7C="UTC";var z7C="PM";var u7C="AM";var q7C="P";var Y7C="A";var B7C="pm";var X7C="am";var p7C="p";var l7C="Milliseconds";var V7C="Seconds";var W7C="Minutes";var G7C="Hours";var v7C="FullYear";var C5C="Date";var r5C="get";var w5C="getUTC";var F2V=!U6x.O8C;m5C==b2V.slice(U6x.F8C,U6x.j8C)&&(b2V=b2V.slice(U6x.j8C),F2V=!U6x.F8C);var N2V=F2V?w5C:r5C,x2V=D2V[N2V+C5C](),O2V=D2V[N2V+v9VV.P5C](),s2V=D2V[N2V+v9VV.U7C](),M2V=D2V[N2V+v7C](),K2V=D2V[N2V+G7C](),g2V=D2V[N2V+W7C](),o2V=D2V[N2V+V7C](),N2V=D2V[N2V+l7C](),j2V=F2V?U6x.F8C:D2V.getTimezoneOffset(),n2V={d:x2V,dd:u2V.pad(x2V),ddd:u2V.i18n.dayNames[O2V],dddd:u2V.i18n.dayNames[O2V+U6x.n8C],D:x2V,DD:u2V.pad(x2V),DDD:u2V.i18n.dayNames[O2V],DDDD:u2V.i18n.dayNames[O2V+U6x.n8C],M:s2V+U6x.O8C,MM:u2V.pad(s2V+U6x.O8C),MMM:u2V.i18n.monthNames[s2V],MMMM:u2V.i18n.monthNames[s2V+U6x.e8C],yy:String(M2V).slice(U6x.M8C),yyyy:M2V,YY:String(M2V).slice(U6x.M8C),YYYY:M2V,h:K2V%U6x.e8C||U6x.e8C,hh:u2V.pad(K2V%U6x.e8C||U6x.e8C),H:K2V,HH:u2V.pad(K2V),m:g2V,mm:u2V.pad(g2V),s:o2V,ss:u2V.pad(o2V),l:u2V.pad(N2V,U6x.b8C),L:u2V.pad(U6x.g0C<N2V?Math.round(N2V/U6x.L8C):N2V),t:U6x.e8C>K2V?U6x.J2C:p7C,tt:U6x.e8C>K2V?X7C:B7C,T:U6x.e8C>K2V?Y7C:q7C,TT:U6x.e8C>K2V?u7C:z7C,Z:F2V?N7C:(String(D2V).match(u2V.timezone)||[U6x.C4C]).pop().replace(u2V.timezoneClip,U6x.C4C),o:(U6x.F8C<j2V?U6x.L2C:v9VV.D7C)+u2V.pad(U6x.o0C*Math.floor(Math.abs(j2V)/U6x.Y0C)+Math.abs(j2V)%U6x.Y0C,U6x.j8C),S:[x7C,K7C,s7C,F7C][U6x.b8C<x2V%U6x.L8C?U6x.F8C:(U6x.L8C!=x2V%U6x.o0C-x2V%U6x.L8C?U6x.O8C:U6x.F8C)*x2V%U6x.L8C]};return b2V.replace(u2V.token,function(t2V){return t2V in n2V?n2V[t2V]:t2V.slice(U6x.O8C,t2V.length-U6x.O8C);});};function u2V(){}u2V.pad=function(a2V,L2V){var c2V=U9VV.C4C+a2V;for(L2V=L2V||U9VV.M8C;c2V.length<L2V;)c2V=v9VV.O7C+c2V;return c2V;};u2V.setDayNames=function(e2V,h2V){u2V.i18n.dayNames=h2V.concat(e2V);};u2V.setMonthNames=function(R2V,A2V){u2V.i18n.monthNames=A2V.concat(R2V);};u2V.token=/d{1,4}|D{1,4}|m{1,4}|M{1,4}|yy(?:yy)?|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;u2V.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;u2V.timezoneClip=/[^-+\dA-Z]/g;u2V.i18n={dayNames:M7C.split(U9VV.s4C),monthNames:b7C.split(U9VV.s4C)};return u2V;}();q2V.DateFormat=Y2V;}(utils||(utils={})));(function(Q2V){var f2V=function(){var I7C="&#x2F;";var d7C="&quot;";var y7C="&gt;";var Z7C="&lt;";var H7C="&amp;";E2V.toBoolean=function(H2V){return void U9VV.F8C!==H2V&&U9VV.x4C!==H2V&&(v9VV.j7C==H2V.toLowerCase()||U9VV.k2C==H2V.toLowerCase());};E2V.generateID=function(){var p6x=U9VV;var G4C=2012;var Z2V=new Date().getTime()-new Date(G4C,p6x.M8C,p6x.t8C).getTime();if(E2V.lastGeneratedID==Z2V)return Z2V.toString(p6x.r8C)+(E2V.lastGeneratedIDSuffix++).toString();E2V.lastGeneratedID=Z2V;E2V.lastGeneratedIDSuffix=p6x.F8C;return Z2V.toString(p6x.r8C);};E2V.bind=function(d2V){var X6x=U9VV;var n7C="gi";var o7C="\\}";var g7C="\\{";for(var S2V=[],y2V=X6x.O8C;y2V<arguments.length;y2V++)S2V[y2V-X6x.O8C]=arguments[y2V];if(Q2V.nullOrUndefined(d2V))return d2V;for(y2V=X6x.F8C;y2V<S2V.length;y2V++)d2V=d2V.replace(RegExp(g7C+y2V+o7C,n7C),X6x.x4C==S2V[y2V]?X6x.C4C:S2V[y2V].toString());return d2V;};E2V.concat=function(I2V,w2V){var B6x=U9VV;var y0C=256;if(B6x.F8C==I2V.length)return w2V;var r2V=B6x.F8C<I2V.length?I2V.charCodeAt(I2V.length-B6x.O8C):-B6x.O8C,T2V=B6x.F8C<I2V.length?I2V.charCodeAt(I2V.length-B6x.M8C):-B6x.O8C,m2V=B6x.C4C;if(-B6x.O8C!=T2V&&B6x.c0C<T2V&&y0C>T2V&&!(B6x.a0C<T2V&&B6x.f0C>T2V))return m2V=w2V.charCodeAt(B6x.F8C),m2V=String.fromCharCode((T2V&B6x.A8C)<<B6x.e8C|(r2V&B6x.z0C)<<B6x.o8C|m2V&B6x.z0C),I2V.substr(B6x.F8C,I2V.length-B6x.M8C)+m2V+w2V.substr(B6x.O8C);if(!(B6x.c0C>r2V||y0C<r2V)){if(B6x.a0C<r2V&&B6x.f0C>r2V)return T2V=w2V.charCodeAt(B6x.F8C),m2V=String.fromCharCode((r2V&B6x.T8C)<<B6x.o8C|T2V&B6x.z0C),I2V.substr(B6x.F8C,I2V.length-B6x.O8C)+m2V+w2V.substr(B6x.O8C);if(y0C>r2V)return T2V=w2V.charCodeAt(B6x.F8C),m2V=w2V.charCodeAt(B6x.O8C),m2V=String.fromCharCode((r2V&B6x.A8C)<<B6x.e8C|(T2V&B6x.z0C)<<B6x.o8C|m2V&B6x.z0C),I2V.substr(B6x.F8C,I2V.length-B6x.O8C)+m2V+w2V.substr(B6x.M8C);}return I2V+w2V;};E2V.toTime=function(C2V){var q6x=v9VV;var Y6x=U9VV;var c7C="d ";if(isNaN(C2V))return pivot.model._labels.Labels.INVALID_DATE;var U3V=Y6x.C4C,v3V=Y6x.F8C>C2V;Y6x.F8C>C2V&&(C2V*=-Y6x.O8C);C2V=Math.round(C2V);var P2V=C2V%Y6x.Y0C,U3V=Y6x.L8C>P2V?q6x.O7C+P2V:P2V.toString();C2V=(C2V-P2V)/Y6x.Y0C;P2V=C2V%Y6x.Y0C;U3V=(Y6x.L8C>P2V?q6x.O7C+P2V:P2V.toString())+q6x.t7C+U3V;C2V=(C2V-P2V)/Y6x.Y0C;P2V=C2V%Y6x.Z8C;U3V=(Y6x.L8C>P2V?q6x.O7C+P2V:P2V.toString())+q6x.t7C+U3V;C2V=(C2V-P2V)/Y6x.Z8C;Y6x.F8C<C2V&&(U3V=C2V.toString()+c7C+U3V);v3V&&(U3V=Y6x.L2C+U3V);return U3V;};E2V.toDate=function(G3V,W3V){void U9VV.F8C===W3V&&(W3V=v9VV.L7C);if(isNaN(G3V)||U9VV.F8C==G3V)return pivot.model._labels.Labels.INVALID_DATE;var V3V=new Date(G3V);return isNaN(V3V.getTime())?U9VV.C4C:Q2V.DateFormat.format(V3V,W3V);};E2V.toDateTime=function(p3V,l3V){void U9VV.F8C===l3V&&(l3V=v9VV.a7C);return E2V.toDate(p3V,l3V);};E2V.isDate=function(X3V){var e7C=/\d+/;return this.matchesISODate(X3V)&&!isNaN(Date.parse(X3V))&&(U9VV.O8C<X3V.match(e7C).length||U9VV.O8C==X3V.match(e7C).length&&new Date(Date.parse(X3V)).toDateString()!=new Date(Date.parse(X3V.match(e7C)[U9VV.F8C])).toDateString());};E2V.matchesISODate=function(B3V){return Q2V.detectBrowser().isChrome&&!B3V.match(v9VV.h7C)?!U9VV.O8C:!U9VV.F8C;};E2V.fromRgbToHex=function(Y3V){var F6x=U9VV;var A7C="transparent";var Z0C=255;if(k2V(Y3V))return F6x.F8C;if(v9VV.R7C===Y3V.substr(F6x.F8C,F6x.O8C))return parseInt(Y3V.substr(F6x.O8C),F6x.Q8C);A7C==Y3V&&(Y3V=v9VV.Q7C);Y3V=Y3V.replace(/[^\d,]/g,F6x.C4C);Y3V=Y3V.split(v9VV.k6C);var q3V=parseInt(Y3V[F6x.F8C]),u3V=parseInt(Y3V[F6x.O8C]),z3V=parseInt(Y3V[F6x.M8C]);F6x.F8C===parseInt(Y3V[F6x.b8C])&&(q3V=u3V=z3V=Z0C);return z3V|u3V<<F6x.t8C|q3V<<F6x.Q8C;};E2V.strToUint8Arr=function(D3V){for(var x3V=new Uint8Array(D3V.length),N3V=U9VV.F8C,K3V=D3V.length;N3V<K3V;++N3V)x3V[N3V]=D3V.charCodeAt(N3V);return x3V;};E2V.strToUint8ArrExtended=function(O3V){for(var s3V=new pivot.DataStream(new ArrayBuffer(O3V.length)),F3V=U9VV.F8C,M3V=O3V.length;F3V<M3V;++F3V)s3V.writeString(O3V.charAt(F3V));s3V.seek(U9VV.F8C);return s3V.readUint8Array(s3V.byteLength);};E2V.dataURItoUint8Arr=function(b3V){var j6x=U9VV;var k7C="base64";b3V=-j6x.O8C!==b3V.split(v9VV.k6C)[j6x.F8C].indexOf(k7C)?atob(b3V.split(v9VV.k6C)[j6x.O8C]):decodeURI(b3V.split(v9VV.k6C)[j6x.O8C]);return E2V.strToUint8Arr(b3V);};E2V.decode2=function(g3V){var o6x=U9VV;var o3V,j3V,c3V,n3V,t3V,L3V;o3V=o6x.C4C;c3V=g3V.length;for(j3V=o6x.F8C;j3V<c3V;)switch(n3V=g3V[j3V++],n3V>>o6x.j8C){case o6x.F8C:case o6x.O8C:case o6x.M8C:case o6x.b8C:case o6x.j8C:case o6x.g8C:case o6x.o8C:case o6x.n8C:o3V+=String.fromCharCode(n3V);break;case o6x.e8C:case o6x.h8C:t3V=g3V[j3V++];o3V+=String.fromCharCode((n3V&o6x.T8C)<<o6x.o8C|t3V&o6x.z0C);break;case o6x.R8C:t3V=g3V[j3V++],L3V=g3V[j3V++],o3V+=String.fromCharCode((n3V&o6x.A8C)<<o6x.e8C|(t3V&o6x.z0C)<<o6x.o8C|(L3V&o6x.z0C)<<o6x.F8C);}return o3V;};E2V.decode=function(h3V){for(var e3V=U9VV.C4C,a3V=U9VV.F8C;a3V<h3V.length;a3V++)e3V+=String.fromCharCode(h3V[a3V]);return decodeURIComponent(escape(e3V));};function E2V(){}E2V.contains=function(R3V,A3V){return-U9VV.O8C<R3V.toLowerCase().indexOf(A3V);};E2V.parseBool=function(Q3V){var c6x=U9VV;c6x.K2C==typeof Q3V&&(Q3V=String(Q3V).toLowerCase());return v9VV.j7C===Q3V||c6x.k2C===Q3V||c6x.O8C===Q3V||!c6x.F8C===Q3V;};E2V.toNumber=function(k3V){var a6x=U9VV;if(a6x.x4C==k3V)return NaN;if(a6x.x2C===typeof k3V)return k3V;a6x.K2C!==typeof k3V&&(k3V=k3V.toString());v9VV.k6C==pivot.model.format.FormatManager.getFormat(a6x.C4C).thousandsSeparator&&(k3V=k3V.replace(/,/gi,a6x.C4C));k3V=k3V.replace(v9VV.k6C,v9VV.f7C);k3V=k3V.replace(/[^[,|\.|\-|\d|e]]*/gi,a6x.C4C);return parseFloat(k3V);};E2V.trim=function(f3V,E3V){var h6x=U9VV;void h6x.F8C===E3V&&(E3V=h6x.x4C);if(h6x.x4C==f3V)return h6x.C4C;for(var i3V=h6x.F8C;E2V.isWhitespace(f3V.charAt(i3V),E3V);)++i3V;for(var J3V=f3V.length-h6x.O8C;E2V.isWhitespace(f3V.charAt(J3V),E3V);)--J3V;return J3V>=i3V?f3V.slice(i3V,J3V+h6x.O8C):h6x.C4C;};E2V.trimLeft=function(Z3V,y3V){var R6x=U9VV;void R6x.F8C===y3V&&(y3V=R6x.x4C);if(R6x.x4C==Z3V)return R6x.C4C;for(var H3V=R6x.F8C;E2V.isWhitespace(Z3V.charAt(H3V),y3V);)++H3V;var d3V=Z3V.length-R6x.O8C;return d3V>=H3V?Z3V.slice(H3V,d3V+R6x.O8C):R6x.C4C;};E2V.isWhitespace=function(I3V,S3V){var A6x=U9VV;var E7C="\f";void A6x.F8C===S3V&&(S3V=A6x.x4C);if(A6x.x4C!=S3V&&I3V==S3V)return!A6x.O8C;switch(I3V){case A6x.s4C:case v9VV.i7C:case v9VV.J7C:case v9VV.m6C:case E7C:return!A6x.F8C;}return!A6x.O8C;};E2V.isEntity=function(m3V){for(var T3V in E2V.entityMap)if(E2V.entityMap[T3V]==m3V)return!U9VV.F8C;return!U9VV.O8C;};E2V.escapeHtml=function(r3V,w3V){void U9VV.F8C===w3V&&(w3V=!U9VV.O8C);return w3V?r3V.replace(/[<>"'\/]/g,function(C3V){return E2V.entityMap[C3V];}):r3V.replace(/[&<>"'\/]/g,function(P3V){return E2V.entityMap[P3V];});};E2V.lastGeneratedIDSuffix=U9VV.F8C;E2V.entityMap={"&":H7C,"<":Z7C,">":y7C,'"':d7C,"'":v9VV.S7C,"/":I7C};return E2V;}();Q2V.StringUtils=f2V;Q2V.nullOrUndefined=k2V;Q2V.nullOrEmpty=function(U6V){var V0x=U9VV;if(k2V(U6V)||V0x.K2C!=typeof U6V||V0x.F8C==U6V.trim().length)return!V0x.F8C;U6V=U6V.trim();for(var v6V=V0x.F8C;v6V<U6V.length;v6V++)if(V0x.F8C!=U6V.charCodeAt(v6V))return!V0x.O8C;return!V0x.F8C;};Q2V.strEncode=function(G6V){var T7C="{%7C}";return G6V.replace(/\|/g,T7C);};function k2V(){var l0x=U9VV;for(var J2V=[],i2V=l0x.F8C;i2V<arguments.length;i2V++)J2V[i2V]=arguments[i2V];for(i2V=l0x.F8C;i2V<J2V.length;i2V++)if(l0x.Q2C===typeof J2V[i2V]||l0x.x4C===J2V[i2V])return!l0x.F8C;return!l0x.O8C;}Q2V.strDecode=function(W6V){return W6V.replace(/{%7C}/g,v9VV.m7C);};}(utils||(utils={})));(function(l6V){var V6V=function(){var X0x=U9VV;p6V.sortOn=function(X6V,Y6V,B6V,z6V){B6V>>=X0x.O8C;var q6V=X0x.O8C==B6V%X0x.M8C;B6V=B6V>>X0x.O8C>>X0x.O8C;var u6V=X0x.O8C==B6V%X0x.M8C;B6V>>=X0x.O8C;B6V=X0x.O8C==B6V%X0x.M8C;if(u6V)return X6V=p6V.sortIndices(X6V,Y6V,z6V),q6V&&X6V.reverse(),X6V;B6V?p6V.sortNumeric(X6V,Y6V):X0x.C4C==Y6V?X6V.sort():X6V.sort(function(N6V,D6V){return N6V[Y6V]==D6V[Y6V]?X0x.F8C:N6V[Y6V]>D6V[Y6V]?X0x.O8C:-X0x.O8C;});q6V&&X6V.reverse();return X6V;};p6V.sort=function(K6V,x6V,s6V){void X0x.F8C===x6V&&(x6V=X0x.F8C);return p6V.sortOn(K6V,X0x.C4C,x6V,s6V);};p6V.sortNumeric=function(O6V,F6V){X0x.C4C==F6V?O6V.sort(function(M6V,b6V){return isNaN(M6V)?X0x.O8C:isNaN(b6V)?-X0x.O8C:M6V-b6V;}):O6V.sort(function(j6V,g6V){return isNaN(j6V[F6V])?X0x.O8C:isNaN(g6V[F6V])?-X0x.O8C:j6V[F6V]-g6V[F6V];});};p6V.sortIndices=function(t6V,n6V,c6V){var o6V=[],L6V;for(L6V in t6V)o6V.push([t6V[L6V],parseInt(L6V)]);X0x.C4C==n6V?c6V?o6V.sort(function(e6V,h6V){return c6V(e6V[X0x.F8C],h6V[X0x.F8C]);}):o6V.sort(function(R6V,A6V){return R6V[X0x.F8C]==A6V[X0x.F8C]?X0x.F8C:R6V[X0x.F8C]>A6V[X0x.F8C]?X0x.O8C:-X0x.O8C;}):c6V?o6V.sort(function(Q6V,k6V){return c6V(Q6V[X0x.F8C][n6V],k6V[X0x.F8C][n6V]);}):o6V.sort(function(f6V,i6V){return f6V[X0x.F8C][n6V]==i6V[X0x.F8C][n6V]?X0x.F8C:f6V[X0x.F8C][n6V]>i6V[X0x.F8C][n6V]?X0x.O8C:-X0x.O8C;});t6V=[];for(var a6V in o6V)t6V.push(o6V[a6V][X0x.O8C]);return t6V;};p6V.find=function(H6V,Z6V,E6V){void X0x.F8C===E6V&&(E6V=X0x.x4C);for(var J6V=H6V.length-X0x.O8C;-X0x.O8C<J6V;J6V--)if(X0x.x4C===E6V&&H6V[J6V]===Z6V||X0x.x4C!==E6V&&H6V[J6V][E6V]===Z6V)return H6V[J6V];return X0x.x4C;};p6V.findIndex=function(S6V,I6V,d6V){void X0x.F8C===d6V&&(d6V=X0x.x4C);for(var y6V=S6V.length-X0x.O8C;-X0x.O8C<y6V;y6V--)if(X0x.x4C===d6V&&S6V[y6V]===I6V||X0x.x4C!==d6V&&S6V[y6V][d6V]===I6V)return y6V;return-X0x.O8C;};p6V.insert=function(w6V,m6V,r6V){for(var T6V=X0x.F8C;T6V<m6V.length;T6V++)w6V.splice(r6V+T6V,X0x.F8C,m6V[T6V]);};p6V.CASEINSENSITIVE=X0x.O8C;p6V.DESCENDING=X0x.M8C;p6V.UNIQUESORT=X0x.j8C;p6V.RETURNINDEXEDARRAY=X0x.t8C;p6V.NUMERIC=X0x.Q8C;function p6V(){}return p6V;}();l6V.ArrayUtils=V6V;}(utils||(utils={})));(function(C6V){var P6V=function(){U5V.prototype.addItem=function(v5V,G5V){void U9VV.F8C===this.values[v5V]&&this.keys.push(v5V);this.values[v5V]=G5V;};function U5V(){this.values={};this.keys=[];}U5V.prototype.addUniqueItem=function(W5V,V5V){this.keys.push(W5V);this.values[W5V]=V5V;};U5V.prototype.unshift=function(l5V,p5V){this.keys.unshift(l5V);this.values[l5V]=p5V;};U5V.prototype.setItemAt=function(X5V,B5V,Y5V){this.keys[Y5V]=X5V;this.values[X5V]=B5V;};U5V.prototype.addItemAt=function(q5V,u5V,z5V){U9VV.x4C!=this.getItem(q5V)&&this.removeItem(q5V);this.keys.splice(z5V,U9VV.F8C,q5V);this.values[q5V]=u5V;};U5V.prototype.removeItem=function(N5V){U9VV.x4C!=this.getItem(N5V)&&(this.keys.splice(this.indexOf(N5V),U9VV.O8C),delete this.values[N5V]);};U5V.prototype.removeItemAt=function(x5V){var D5V=this.getKeyAt(x5V);U9VV.x4C!=D5V&&(this.keys.splice(x5V,U9VV.O8C),delete this.values[D5V]);};Object.defineProperty(U5V.prototype,v9VV.H6C,{get:function(){return this.keys.length;},set:function(K5V){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});U5V.prototype.indexOf=function(s5V){return this.keys.indexOf(s5V);};U5V.prototype.keyExists=function(F5V){return U9VV.x4C!=this.values[F5V];};U5V.prototype.getItem=function(O5V){return this.values[O5V];};U5V.prototype.getItemAt=function(M5V){return this.getItem(this.keys[M5V]);};U5V.prototype.getKeyAt=function(b5V){return this.keys[b5V];};U5V.prototype.moveItemAt=function(j5V,g5V){this.keys.splice(g5V,U9VV.F8C,this.keys.splice(j5V,U9VV.O8C)[U9VV.F8C]);};U5V.prototype.slice=function(o5V,t5V){var S6x=U9VV;void S6x.F8C===o5V&&(o5V=S6x.F8C);void S6x.F8C===t5V&&(t5V=S6x.F8C);S6x.F8C==t5V&&(t5V=this.length-o5V);for(var c5V=new U5V(),n5V=S6x.F8C;n5V<t5V;n5V++)this.length>n5V+o5V&&(C6V.nullOrUndefined(this.getItemAt(n5V+o5V))||c5V.addItem(this.getKeyAt(n5V+o5V),this.getItemAt(n5V+o5V)));return c5V;};U5V.prototype.concat=function(a5V,h5V){var I6x=U9VV;void I6x.F8C===h5V&&(h5V=!I6x.F8C);if(!h5V)return this._concat(a5V),I6x.x4C;var L5V,e5V=new U5V();for(L5V=I6x.F8C;L5V<this.length;L5V++)e5V.addItem(this.getKeyAt(L5V),this.getItemAt(L5V));for(L5V=I6x.F8C;L5V<a5V.length;L5V++)e5V.addItem(a5V.getKeyAt(L5V),a5V.getItemAt(L5V));return e5V;};U5V.prototype._concat=function(A5V){var R5V,Q5V=A5V.length;for(R5V=U9VV.F8C;R5V<Q5V;R5V++)this.addItem(A5V.getKeyAt(R5V),A5V.getItemAt(R5V));};U5V.prototype.splice=function(i5V,k5V){var m6x=U9VV;void m6x.F8C===k5V&&(k5V=m6x.F8C);var J5V=new U5V();i5V+k5V>this.length&&(k5V=this.length-i5V);m6x.O8C>k5V&&(k5V=this.length);for(var f5V=m6x.F8C;f5V<this.length;f5V++)(f5V<i5V||f5V>=i5V+k5V)&&J5V.addItem(this.getKeyAt(f5V),this.getItemAt(f5V));return J5V;};U5V.prototype.reverse=function(){var E5V,H5V=new U5V();for(E5V=this.length-U9VV.O8C;-U9VV.O8C<E5V;E5V--)H5V.addItem(this.getKeyAt(E5V),this.getItemAt(E5V));return H5V;};U5V.prototype.toArray=function(Z5V){var r6x=U9VV;void r6x.F8C===Z5V&&(Z5V=!r6x.O8C);if(Z5V)return this.keys.slice(r6x.F8C);Z5V=[];for(var y5V=r6x.F8C;y5V<this.length;y5V++)Z5V.push(this.getItemAt(y5V));return Z5V;};U5V.prototype.toKeyArray=function(d5V){var C6x=U9VV;void C6x.F8C===d5V&&(d5V=!C6x.O8C);if(d5V)return this.keys.slice(C6x.F8C);d5V=[];for(var S5V=C6x.F8C;S5V<this.length;S5V++)d5V.push(this.getKeyAt(S5V));return d5V;};U5V.fromArray=function(m5V){for(var T5V=new U5V(),I5V=U9VV.F8C;I5V<m5V.length;I5V++)T5V.addItem(I5V.toString(),m5V[I5V]);return T5V;};U5V.convert=function(r5V,P5V){for(var C5V=new U5V(),w5V=U9VV.F8C;w5V<r5V.length;w5V++)C5V.addItem(r5V[w5V][P5V],r5V[w5V]);return C5V;};U5V.prototype.toString=function(){var r7C=": ";var U7V=[],v7V;for(v7V in this.keys){var G7V=v9VV.w7C+v7V+r7C+this.getItem(v7V)+v9VV.C7C;U7V.push(G7V);}return U7V.join(v9VV.P7C);};return U5V;}();C6V.AssociativeArray=P6V;}(utils||(utils={})));(function(V7V){var W7V=function(){var s9Q="$";var l9Q="@";l7V.prototype.parse=function(p7V){var W5x=v9VV;var G5x=U9VV;var x9Q="updatePercent()";var D9Q="updateDifference()";var N9Q="value()";var u9Q="sum(@";var q9Q="if(";var Y9Q="#updatePercent";var B9Q="#updateDifference";var X9Q="#value";var p9Q=/(\W)[\'|\"][^\'|^\"]*[\'|\"]/i;var V9Q=/(\w\w\w\()[\'|\"][^\'|^\"]*[\'|\"]/i;var G9Q="  ";try{this.quotes=[];for(var x7V=[],N7V=!G5x.O8C,D7V=G5x.C4C,X7V=G5x.F8C;X7V<p7V.length;X7V++){var u7V=p7V.charAt(X7V);W5x.U9Q==u7V||W5x.v9Q==u7V?(N7V&&(this.quotes.push(D7V),x7V.push(u7V),D7V=G5x.C4C),N7V=!N7V):N7V&&(D7V+=u7V);}p7V=G9Q+p7V;for(var B7V,X7V=G5x.F8C;X7V<this.quotes.length;X7V++)if(W5x.W9Q!=this.quotes[X7V].toLowerCase()){var q7V=x7V[X7V]+this.quotes[X7V]+x7V[X7V],Y7V=p7V.substring(G5x.F8C,p7V.indexOf(q7V)+q7V.length+G5x.M8C);B7V=V9Q;if(B7V.test(Y7V))p7V=p7V.replace(q7V,l9Q+X7V);else{B7V=p9Q;var K7V=(-G5x.O8C!=Y7V.indexOf(X9Q)||-G5x.O8C!=Y7V.indexOf(B9Q)||-G5x.O8C!=Y7V.indexOf(Y9Q))&&-G5x.O8C!=Y7V.indexOf(q9Q);B7V.test(Y7V)&&!K7V?p7V=p7V.replace(q7V,u9Q+X7V+W5x.z9Q):(B7V=p9Q,p7V=p7V.replace(q7V,l9Q+X7V));}}B7V=/\#value/g;p7V=p7V.replace(B7V,N9Q);B7V=/\#updateDifference/g;p7V=p7V.replace(B7V,D9Q);B7V=/\#updatePercent/g;p7V=p7V.replace(B7V,x9Q);p7V=p7V.toLocaleLowerCase();var z7V=this._parse(p7V),z7V=z7V[G5x.O8C][G5x.F8C];}catch(s7V){return U9VV.x4C;}return z7V;};l7V.prototype._parse=function(O7V){var l5x=v9VV;var V5x=U9VV;for(var j7V=[],M7V=V5x.C4C,g7V=O7V.length,F7V=V5x.F8C;F7V<O7V.length;F7V++){var b7V=O7V.charAt(F7V);if(l5x.K9Q==b7V)M7V+=s9Q+j7V.length+l5x.F9Q,b7V=this._parse(O7V.slice(F7V+V5x.O8C)),j7V.push(b7V[V5x.O8C]),F7V=F7V+b7V[V5x.F8C]+V5x.O8C;else if(l5x.z9Q==b7V){g7V=F7V;break;}else M7V+=b7V;}O7V=[];M7V=M7V.split(l5x.k6C);for(F7V=V5x.F8C;F7V<M7V.length;F7V++)O7V.push(this._parseOperands(M7V[F7V],j7V));return[g7V,O7V];};l7V.prototype._parseOperands=function(a7V,h7V){var X5x=v9VV;var p5x=U9VV;var b9Q="== != >= <= = > <";var M9Q=" and ";var O9Q=" or ";for(var t7V=[[O9Q,M9Q],b9Q.split(p5x.s4C),[p5x.L2C,X5x.D7C],[X5x.l5C,X5x.j9Q],[X5x.g9Q]],n7V=p5x.F8C;n7V<t7V.length;n7V++){var o7V=Number.MIN_VALUE,L7V=t7V[n7V][p5x.F8C];if(p5x.b8C==n7V){var o7V=a7V.indexOf(t7V[n7V][p5x.F8C]),c7V=a7V.indexOf(t7V[n7V][p5x.O8C]);-p5x.O8C!=o7V&&-p5x.O8C!=c7V?L7V=o7V<c7V?t7V[n7V][p5x.F8C]:t7V[n7V][p5x.O8C]:-p5x.O8C!=o7V?L7V=t7V[n7V][p5x.F8C]:-p5x.O8C!=c7V&&(L7V=t7V[n7V][p5x.O8C]);}else for(c7V=p5x.F8C;c7V<t7V[n7V].length;c7V++){var e7V=a7V.indexOf(t7V[n7V][c7V]);-p5x.O8C!=e7V&&e7V>=o7V&&(L7V=t7V[n7V][c7V],o7V=e7V+L7V.length);}o7V=a7V.split(L7V);p5x.M8C<o7V.length&&(c7V=o7V[o7V.length-p5x.O8C],o7V.pop(),o7V=[o7V.join(L7V),c7V]);if(p5x.M8C==o7V.length)return[L7V.trim(),[this._parseOperands(o7V[p5x.F8C],h7V),this._parseOperands(o7V[p5x.O8C],h7V)],!p5x.F8C];}return this._parseElements(a7V,h7V);};function l7V(){this.quotes=[];}l7V.prototype._parseElements=function(A7V,Q7V){var Y5x=v9VV;var B5x=U9VV;A7V=A7V.trim();if(-B5x.O8C!=A7V.indexOf(s9Q)){var R7V=A7V.split(s9Q),k7V=R7V[B5x.F8C],R7V=parseInt(R7V[B5x.O8C]);if(B5x.F8C<k7V.length){var f7V=B5x.K2C!=typeof Q7V[R7V][B5x.F8C];(Y5x.o9Q==k7V||Y5x.n9Q==k7V)&&B5x.O8C<Q7V[R7V].length&&(f7V=!B5x.F8C,B5x.K2C==typeof Q7V[R7V][B5x.F8C]&&(Q7V[R7V][B5x.F8C]=[Y5x.t9Q,[Q7V[R7V][B5x.F8C]],!B5x.O8C]),B5x.K2C==typeof Q7V[R7V][B5x.O8C]&&(Q7V[R7V][B5x.O8C]=[Y5x.t9Q,[Q7V[R7V][B5x.O8C]],!B5x.O8C]));return[k7V,Q7V[R7V],f7V];}return Q7V[R7V][B5x.F8C];}if(-B5x.O8C!=A7V.indexOf(l9Q))return k7V=parseInt(A7V.slice(B5x.O8C)),this.quotes[k7V];if(Y5x.W9Q==A7V.toLowerCase()||Y5x.W9Q==A7V.substring(B5x.O8C,A7V.length-B5x.O8C).toLowerCase())return Y5x.W9Q;k7V=parseFloat(A7V);return isNaN(k7V)?B5x.F8C:k7V;};return l7V;}();V7V.Lexer=W7V;}(utils||(utils={})));(function(J7V){var i7V=function(){var q0x=U9VV;var A9Q="isAnd";var h9Q="isIOS";var a9Q="isWin";var c9Q="isMac";Object.defineProperty(E7V,c9Q,{get:function(){var L9Q=/Mac/i;return L9Q.test(navigator.platform);},enumerable:!q0x.F8C,configurable:!q0x.F8C});function E7V(){}Object.defineProperty(E7V,a9Q,{get:function(){var e9Q=/Win/i;return e9Q.test(navigator.platform);},enumerable:!q0x.F8C,configurable:!q0x.F8C});Object.defineProperty(E7V,h9Q,{get:function(){var R9Q=/(iPhone|iPod|iPad)/i;return R9Q.test(navigator.platform)||R9Q.test(navigator.userAgent);},enumerable:!q0x.F8C,configurable:!q0x.F8C});Object.defineProperty(E7V,A9Q,{get:function(){var Q9Q=/Android/i;return Q9Q.test(navigator.userAgent);},enumerable:!q0x.F8C,configurable:!q0x.F8C});return E7V;}();J7V.OSUtil=i7V;}(utils||(utils={})));(function(H7V){var Z7V=function(){var k9Q="object";y7V.isEmptyObject=function(d7V){for(var S7V in d7V)if(!H7V.nullOrUndefined(d7V[S7V]))return!U9VV.O8C;return!U9VV.F8C;};function y7V(){}y7V.deepCopy=function(I7V){if(I7V instanceof Array)return y7V.deepCopyArray(I7V);var m7V={},T7V;for(T7V in I7V)m7V[T7V]=k9Q!=typeof I7V[T7V]?I7V[T7V]:y7V.deepCopy(I7V[T7V]);return m7V;};y7V.deepCopyArray=function(r7V){for(var C7V=[],w7V=U9VV.F8C;w7V<r7V.length;w7V++)C7V[w7V]=k9Q!=typeof r7V[w7V]?r7V[w7V]:y7V.deepCopy(r7V[w7V]);return C7V;};return y7V;}();H7V.ObjectUtils=Z7V;}(utils||(utils={})));(function(P7V){var U9n=function(){G9n.dispose=function(){G9n.queue=[];G9n.instance=U9VV.x4C;G9n.runningThread=U9VV.x4C;};G9n.addTask=function(l9n,p9n,W9n,V9n){var D5x=U9VV;void D5x.F8C===W9n&&(W9n=D5x.x4C);void D5x.F8C===V9n&&(V9n=D5x.x4C);G9n.queue.push({taskFunction:l9n,context:p9n,args:W9n,completeCallback:V9n});D5x.x4C==G9n.runningThread&&G9n.run();};G9n.run=function(){G9n.runningThread=new v9n(G9n.queue.shift(),function(){return G9n.onTaskComplete();});G9n.runningThread.run();};G9n.pause=function(){U9VV.x4C!=G9n.runningThread&&G9n.runningThread.stop();};G9n.resume=function(){U9VV.x4C!=G9n.runningThread?G9n.runningThread.run():U9VV.F8C<G9n.queue.length&&G9n.run();};G9n.onTaskComplete=function(){G9n.runningThread=U9VV.x4C;U9VV.F8C<G9n.queue.length&&this.run();};G9n.cancel=function(){U9VV.x4C!=G9n.runningThread&&(G9n.runningThread.stop(),G9n.runningThread=U9VV.x4C);G9n.queue=[];};G9n.isRunning=function(){return U9VV.x4C!=G9n.runningThread;};G9n.adjustTaskSize=function(B9n,X9n){var j5x=U9VV;var i9Q=1.05;var f9Q=0.95;j5x.L8C<B9n-j5x.V0C?X9n=Math.floor(f9Q*X9n):-j5x.L8C>B9n-j5x.V0C&&(X9n=Math.floor(i9Q*X9n));return Math.max(j5x.g8C,X9n);};function G9n(){throw Error(v9VV.D5C);}G9n.queue=[];return G9n;}();P7V.ThreadManager=U9n;var v9n=function(){Y9n.prototype.run=function(){var z9n=this;this.currentTimeout=P7V.fmSetTimeout(function(){return z9n.doTask();},this.delay);};Y9n.prototype.stop=function(){P7V.fmClearTimeout(this.currentTimeout);};function Y9n(u9n,q9n){var A5x=U9VV;void A5x.F8C===q9n&&(q9n=A5x.x4C);this.delay=A5x.O8C;this.isComplete=!A5x.O8C;this.task=u9n;this.completeCallback=q9n;}Y9n.prototype.doTask=function(){var N9n=this;this.isComplete=this.task.taskFunction.call(this.task.context,this.task.args);if(!U9VV.F8C==this.isComplete)this.onComplete();else this.currentTimeout=P7V.fmSetTimeout(function(){return N9n.doTask();},this.delay);};Y9n.prototype.onComplete=function(){U9VV.x4C!=this.completeCallback&&this.completeCallback();U9VV.x4C!=this.task.completeCallback&&this.task.completeCallback();};Y9n.prototype.dispose=function(){this.stop();this.completeCallback=this.task=U9VV.x4C;};return Y9n;}();}(utils||(utils={})));(function(D9n){D9n.browserVersion=function(){return x9n();};D9n.detectBrowser=x9n;D9n.isFullscreen=function(){var u0x=U9VV;return u0x.x4C!=document.fullscreenElement||u0x.x4C!=document.mozFullScreenElement||u0x.x4C!=document.webkitFullscreenElement||u0x.x4C!=document.msFullscreenElement;};D9n.isHTML5Supported=function(){var z0x=U9VV;var H9Q="Version/6.0";var E9Q="Version/5.";var J9Q="Safari/";try{var b9n;if(b9n=void z0x.F8C!==ArrayBuffer){var j9n;if(j9n=void z0x.F8C!==DataView){var g9n;if(g9n=void z0x.F8C!==Uint8Array){var o9n;if(window.chrome&&navigator.userAgent.match(/chrome.\d*/gi)){var n9n=navigator.userAgent.match(/chrome.\d*/gi)[z0x.F8C];o9n=z0x.e8C<=parseInt(n9n.replace(/[^\d]/g,z0x.C4C));}else o9n=!z0x.F8C;g9n=o9n&&(window.opera?z0x.A8C<=window.opera.version():!z0x.F8C)&&(navigator.userAgent.match(J9Q)?!navigator.userAgent.match(E9Q)&&!navigator.userAgent.match(H9Q):!z0x.F8C);}j9n=g9n;}b9n=j9n;}return b9n;}catch(t9n){return!z0x.O8C;}};D9n.getCookie=function(a9n){var D0x=v9VV;var N0x=U9VV;var c9n=document.cookie,L9n=c9n.indexOf(N0x.s4C+a9n+D0x.h6C);-N0x.O8C==L9n&&(L9n=c9n.indexOf(a9n+D0x.h6C));-N0x.O8C==L9n?c9n=N0x.x4C:(L9n=c9n.indexOf(D0x.h6C,L9n)+N0x.O8C,a9n=c9n.indexOf(D0x.F9Q,L9n),-N0x.O8C==a9n&&(a9n=c9n.length),c9n=decodeURI(c9n.substring(L9n,a9n)));return c9n;};D9n.setCookie=function(R9n,h9n){var Z9Q="; expires=";var v4C=1825;var e9n=new Date();e9n.setDate(e9n.getDate()+v4C);h9n=encodeURI(h9n)+Z9Q+e9n.toUTCString();document.cookie=R9n+v9VV.h6C+h9n;};D9n.isLandscapeOrientation=function(){return screen.orientation&&-U9VV.O8C<screen.orientation.type.indexOf(v9VV.y9Q);};function x9n(){var F0x=U9VV;var B1Q=")( |/)([0-9]+)";var X1Q="opera";var p1Q="safari";var l1Q="msie";var V1Q="firefox";var W1Q="chrome";var G1Q=/trident/;var v1Q=/iPad|iPhone|iPod|BlackBerry/i;var U1Q=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i;var P9Q=/msie/;var C9Q=/opera/;var r9Q=/safari/;var w9Q=/applewebkit/;var m9Q=/edge/;var T9Q=/chrome/;var I9Q=/webkit/;var S9Q=/firefox/;var d9Q=/mozilla/;var s9n=navigator.userAgent.toLowerCase(),K9n={};K9n.isFirefox=d9Q.test(s9n)&&S9Q.test(s9n);K9n.isChrome=I9Q.test(s9n)&&T9Q.test(s9n)&&!m9Q.test(s9n);K9n.isEdge=m9Q.test(s9n);K9n.isSafari=w9Q.test(s9n)&&r9Q.test(s9n)&&!T9Q.test(s9n);K9n.isOpera=C9Q.test(s9n);K9n.isMsie=P9Q.test(s9n);K9n.isMobile=U1Q.test(s9n)||v1Q.test(navigator.platform);K9n.version=NaN;K9n.isMsie||K9n.isFirefox||K9n.isChrome||K9n.isSafari||K9n.isOpera||!G1Q.test(s9n)||(K9n.isMsie=!F0x.F8C,K9n.version=F0x.a8C);if(isNaN(K9n.version))for(var O9n=[W1Q,V1Q,l1Q,p1Q,X1Q],F9n=F0x.F8C;F9n<O9n.length;F9n++)try{K9n.version=parseInt(s9n.match(RegExp(v9VV.K9Q+O9n[F9n]+B1Q))[F0x.b8C]);break;}catch(M9n){}return K9n;}D9n.isPortraitOrientation=function(){return screen.orientation&&-U9VV.O8C<screen.orientation.type.indexOf(v9VV.Y1Q);};D9n.viewportWidth=function(){return Math.max(document.documentElement.clientWidth);};D9n.viewportHeight=function(){return Math.max(document.documentElement.clientHeight);};}(utils||(utils={})));(function(A9n){var k9n=function(i9n){var j0x=U9VV;var z1Q="repeatCount";var u1Q="running";var q1Q="currentCount";__extends(f9n,i9n);f9n.prototype.onTimer=function(){this._currentCount++;this.dispatch(new events._Event(Q9n.TIMER));j0x.F8C<this._repeatCount&&this._currentCount>=this._repeatCount&&(this.stop(),this.dispatch(new events._Event(Q9n.TIMER_COMPLETE)));};function f9n(H9n,E9n){void j0x.F8C===E9n&&(E9n=j0x.F8C);var J9n=i9n.call(this)||this;J9n._currentCount=j0x.F8C;J9n._delay=j0x.F8C;J9n._repeatCount=j0x.F8C;J9n._running=!j0x.O8C;J9n._delay=H9n;J9n._repeatCount=E9n;return J9n;}f9n.prototype.start=function(){var Z9n=this;this._running||(this._intervalId=A9n.fmSetInterval(function(){return Z9n.onTimer();},this._delay),this._running=!j0x.F8C);};f9n.prototype.stop=function(){this._running&&!A9n.nullOrUndefined(this._intervalId)&&(A9n.fmClearInterval(this._intervalId),this._running=!j0x.O8C);};f9n.prototype.reset=function(){this._currentCount=j0x.F8C;this.stop();};Object.defineProperty(f9n.prototype,q1Q,{get:function(){return this._currentCount;},set:function(y9n){},enumerable:!j0x.F8C,configurable:!j0x.F8C});Object.defineProperty(f9n.prototype,u1Q,{get:function(){return this._running;},set:function(d9n){},enumerable:!j0x.F8C,configurable:!j0x.F8C});Object.defineProperty(f9n.prototype,z1Q,{get:function(){return this._repeatCount;},set:function(S9n){this._repeatCount=S9n;this._currentCount>=this._repeatCount&&this.stop();},enumerable:!j0x.F8C,configurable:!j0x.F8C});return f9n;}(events.EventDispatcher);A9n.Timer=k9n;var Q9n=function(){var D1Q="complete";var N1Q="timer";I9n.TIMER=N1Q;function I9n(){}I9n.TIMER_COMPLETE=D1Q;return I9n;}();A9n.TimerEvent=Q9n;A9n.getTimer=function(){return U9VV.Q2C!==typeof performance&&v9VV.x1Q===typeof window.performance.now?performance.now():new Date().getTime();};}(utils||(utils={})));(function(T9n){var w9n=function(C9n){var K1Q="isFocused";__extends(r9n,C9n);r9n.getInstance=function(){U9VV.x4C==r9n._instance&&(r9n._instance=new r9n(pivot._view.PivotView.stage.container));return r9n._instance;};Object.defineProperty(r9n.prototype,K1Q,{get:function(){return this._isFocused;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});r9n.prototype.onKeyDown=function(V1n){var W1n=new m9n(m9n.KEY_DOWN);W1n.keyCode=V1n.keyCode;W1n.altKey=V1n.altKey;W1n.ctrlKey=V1n.ctrlKey;W1n.metaKey=V1n.metaKey;W1n.shiftKey=V1n.shiftKey;this.dispatch(W1n);};r9n.prototype.onInputKeyUp=function(l1n){this._inputContainer.hide();this._input.setText(U9VV.C4C);this._input.container.blur();this._input.removeEventListener(U9VV.r2C,this.inputKeyUpHandler);};function r9n(U1n){var H5x=v9VV;var E5x=U9VV;var j1Q="pivot-hiddenInput";var b1Q="0px";var M1Q="fixed";var O1Q="pivot-hiddenInputContainer";var s1Q="KeyboardListener is singleton";var P9n=C9n.call(this)||this;P9n._isFocused=!E5x.O8C;P9n._keydownHandler=function(v1n){return P9n.onKeyDown(v1n);};P9n.inputKeyUpHandler=function(G1n){return P9n.onInputKeyUp(G1n);};if(E5x.x4C!=r9n._instance)throw Error(s1Q);P9n.target=U1n;T9n.browserVersion().isMobile||(T9n.fmdocument.addEventListener(H5x.F1Q,P9n._keydownHandler),P9n._inputContainer=new uicontrols.UIElement(E5x.r4C),P9n._inputContainer.attr(E5x.G2C,O1Q),P9n._inputContainer.css(E5x.F3C,M1Q).css(E5x.M2C,b1Q).css(E5x.b2C,b1Q).css(E5x.E4C,H5x.O7C).css(E5x.s2C,b1Q).css(E5x.O2C,b1Q),P9n._inputContainer.hide(),P9n._input=new uicontrols.UITextArea(),P9n._input.setId(j1Q),P9n._input.container.css(E5x.s2C,H5x.O5C).css(E5x.O2C,H5x.O5C).css(E5x.V2C,b1Q),P9n._input.addEventListener(E5x.X3C,function(){P9n._isFocused=!U9VV.F8C;}),P9n._input.addEventListener(E5x.B3C,function(){P9n._isFocused=!U9VV.O8C;}),P9n._inputContainer.append(P9n._input.container),U1n.append(P9n._inputContainer));return P9n;}r9n.prototype.copy=function(p1n){this._inputContainer.show();this._input.setText(p1n);this._input.container.focus();this._input.selectAll();this._input.container.focus();this._input.addEventListener(U9VV.r2C,this.inputKeyUpHandler);};return r9n;}(events.EventDispatcher);T9n.KeyboardListener=w9n;var m9n=function(B1n){var g1Q="event_keydown";__extends(X1n,B1n);function X1n(Y1n){return B1n.call(this,Y1n)||this;}X1n.KEY_DOWN=g1Q;return X1n;}(events._Event);T9n.KeyboardEvent=m9n;}(utils||(utils={})));(function(q1n){q1n.debug=function(){var t0x=U9VV;for(var z1n=[],u1n=t0x.F8C;u1n<arguments.length;u1n++)z1n[u1n]=arguments[u1n];if(t0x.x4C!=console&&t0x.x4C!=console.log)for(u1n=utils.browserVersion().isFirefox&&utils.browserVersion().isMobile?t0x.F8C:t0x.O8C;u1n<z1n.length;u1n++);};q1n.stackTrace=function(){var O0C=77;var N1n=Error();return N1n&&N1n.stack?N1n.stack.substr(O0C):U9VV.C4C;};}(pivot||(pivot={})));(function(D1n){D1n.uialert=function(b1n,K1n,s1n,F1n,O1n,M1n){var e0x=U9VV;void e0x.F8C===K1n&&(K1n=e0x.C4C);void e0x.F8C===s1n&&(s1n=x1n.ALERT);void e0x.F8C===F1n&&(F1n=e0x.x4C);void e0x.F8C===O1n&&(O1n=e0x.x4C);void e0x.F8C===M1n&&(M1n=!e0x.O8C);D1n._view.AlertView.getInstance().openView(b1n,K1n,s1n,F1n,O1n,M1n);};var x1n=function(){var c1Q="info";var t1Q="error";var n1Q="confirmation";var o1Q="alert";j1n.ALERT=o1Q;function j1n(){}j1n.CONFIRMATION=n1Q;j1n.ERROR=t1Q;j1n.INFO=c1Q;return j1n;}();D1n.AlertType=x1n;}(pivot||(pivot={})));(function(g1n){g1n.preloader=function(o1n,n1n,t1n,c1n,L1n){void U9VV.F8C===o1n&&(o1n=!U9VV.F8C);g1n._view.Preloader.getInstance().show(o1n,n1n,t1n,c1n,L1n);};}(pivot||(pivot={})));(function(a1n){(function(e1n){var h1n=function(A1n){var A1Q="WebDataRocks";var e1Q="(All)";__extends(R1n,A1n);R1n.getInstance=function(){U9VV.x4C==this.instance&&(this.instance=new R1n());return this.instance;};R1n.prototype.init=function(k1n){R1n.id=k1n.id?k1n.id:U9VV.C4C;e1n.JavaScriptHandlers.setHandlers(k1n);e1n._labels.LabelsManager.getInstance().reset();a1n._view.grid.vo.GridCell.customizeCellFunction=k1n.customizeCell;this.state_.init(k1n);};R1n.prototype.open=function(){this.state_.open();};R1n.prototype.load=function(f1n){this.state_.load(f1n);};R1n.prototype.save=function(E1n,i1n,H1n,Z1n,J1n){var i0f=U9VV;void i0f.F8C===i1n&&(i1n=i0f.x4C);void i0f.F8C===J1n&&(J1n=!i0f.O8C);return this.state_.save(E1n,i1n,H1n,Z1n,J1n);};R1n.prototype.setReport=function(y1n){this.state_.setReport(y1n);};R1n.prototype.getReport=function(d1n){void U9VV.F8C===d1n&&(d1n={});return this.state_.getReport(d1n);};R1n.prototype.clear=function(){this.state_.clear();};R1n.prototype.checkDataObject=function(S1n){var I1n={};utils.nullOrUndefined(S1n.dataSourceType)||(I1n.dataSourceType=S1n.dataSourceType);utils.nullOrUndefined(S1n.filename)||(I1n.filename=S1n.filename);utils.nullOrUndefined(S1n.requestHeader)||(I1n.requestHeader=S1n.requestHeader);utils.nullOrUndefined(S1n.fieldSeparator)||(I1n.fieldSeparator=S1n.fieldSeparator);utils.nullOrUndefined(S1n.recordsetDelimiter)||(I1n.recordsetDelimiter=S1n.recordsetDelimiter);utils.nullOrUndefined(S1n.browseForFile)||(I1n.browseForFile=S1n.browseForFile);utils.nullOrUndefined(S1n.data)||(I1n.data=S1n.data);utils.nullOrUndefined(S1n.ignoreQuotedLineBreaks)||(I1n.ignoreQuotedLineBreaks=S1n.ignoreQuotedLineBreaks);utils.nullOrUndefined(S1n.hash)||(I1n.hash=S1n.hash);utils.nullOrUndefined(S1n.username)||(I1n.username=S1n.username);utils.nullOrUndefined(S1n.password)||(I1n.password=S1n.password);return I1n;};R1n.prototype.connectTo=function(T1n){this.state_.connectTo(this.checkDataObject(T1n));};R1n.prototype.updateData=function(w1n,m1n){m1n.partial?this.state_.updateDataPartial(w1n.data,m1n):this.state_.updateData(this.checkDataObject(w1n),m1n);};R1n.prototype.getData=function(r1n,P1n,U8n){if(U9VV.x4C!=U8n)a1n.Pivot.instance.on(v9VV.L1Q,function(){a1n.Pivot.instance.getData(r1n,U8n);});if(U9VV.x4C!=r1n&&U9VV.x4C!=r1n.slice){var C1n=r1n.slice instanceof a1n.data_._structure.Slice?r1n.slice:a1n.data_._structure.Slice.fromObject(e1n.report.SliceValueObject.fromObject(r1n.slice),this.cube_.structure_);e1n.integration.IntegrationDataManager.getInstance().selectData(C1n,P1n);}else C1n=e1n.integration.IntegrationDataManager.getInstance().getData(),P1n(C1n.toObject());};R1n.prototype.getAllConditions=function(){return e1n.condition.ConditionManager.getObjects();};R1n.prototype.getCondition=function(v8n){return(v8n=e1n.condition.ConditionManager.get(v8n))?v8n.toObject():U9VV.x4C;};R1n.prototype.addCondition=function(G8n){e1n.condition.ConditionManager.add(e1n.condition.vo.ConditionValueObject.fromObject(G8n));};R1n.prototype.removeCondition=function(W8n){e1n.condition.ConditionManager.remove(W8n);};R1n.prototype.removeAllConditions=function(){e1n.condition.ConditionManager.removeAll();};R1n.prototype.addCalculatedMeasure=function(V8n){this.cube_.addCalculatedMeasure(V8n);};R1n.prototype.removeCalculatedMeasure=function(l8n){this.cube_.removeCalculatedMeasure(l8n);};R1n.prototype.removeAllCalculatedMeasures=function(){this.cube_.removeAllCalculatedMeasures();};R1n.prototype.expandAllData=function(p8n){void U9VV.F8C===p8n&&(p8n=!U9VV.F8C);this.cube_.slice_.expandAll=!U9VV.F8C;this.cube_.slice_.drillAll=p8n;this.cube_.slice_.clearExpands();this.cube_.slice_.clearDrills();a1n.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};R1n.prototype.expandData=function(X8n){this.dataProvider_.expandData(X8n);};R1n.prototype.collapseAllData=function(){this.cube_.slice_.expandAll=!U9VV.O8C;this.cube_.slice_.drillAll=!U9VV.O8C;this.cube_.slice_.columnAxis.expandedTuples=[];this.cube_.slice_.columnAxis.drilledTuples=[];this.cube_.slice_.rowAxis.expandedTuples=[];this.cube_.slice_.rowAxis.drilledTuples=[];a1n.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};R1n.prototype.collapseData=function(B8n){this.dataProvider_.collapseData(B8n);};R1n.prototype.setOptions=function(Y8n){U9VV.x4C!=Y8n.localSettingsUrl&&delete Y8n.localSettingsUrl;U9VV.x4C!=Y8n.zoom&&delete Y8n.zoom;e1n._options.OptionsManager.setOptions(Y8n,!U9VV.O8C);};R1n.prototype.print=function(q8n){e1n.printing.PrintingManager.getInstance().print(q8n);};R1n.prototype.exportTo=function(N8n,u8n,z8n){var I0f=U9VV;void I0f.F8C===u8n&&(u8n=I0f.x4C);void I0f.F8C===z8n&&(z8n=I0f.x4C);e1n._export.ExportManager.exportTo(N8n,u8n,z8n);};R1n.prototype.getFilter=function(D8n){var T0f=U9VV;if(T0f.x4C==this.cube_||T0f.x4C==this.cube_.structure_)return[];var s8n=[];if((D8n=this.cube_.structure_.allHierarchies(!T0f.O8C).getItem(D8n))&&D8n.hasFilter())for(var F8n=D8n.filter,x8n=T0f.F8C;x8n<F8n.length;x8n++){var K8n=F8n.getItemAt(x8n);s8n.push({caption:K8n.caption,uniqueName:K8n.uniqueName,hierarchyName:D8n.uniqueName,parentMember:K8n.parent.uniqueName});}return s8n;};R1n.prototype.getFilterProperties=function(O8n){var m0f=U9VV;if(m0f.x4C==this.cube_||m0f.x4C==this.cube_.structure_)return[];var M8n={};M8n.type=a1n.data_.consts.FilterType.NONE;M8n.members=[];if((O8n=this.cube_.structure_.allHierarchies(!m0f.O8C).getItem(O8n))&&O8n.hasFilter()){if(O8n.hasMembersFilter()){M8n.type=v9VV.a1Q;for(var g8n=O8n.filterMembers,b8n=m0f.F8C;b8n<g8n.length;b8n++){var j8n=g8n.getItemAt(b8n);M8n.members.push({caption:j8n.caption,uniqueName:j8n.uniqueName,hierarchyName:O8n.uniqueName,parentMember:j8n.parent.uniqueName});}}O8n.hasValuesFilter()&&(M8n.type=O8n.filterType,M8n.quantity=O8n.filterQuantity,M8n.measure=O8n.filterMeasureName,M8n.measureName=O8n.filterMeasureName);}return M8n;};R1n.prototype.setFilter=function(n8n,c8n,t8n){void U9VV.F8C===t8n&&(t8n=!U9VV.O8C);if(n8n=this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(n8n)){var o8n={};o8n.members=c8n;o8n.negation=t8n;a1n.data_._structure.GenericHierarchy.filterFromObject(o8n,n8n);e1n.JavaScriptHandlers.getInstance().dispatch(new e1n.APIEvent(e1n.JavaScriptHandlers.REPORT_CHANGE));this.cube_.filter();}};R1n.prototype.clearFilter=function(L8n){if(L8n=this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(L8n))L8n.clearFilter(),this.cube_.select();};R1n.prototype.getRows=function(){if(U9VV.x4C==this.cube_||U9VV.x4C==this.cube_.slice_)return[];for(var h8n=this.cube_.slice_.rows,R8n=[],e8n=U9VV.F8C;e8n<h8n.length;e8n++){var a8n=h8n.getItemAt(e8n);R8n.push({caption:a8n.caption,uniqueName:a8n.uniqueName,sort:a8n.sortName,folder:a8n.folder});}return R8n;};R1n.prototype.getColumns=function(){if(U9VV.x4C==this.cube_||U9VV.x4C==this.cube_.slice_)return[];for(var k8n=this.cube_.slice_.columns,f8n=[],Q8n=U9VV.F8C;Q8n<k8n.length;Q8n++){var A8n=k8n.getItemAt(Q8n);f8n.push({caption:A8n.caption,uniqueName:A8n.uniqueName,sort:A8n.sortName,folder:A8n.folder});}return f8n;};R1n.prototype.getPages=function(){if(U9VV.x4C==this.cube_||U9VV.x4C==this.cube_.slice_)return[];for(var E8n=this.cube_.slice_.pages,H8n=[],J8n=U9VV.F8C;J8n<E8n.length;J8n++){var i8n=E8n.getItemAt(J8n);H8n.push({caption:i8n.caption,uniqueName:i8n.uniqueName,sort:i8n.sortName,folder:i8n.folder});}return H8n;};R1n.prototype.getMeasures=function(){var l4f=U9VV;if(l4f.x4C==this.cube_||l4f.x4C==this.cube_.slice_)return[];var d8n,Z8n,y8n,I8n=[];if(e1n._options.OptionsManager.flatView){var S8n=this.cube_.slice_.flatten();for(d8n=l4f.F8C;d8n<S8n.length;d8n++)if(Z8n=S8n.getItemAt(d8n),Z8n=this.cube_.structure_.hierarchyToMeasure(Z8n.uniqueName))y8n=a1n.data_._structure.GenericMeasure.toObject(Z8n),y8n.availableAggregations=[],y8n.availableAggregationsCaptions=[],y8n.caption=y8n.grandTotalCaption=Z8n.originalCaption,I8n.push(y8n);}else for(S8n=this.cube_.slice_.measures_,d8n=l4f.F8C;d8n<S8n.length;d8n++){Z8n=S8n.getItemAt(d8n);y8n=a1n.data_._structure.GenericMeasure.toObject(Z8n);var T8n=Z8n.availableAggregations;l4f.F8C!=Z8n.availableAggregations.length||Z8n.calculated||(T8n=a1n.data_.consts.AggregationName.ALL_AGGREGATIONS);y8n.availableAggregations=T8n;y8n.availableAggregationsCaptions=a1n.data_.consts.AggregationName.aggregationCaptions(T8n);I8n.push(y8n);}return I8n;};R1n.prototype.getAllMeasures=function(){var X4f=U9VV;if(X4f.x4C==this.cube_||X4f.x4C==this.cube_.structure_)return[];for(var P8n=this.cube_.structure_.measures_,U0n=[],r8n=X4f.F8C;r8n<P8n.length;r8n++){var w8n=P8n.getItemAt(r8n),m8n=a1n.data_._structure.GenericMeasure.toObject(w8n);if(e1n._options.OptionsManager.flatView)m8n.availableAggregations=[],m8n.availableAggregationsCaptions=[],m8n.caption=m8n.grandTotalCaption=w8n.originalCaption;else{var C8n=w8n.availableAggregations;X4f.F8C!=w8n.availableAggregations.length||w8n.calculated||(C8n=a1n.data_.consts.AggregationName.ALL_AGGREGATIONS);m8n.availableAggregations=C8n;m8n.availableAggregationsCaptions=a1n.data_.consts.AggregationName.aggregationCaptions(C8n);}U0n.push(m8n);}return U0n;};R1n.prototype.replaceHierarchyCaption=function(v0n){this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(v0n.name).label=v0n.caption;};R1n.prototype.getAllHierarchies=function(){var Y4f=U9VV;if(Y4f.x4C==this.cube_||Y4f.x4C==this.cube_.structure_)return[];for(var V0n=this.cube_.structure_.allHierarchies(!Y4f.O8C),l0n=[],G0n=Y4f.F8C;G0n<V0n.length;G0n++){var W0n=V0n.getItemAt(G0n);l0n.push({caption:W0n.caption,uniqueName:W0n.uniqueName,folder:W0n.folder});}return l0n;};function R1n(){var Q1n=A1n.call(this)||this;if(U9VV.x4C!=R1n.instance)throw Error(v9VV.D5C);Q1n.cube_=a1n.data_.Cube.getInstance();Q1n.state_=new e1n._state.StateManager();return Q1n;}R1n.prototype.sortValues=function(p0n,B0n,Y0n,X0n){p0n=this.cube_.slice_.axes.getItem(p0n);if(U9VV.x4C!=p0n){if(X0n=this.cube_.structure_.measures_.getItem(X0n))p0n.sortType=B0n,p0n.sortTuple=Y0n,p0n.sortMeasure=X0n;this.cube_.sort();}};R1n.prototype.setSort=function(D0n,N0n){var q0n=this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(D0n);if(q0n){var u0n=this.cube_.slice_.axes.getItem(a1n.data_.consts.AxisName.COLUMNS_AXIS),z0n=this.cube_.slice_.axes.getItem(a1n.data_.consts.AxisName.ROWS_AXIS);-U9VV.O8C!=u0n.hierarchies.indexOf(q0n.uniqueName)?this.cube_.clearSortValues(z0n):-U9VV.O8C!=z0n.hierarchies.indexOf(q0n.uniqueName)&&this.cube_.clearSortValues(u0n);q0n.sortName=N0n;e1n._options.OptionsManager.flatView&&(this.dataProvider_.columnSortType=N0n,this.dataProvider_.columnSortTuple=this.dataProvider_.getColumnTupleByName(q0n.uniqueName),this.dataProvider_.columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(q0n.uniqueName));}this.cube_.select();};R1n.prototype.getSort=function(x0n){var D4f=U9VV;if(D4f.x4C==this.cube_||D4f.x4C==this.cube_.structure_)return D4f.C4C;x0n=this.cube_.structure_.allHierarchies(!D4f.O8C).getItem(x0n);return D4f.x4C!=x0n?x0n.sortName:D4f.C4C;};R1n.prototype.setTopX=function(K0n,F0n,s0n){K0n=this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(K0n);var O0n=e1n._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(s0n):this.cube_.slice_.measures_.getItem(s0n);K0n&&O0n&&!K0n.isMeasures&&(K0n.filterType=a1n.data_.consts.FilterType.TOP,K0n.filterQuantity=F0n,K0n.filterMeasureName=s0n,K0n.sortName=a1n.data_.consts.SortType.UNSORTED,F0n=this.cube_.slice_.findAxis(a1n.data_.consts.AxisName.ROWS_AXIS),s0n=this.cube_.slice_.findAxis(a1n.data_.consts.AxisName.COLUMNS_AXIS),-U9VV.O8C!=F0n.hierarchies.indexOf(K0n.uniqueName)&&(s0n.sortTuple=[],s0n.sortType=a1n.data_.consts.SortType.DESC,s0n.sortMeasure=this.cube_.slice_.measures_.getItem(K0n.filterMeasureName)),-U9VV.O8C!=s0n.hierarchies.indexOf(K0n.uniqueName)&&(F0n.sortTuple=[],F0n.sortType=a1n.data_.consts.SortType.DESC,F0n.sortMeasure=this.cube_.slice_.measures_.getItem(K0n.filterMeasureName)));this.cube_.filter();};R1n.prototype.setBottomX=function(M0n,j0n,b0n){M0n=this.cube_.structure_.allHierarchies(!U9VV.O8C).getItem(M0n);var g0n=e1n._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(b0n):this.cube_.slice_.measures_.getItem(b0n);M0n&&g0n&&!M0n.isMeasures&&(M0n.filterType=a1n.data_.consts.FilterType.BOTTOM,M0n.filterQuantity=j0n,M0n.filterMeasureName=b0n,M0n.sortName=a1n.data_.consts.SortType.UNSORTED,j0n=this.cube_.slice_.findAxis(a1n.data_.consts.AxisName.ROWS_AXIS),b0n=this.cube_.slice_.findAxis(a1n.data_.consts.AxisName.COLUMNS_AXIS),-U9VV.O8C!=j0n.hierarchies.indexOf(M0n.uniqueName)&&(b0n.sortTuple=[],b0n.sortType=a1n.data_.consts.SortType.ASC,b0n.sortMeasure=this.cube_.slice_.measures_.getItem(M0n.filterMeasureName)),-U9VV.O8C!=b0n.hierarchies.indexOf(M0n.uniqueName)&&(j0n.sortTuple=[],j0n.sortType=a1n.data_.consts.SortType.ASC,j0n.sortMeasure=this.cube_.slice_.measures_.getItem(M0n.filterMeasureName)));this.cube_.filter();};R1n.prototype.getMembers=function(o0n,n0n,t0n){var f4f=U9VV;if(f4f.x4C==this.cube_||f4f.x4C==this.cube_.structure_)return[];o0n=this.cube_.structure_.allHierarchies(!f4f.O8C).getItem(o0n);n0n=[];o0n&&(n0n=this.getAllChildren(o0n.allMember),f4f.x4C!=t0n&&t0n(n0n));return n0n;};R1n.prototype.getChildrenByMember=function(L0n,R0n){for(var e0n=U9VV.C4C==R0n?L0n.allMember.children:L0n.findMember(R0n).children,h0n=[],a0n=U9VV.F8C;a0n<e0n.length;a0n++){var c0n=e0n.getItemAt(a0n),A0n=c0n.level.num==c0n.hierarchy_.levels_.length-U9VV.O8C;c0n.uniqueName!=L0n.allMemberName&&h0n.push({caption:c0n.caption,uniqueName:c0n.uniqueName,hierarchyName:L0n.uniqueName,parentMember:c0n.parent.isAll?e1Q:c0n.parent.uniqueName,isLeaf:A0n});}return h0n;};R1n.prototype.getAllChildren=function(k0n){var Q4f=U9VV;k0n=k0n.hierarchy_.sortChildren(k0n,!Q4f.O8C);for(var i0n=[],f0n=Q4f.F8C;f0n<k0n.length;f0n++){var Q0n=k0n.getItemAt(f0n),E0n=Q0n.level.num==Q0n.hierarchy_.levels_.length-Q4f.O8C,J0n=[];if(Q4f.O8C!=Q0n.children.length||Q0n.children.getItemAt(Q4f.F8C).caption!=e1n._labels.Labels.MEMBER_BLANK)J0n=this.getAllChildren(Q0n);i0n.push({caption:Q0n.caption,uniqueName:Q0n.uniqueName,hierarchyName:Q0n.hierarchy_.uniqueName,children:J0n,parentMember:Q0n.parent.isAll?e1Q:Q0n.parent.uniqueName,isLeaf:E0n});}return i0n;};R1n.prototype.runQuery=function(H0n){this.state_.runQuery(H0n);};R1n.prototype.getOptions=function(){return e1n._options.OptionsManager.getOptions(!U9VV.F8C,!U9VV.F8C).toObject();};R1n.prototype.getFormat=function(Z0n){Z0n=this.cube_&&this.cube_.structure_?this.cube_.structure_.findMeasure(Z0n):U9VV.x4C;return(Z0n?Z0n.getFormat():e1n.format.FormatManager.getFormat(U9VV.C4C)).toObject(!U9VV.F8C);};R1n.prototype.setFormat=function(y0n,I0n){var h4f=U9VV;y0n.hasOwnProperty(v9VV.F5C)||(y0n.name=utils.StringUtils.generateID());try{e1n.format.FormatManager.setFormat(y0n);}catch(T0n){var h1Q="Can't add format. Component's configuration requires more parameters.";a1n.uialert(h1Q);return;}try{var d0n=this.cube_.structure_.findMeasure(I0n);d0n&&(d0n.format=y0n.name);if(h4f.C4C!=y0n.name&&(h4f.C4C==I0n||h4f.x4C==I0n))for(var S0n=h4f.F8C;S0n<this.cube_.structure_.measures_.length;S0n++)d0n=this.cube_.structure_.measures_.getItemAt(S0n),d0n.format=y0n.name;}catch(m0n){var R1Q="List of measures is empty. There is nothing to format.";a1n.uialert(R1Q);}};R1n.prototype.refresh=function(){this.cube_.filter();};R1n.prototype.dispose=function(){a1n.data_.dataprovider_.DataProviderFactory.dispose();this.cube_&&this.cube_.dispose();this.state_&&this.state_.dispose();this.dataProvider_=this.state_=this.cube_=U9VV.x4C;R1n.instance=U9VV.x4C;};R1n.id=A1Q;return R1n;}(events.EventDispatcher);e1n.PivotModel=h1n;}(a1n.model||(a1n.model={})));}(pivot||(pivot={})));(function(w0n){(function(C0n){var r0n=function(){return function(U4n,P0n){void U9VV.F8C===P0n&&(P0n=U9VV.x4C);this.type=U4n;this.data=P0n;};}();C0n.APIEvent=r0n;r0n=function(G4n){var y5x=v9VV;var z8Q="beforetoolbarcreated";var u8Q="fieldslistclose";var q8Q="fieldslistopen";var Y8Q="filteropen";var B8Q="celldoubleclick";var X8Q="cellclick";var V8Q="ready";var G8Q="printstart";var U8Q="exportstart";var P1Q="reportchange";var C1Q="reportcomplete";var r1Q="localizationerror";var w1Q="localizationloaded";var m1Q="loadinglocalization";var T1Q="queryerror";var I1Q="querycomplete";var S1Q="runningquery";var d1Q="datachanged";var y1Q="datafilecancelled";var Z1Q="dataerror";var H1Q="dataloaded";var E1Q="loadingdata";var J1Q="reportfilecancelled";var i1Q="reportfileerror";var f1Q="reportfileloaded";var k1Q="loadingreportfile";var Q1Q="openingreportfile";__extends(v4n,G4n);v4n.getInstance=function(){U9VV.x4C==v4n.instance&&(v4n.instance=new v4n());return v4n.instance;};v4n.dispose=function(){v4n.instance=U9VV.x4C;};v4n.toTypes=function(V4n){return v4n.isValidType(V4n)?V4n:U9VV.C4C;};v4n.isValidType=function(l4n){return-U9VV.O8C<v4n.types.indexOf(l4n);};v4n.prototype.addEventListener=function(p4n,B4n,X4n){void U9VV.F8C===X4n&&(X4n=U9VV.F8C);p4n=v4n.toTypes(p4n);v4n.isValidType(p4n)&&G4n.prototype.addEventListener.call(this,p4n,B4n,X4n);};v4n.prototype.removeEventListener=function(Y4n,q4n){Y4n=v4n.toTypes(Y4n);v4n.isValidType(Y4n)&&G4n.prototype.removeEventListener.call(this,Y4n,q4n);};v4n.setHandlers=function(u4n){v4n.setHandler(v4n.READY,u4n[v4n.READY]);v4n.setHandler(v4n.OPENING_REPORT_FILE,u4n[v4n.OPENING_REPORT_FILE]);v4n.setHandler(v4n.LOADING_REPORT_FILE,u4n[v4n.LOADING_REPORT_FILE]);v4n.setHandler(v4n.REPORT_FILE_LOADED,u4n[v4n.REPORT_FILE_LOADED]);v4n.setHandler(v4n.REPORT_FILE_ERROR,u4n[v4n.REPORT_FILE_ERROR]);v4n.setHandler(v4n.REPORT_FILE_CANCELLED,u4n[v4n.REPORT_FILE_CANCELLED]);v4n.setHandler(v4n.REPORT_CHANGE,u4n[v4n.REPORT_CHANGE]);v4n.setHandler(v4n.LOADING_DATA,u4n[v4n.LOADING_DATA]);v4n.setHandler(v4n.DATA_LOADED,u4n[v4n.DATA_LOADED]);v4n.setHandler(v4n.DATA_ERROR,u4n[v4n.DATA_ERROR]);v4n.setHandler(v4n.DATA_FILE_CANCELLED,u4n[v4n.DATA_FILE_CANCELLED]);v4n.setHandler(v4n.DATA_CHANGED,u4n[v4n.DATA_CHANGED]);v4n.setHandler(v4n.RUNNING_QUERY,u4n[v4n.RUNNING_QUERY]);v4n.setHandler(v4n.QUERY_COMPLETE,u4n[v4n.QUERY_COMPLETE]);v4n.setHandler(v4n.QUERY_ERROR,u4n[v4n.QUERY_ERROR]);v4n.setHandler(v4n.LOADING_LOCALIZATION,u4n[v4n.LOADING_LOCALIZATION]);v4n.setHandler(v4n.LOCALIZATION_LOADED,u4n[v4n.LOCALIZATION_LOADED]);v4n.setHandler(v4n.LOCALIZATION_ERROR,u4n[v4n.LOCALIZATION_ERROR]);v4n.setHandler(v4n.REPORT_COMPLETE,u4n[v4n.REPORT_COMPLETE]);v4n.setHandler(v4n.PRINT_START,u4n[v4n.PRINT_START]);v4n.setHandler(v4n.PRINT_COMPLETE,u4n[v4n.PRINT_COMPLETE]);v4n.setHandler(v4n.EXPORT_START,u4n[v4n.EXPORT_START]);v4n.setHandler(v4n.EXPORT_COMPLETE,u4n[v4n.EXPORT_COMPLETE]);v4n.setHandler(v4n.UPDATE,u4n[v4n.UPDATE]);v4n.setHandler(v4n.BEFORE_GRID_DRAW,u4n[v4n.BEFORE_GRID_DRAW]);v4n.setHandler(v4n.AFTER_GRID_DRAW,u4n[v4n.AFTER_GRID_DRAW]);v4n.setHandler(v4n.CELL_CLICK,u4n[v4n.CELL_CLICK]);v4n.setHandler(v4n.CELL_DOUBLE_CLICK,u4n[v4n.CELL_DOUBLE_CLICK]);v4n.setHandler(v4n.FILTER_OPEN,u4n[v4n.FILTER_OPEN]);v4n.setHandler(v4n.FILDS_LIST_OPEN,u4n[v4n.FILDS_LIST_OPEN]);v4n.setHandler(v4n.FILDS_LIST_CLOSE,u4n[v4n.FILDS_LIST_CLOSE]);v4n.setHandler(v4n.BEFORE_TOOLBAR_CREATED,u4n[v4n.BEFORE_TOOLBAR_CREATED]);};v4n.setHandler=function(N4n,z4n){if(z4n){U9VV.K2C==typeof z4n&&(z4n=v4n.getFunctionByName(z4n));var D4n=z4n;N4n!=v4n.BEFORE_TOOLBAR_CREATED&&N4n!=v4n.BEFORE_GRID_DRAW&&N4n!=v4n.AFTER_GRID_DRAW&&(D4n=function(){for(var K4n=[],x4n=U9VV.F8C;x4n<arguments.length;x4n++)K4n[x4n]=arguments[x4n];utils.fmSetTimeout(function(){z4n.apply(U9VV.x4C,K4n);},U9VV.O8C);});v4n.getInstance().addEventListener(N4n,D4n);}};v4n.getFunctionByName=function(b4n,s4n){var M4f=U9VV;void M4f.F8C===s4n&&(s4n=window);for(var F4n=b4n.split(y5x.f7C),M4n=F4n.pop(),O4n=M4f.F8C;O4n<F4n.length;O4n++){if(M4f.x4C==s4n)return M4f.x4C;s4n=s4n[F4n[O4n]];}return s4n[M4n];};v4n.OPENING_REPORT_FILE=Q1Q;v4n.LOADING_REPORT_FILE=k1Q;v4n.REPORT_FILE_LOADED=f1Q;v4n.REPORT_FILE_ERROR=i1Q;v4n.REPORT_FILE_CANCELLED=J1Q;v4n.LOADING_DATA=E1Q;v4n.DATA_LOADED=H1Q;v4n.DATA_ERROR=Z1Q;v4n.DATA_FILE_CANCELLED=y1Q;v4n.DATA_CHANGED=d1Q;v4n.RUNNING_QUERY=S1Q;v4n.QUERY_COMPLETE=I1Q;v4n.QUERY_ERROR=T1Q;v4n.LOADING_LOCALIZATION=m1Q;v4n.LOCALIZATION_LOADED=w1Q;v4n.LOCALIZATION_ERROR=r1Q;v4n.REPORT_COMPLETE=C1Q;v4n.REPORT_CHANGE=P1Q;v4n.EXPORT_START=U8Q;v4n.EXPORT_COMPLETE=y5x.v8Q;v4n.PRINT_START=G8Q;v4n.PRINT_COMPLETE=y5x.W8Q;v4n.READY=V8Q;v4n.UPDATE=y5x.L1Q;v4n.BEFORE_GRID_DRAW=y5x.l8Q;v4n.AFTER_GRID_DRAW=y5x.p8Q;v4n.CELL_CLICK=X8Q;v4n.CELL_DOUBLE_CLICK=B8Q;v4n.FILTER_OPEN=Y8Q;v4n.FILDS_LIST_OPEN=q8Q;v4n.FILDS_LIST_CLOSE=u8Q;v4n.BEFORE_TOOLBAR_CREATED=z8Q;v4n.types=[v4n.READY,v4n.OPENING_REPORT_FILE,v4n.LOADING_REPORT_FILE,v4n.REPORT_FILE_LOADED,v4n.REPORT_FILE_ERROR,v4n.REPORT_FILE_CANCELLED,v4n.LOADING_DATA,v4n.DATA_LOADED,v4n.DATA_ERROR,v4n.DATA_FILE_CANCELLED,v4n.DATA_CHANGED,v4n.RUNNING_QUERY,v4n.QUERY_COMPLETE,v4n.QUERY_ERROR,v4n.LOADING_LOCALIZATION,v4n.LOCALIZATION_LOADED,v4n.LOCALIZATION_ERROR,v4n.REPORT_COMPLETE,v4n.REPORT_CHANGE,v4n.PRINT_START,v4n.PRINT_COMPLETE,v4n.EXPORT_START,v4n.EXPORT_COMPLETE,v4n.UPDATE,v4n.BEFORE_GRID_DRAW,v4n.AFTER_GRID_DRAW,v4n.CELL_CLICK,v4n.CELL_DOUBLE_CLICK,v4n.FILTER_OPEN,v4n.FILDS_LIST_OPEN,v4n.FILDS_LIST_CLOSE,v4n.BEFORE_TOOLBAR_CREATED];function v4n(){var W4n=this,W4n=G4n.call(this)||this;if(U9VV.x4C!=v4n.instance)throw Error(y5x.D5C);return W4n;}return v4n;}(events.EventDispatcher);C0n.JavaScriptHandlers=r0n;}(w0n.model||(w0n.model={})));}(pivot||(pivot={})));(function(j4n){(function(o4n){var g4n=function(){n4n.valid=function(t4n){var K4f=U9VV;var O8Q="onerror";var F8Q="onmouseover";var s8Q="expression(";var K8Q="<object";var x8Q="<iframe";var D8Q="javascript:";var N8Q="<script";if(void K4f.F8C==t4n)return!K4f.F8C;t4n=t4n.toLowerCase();return-K4f.O8C==t4n.indexOf(N8Q)&&-K4f.O8C==t4n.indexOf(D8Q)&&-K4f.O8C==t4n.indexOf(x8Q)&&-K4f.O8C==t4n.indexOf(K8Q)&&-K4f.O8C==t4n.indexOf(s8Q)&&-K4f.O8C==t4n.indexOf(F8Q)&&-K4f.O8C==t4n.indexOf(O8Q);};function n4n(){}n4n.validate=function(L4n,c4n){void U9VV.F8C===c4n&&(c4n=!U9VV.O8C);return utils.StringUtils.escapeHtml(L4n,c4n);};return n4n;}();o4n.XSSCheck=g4n;}(j4n.model||(j4n.model={})));}(pivot||(pivot={})));(function(a4n){(function(e4n){(function(h4n){var R4n=function(){A4n.getInstance=function(){U9VV.x4C==A4n.instance&&(A4n.instance=new A4n());return A4n.instance;};A4n.dispose=function(){A4n.instance=U9VV.x4C;};function A4n(){}A4n.prototype.getData=function(){var Q4n=a4n.data_.dataprovider_.DataProviderFactory.getDataProvider();return this.composeData(Q4n);};A4n.prototype.selectData=function(i4n,J4n){var k4n=a4n.data_.Cube.getInstance(),f4n=a4n.data_.LocalDataStorage.clone(k4n.localDataStorage);f4n.slice_=i4n;f4n.filter();f4n.select();k4n=new a4n.data_.dataprovider_.ChartDataProvider();k4n.reset();k4n.dataStorage=f4n;k4n.slice=i4n;k4n.load();f4n=this.composeData(k4n);J4n(f4n.toObject());k4n.reset();};A4n.prototype.composeData=function(Z4n){var U6K=U9VV;var n8Q="c";var o8Q="r";var g8Q="Name";var j8Q="v";var S4n=new h4n.OutputDataValueObject();if(void U6K.F8C==Z4n.slice)return S4n;S4n.slice=Z4n.slice.toObject();S4n.meta={vAmount:Z4n.slice.measures_.length,formats:[]};var U2n=U6K.F8C,P4n=U6K.F8C;if(Z4n.dataLoaded&&!Z4n.isEmpty){var G2n,v2n;G2n=U6K.k2C==e4n._options.OptionsManager.showGrandTotals||v9VV.M8Q==e4n._options.OptionsManager.showGrandTotals?Z4n.dataWidth-U6K.O8C:Z4n.dataWidth;v2n=U6K.k2C==e4n._options.OptionsManager.showGrandTotals||v9VV.b8Q==e4n._options.OptionsManager.showGrandTotals?Z4n.dataHeight-U6K.O8C:Z4n.dataHeight;var T4n,w4n,E4n=NaN,y4n=U6K.C4C,y4n=U6K.C4C,I4n;S4n.data=[];T4n=[];w4n=[];I4n={};for(var H4n=U6K.F8C;H4n<Z4n.measures.length;H4n++){E4n=Z4n.measures.getItemAt(H4n);S4n.meta[j8Q+H4n+g8Q]=E4n.caption;var r4n=e4n.PivotModel.getInstance().getFormat(E4n.uniqueName);S4n.meta.formats.push(r4n);E4n=Z4n.getValue(T4n,w4n,E4n);I4n[j8Q+H4n]=E4n;}S4n.data.push(I4n);for(r4n=U6K.F8C;r4n<v2n;r4n++){I4n={};T4n=Z4n.getRowTuple(r4n);U2n=Math.max(U2n,T4n.length);w4n=[];H4n=Z4n.rowsOnly;for(E4n=U6K.F8C;E4n<T4n.length;E4n++){var m4n=E4n,y4n=H4n.getItemAt(m4n),d4n=T4n[E4n],d4n=y4n.members.getItemAt(d4n);S4n.meta[o8Q+m4n+g8Q]=y4n.caption;y4n=this.getDataFromMember(d4n);I4n[o8Q+m4n]=y4n;}for(H4n=U6K.F8C;H4n<Z4n.measures.length;H4n++)E4n=Z4n.measures.getItemAt(H4n),E4n=Z4n.getValue(T4n,w4n,E4n),I4n[j8Q+H4n]=E4n;S4n.data.push(I4n);}for(var C4n=U6K.F8C;C4n<G2n;C4n++){I4n={};T4n=[];w4n=Z4n.getColumnTuple(C4n);P4n=Math.max(P4n,w4n.length);H4n=Z4n.columnsOnly;for(E4n=U6K.F8C;E4n<w4n.length;E4n++)m4n=E4n,y4n=H4n.getItemAt(m4n),d4n=w4n[E4n],d4n=y4n.members.getItemAt(d4n),S4n.meta[n8Q+m4n+g8Q]=y4n.caption,y4n=this.getDataFromMember(d4n),I4n[n8Q+m4n]=y4n;for(H4n=U6K.F8C;H4n<Z4n.measures.length;H4n++)E4n=Z4n.measures.getItemAt(H4n),E4n=Z4n.getValue(T4n,w4n,E4n),I4n[j8Q+H4n]=E4n;S4n.data.push(I4n);}for(r4n=U6K.F8C;r4n<v2n;r4n++)for(T4n=Z4n.getRowTuple(r4n),U2n=Math.max(U2n,T4n.length),C4n=U6K.F8C;C4n<G2n;C4n++){w4n=Z4n.getColumnTuple(C4n);P4n=Math.max(P4n,w4n.length);I4n={};H4n=Z4n.rowsOnly;for(E4n=U6K.F8C;E4n<T4n.length;E4n++)m4n=E4n,y4n=H4n.getItemAt(m4n),d4n=T4n[E4n],d4n=y4n.members.getItemAt(d4n),y4n=this.getDataFromMember(d4n),I4n[o8Q+m4n]=y4n;H4n=Z4n.columnsOnly;for(E4n=U6K.F8C;E4n<w4n.length;E4n++)m4n=E4n,y4n=H4n.getItemAt(m4n),d4n=w4n[E4n],d4n=y4n.members.getItemAt(d4n),y4n=this.getDataFromMember(d4n),I4n[n8Q+m4n]=y4n;for(H4n=U6K.F8C;H4n<Z4n.measures.length;H4n++)E4n=Z4n.measures.getItemAt(H4n),E4n=Z4n.getValue(T4n,w4n,E4n),I4n[j8Q+H4n]=E4n;S4n.data.push(I4n);}}S4n.meta.rAmount=U2n;S4n.meta.cAmount=P4n;return S4n;};A4n.prototype.getDataFromMember=function(W2n){return W2n.level.type==a4n.data_.types.LevelType.NUMBER||W2n.level.type==a4n.data_.types.LevelType.TIME?W2n.levelOrdinal:W2n.level.type==a4n.data_.types.LevelType.TIME_DATE?Date.parse(W2n.caption):W2n.level.type==a4n.data_.types.LevelType.DAY?isNaN(parseFloat(W2n.caption))?W2n.caption:parseFloat(W2n.caption):W2n.caption;};return A4n;}();h4n.IntegrationDataManager=R4n;}(e4n.integration||(e4n.integration={})));}(a4n.model||(a4n.model={})));}(pivot||(pivot={})));(function(V2n){(function(l2n){(function(X2n){var p2n=function(){B2n.prototype.toObject=function(){var q2n={},Y2n;for(Y2n in this)v9VV.t8Q!=Y2n&&v9VV.x1Q!==typeof this[Y2n]&&(q2n[Y2n]=this[Y2n]);return q2n;};function B2n(){this.slice={};this.meta={};this.data=[];}return B2n;}();X2n.OutputDataValueObject=p2n;}(l2n.integration||(l2n.integration={})));}(V2n.model||(V2n.model={})));}(pivot||(pivot={})));(function(u2n){(function(z2n){(function(D2n){var N2n=function(){var c8Q="WebDataRocks Reporting Tool";x2n.DEFAULT_EXPORT_TITLE=c8Q;function x2n(){}return x2n;}();D2n.Labels=N2n;}(z2n._labels||(z2n._labels={})));}(u2n.model||(u2n.model={})));}(pivot||(pivot={})));(function(K2n){(function(s2n){(function(F2n){var O2n=function(){M2n.prototype.load=function(j2n,g2n,o2n){var b2n=this;this.successHandler=g2n;this.errorHandler=o2n;this.xhr=new XMLHttpRequest();this.xhr.open(v9VV.M6C,j2n,!U9VV.F8C);this.xhr.onerror=function(n2n){return b2n.onError(n2n);};this.xhr.onreadystatechange=function(t2n){return b2n.onReadyStateChange(t2n);};this.xhr.send();};M2n.prototype.onReadyStateChange=function(c2n){U9VV.x4C!=this.xhr&&U9VV.j8C===this.xhr.readyState&&(U9VV.A0C===this.xhr.status?this.success():this.errorHandler());};M2n.prototype.success=function(){if(this.xhr.response&&U9VV.x4C==this.xhr.response.error){if(U9VV.x4C!=this.successHandler)this.onLoaded(this.xhr.response);}else this.errorHandler&&this.errorHandler();};function M2n(){}M2n.prototype.onError=function(L2n){U9VV.x4C!=this.errorHandler&&this.errorHandler();};M2n.prototype.onLoaded=function(e2n){try{var a2n=JSON.parse(e2n);this.successHandler(F2n.LabelsValueObject.fromObject(a2n));}catch(h2n){console.error(h2n),this.errorHandler();}};return M2n;}();F2n.LabelsLoader=O2n;}(s2n._labels||(s2n._labels={})));}(K2n.model||(K2n.model={})));}(pivot||(pivot={})));(function(R2n){(function(A2n){(function(Q2n){var k2n=function(){f2n.getInstance=function(){U9VV.x4C==f2n.instance&&(f2n.instance=new f2n());return f2n.instance;};f2n.dispose=function(){var S3K=U9VV;Q2n.Labels.MONTHS_LABELS=S3K.x4C;Q2n.Labels.MONTHS_LABELS_SHORT=S3K.x4C;Q2n.Labels.WEEKDAYS_LABELS=S3K.x4C;Q2n.Labels.WEEKDAYS_LABELS_SHORT=S3K.x4C;Q2n.Labels.QUARTER_LABELS=S3K.x4C;f2n.instance.defaults=S3K.x4C;f2n.instance.globals=S3K.x4C;f2n.instance.reports=S3K.x4C;f2n.instance=S3K.x4C;};f2n.prototype.getReportLocalization=function(){return this.reports;};f2n.prototype.setReportLocalization=function(i2n){this.reports!=i2n&&(this.reports=i2n,this.updateLabels());};f2n.prototype.updateLabels=function(){var d3Q="weekdaysShort/seventh";var y3Q="weekdaysShort/sixth";var Z3Q="weekdaysShort/fifth";var H3Q="weekdaysShort/fourth";var E3Q="weekdaysShort/third";var J3Q="weekdaysShort/second";var i3Q="weekdaysShort/first";var f3Q="weekdays/seventh";var k3Q="weekdays/sixth";var Q3Q="weekdays/fifth";var A3Q="weekdays/fourth";var R3Q="weekdays/third";var h3Q="weekdays/second";var e3Q="weekdays/first";var a3Q="monthsShort/december";var L3Q="monthsShort/november";var c3Q="monthsShort/october";var t3Q="monthsShort/september";var n3Q="monthsShort/august";var o3Q="monthsShort/july";var g3Q="monthsShort/june";var j3Q="monthsShort/may";var b3Q="monthsShort/april";var M3Q="monthsShort/march";var O3Q="monthsShort/february";var F3Q="monthsShort/january";var s3Q="months/december";var K3Q="months/november";var x3Q="months/october";var D3Q="months/september";var N3Q="months/august";var z3Q="months/july";var u3Q="months/june";var q3Q="months/may";var Y3Q="months/april";var B3Q="months/march";var X3Q="months/february";var p3Q="months/january";var l3Q="quarters/q4";var V3Q="quarters/q3";var W3Q="quarters/q2";var G3Q="quarters/q1";var v3Q="date/day";var U3Q="date/month";var P2Q="date/quarter";var C2Q="date/year";var r2Q="contextMenu/sortRowDesc";var w2Q="contextMenu/sortRowAsc";var m2Q="contextMenu/sortColumnDesc";var T2Q="contextMenu/sortColumnAsc";var I2Q="contextMenu/openFilter";var S2Q="contextMenu/expand";var d2Q="contextMenu/drillThrough";var y2Q="contextMenu/collapse";var Z2Q="contextMenu/clearSorting";var H2Q="buttons/no";var E2Q="buttons/yes";var J2Q="buttons/select";var i2Q="buttons/clear";var f2Q="buttons/save";var k2Q="buttons/cancel";var Q2Q="buttons/apply";var A2Q="buttons/ok";var R2Q="messages/noGoogleClientKey";var h2Q="messages/cantExpandTitle";var e2Q="messages/cantExpand";var a2Q="messages/tooManyColumnsInClassicMode";var L2Q="messages/csvHeaderParsingError";var c2Q="messages/invalidReportFormat";var t2Q="messages/unknownError";var n2Q="messages/ocsvIncompatible";var o2Q="messages/dataWasUpdated";var g2Q="messages/saveDataToFile";var j2Q="messages/noDataAvailable";var b2Q="messages/excelExportLimitation";var M2Q="messages/excelPdfExportLimitation";var O2Q="messages/wrongFormulaFormat";var F2Q="messages/invalidJSONdata";var s2Q="messages/inappropriateFileFormat";var K2Q="messages/unableTwoFileBrowsingSessions";var x2Q="messages/unableToOpenFile";var D2Q="messages/dataStreamError";var N2Q="messages/invalidDataSource";var z2Q="messages/inputReportName";var u2Q="messages/inputNewName";var q2Q="messages/loadReportFromFile";var Y2Q="messages/saveReportToFile";var B2Q="messages/cantSaveToClipboard";var X2Q="messages/cantSaveFile";var p2Q="messages/uploading";var l2Q="messages/pagesWereGenerated";var V2Q="messages/pleaseWait";var W2Q="messages/generatingPDF";var G2Q="messages/exportError";var v2Q="messages/exportProgress";var U2Q="messages/exportComplete";var P4Q="messages/fullscreen";var C4Q="messages/loadingLevels";var r4Q="messages/loadingMembers";var w4Q="messages/loadingMeasures";var m4Q="messages/loadingHierarchies";var T4Q="messages/loadingDimensions";var I4Q="messages/saving";var S4Q="messages/analyzingRecords";var d4Q="messages/analyzingProgress";var y4Q="messages/analyzing";var Z4Q="messages/progressUnknown";var H4Q="messages/progress";var E4Q="messages/waiting";var J4Q="messages/loadingData";var i4Q="messages/loadingConfiguration";var f4Q="messages/loading";var k4Q="messages/reportFileType";var Q4Q="messages/confirmation";var A4Q="messages/browse";var R4Q="messages/limitation";var h4Q="messages/warning";var e4Q="messages/error";var a4Q="aggregations/none/caption";var L4Q="aggregations/index/grandTotalCaption";var c4Q="aggregations/index/totalCaption";var t4Q="aggregations/index/caption";var n4Q="aggregations/percentOfRow/grandTotalCaption";var o4Q="aggregations/percentOfRow/totalCaption";var g4Q="aggregations/percentOfRow/caption";var j4Q="aggregations/percentOfColumn/grandTotalCaption";var b4Q="aggregations/percentOfColumn/totalCaption";var M4Q="aggregations/percentOfColumn/caption";var O4Q="aggregations/percent/grandTotalCaption";var F4Q="aggregations/percent/totalCaption";var s4Q="aggregations/percent/caption";var K4Q="aggregations/max/grandTotalCaption";var x4Q="aggregations/max/totalCaption";var D4Q="aggregations/max/caption";var N4Q="aggregations/min/grandTotalCaption";var z4Q="aggregations/min/totalCaption";var u4Q="aggregations/min/caption";var q4Q="aggregations/product/grandTotalCaption";var Y4Q="aggregations/product/totalCaption";var B4Q="aggregations/product/caption";var X4Q="aggregations/average/grandTotalCaption";var p4Q="aggregations/average/totalCaption";var l4Q="aggregations/average/caption";var V4Q="aggregations/percentDifference/grandTotalCaption";var W4Q="aggregations/percentDifference/totalCaption";var G4Q="aggregations/percentDifference/caption";var v4Q="aggregations/difference/grandTotalCaption";var U4Q="aggregations/difference/totalCaption";var P0Q="aggregations/difference/caption";var C0Q="aggregations/distinctCount/grandTotalCaption";var r0Q="aggregations/distinctCount/totalCaption";var w0Q="aggregations/distinctCount/caption";var m0Q="aggregations/count/grandTotalCaption";var T0Q="aggregations/count/totalCaption";var I0Q="aggregations/count/caption";var S0Q="aggregations/sum/grandTotalCaption";var d0Q="aggregations/sum/totalCaption";var y0Q="aggregations/sum/caption";var Z0Q="tooltips/close";var H0Q="tooltips/sortedAscIcon";var E0Q="tooltips/sortedDescIcon";var J0Q="tooltips/sortIcon";var i0Q="tooltips/drillUp";var f0Q="tooltips/drillDown";var k0Q="tooltips/collapseIcon";var Q0Q="tooltips/expandIcon";var A0Q="tooltips/filtered";var R0Q="tooltips/filterIcon";var h0Q="tooltips/headerFit";var e0Q="tooltips/headerResize";var a0Q="tooltips/column";var L0Q="tooltips/row";var c0Q="grid/dateInvalidCaption";var t0Q="grid/blankMember";var n0Q="grid/grandTotal";var o0Q="grid/totals";var g0Q="grid/total";var j0Q="calculatedView/allValues";var b0Q="calculatedView/header";var M0Q="calculatedView/removeValueMessage";var O0Q="calculatedView/removeValueTitle";var F0Q="calculatedView/removeValue";var s0Q="calculatedView/calculateIndividualValues";var K0Q="calculatedView/formulaPrompt";var x0Q="calculatedView/formula";var D0Q="calculatedView/measureName";var N0Q="calculatedView/measureBox";var z0Q="calculatedView/title";var u0Q="drillThrough/value";var q0Q="drillThrough/column";var Y0Q="drillThrough/row";var B0Q="drillThrough/title";var X0Q="filter/sort";var p0Q="filter/amountFound";var l0Q="filter/amountSelected";var V0Q="filter/search";var W0Q="filter/clearTopX";var G0Q="filter/topX";var v0Q="filter/descSort";var U0Q="filter/ascSort";var P8Q="filter/bottom";var C8Q="filter/top";var r8Q="filter/selectAllResults";var w8Q="filter/selectAll";var m8Q="filter/multipleItems";var T8Q="filter/all";var I8Q="fieldsList/subtitle";var S8Q="fieldsList/title";var d8Q="fieldsList/dropField";var y8Q="fieldsList/filters";var Z8Q="fieldsList/columns";var H8Q="fieldsList/rows";var E8Q="fieldsList/allFields";var J8Q="fieldsList/formulasGroupName";var i8Q="fieldsList/collapseAll";var f8Q="fieldsList/expandAll";var k8Q="fieldsList/addCalculatedMeasure";var Q8Q="fieldsList/values";var A8Q="fieldsList/measureBox";var R8Q="fieldsList/columnBox";var h8Q="fieldsList/rowBox";var e8Q="fieldsList/filterBox";var a8Q="fieldsList/hierarchyBox";var L8Q="fieldsList/flatHierarchyBox";Q2n.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX=this.getLabel(L8Q);Q2n.Labels.FIELDS_LIST_HIERARCHY_BOX=this.getLabel(a8Q);Q2n.Labels.FIELDS_LIST_FILTER_BOX=this.getLabel(e8Q);Q2n.Labels.FIELDS_LIST_ROW_BOX=this.getLabel(h8Q);Q2n.Labels.FIELDS_LIST_COLUMN_BOX=this.getLabel(R8Q);Q2n.Labels.FIELDS_LIST_MEASURE_BOX=this.getLabel(A8Q);Q2n.Labels.FIELDS_LIST_VALUES=this.getLabel(Q8Q);Q2n.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE=this.getLabel(k8Q);Q2n.Labels.FIELDS_LIST_EXPAND_ALL=this.getLabel(f8Q);Q2n.Labels.FIELDS_LIST_COLLAPSE_ALL=this.getLabel(i8Q);Q2n.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME=this.getLabel(J8Q);Q2n.Labels.FIELDS_LIST_ALL_FIELDS=this.getLabel(E8Q);Q2n.Labels.FIELDS_LIST_ROWS=this.getLabel(H8Q);Q2n.Labels.FIELDS_LIST_COLUMNS=this.getLabel(Z8Q);Q2n.Labels.FIELDS_LIST_FILTERS=this.getLabel(y8Q);Q2n.Labels.FIELDS_LIST_DROP_FIELD=this.getLabel(d8Q);Q2n.Labels.FIELDS_LIST_TITLE=this.getLabel(S8Q);Q2n.Labels.FIELDS_LIST_SUBTITLE=this.getLabel(I8Q);Q2n.Labels.FILTER_ALL=this.getLabel(T8Q);Q2n.Labels.FILTER_MULTIPLE_ITEMS=this.getLabel(m8Q);Q2n.Labels.FILTER_SELECT_ALL=this.getLabel(w8Q);Q2n.Labels.FILTER_SELECT_ALL_RESULTS=this.getLabel(r8Q);Q2n.Labels.FILTER_TOP=this.getLabel(C8Q);Q2n.Labels.FILTER_BOTTOM=this.getLabel(P8Q);Q2n.Labels.FILTER_ASC_SORT=this.getLabel(U0Q);Q2n.Labels.FILTER_DESC_SORT=this.getLabel(v0Q);Q2n.Labels.FILTER_TOP_X=this.getLabel(G0Q);Q2n.Labels.FILTER_TOP_X_CLEAR=this.getLabel(W0Q);Q2n.Labels.FILTER_SEARCH=this.getLabel(V0Q);Q2n.Labels.FILTER_AMOUNT_SELECTED=this.getLabel(l0Q);Q2n.Labels.FILTER_AMOUNT_FOUND=this.getLabel(p0Q);Q2n.Labels.FILTER_SORT=this.getLabel(X0Q);Q2n.Labels.DRILL_THROUGH_TITLE=this.getLabel(B0Q);Q2n.Labels.DRILL_THROUGH_ROW=this.getLabel(Y0Q);Q2n.Labels.DRILL_THROUGH_COLUMN=this.getLabel(q0Q);Q2n.Labels.DRILL_THROUGH_VALUE=this.getLabel(u0Q);Q2n.Labels.CALCULATED_VIEW_TITLE=this.getLabel(z0Q);Q2n.Labels.CALCULATED_VIEW_MEASURE_BOX=this.getLabel(N0Q);Q2n.Labels.CALCULATED_VIEW_MEASURE_NAME=this.getLabel(D0Q);Q2n.Labels.CALCULATED_VIEW_FORMULA=this.getLabel(x0Q);Q2n.Labels.CALCULATED_VIEW_FORMULA_PROMPT=this.getLabel(K0Q);Q2n.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES=this.getLabel(s0Q);Q2n.Labels.CALCULATED_VIEW_REMOVE_VALUE=this.getLabel(F0Q);Q2n.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE=this.getLabel(O0Q);Q2n.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE=this.getLabel(M0Q);Q2n.Labels.CALCULATED_VIEW_HEADER=this.getLabel(b0Q);Q2n.Labels.CALCULATED_VIEW_ALL_VALUES=this.getLabel(j0Q);Q2n.Labels.GRID_TOTAL=this.getLabel(g0Q);Q2n.Labels.GRID_TOTALS=this.getLabel(o0Q);Q2n.Labels.GRID_GRAND_TOTAL=this.getLabel(n0Q);Q2n.Labels.MEMBER_BLANK=this.getLabel(t0Q);Q2n.Labels.INVALID_DATE=this.getLabel(c0Q);Q2n.Labels.TOOLTIPS_ROW=this.getLabel(L0Q);Q2n.Labels.TOOLTIPS_COLUMN=this.getLabel(a0Q);Q2n.Labels.TOOLTIPS_HEADER_RESIZE=this.getLabel(e0Q);Q2n.Labels.TOOLTIPS_HEADER_FIT=this.getLabel(h0Q);Q2n.Labels.TOOLTIPS_FILTER_ICON=this.getLabel(R0Q);Q2n.Labels.TOOLTIPS_FILTERED=this.getLabel(A0Q);Q2n.Labels.TOOLTIPS_EXPAND_ICON=this.getLabel(Q0Q);Q2n.Labels.TOOLTIPS_COLLAPSE_ICON=this.getLabel(k0Q);Q2n.Labels.TOOLTIPS_DRILL_DOWN=this.getLabel(f0Q);Q2n.Labels.TOOLTIPS_DRILL_UP=this.getLabel(i0Q);Q2n.Labels.TOOLTIPS_SORT_ICON=this.getLabel(J0Q);Q2n.Labels.TOOLTIPS_SORTED_DESC=this.getLabel(E0Q);Q2n.Labels.TOOLTIPS_SORTED_ASC=this.getLabel(H0Q);Q2n.Labels.TOOLTIPS_CLOSE=this.getLabel(Z0Q);Q2n.Labels.SUM_CAPTION=this.getLabel(y0Q);Q2n.Labels.SUM_TOTAL_CAPTION=this.getLabel(d0Q);Q2n.Labels.SUM_GRAND_TOTAL_CAPTION=this.getLabel(S0Q);Q2n.Labels.COUNT_CAPTION=this.getLabel(I0Q);Q2n.Labels.COUNT_TOTAL_CAPTION=this.getLabel(T0Q);Q2n.Labels.COUNT_GRAND_TOTAL_CAPTION=this.getLabel(m0Q);Q2n.Labels.DISTINCT_COUNT_CAPTION=this.getLabel(w0Q);Q2n.Labels.DISTINCT_COUNT_TOTAL_CAPTION=this.getLabel(r0Q);Q2n.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION=this.getLabel(C0Q);Q2n.Labels.DIFFERENCE_CAPTION=this.getLabel(P0Q);Q2n.Labels.DIFFERENCE_TOTAL_CAPTION=this.getLabel(U4Q);Q2n.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(v4Q);Q2n.Labels.PERCENT_DIFFERENCE_CAPTION=this.getLabel(G4Q);Q2n.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION=this.getLabel(W4Q);Q2n.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(V4Q);Q2n.Labels.AVERAGE_CAPTION=this.getLabel(l4Q);Q2n.Labels.AVERAGE_TOTAL_CAPTION=this.getLabel(p4Q);Q2n.Labels.AVERAGE_GRAND_TOTAL_CAPTION=this.getLabel(X4Q);Q2n.Labels.PRODUCT_CAPTION=this.getLabel(B4Q);Q2n.Labels.PRODUCT_TOTAL_CAPTION=this.getLabel(Y4Q);Q2n.Labels.PRODUCT_GRAND_TOTAL_CAPTION=this.getLabel(q4Q);Q2n.Labels.MIN_CAPTION=this.getLabel(u4Q);Q2n.Labels.MIN_TOTAL_CAPTION=this.getLabel(z4Q);Q2n.Labels.MIN_GRAND_TOTAL_CAPTION=this.getLabel(N4Q);Q2n.Labels.MAX_CAPTION=this.getLabel(D4Q);Q2n.Labels.MAX_TOTAL_CAPTION=this.getLabel(x4Q);Q2n.Labels.MAX_GRAND_TOTAL_CAPTION=this.getLabel(K4Q);Q2n.Labels.PERCENT_CAPTION=this.getLabel(s4Q);Q2n.Labels.PERCENT_TOTAL_CAPTION=this.getLabel(F4Q);Q2n.Labels.PERCENT_GRAND_TOTAL_CAPTION=this.getLabel(O4Q);Q2n.Labels.PERCENT_COLUMN_CAPTION=this.getLabel(M4Q);Q2n.Labels.PERCENT_COLUMN_TOTAL_CAPTION=this.getLabel(b4Q);Q2n.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION=this.getLabel(j4Q);Q2n.Labels.PERCENT_ROW_CAPTION=this.getLabel(g4Q);Q2n.Labels.PERCENT_ROW_TOTAL_CAPTION=this.getLabel(o4Q);Q2n.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION=this.getLabel(n4Q);Q2n.Labels.INDEX_CAPTION=this.getLabel(t4Q);Q2n.Labels.INDEX_TOTAL_CAPTION=this.getLabel(c4Q);Q2n.Labels.INDEX_GRAND_TOTAL_CAPTION=this.getLabel(L4Q);Q2n.Labels.NONE_CAPTION=this.getLabel(a4Q);Q2n.Labels.ERROR=this.getLabel(e4Q);Q2n.Labels.WARNING=this.getLabel(h4Q);Q2n.Labels.LIMITATION=this.getLabel(R4Q);Q2n.Labels.BROWSE=this.getLabel(A4Q);Q2n.Labels.CONFIRMATION=this.getLabel(Q4Q);Q2n.Labels.REPORT_FILE_TYPE=this.getLabel(k4Q);Q2n.Labels.MESSAGE_LOADING=this.getLabel(f4Q);Q2n.Labels.MESSAGE_LOADING_CONFIGURATION=this.getLabel(i4Q);Q2n.Labels.MESSAGE_LOADING_DATA=this.getLabel(J4Q);Q2n.Labels.MESSAGE_LOADING_WAITING=this.getLabel(E4Q);Q2n.Labels.MESSAGE_LOADING_PROGRESS=this.getLabel(H4Q);Q2n.Labels.MESSAGE_LOADING_PROGRESS_UNKNOWN=this.getLabel(Z4Q);Q2n.Labels.MESSAGE_ANALYZING_DATA=this.getLabel(y4Q);Q2n.Labels.MESSAGE_ANALYZING_PROGRESS=this.getLabel(d4Q);Q2n.Labels.MESSAGE_ANALYZING_RECORDS=this.getLabel(S4Q);Q2n.Labels.MESSAGE_SAVING=this.getLabel(I4Q);Q2n.Labels.MESSAGE_LOADING_DIMENSIONS=this.getLabel(T4Q);Q2n.Labels.MESSAGE_LOADING_HIERARCHIES=this.getLabel(m4Q);Q2n.Labels.MESSAGE_LOADING_MEASURES=this.getLabel(w4Q);Q2n.Labels.MESSAGE_LOADING_MEMBERS=this.getLabel(r4Q);Q2n.Labels.MESSAGE_LOADING_LEVELS=this.getLabel(C4Q);Q2n.Labels.MESSAGE_FULLSCREEN=this.getLabel(P4Q);Q2n.Labels.MESSAGE_EXPORT_COMPLETE=this.getLabel(U2Q);Q2n.Labels.MESSAGE_EXPORT_PROGRESS=this.getLabel(v2Q);Q2n.Labels.MESSAGE_EXPORT_ERROR=this.getLabel(G2Q);Q2n.Labels.MESSAGE_GENERATING_PDF=this.getLabel(W2Q);Q2n.Labels.MESSAGE_PLEASE_WAIT=this.getLabel(V2Q);Q2n.Labels.MESSAGE_PAGES_WERE_GENERATED=this.getLabel(l2Q);Q2n.Labels.MESSAGE_UPLOADING=this.getLabel(p2Q);Q2n.Labels.MESSAGE_CANT_SAVE_FILE=this.getLabel(X2Q);Q2n.Labels.MESSAGE_CANT_WRITE_TO_CLIPBOARD=this.getLabel(B2Q);Q2n.Labels.MESSAGE_SAVE_REPORT_TO_FILE=this.getLabel(Y2Q);Q2n.Labels.MESSAGE_LOAD_REPORT_FROM_FILE=this.getLabel(q2Q);Q2n.Labels.MESSAGE_INPUT_NEW_NAME=this.getLabel(u2Q);Q2n.Labels.MESSAGE_INPUT_REPORT_NAME=this.getLabel(z2Q);Q2n.Labels.MESSAGE_INVALID_DATASOURCE=this.getLabel(N2Q);Q2n.Labels.MESSAGE_DATA_STREAM_ERROR=this.getLabel(D2Q);Q2n.Labels.MESSAGE_UNABLE_TO_OPEN_FILE=this.getLabel(x2Q);Q2n.Labels.MESSAGE_DOUBLE_FILE_BROWSING_SESSION=this.getLabel(K2Q);Q2n.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT=this.getLabel(s2Q);Q2n.Labels.MESSAGE_INVALID_JSON_DATA=this.getLabel(F2Q);Q2n.Labels.MESSAGE_WRONG_FORMULA_FORMAT=this.getLabel(O2Q);Q2n.Labels.MESSAGE_EXCEL_PDF_EXPORT_LIMITATION=this.getLabel(M2Q);Q2n.Labels.MESSAGE_EXPORT_LIMITATION=this.getLabel(b2Q);Q2n.Labels.MESSAGE_NO_DATA_AVAILABLE=this.getLabel(j2Q);Q2n.Labels.MESSAGE_SAVE_DATA_TO_FILE=this.getLabel(g2Q);Q2n.Labels.MESSAGE_DATA_WAS_UPDATED=this.getLabel(o2Q);Q2n.Labels.MESSAGE_OCSV_INCOMPATIBLE=this.getLabel(n2Q);Q2n.Labels.MESSAGE_UNKNOWN_ERROR=this.getLabel(t2Q);Q2n.Labels.MESSAGE_INVALID_REPORT_FORMAT=this.getLabel(c2Q);Q2n.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR=this.getLabel(L2Q);Q2n.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE=this.getLabel(a2Q);Q2n.Labels.MESSAGE_CANT_EXPAND=this.getLabel(e2Q);Q2n.Labels.MESSAGE_CANT_EXPAND_TITLE=this.getLabel(h2Q);Q2n.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY=this.getLabel(R2Q);Q2n.Labels.BUTTON_OK=this.getLabel(A2Q);Q2n.Labels.BUTTON_APPLY=this.getLabel(Q2Q);Q2n.Labels.BUTTON_CANCEL=this.getLabel(k2Q);Q2n.Labels.BUTTON_SAVE=this.getLabel(f2Q);Q2n.Labels.BUTTON_CLEAR=this.getLabel(i2Q);Q2n.Labels.BUTTON_SELECT=this.getLabel(J2Q);Q2n.Labels.BUTTON_YES=this.getLabel(E2Q);Q2n.Labels.BUTTON_NO=this.getLabel(H2Q);Q2n.Labels.CONTEXT_MENU_CLEAR_SORTING=this.getLabel(Z2Q);Q2n.Labels.CONTEXT_MENU_COLLAPSE=this.getLabel(y2Q);Q2n.Labels.CONTEXT_MENU_DRILL_THROUGH=this.getLabel(d2Q);Q2n.Labels.CONTEXT_MENU_EXPAND=this.getLabel(S2Q);Q2n.Labels.CONTEXT_MENU_OPEN_FILTER=this.getLabel(I2Q);Q2n.Labels.CONTEXT_MENU_SORT_COLUMN_ASC=this.getLabel(T2Q);Q2n.Labels.CONTEXT_MENU_SORT_COLUMN_DESC=this.getLabel(m2Q);Q2n.Labels.CONTEXT_MENU_SORT_ROW_ASC=this.getLabel(w2Q);Q2n.Labels.CONTEXT_MENU_SORT_ROW_DESC=this.getLabel(r2Q);Q2n.Labels.YEAR=this.getLabel(C2Q);Q2n.Labels.QUARTER=this.getLabel(P2Q);Q2n.Labels.MONTH=this.getLabel(U3Q);Q2n.Labels.DAY=this.getLabel(v3Q);Q2n.Labels.QUARTER_LABELS=[this.getLabel(G3Q),this.getLabel(W3Q),this.getLabel(V3Q),this.getLabel(l3Q)];Q2n.Labels.MONTHS_LABELS=[this.getLabel(p3Q),this.getLabel(X3Q),this.getLabel(B3Q),this.getLabel(Y3Q),this.getLabel(q3Q),this.getLabel(u3Q),this.getLabel(z3Q),this.getLabel(N3Q),this.getLabel(D3Q),this.getLabel(x3Q),this.getLabel(K3Q),this.getLabel(s3Q)];Q2n.Labels.MONTHS_LABELS_SHORT=[this.getLabel(F3Q),this.getLabel(O3Q),this.getLabel(M3Q),this.getLabel(b3Q),this.getLabel(j3Q),this.getLabel(g3Q),this.getLabel(o3Q),this.getLabel(n3Q),this.getLabel(t3Q),this.getLabel(c3Q),this.getLabel(L3Q),this.getLabel(a3Q)];Q2n.Labels.WEEKDAYS_LABELS=[this.getLabel(e3Q),this.getLabel(h3Q),this.getLabel(R3Q),this.getLabel(A3Q),this.getLabel(Q3Q),this.getLabel(k3Q),this.getLabel(f3Q)];Q2n.Labels.WEEKDAYS_LABELS_SHORT=[this.getLabel(i3Q),this.getLabel(J3Q),this.getLabel(E3Q),this.getLabel(H3Q),this.getLabel(Z3Q),this.getLabel(y3Q),this.getLabel(d3Q)];utils.DateFormat.setDayNames(Q2n.Labels.WEEKDAYS_LABELS,Q2n.Labels.WEEKDAYS_LABELS_SHORT);utils.DateFormat.setMonthNames(Q2n.Labels.MONTHS_LABELS,Q2n.Labels.MONTHS_LABELS_SHORT);};function f2n(){if(U9VV.x4C!=f2n.instance)throw Error(v9VV.D5C);this.defaults=new Q2n.LabelsValueObject();this.defaults.setDefaults();}f2n.prototype.getLabel=function(E2n){var Z3K=U9VV;if(!Z3K.O8C==utils.nullOrUndefined(this.reports)){var J2n=this.reports.getLabel(E2n);if(!Z3K.O8C==utils.nullOrUndefined(J2n))return J2n;}return!Z3K.O8C==utils.nullOrUndefined(this.globals)&&(J2n=this.globals.getLabel(E2n),!Z3K.O8C==utils.nullOrUndefined(J2n))?J2n:this.defaults.getLabel(E2n);};f2n.prototype.reset=function(){this.reports=U9VV.x4C;this.updateLabels();};f2n.prototype.load=function(Z2n,H2n,y2n){var E3K=U9VV;var d2n=this;void E3K.F8C===y2n&&(y2n=!E3K.O8C);try{if(E3K.K2C==typeof Z2n&&!E3K.O8C==utils.nullOrEmpty(Z2n))new Q2n.LabelsLoader().load(utils.URLUtils.getUrl(Z2n,!E3K.F8C),function(S2n){d2n.onLoadingComplete(S2n,y2n);E3K.x4C!=H2n&&H2n(!E3K.F8C);},function(){E3K.x4C!=H2n&&H2n(!E3K.O8C);});else{if(Z2n instanceof Object)this.onLoadingComplete(Q2n.LabelsValueObject.fromObject(Z2n),y2n);else this.reset();E3K.x4C!=H2n&&H2n(!E3K.F8C);}}catch(I2n){console.error(I2n),E3K.x4C!=H2n&&H2n(!E3K.O8C);}};f2n.prototype.onLoadingComplete=function(m2n,T2n){void U9VV.F8C===T2n&&(T2n=!U9VV.O8C);T2n?this.globals=m2n:this.reports=m2n;this.updateLabels();};f2n.prototype.generateLocalization=function(){var w2n=new Q2n.LabelsValueObject();w2n.setDefaults();w2n.merge(this.globals);return w2n.toObject();};f2n.prototype.getCurrentLocalization=function(){var r2n=new Q2n.LabelsValueObject();r2n.setDefaults();r2n.merge(this.globals);this.reports&&r2n.merge(this.reports);return r2n;};return f2n;}();Q2n.LabelsManager=k2n;}(A2n._labels||(A2n._labels={})));}(R2n.model||(R2n.model={})));}(pivot||(pivot={})));(function(C2n){(function(P2n){(function(v3n){var U3n=function(){G3n.prototype.setDefaults=function(){var R3K=v9VV;var L8B="Portrait";var c8B="Landscape";var t8B="Choose page orientation";var n8B="Show subtotal columns only";var o8B="Show subtotal rows only";var g8B="Show subtotals";var j8B="Do not show subtotals";var b8B="Subtotals";var M8B="Show for columns only";var O8B="Show for rows only";var F8B="Show grand totals";var s8B="Do not show grand totals";var K8B="Grand totals";var x8B="Flat form";var D8B="Classic form";var N8B="Compact form";var z8B="Layout";var u8B="Layout options";var q8B="Highlight";var Y8B="Text";var X8B="Empty";var p8B="Between";var l8B="Not equal to";var V8B="Equal to";var W8B="Greater than or equal to";var G8B="Greater than";var v8B="Less than or equal to";var U8B="Less than";var P1B="Add condition";var r1B="Format as percent";var w1B="Null value";var m1B="Currency align";var T1B="Currency symbol";var I1B="Decimal places";var S1B="Decimal separator";var d1B="Thousand separator";var y1B="(Space)";var Z1B="None";var H1B="Text align";var E1B="Open remote report";var J1B="Password";var i1B="Username";var f1B="credentials";var k1B="Open remote CSV";var Q1B="Then";var A1B="If";var h1B="Delete";var a1B="Value";var L1B="Done";var c1B="To PDF";var t1B="To Image";var n1B="To Excel";var o1B="To CSV";var g1B="To HTML";var j1B="Print";var b1B="Export";var O1B="Minimize";var F1B="Fullscreen";var s1B="Options";var K1B="Conditional";var x1B="Conditional formatting";var D1B="Format cells";var N1B="Format";var z1B="Compact";var u1B="Classic";var q1B="Flat";var Y1B="Grid";var B1B="JSON report";var X1B="Report";var p1B="Remote report";var l1B="Local report";var V1B="Open";var W1B="CSV";var G1B="To remote CSV";var v1B="To Google Drive";var U1B="To local JSON";var P9B="To local CSV";var C9B="Connect";var r9B="Sat";var w9B="Fri";var m9B="Thu";var T9B="Wed";var I9B="Tue";var S9B="Mon";var d9B="Sun";var y9B="Saturday";var Z9B="Friday";var H9B="Thursday";var E9B="Wednesday";var J9B="Tuesday";var i9B="Monday";var f9B="Sunday";var k9B="Dec";var Q9B="Nov";var A9B="Oct";var R9B="Sep";var h9B="Aug";var e9B="Jul";var a9B="Jun";var L9B="Apr";var c9B="Mar";var t9B="Feb";var n9B="Jan";var o9B="December";var g9B="November";var j9B="October";var b9B="September";var M9B="August";var O9B="July";var F9B="June";var s9B="May";var K9B="April";var x9B="March";var D9B="February";var N9B="January";var z9B="Quarter 4";var u9B="Quarter 3";var q9B="Quarter 2";var Y9B="Quarter 1";var B9B="Quarter";var p9B="Sort column asc";var l9B="Sort column desc";var V9B="Clear sorting";var W9B="Sort row asc";var G9B="Sort row desc";var v9B="Expand";var U9B="Collapse";var P7Q="Open filter";var C7Q="Drill through";var r7Q="No";var w7Q="Yes";var m7Q="Select";var T7Q="Save";var I7Q="Cancel";var S7Q="Apply";var d7Q="OK";var y7Q="Data set is too large";var Z7Q="Some fields cannot be expanded. Please narrow down the data set.";var H7Q="Too many columns for classic form. Switched layout to compact form.";var E7Q="Invalid report format or access to file is denied.";var J7Q="Unknown error occurred.";var i7Q="Unable to read data source. It seems that OCSV file was compressed with a newer version. Please update the component to version {0} or newer.";var f7Q="Data source has been updated on the server. Refresh the report?";var k7Q="CSV header parsing error.";var Q7Q="Data source is empty. Please check the CSV file.";var A7Q="Export is not available in the current edition.";var R7Q="Export to Microsoft Excel or PDF is not available in the current edition.";var h7Q="JSON data is invalid.";var e7Q="The data file is of inappropriate format.";var a7Q="Wrong formula format. Please check.";var L7Q="Please enter Google Client Key in index.html file.";var c7Q="Browse file dialog is already opened.";var t7Q="Unable to open file {0}.<br/><br/>It seems that this file doesn't exist or 'Access-Control-Allow-Origin' header is absent in the resource requested.";var n7Q="Stream error occurred while loading '{0}'";var o7Q="Please input report name";var g7Q="Input new name";var j7Q="Select report file to be loaded.";var b7Q='Data is ready to be saved to file, please click "Save" button to save the file.';var M7Q='Report is ready to be saved to file, please click "Save" button to save the report.';var O7Q="Error: Cannot write to the clipboard.";var F7Q="Cannot save file.";var s7Q="Failed to export. An unexpected error occurred.";var K7Q="Export in progress...";var x7Q="pages were generated.";var D7Q="Please wait.";var N7Q="Generating PDF";var z7Q='Export data is created, please click "Save" button to save the _data.';var u7Q="Open report in full screen?";var q7Q="Loading levels...";var Y7Q="Loading members...";var B7Q="Loading measures...";var X7Q="Loading hierarchies...";var p7Q="Loading dimensions...";var l7Q="Saving...";var V7Q="{0} records";var W7Q="{0} records of {1} ({2}%)";var G7Q="Analyzing data...";var v7Q="loaded {0}K";var U7Q="{0}K";var P5Q="Waiting for the response {0} sec.";var C5Q="Uploading...";var r5Q="Loading data...";var w5Q="Loading...";var m5Q="WebDataRocks report file";var T5Q="Confirmation";var I5Q="Browse";var d5Q="Warning!";var y5Q="Error!";var Z5Q="No Calculation";var H5Q="% Difference of {0}";var E5Q="% Difference";var J5Q="Difference of {0}";var i5Q="Difference";var f5Q="Index of {0}";var k5Q="Index";var Q5Q="Total % of Row of {0}";var A5Q="% of Row of {0}";var R5Q="% of Row";var h5Q="Total % of Column of {0}";var e5Q="% of Column of {0}";var a5Q="% of Column";var L5Q="Total % of Grand Total of {0}";var c5Q="% of Grand Total of {0}";var t5Q="% of Grand Total";var n5Q="Total Max of {0}";var o5Q="Max of {0}";var g5Q="Max";var j5Q="Total Min of {0}";var b5Q="Min of {0}";var M5Q="Min";var O5Q="Total Product of {0}";var F5Q="Product of {0}";var s5Q="Product";var K5Q="Total Average of {0}";var x5Q="Average of {0}";var D5Q="Average";var N5Q="Total Distinct Count of {0}";var z5Q="Distinct Count of {0}";var u5Q="Distinct Count";var q5Q="Total Count of {0}";var Y5Q="Count of {0}";var B5Q="Count";var X5Q="Total Sum of {0}";var p5Q="Sum of {0}";var l5Q="Sum";var V5Q="Click to close";var W5Q="Click to sort Asc";var G5Q="Click to sort Desc";var v5Q="Click to drill up";var U5Q="Click to drill down";var P6Q="Click to collapse";var C6Q="Click to expand";var r6Q="Filtered";var w6Q="Click to filter";var m6Q="Double click to fit";var T6Q="Drag to resize";var I6Q="Column:";var S6Q="Row:";var d6Q="Invalid date";var y6Q="(blank)";var Z6Q="Grand Total";var H6Q="Totals";var E6Q="Total";var J6Q="All values";var i6Q="Are you sure you want to remove this calculated value?";var f6Q="Remove {0}?";var k6Q="Remove";var Q6Q="Calculate individual values";var A6Q="Drop values and edit formula here";var R6Q="Formula";var h6Q="Value name";var e6Q="Drag values to formula";var a6Q="Calculated Value";var L6Q="{0}: <b>{1}</b>";var c6Q="Column: <b>{0}</b>";var t6Q="Row: <b>{0}</b>";var n6Q="Details";var o6Q="Sort:";var j6Q="Multiple Items";var b6Q="{0} of {1} found are selected";var M6Q="{0} of {1} selected";var O6Q="Select All Results";var F6Q="Select All";var s6Q="Search";var K6Q="Choose value";var x6Q="Bottom";var D6Q="Top";var N6Q="Clear";var z6Q="Top 10";var u6Q="zA";var q6Q="Az";var Y6Q="Drag and drop fields to arrange";var B6Q="Fields";var X6Q="Calculated Values";var p6Q="Collapse All";var l6Q="Expand All";var V6Q="Add calculated value";var W6Q="Drop field here";var G6Q="Report Filters";var v6Q="Columns";var U6Q="Rows";var P3Q="All Fields";var C3Q="Values";var r3Q="Drop & Arrange Values";var w3Q="Drop & Arrange Columns";var m3Q="Drop & Arrange Rows";var T3Q="Drop & Arrange Report Filter";var I3Q="Drag Dimensions";var S3Q="Select and arrange columns";this.fieldsList.flatHierarchyBox=S3Q;this.fieldsList.hierarchyBox=I3Q;this.fieldsList.filterBox=T3Q;this.fieldsList.rowBox=m3Q;this.fieldsList.columnBox=w3Q;this.fieldsList.measureBox=r3Q;this.fieldsList.values=C3Q;this.fieldsList.allFields=P3Q;this.fieldsList.rows=U6Q;this.fieldsList.columns=v6Q;this.fieldsList.filters=G6Q;this.fieldsList.dropField=W6Q;this.fieldsList.addCalculatedMeasure=V6Q;this.fieldsList.expandAll=l6Q;this.fieldsList.collapseAll=p6Q;this.fieldsList.formulasGroupName=X6Q;this.fieldsList.title=B6Q;this.fieldsList.subtitle=Y6Q;this.filter.ascSort=q6Q;this.filter.descSort=u6Q;this.filter.topX=z6Q;this.filter.clearTopX=N6Q;this.filter.top=D6Q;this.filter.bottom=x6Q;this.filter.measuresPrompt=K6Q;this.filter.search=s6Q;this.filter.selectAll=F6Q;this.filter.selectAllResults=O6Q;this.filter.amountSelected=M6Q;this.filter.amountFound=b6Q;this.filter.multipleItems=j6Q;this.filter.all=R3K.g6Q;this.filter.sort=o6Q;this.drillThrough.title=n6Q;this.drillThrough.row=t6Q;this.drillThrough.column=c6Q;this.drillThrough.value=L6Q;this.calculatedView.title=a6Q;this.calculatedView.measureBox=e6Q;this.calculatedView.measureName=h6Q;this.calculatedView.formula=R6Q;this.calculatedView.formulaPrompt=A6Q;this.calculatedView.calculateIndividualValues=Q6Q;this.calculatedView.removeValue=k6Q;this.calculatedView.removeValueTitle=f6Q;this.calculatedView.removeValueMessage=i6Q;this.calculatedView.header=V6Q;this.calculatedView.allValues=J6Q;this.grid.total=E6Q;this.grid.totals=H6Q;this.grid.grandTotal=Z6Q;this.grid.blankMember=y6Q;this.grid.dateInvalidCaption=d6Q;this.tooltips.row=S6Q;this.tooltips.column=I6Q;this.tooltips.headerResize=T6Q;this.tooltips.headerFit=m6Q;this.tooltips.filterIcon=w6Q;this.tooltips.filtered=r6Q;this.tooltips.expandIcon=C6Q;this.tooltips.collapseIcon=P6Q;this.tooltips.drillDown=U5Q;this.tooltips.drillUp=v5Q;this.tooltips.sortIcon=G5Q;this.tooltips.sortedDescIcon=W5Q;this.tooltips.sortedAscIcon=G5Q;this.tooltips.close=V5Q;this.aggregations.sum.caption=l5Q;this.aggregations.sum.totalCaption=p5Q;this.aggregations.sum.grandTotalCaption=X5Q;this.aggregations.count.caption=B5Q;this.aggregations.count.totalCaption=Y5Q;this.aggregations.count.grandTotalCaption=q5Q;this.aggregations.distinctCount.caption=u5Q;this.aggregations.distinctCount.totalCaption=z5Q;this.aggregations.distinctCount.grandTotalCaption=N5Q;this.aggregations.average.caption=D5Q;this.aggregations.average.totalCaption=x5Q;this.aggregations.average.grandTotalCaption=K5Q;this.aggregations.product.caption=s5Q;this.aggregations.product.totalCaption=F5Q;this.aggregations.product.grandTotalCaption=O5Q;this.aggregations.min.caption=M5Q;this.aggregations.min.totalCaption=b5Q;this.aggregations.min.grandTotalCaption=j5Q;this.aggregations.max.caption=g5Q;this.aggregations.max.totalCaption=o5Q;this.aggregations.max.grandTotalCaption=n5Q;this.aggregations.percent.caption=t5Q;this.aggregations.percent.totalCaption=c5Q;this.aggregations.percent.grandTotalCaption=L5Q;this.aggregations.percentOfColumn.caption=a5Q;this.aggregations.percentOfColumn.totalCaption=e5Q;this.aggregations.percentOfColumn.grandTotalCaption=h5Q;this.aggregations.percentOfRow.caption=R5Q;this.aggregations.percentOfRow.totalCaption=A5Q;this.aggregations.percentOfRow.grandTotalCaption=Q5Q;this.aggregations.index.caption=k5Q;this.aggregations.index.totalCaption=f5Q;this.aggregations.index.grandTotalCaption=f5Q;this.aggregations.difference.caption=i5Q;this.aggregations.difference.totalCaption=J5Q;this.aggregations.difference.grandTotalCaption=J5Q;this.aggregations.percentDifference.caption=E5Q;this.aggregations.percentDifference.totalCaption=H5Q;this.aggregations.percentDifference.grandTotalCaption=H5Q;this.aggregations.none.caption=Z5Q;this.messages.error=y5Q;this.messages.warning=d5Q;this.messages.limitation=R3K.S5Q;this.messages.browse=I5Q;this.messages.confirmation=T5Q;this.messages.reportFileType=m5Q;this.messages.loading=w5Q;this.messages.loadingConfiguration=U9VV.C4C;this.messages.loadingData=r5Q;this.messages.uploading=C5Q;this.messages.waiting=P5Q;this.messages.progress=U7Q;this.messages.progressUnknown=v7Q;this.messages.analyzing=G7Q;this.messages.analyzingProgress=W7Q;this.messages.analyzingRecords=V7Q;this.messages.saving=l7Q;this.messages.loadingDimensions=p7Q;this.messages.loadingHierarchies=X7Q;this.messages.loadingMeasures=B7Q;this.messages.loadingMembers=Y7Q;this.messages.loadingLevels=q7Q;this.messages.fullscreen=u7Q;this.messages.exportComplete=z7Q;this.messages.generatingPDF=N7Q;this.messages.pleaseWait=D7Q;this.messages.pagesWereGenerated=x7Q;this.messages.exportProgress=K7Q;this.messages.exportError=s7Q;this.messages.cantSaveFile=F7Q;this.messages.cantSaveToClipboard=O7Q;this.messages.saveReportToFile=M7Q;this.messages.saveDataToFile=b7Q;this.messages.loadReportFromFile=j7Q;this.messages.inputNewName=g7Q;this.messages.inputReportName=o7Q;this.messages.dataStreamError=n7Q;this.messages.unableToOpenFile=t7Q;this.messages.unableTwoFileBrowsingSessions=c7Q;this.messages.noGoogleClientKey=L7Q;this.messages.wrongFormulaFormat=a7Q;this.messages.inappropriateFileFormat=e7Q;this.messages.invalidJSONdata=h7Q;this.messages.excelPdfExportLimitation=R7Q;this.messages.excelExportLimitation=A7Q;this.messages.noDataAvailable=Q7Q;this.messages.csvHeaderParsingError=k7Q;this.messages.dataWasUpdated=f7Q;this.messages.ocsvIncompatible=i7Q;this.messages.unknownError=J7Q;this.messages.invalidReportFormat=E7Q;this.messages.tooManyColumnsInClassicMode=H7Q;this.messages.cantExpand=Z7Q;this.messages.cantExpandTitle=y7Q;this.buttons.ok=d7Q;this.buttons.apply=S7Q;this.buttons.cancel=I7Q;this.buttons.save=T7Q;this.buttons.clear=N6Q;this.buttons.select=m7Q;this.buttons.yes=w7Q;this.buttons.no=r7Q;this.contextMenu.drillThrough=C7Q;this.contextMenu.openFilter=P7Q;this.contextMenu.collapse=U9B;this.contextMenu.expand=v9B;this.contextMenu.sortRowDesc=G9B;this.contextMenu.sortRowAsc=W9B;this.contextMenu.clearSorting=V9B;this.contextMenu.sortColumnDesc=l9B;this.contextMenu.sortColumnAsc=p9B;this.date.year=R3K.X9B;this.date.quarter=B9B;this.date.month=R3K.U7C;this.date.day=R3K.P5C;this.quarters.q1=Y9B;this.quarters.q2=q9B;this.quarters.q3=u9B;this.quarters.q4=z9B;this.months.january=N9B;this.months.february=D9B;this.months.march=x9B;this.months.april=K9B;this.months.may=s9B;this.months.june=F9B;this.months.july=O9B;this.months.august=M9B;this.months.september=b9B;this.months.october=j9B;this.months.november=g9B;this.months.december=o9B;this.monthsShort.january=n9B;this.monthsShort.february=t9B;this.monthsShort.march=c9B;this.monthsShort.april=L9B;this.monthsShort.may=s9B;this.monthsShort.june=a9B;this.monthsShort.july=e9B;this.monthsShort.august=h9B;this.monthsShort.september=R9B;this.monthsShort.october=A9B;this.monthsShort.november=Q9B;this.monthsShort.december=k9B;this.weekdays.first=f9B;this.weekdays.second=i9B;this.weekdays.third=J9B;this.weekdays.fourth=E9B;this.weekdays.fifth=H9B;this.weekdays.sixth=Z9B;this.weekdays.seventh=y9B;this.weekdaysShort.first=d9B;this.weekdaysShort.second=S9B;this.weekdaysShort.third=I9B;this.weekdaysShort.fourth=T9B;this.weekdaysShort.fifth=m9B;this.weekdaysShort.sixth=w9B;this.weekdaysShort.seventh=r9B;this.toolbar.connect=C9B;this.toolbar.connect_local_csv=P9B;this.toolbar.connect_local_json=U1B;this.toolbar.connect_google_drive=v1B;this.toolbar.connect_remote_csv=G1B;this.toolbar.connect_remote_csv_mobile=W1B;this.toolbar.open=V1B;this.toolbar.local_report=l1B;this.toolbar.remote_report=p1B;this.toolbar.remote_report_mobile=X1B;this.toolbar.save=T7Q;this.toolbar.load_json=B1B;this.toolbar.grid=Y1B;this.toolbar.grid_flat=q1B;this.toolbar.grid_classic=u1B;this.toolbar.grid_compact=z1B;this.toolbar.format=N1B;this.toolbar.format_cells=D1B;this.toolbar.format_cells_mobile=N1B;this.toolbar.conditional_formatting=x1B;this.toolbar.conditional_formatting_mobile=K1B;this.toolbar.options=s1B;this.toolbar.fullscreen=F1B;this.toolbar.minimize=O1B;this.toolbar[R3K.M1B]=b1B;this.toolbar.export_print=j1B;this.toolbar.export_html=g1B;this.toolbar.export_csv=o1B;this.toolbar.export_excel=n1B;this.toolbar.export_image=t1B;this.toolbar.export_pdf=c1B;this.toolbar.fields=B6Q;this.toolbar.ok=d7Q;this.toolbar.apply=S7Q;this.toolbar.done=L1B;this.toolbar.cancel=I7Q;this.toolbar.value=a1B;this.toolbar[R3K.e1B]=h1B;this.toolbar[R3K.R1B]=A1B;this.toolbar.then=Q1B;this.toolbar.open_remote_csv=k1B;this.toolbar.csv=W1B;this.toolbar.credentials=f1B;this.toolbar.username=i1B;this.toolbar.password=J1B;this.toolbar.open_remote_report=E1B;this.toolbar.choose_value=K6Q;this.toolbar.text_align=H1B;this.toolbar.align_left=U9VV.M2C;this.toolbar.align_right=U9VV.j2C;this.toolbar.none=Z1B;this.toolbar.space=y1B;this.toolbar.thousand_separator=d1B;this.toolbar.decimal_separator=S1B;this.toolbar.decimal_places=I1B;this.toolbar.currency_symbol=T1B;this.toolbar.currency_align=m1B;this.toolbar.null_value=w1B;this.toolbar.is_percent=r1B;this.toolbar.true_value=R3K.j7C;this.toolbar.false_value=R3K.C1B;this.toolbar.conditional=K1B;this.toolbar.add_condition=P1B;this.toolbar.less_than=U8B;this.toolbar.less_than_or_equal=v8B;this.toolbar.greater_than=G8B;this.toolbar.greater_than_or_equal=W8B;this.toolbar.equal_to=V8B;this.toolbar.not_equal_to=l8B;this.toolbar.between=p8B;this.toolbar.is_empty=X8B;this.toolbar.all_values=J6Q;this.toolbar.and=R3K.B8B;this.toolbar.and_symbole=R3K.R6C;this.toolbar.cp_text=Y8B;this.toolbar.cp_highlight=q8B;this.toolbar.layout_options=u8B;this.toolbar.layout=z8B;this.toolbar.compact_view=N8B;this.toolbar.classic_view=D8B;this.toolbar.flat_view=x8B;this.toolbar.grand_totals=K8B;this.toolbar.grand_totals_off=s8B;this.toolbar.grand_totals_on=F8B;this.toolbar.grand_totals_on_rows=O8B;this.toolbar.grand_totals_on_columns=M8B;this.toolbar.subtotals=b8B;this.toolbar.subtotals_off=j8B;this.toolbar.subtotals_on=g8B;this.toolbar.subtotals_on_rows=o8B;this.toolbar.subtotals_on_columns=n8B;this.toolbar.choose_page_orientation=t8B;this.toolbar.landscape=c8B;this.toolbar.portrait=L8B;this.toolbar.message_error=this.messages.error;this.toolbar.message_no_google_client_id=this.messages.noGoogleClientKey;};function G3n(){var h3K=U9VV;this.fieldsList={flatHierarchyBox:h3K.x4C,hierarchyBox:h3K.x4C,filterBox:h3K.x4C,rowBox:h3K.x4C,columnBox:h3K.x4C,measureBox:h3K.x4C,values:h3K.x4C,addCalculatedMeasure:h3K.x4C,expandAll:h3K.x4C,collapseAll:h3K.x4C,formulasGroupName:h3K.x4C,allFields:h3K.x4C,rows:h3K.x4C,columns:h3K.x4C,filters:h3K.x4C,dropField:h3K.x4C,title:h3K.x4C,subtitle:h3K.x4C};this.filter={all:h3K.x4C,multipleItems:h3K.x4C,selectAll:h3K.x4C,selectAllResults:h3K.x4C,top:h3K.x4C,bottom:h3K.x4C,ascSort:h3K.x4C,descSort:h3K.x4C,topX:h3K.x4C,clearTopX:h3K.x4C,measuresPrompt:h3K.x4C,search:h3K.x4C,amountSelected:h3K.x4C,amountFound:h3K.x4C,sort:h3K.x4C};this.drillThrough={title:h3K.x4C,row:h3K.x4C,column:h3K.x4C,value:h3K.x4C};this.calculatedView={title:h3K.x4C,measureBox:h3K.x4C,measureName:h3K.x4C,formula:h3K.x4C,formulaPrompt:h3K.x4C,calculateIndividualValues:h3K.x4C,removeValue:h3K.x4C,removeValueTitle:h3K.x4C,removeValueMessage:h3K.x4C,header:h3K.x4C,allValues:h3K.x4C};this.grid={total:h3K.x4C,totals:h3K.x4C,grandTotal:h3K.x4C,blankMember:h3K.x4C,dateInvalidCaption:h3K.x4C};this.tooltips={row:h3K.x4C,column:h3K.x4C,headerResize:h3K.x4C,headerFit:h3K.x4C,filterIcon:h3K.x4C,filtered:h3K.x4C,expandIcon:h3K.x4C,collapseIcon:h3K.x4C,drillDown:h3K.x4C,drillUp:h3K.x4C,sortIcon:h3K.x4C,sortedDescIcon:h3K.x4C,sortedAscIcon:h3K.x4C,close:h3K.x4C};this.aggregations={sum:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},count:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},distinctCount:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},difference:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},percentDifference:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},average:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},product:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},min:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},max:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},percent:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},percentOfColumn:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},percentOfRow:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},index:{caption:h3K.x4C,totalCaption:h3K.x4C,grandTotalCaption:h3K.x4C},none:{caption:h3K.x4C}};this.messages={error:h3K.x4C,warning:h3K.x4C,limitation:h3K.x4C,browse:h3K.x4C,confirmation:h3K.x4C,reportFileType:h3K.x4C,loading:h3K.x4C,loadingConfiguration:h3K.x4C,loadingData:h3K.x4C,waiting:h3K.x4C,progress:h3K.x4C,progressUnknown:h3K.x4C,analyzing:h3K.x4C,analyzingProgress:h3K.x4C,analyzingRecords:h3K.x4C,saving:h3K.x4C,loadingDimensions:h3K.x4C,loadingHierarchies:h3K.x4C,loadingMeasures:h3K.x4C,loadingMembers:h3K.x4C,loadingLevels:h3K.x4C,loadingProperties:h3K.x4C,fullscreen:h3K.x4C,exportComplete:h3K.x4C,exportProgress:h3K.x4C,exportError:h3K.x4C,generatingPDF:h3K.x4C,pleaseWait:h3K.x4C,pagesWereGenerated:h3K.x4C,uploading:h3K.x4C,cantSaveFile:h3K.x4C,cantSaveToClipboard:h3K.x4C,saveReportToFile:h3K.x4C,loadReportFromFile:h3K.x4C,inputNewName:h3K.x4C,inputReportName:h3K.x4C,invalidDataSource:h3K.x4C,dataStreamError:h3K.x4C,unableToOpenFile:h3K.x4C,unableTwoFileBrowsingSessions:h3K.x4C,noGoogleClientKey:h3K.x4C,inappropriateFileFormat:h3K.x4C,invalidJSONdata:h3K.x4C,wrongFormulaFormat:h3K.x4C,excelPdfExportLimitation:h3K.x4C,excelExportLimitation:h3K.x4C,noDataAvailable:h3K.x4C,saveDataToFile:h3K.x4C,dataWasUpdated:h3K.x4C,ocsvIncompatible:h3K.x4C,unknownError:h3K.x4C,invalidReportFormat:h3K.x4C,csvHeaderParsingError:h3K.x4C,tooManyColumnsInClassicMode:h3K.x4C,cantExpand:h3K.x4C,cantExpandTitle:h3K.x4C};this.buttons={ok:h3K.x4C,apply:h3K.x4C,cancel:h3K.x4C,save:h3K.x4C,clear:h3K.x4C,select:h3K.x4C,yes:h3K.x4C,no:h3K.x4C};this.contextMenu={clearSorting:h3K.x4C,collapse:h3K.x4C,drillThrough:h3K.x4C,expand:h3K.x4C,openFilter:h3K.x4C,sortColumnAsc:h3K.x4C,sortColumnDesc:h3K.x4C,sortRowAsc:h3K.x4C,sortRowDesc:h3K.x4C};this.date={year:h3K.x4C,quarter:h3K.x4C,month:h3K.x4C,day:h3K.x4C};this.quarters={q1:h3K.x4C,q2:h3K.x4C,q3:h3K.x4C,q4:h3K.x4C};this.months={january:h3K.x4C,february:h3K.x4C,march:h3K.x4C,april:h3K.x4C,may:h3K.x4C,june:h3K.x4C,july:h3K.x4C,august:h3K.x4C,september:h3K.x4C,october:h3K.x4C,november:h3K.x4C,december:h3K.x4C};this.monthsShort={january:h3K.x4C,february:h3K.x4C,march:h3K.x4C,april:h3K.x4C,may:h3K.x4C,june:h3K.x4C,july:h3K.x4C,august:h3K.x4C,september:h3K.x4C,october:h3K.x4C,november:h3K.x4C,december:h3K.x4C};this.weekdays={first:h3K.x4C,second:h3K.x4C,third:h3K.x4C,fourth:h3K.x4C,fifth:h3K.x4C,sixth:h3K.x4C,seventh:h3K.x4C};this.weekdaysShort={first:h3K.x4C,second:h3K.x4C,third:h3K.x4C,fourth:h3K.x4C,fifth:h3K.x4C,sixth:h3K.x4C,seventh:h3K.x4C};this.toolbar={connect:h3K.x4C,connect_local_csv:h3K.x4C,connect_local_json:h3K.x4C,connect_remote_csv:h3K.x4C,connect_remote_csv_mobile:h3K.x4C,connect_google_drive:h3K.x4C,open:h3K.x4C,local_report:h3K.x4C,remote_report:h3K.x4C,remote_report_mobile:h3K.x4C,save:h3K.x4C,save_json:h3K.x4C,load_json:h3K.x4C,grid:h3K.x4C,grid_flat:h3K.x4C,grid_classic:h3K.x4C,grid_compact:h3K.x4C,format:h3K.x4C,format_cells:h3K.x4C,format_cells_mobile:h3K.x4C,conditional_formatting:h3K.x4C,conditional_formatting_mobile:h3K.x4C,options:h3K.x4C,fullscreen:h3K.x4C,minimize:h3K.x4C,"export":h3K.x4C,export_print:h3K.x4C,export_html:h3K.x4C,export_csv:h3K.x4C,export_excel:h3K.x4C,export_image:h3K.x4C,export_pdf:h3K.x4C,fields:h3K.x4C,ok:h3K.x4C,apply:h3K.x4C,done:h3K.x4C,cancel:h3K.x4C,value:h3K.x4C,"delete":h3K.x4C,"if":h3K.x4C,then:h3K.x4C,open_remote_csv:h3K.x4C,csv:h3K.x4C,open_remote_report:h3K.x4C,choose_value:h3K.x4C,text_align:h3K.x4C,align_left:h3K.x4C,align_right:h3K.x4C,none:h3K.x4C,space:h3K.x4C,thousand_separator:h3K.x4C,decimal_separator:h3K.x4C,decimal_places:h3K.x4C,currency_symbol:h3K.x4C,currency_align:h3K.x4C,null_value:h3K.x4C,is_percent:h3K.x4C,true_value:h3K.x4C,false_value:h3K.x4C,conditional:h3K.x4C,add_condition:h3K.x4C,less_than:h3K.x4C,less_than_or_equal:h3K.x4C,greater_than:h3K.x4C,greater_than_or_equal:h3K.x4C,equal_to:h3K.x4C,not_equal_to:h3K.x4C,between:h3K.x4C,is_empty:h3K.x4C,all_values:h3K.x4C,and:h3K.x4C,and_symbole:h3K.x4C,cp_text:h3K.x4C,cp_highlight:h3K.x4C,layout_options:h3K.x4C,layout:h3K.x4C,compact_view:h3K.x4C,classic_view:h3K.x4C,flat_view:h3K.x4C,grand_totals:h3K.x4C,grand_totals_off:h3K.x4C,grand_totals_on:h3K.x4C,grand_totals_on_rows:h3K.x4C,grand_totals_on_columns:h3K.x4C,subtotals:h3K.x4C,subtotals_off:h3K.x4C,subtotals_on:h3K.x4C,subtotals_on_rows:h3K.x4C,subtotals_on_columns:h3K.x4C,choose_page_orientation:h3K.x4C,landscape:h3K.x4C,portrait:h3K.x4C,message_error:h3K.x4C,message_no_google_client_id:h3K.x4C};}G3n.prototype.getLabel=function(W3n){var e3K=U9VV;W3n=W3n.split(v9VV.l5C);return e3K.O8C==W3n.length?this[W3n[e3K.F8C]]:e3K.M8C!=W3n.length||utils.nullOrUndefined(this[W3n[e3K.F8C]])||utils.nullOrUndefined(this[W3n[e3K.F8C]][W3n[e3K.O8C]])?e3K.b8C!=W3n.length||utils.nullOrUndefined(this[W3n[e3K.F8C]])||utils.nullOrUndefined(this[W3n[e3K.F8C]][W3n[e3K.O8C]])||utils.nullOrUndefined(this[W3n[e3K.F8C]][W3n[e3K.O8C]][W3n[e3K.M8C]])?e3K.x4C:this[W3n[e3K.F8C]][W3n[e3K.O8C]][W3n[e3K.M8C]]:this[W3n[e3K.F8C]][W3n[e3K.O8C]];};G3n.prototype.merge=function(V3n){G3n.nodeFromObject(V3n,this);};G3n.prototype.toObject=function(){var p3n={},l3n;for(l3n in this)this[l3n]instanceof Function||utils.nullOrUndefined(this[l3n])||(p3n[l3n]=this[l3n]);return JSON.stringify(p3n,U9VV.x4C,U9VV.M8C);};G3n.fromObject=function(B3n){var X3n=new G3n();G3n.nodeFromObject(B3n,X3n);return X3n;};G3n.nodeFromObject=function(q3n,z3n){if(!utils.nullOrUndefined(q3n)&&!utils.nullOrUndefined(z3n)&&q3n instanceof Object)for(var u3n in q3n){var Y3n=q3n[u3n];utils.nullOrUndefined(Y3n)||(U9VV.K2C==typeof Y3n?z3n[u3n]=Y3n:Y3n instanceof Object&&G3n.nodeFromObject(Y3n,z3n[u3n]));}};return G3n;}();v3n.LabelsValueObject=U3n;}(P2n._labels||(P2n._labels={})));}(C2n.model||(C2n.model={})));}(pivot||(pivot={})));(function(N3n){(function(D3n){(function(s3n){var x3n=function(){var h8B="cancel";var e8B="fail";var a8B="load";F3n.REPORT_FILE_LOADED=a8B;F3n.REPORT_FILE_FAILED=e8B;F3n.REPORT_FILE_CANCELLED=h8B;function F3n(){}return F3n;}();s3n.ReportEvent=x3n;var K3n=function(O3n){__extends(M3n,O3n);function M3n(j3n){var b3n=O3n.call(this,x3n.REPORT_FILE_LOADED)||this;b3n.report=j3n;return b3n;}return M3n;}(events._Event);s3n.ReportFileLoadedEvent=K3n;K3n=function(g3n){__extends(o3n,g3n);function o3n(t3n){var n3n=g3n.call(this,x3n.REPORT_FILE_FAILED)||this;n3n.message=t3n;return n3n;}return o3n;}(events._Event);s3n.ReportFileFailedEvent=K3n;}(D3n.report||(D3n.report={})));}(N3n.model||(N3n.model={})));}(pivot||(pivot={})));(function(c3n){(function(L3n){(function(a3n){var e3n=function(R3n){__extends(h3n,R3n);h3n.prototype.open=function(){var Q3n=this;this.localReportLoader=new a3n.LocalReportLoader();this.localReportLoader.addEventListener(a3n.ReportEvent.REPORT_FILE_LOADED,function(k3n){return Q3n.onReportFileLoaded(k3n);});this.localReportLoader.addEventListener(a3n.ReportEvent.REPORT_FILE_FAILED,function(f3n){return Q3n.onReportFileFailed(f3n);});this.localReportLoader.addEventListener(a3n.ReportEvent.REPORT_FILE_CANCELLED,function(){return Q3n.onReportFileCancelled();});this.localReportLoader.load();};h3n.prototype.load=function(J3n){var i3n=this;c3n.preloader(!U9VV.F8C,L3n._labels.Labels.MESSAGE_LOADING);this.urlReportLoader=new a3n.UrlReportLoader();this.urlReportLoader.addEventListener(a3n.ReportEvent.REPORT_FILE_LOADED,function(E3n){return i3n.onReportFileLoaded(E3n);});this.urlReportLoader.addEventListener(a3n.ReportEvent.REPORT_FILE_FAILED,function(H3n){return i3n.onReportFileFailed(H3n);});this.urlReportLoader.load(utils.URLUtils.addTimestamp(J3n));};h3n.prototype.cancel=function(){this.localReportLoader&&(this.localReportLoader.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_LOADED),this.localReportLoader.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_FAILED),this.localReportLoader=U9VV.x4C);this.urlReportLoader&&(this.urlReportLoader.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_LOADED),this.urlReportLoader.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_FAILED),this.urlReportLoader=U9VV.x4C);this.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_LOADED);this.removeAllEventListeners(a3n.ReportEvent.REPORT_FILE_FAILED);};h3n.prototype.onReportFileLoaded=function(Z3n){this.dispatch(new a3n.ReportFileLoadedEvent(Z3n.report));};function h3n(){var A3n=R3n.call(this)||this;A3n.defaultFilename=v9VV.R8B;return A3n;}h3n.prototype.onReportFileFailed=function(y3n){c3n.uialert(y3n.message,L3n._labels.Labels.ERROR,c3n.AlertType.ERROR);this.dispatchWith(a3n.ReportEvent.REPORT_FILE_FAILED);};h3n.prototype.onReportFileCancelled=function(){this.dispatchWith(a3n.ReportEvent.REPORT_FILE_CANCELLED);};h3n.prototype.save=function(d3n,T3n,m3n,w3n,P3n,S3n){var j3K=U9VV;var f8B="embedData";var Q8B="destination";var r3n=this;void j3K.F8C===T3n&&(T3n=j3K.x4C);void j3K.F8C===P3n&&(P3n=!j3K.O8C);this.saveCallbackHandler=m3n;m3n=!j3K.O8C;var I3n=j3K.K2C==typeof d3n?d3n:j3K.x4C,C3n=w3n;w3n=P3n;d3n instanceof Object&&(d3n.hasOwnProperty(v9VV.A8B)&&(I3n=d3n.filename),d3n.hasOwnProperty(Q8B)&&(T3n=d3n.destination),d3n.hasOwnProperty(v9VV.k8B)&&(C3n=d3n.url),d3n.hasOwnProperty(f8B)&&(w3n=d3n.embedData));if(j3K.x4C==I3n||j3K.C4C==I3n)I3n=this.defaultFilename;S3n.connectionInfo.dataSourceType==c3n.data_.consts.DataSourceType.CSV&&S3n.options.gridType!=c3n._view.grid.GridType.FLAT&&(S3n.connectionInfo instanceof c3n.data_.vo.FileConnectionInfo&&S3n.connectionInfo.browseForFile||S3n.connectionInfo.embedded||w3n)&&(d3n=new c3n.data_.vo.CSVConnectionInfo(),d3n.embedded=!j3K.F8C,S3n.connectionInfo=d3n,m3n=!j3K.F8C);T3n=j3K.x4C==T3n?a3n.DestinationType.FILE:T3n.toLowerCase();switch(T3n){case a3n.DestinationType.SERVER:m3n?new c3n.data_.csv.CSVSaver().getData(function(U6n){return r3n.saveToServer(C3n,I3n,S3n,U6n);}):this.saveToServer(C3n,I3n,S3n);break;case a3n.DestinationType.FILE:m3n?new c3n.data_.csv.CSVSaver().getData(function(v6n){return r3n.saveToFile(I3n,S3n,v6n);}):this.saveToFile(I3n,S3n);break;default:m3n?new c3n.data_.csv.CSVSaver().getData(function(G6n){return r3n.saveToFile(I3n,S3n,G6n);}):this.saveToFile(I3n,S3n);}return j3K.x4C;};h3n.prototype.dispatchReportSaved=function(W6n){if(U9VV.x4C!=this.saveCallbackHandler)try{this.saveCallbackHandler(W6n);}catch(V6n){var i8B="Error! ";this.saveCallbackHandler(i8B+V6n);}};h3n.prototype.defineReportType=function(l6n){return JSON.stringify(l6n.toObject(),U9VV.x4C,U9VV.j8C);};h3n.prototype.saveToFile=function(Y6n,q6n,p6n){void U9VV.F8C===p6n&&(p6n=U9VV.x4C);var X6n=[this.defineReportType(q6n)];U9VV.x4C!=p6n&&(X6n.push(v9VV.m6C),X6n.push(p6n));try{var B6n=this;c3n.uialert(L3n._labels.Labels.MESSAGE_SAVE_REPORT_TO_FILE,L3n._labels.Labels.CONFIRMATION,c3n.AlertType.CONFIRMATION,[L3n._labels.Labels.BUTTON_SAVE,L3n._labels.Labels.BUTTON_CANCEL],[function(){var J8B="text/js;charset=utf-8";var u6n=new Blob(X6n,{type:J8B});savingAs(u6n,Y6n);B6n.dispatchReportSaved(!U9VV.F8C);},function(){B6n.dispatchReportSaved(!U9VV.O8C);}]);}catch(z6n){c3n.uialert(L3n._labels.Labels.MESSAGE_CANT_SAVE_FILE,L3n._labels.Labels.ERROR,c3n.AlertType.ERROR),this.dispatchReportSaved(!U9VV.O8C);}};h3n.prototype.saveToServer=function(s6n,O6n,F6n,x6n){var N3K=U9VV;var E8B="Report cannot be saved. Save report url is empty.";var K6n=this;void N3K.F8C===x6n&&(x6n=N3K.x4C);utils.nullOrEmpty(s6n)&&c3n.uialert(E8B,L3n._labels.Labels.WARNING,c3n.AlertType.ERROR);var D6n=new misc.URLVariables();D6n.data.name=O6n;D6n.data.report=N3K.x4C==x6n?this.defineReportType(F6n):this.defineReportType(F6n)+v9VV.m6C+x6n;D6n.data.type=v9VV.n6C;var N6n=new misc.URLStream();N6n.data=D6n.toString();N6n.contentType=misc.ContentType.APPLICATION_URLENCODED;N6n.requestMethod=misc.URLRequestMethod.POST;N6n.addEventListener(events._Event.COMPLETE,function(){return K6n.onSaveComplete(N6n);});N6n.addEventListener(events._Event.ERROR,function(){return K6n.onError(N6n);});N6n.load(s6n);c3n.preloader(!N3K.F8C,L3n._labels.Labels.MESSAGE_UPLOADING);return N3K.x4C;};h3n.prototype.onSaveComplete=function(M6n){c3n.preloader(!U9VV.O8C);this.dispatchReportSaved(M6n.response);};h3n.prototype.onError=function(b6n){var H8B=' (<a href="{0}">{0}</a>)';c3n.preloader(!U9VV.O8C);this.dispatchReportSaved(!U9VV.O8C);b6n=L3n.XSSCheck.valid(b6n.url)?b6n.url:L3n.XSSCheck.validate(b6n.url);c3n.uialert(L3n._labels.Labels.MESSAGE_CANT_SAVE_FILE+utils.StringUtils.bind(H8B,b6n),L3n._labels.Labels.ERROR,c3n.AlertType.ERROR);};return h3n;}(events.EventDispatcher);a3n.ReportManager=e3n;}(L3n.report||(L3n.report={})));}(c3n.model||(c3n.model={})));}(pivot||(pivot={})));(function(j6n){(function(g6n){(function(o6n){var n6n=function(){t6n.fromObject=function(c6n){var q3K=U9VV;if(q3K.x4C==c6n)return q3K.x4C;c6n instanceof t6n||(c6n=t6n.toPlainObject(c6n));var L6n=new t6n();L6n.connectionInfo=j6n.data_.vo.ConnectionInfo.fromObject(q3K.x4C!=c6n.connectionInfo?c6n.connectionInfo:c6n);L6n.options=g6n._options.vo.OptionsValueObject.fromObject(q3K.x4C!=c6n.options?c6n.options:c6n);L6n.slice=o6n.SliceValueObject.fromObject(q3K.x4C!=c6n.slice?c6n.slice:c6n,L6n.connectionInfo,L6n.options.gridType==j6n._view.grid.GridType.FLAT);q3K.x4C!=c6n.formats&&c6n.formats.length&&(L6n.formats=c6n.formats);q3K.x4C!=c6n.conditions&&c6n.conditions.length&&(L6n.conditions=c6n.conditions);q3K.x4C!=c6n.columnSizes&&q3K.K2C!=typeof c6n.columnSizes&&(L6n.columnSizes=c6n.columnSizes);q3K.x4C!=c6n.rowSizes&&q3K.K2C!=typeof c6n.rowSizes&&(L6n.rowSizes=c6n.rowSizes);q3K.x4C!=c6n.columnHeaderSizes&&q3K.K2C!=typeof c6n.columnHeaderSizes&&(L6n.columnHeaderSizes=c6n.columnHeaderSizes);q3K.x4C!=c6n.rowHeaderSizes&&q3K.K2C!=typeof c6n.rowHeaderSizes&&(L6n.rowHeaderSizes=c6n.rowHeaderSizes);q3K.x4C!=c6n.rowFilterSizes&&q3K.K2C!=typeof c6n.rowFilterSizes&&(L6n.rowFilterSizes=c6n.rowFilterSizes);q3K.x4C!=c6n.columnSizesByIdx&&(L6n.columnSizesByIdx=c6n.columnSizesByIdx);q3K.x4C!=c6n.rowSizesByIdx&&(L6n.rowSizesByIdx=c6n.rowSizesByIdx);q3K.x4C!=c6n.customFields&&(L6n.customFields=c6n.customFields);q3K.x4C!=c6n.localization&&(L6n.localization=c6n.localization);return L6n;};t6n.prototype.toObject=function(){var Y3K=U9VV;var e6n={},a6n=this.connectionInfo.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(a6n)||(e6n.dataSource=a6n);a6n=this.slice.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(a6n)||(e6n.slice=a6n);a6n=this.options.toObject();utils.ObjectUtils.isEmptyObject(a6n)||(e6n.options=a6n);a6n=this.composeConditionsObject();Y3K.F8C<a6n.length&&(e6n.conditions=a6n);if(Y3K.x4C!=this.formats&&Y3K.F8C!=this.formats.length){for(var a6n=[],A6n=!this.options.saveAllFormats&&Y3K.g8C<this.formats.length,R6n=Y3K.F8C;R6n<this.formats.length;R6n++){var h6n=this.formats[R6n];Y3K.C4C!=h6n.name&&(Y3K.x4C==this.slice.formatsInUse[h6n.name]||A6n&&!this.slice.formatsInUse[h6n.name])||a6n.push(h6n);}e6n.formats=a6n;}a6n=this.composeTableSizesObject();utils.ObjectUtils.isEmptyObject(a6n)||(e6n.tableSizes=a6n);Y3K.x4C!=this.customFields&&Y3K.F8C!=this.customFields.length&&(e6n.customFields=this.customFields);Y3K.x4C!=this.localization&&Y3K.C4C!=this.localization&&(e6n.localization=this.localization);return e6n;};t6n.prototype.composeConditionsObject=function(){var B3K=U9VV;for(var i6n=[],f6n=B3K.F8C;f6n<this.conditions.length;f6n++){var Q6n=this.conditions[f6n],k6n={};k6n.formula=Q6n.formula;-B3K.O8C<Q6n.row&&(k6n.row=Q6n.row);-B3K.O8C<Q6n.column&&(k6n.column=Q6n.column);-B3K.O8C<Q6n.isTotal&&(k6n.isTotal=B3K.O8C==Q6n.isTotal?!B3K.F8C:!B3K.O8C);Q6n.measure&&B3K.F8C<Q6n.measure.length&&(k6n.measure=Q6n.measure);Q6n.hierarchy&&B3K.F8C<Q6n.hierarchy.length&&(k6n.hierarchy=Q6n.hierarchy);Q6n.member&&B3K.F8C<Q6n.member.length&&(k6n.member=Q6n.member);Q6n.format&&!utils.ObjectUtils.isEmptyObject(Q6n.format)&&(k6n.format=Q6n.format);i6n.push(k6n);}return i6n;};t6n.prototype.composeTableSizesObject=function(){var p3K=U9VV;var E6n={},H6n,J6n,Z6n,y6n;if(p3K.x4C!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes)||p3K.x4C!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes)){E6n.columns=[];if(p3K.x4C!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes))for(J6n=p3K.F8C;J6n<this.columnHeaderSizes.length;J6n++)p3K.x4C!=this.columnHeaderSizes[J6n]&&E6n.columns.push({idx:J6n,width:this.columnHeaderSizes[J6n]});J6n=o6n.SliceValueObject.findMeasure(this.slice.columns);if(p3K.x4C!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes))for(H6n in this.columnSizes)Z6n=H6n.split(v9VV.k6C),p3K.F8C<=J6n?(y6n=Z6n.pop(),E6n.columns.push({tuple:Z6n,measure:y6n,width:this.columnSizes[H6n]})):E6n.columns.push({tuple:Z6n,width:this.columnSizes[H6n]});}if(p3K.x4C!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes)||p3K.x4C!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes)||p3K.x4C!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes)){E6n.rows=[];if(p3K.x4C!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes))for(J6n=p3K.F8C;J6n<this.rowFilterSizes.length;J6n++)p3K.x4C!=this.rowFilterSizes[J6n]&&E6n.rows.push({idx:J6n,height:this.rowFilterSizes[J6n]});if(p3K.x4C!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes))for(J6n=p3K.F8C;J6n<this.rowHeaderSizes.length;J6n++)p3K.x4C!=this.rowHeaderSizes[J6n]&&E6n.rows.push({idx:J6n,height:this.rowHeaderSizes[J6n]});J6n=o6n.SliceValueObject.findMeasure(this.slice.rows);if(p3K.x4C!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes))for(H6n in this.rowSizes)Z6n=H6n.split(v9VV.k6C),p3K.F8C<=J6n?(y6n=Z6n.pop(),E6n.rows.push({tuple:Z6n,measure:y6n,height:this.rowSizes[H6n]})):E6n.rows.push({tuple:Z6n,height:this.rowSizes[H6n]});}return E6n;};t6n.toPlainObject=function(d6n){var V3K=U9VV;var S6n={};if(void V3K.F8C==d6n)return S6n;V3K.x4C!=d6n.columnSizes&&(S6n.columnSizes=d6n.columnSizes);V3K.x4C!=d6n.rowSizes&&(S6n.rowSizes=d6n.rowSizes);V3K.x4C!=d6n.columnHeaderSizes&&(S6n.columnHeaderSizes=d6n.columnHeaderSizes);V3K.x4C!=d6n.rowHeaderSizes&&(S6n.rowHeaderSizes=d6n.rowHeaderSizes);V3K.x4C!=d6n.rowFilterSizes&&(S6n.rowFilterSizes=d6n.rowFilterSizes);V3K.x4C!=d6n.rowSizesByIdx&&(S6n.rowSizesByIdx=d6n.rowSizesByIdx);V3K.x4C!=d6n.columnSizesByIdx&&(S6n.columnSizesByIdx=d6n.columnSizesByIdx);V3K.x4C!=d6n.customFields&&(S6n.customFields=d6n.customFields);V3K.x4C!=d6n.labels&&(S6n.labels=d6n.labels);S6n.connectionInfo=V3K.x4C!=d6n.connectionInfo?j6n.data_.vo.ConnectionInfo.toPlainObject(d6n.connectionInfo):j6n.data_.vo.ConnectionInfo.toPlainObject(d6n);S6n.slice=V3K.x4C!=d6n.slice?o6n.SliceValueObject.toPlainObject(d6n.slice):o6n.SliceValueObject.toPlainObject(d6n);S6n.options=V3K.x4C!=d6n.options?g6n._options.vo.OptionsValueObject.toPlainObject(d6n.options):g6n._options.vo.OptionsValueObject.toPlainObject(d6n);V3K.x4C!=d6n.formats&&V3K.F8C<d6n.formats.length&&(S6n.formats=d6n.formats);V3K.x4C!=d6n.conditions&&V3K.F8C<d6n.conditions.length&&(S6n.conditions=d6n.conditions);if(V3K.x4C!=d6n.tableSizes){var I6n,m6n;if(V3K.x4C!=d6n.tableSizes.columns){var T6n=d6n.tableSizes.columns;for(I6n=V3K.F8C;I6n<T6n.length;I6n++)if(V3K.x4C!=T6n[I6n].idx&&(V3K.x4C==S6n.columnSizesByIdx&&(S6n.columnSizesByIdx={}),S6n.columnSizesByIdx[parseInt(T6n[I6n].idx)]=parseInt(T6n[I6n].width)),V3K.x4C!=T6n[I6n].tuple||V3K.x4C!=T6n[I6n].measure)V3K.x4C==S6n.columnSizes&&(S6n.columnSizes={}),m6n=V3K.x4C==T6n[I6n].tuple?[]:T6n[I6n].tuple.slice(),V3K.x4C!=T6n[I6n].measure&&m6n.push(T6n[I6n].measure),S6n.columnSizes[m6n.join(v9VV.k6C)]=parseInt(T6n[I6n].width);}if(V3K.x4C!=d6n.tableSizes.rows)for(T6n=d6n.tableSizes.rows,I6n=V3K.F8C;I6n<T6n.length;I6n++)if(V3K.x4C!=T6n[I6n].idx&&(V3K.x4C==S6n.rowSizesByIdx&&(S6n.rowSizesByIdx={}),S6n.rowSizesByIdx[parseInt(T6n[I6n].idx)]=parseInt(T6n[I6n].height)),V3K.x4C!=T6n[I6n].tuple||V3K.x4C!=T6n[I6n].measure)V3K.x4C==S6n.rowSizes&&(S6n.rowSizes={}),m6n=V3K.x4C==T6n[I6n].tuple?[]:T6n[I6n].tuple.slice(),V3K.x4C!=T6n[I6n].measure&&m6n.push(T6n[I6n].measure),S6n.rowSizes[m6n.join(v9VV.k6C)]=parseInt(T6n[I6n].height);}V3K.x4C!=d6n.localization&&(S6n.localization=d6n.localization);return S6n;};function t6n(){this.withDefaults=!U9VV.O8C;this.connectionInfo=new j6n.data_.vo.ConnectionInfo();this.slice=new o6n.SliceValueObject();this.options=new g6n._options.vo.OptionsValueObject();this.formats=[];this.conditions=[];this.columnSizes={};this.rowSizes={};this.columnHeaderSizes=[];this.rowHeaderSizes=[];this.rowFilterSizes=[];this.columnSizesByIdx={};this.rowSizesByIdx={};this.customFields=[];this.labels={};this.localization=U9VV.x4C;}t6n.prototype.merge=function(r6n){var y8B="options";var Z8B="connectionInfo";if(utils.nullOrUndefined(r6n))return this;r6n=t6n.toPlainObject(r6n);var C6n=t6n.toPlainObject(this),w6n;for(w6n in r6n)r6n.hasOwnProperty(w6n)&&(Z8B==w6n?j6n.data_.vo.ConnectionInfo.fromObject(r6n.connectionInfo).isEmpty||(C6n[w6n]=r6n[w6n]):y8B==w6n?(this.options.mergeWith(r6n[w6n]),C6n[w6n]=g6n._options.vo.OptionsValueObject.toPlainObject(this.options)):C6n[w6n]=r6n[w6n]);return t6n.fromObject(C6n);};return t6n;}();o6n.ReportValueObject=n6n;}(g6n.report||(g6n.report={})));}(j6n.model||(j6n.model={})));}(pivot||(pivot={})));(function(P6n){(function(U5n){(function(v5n){var G5n=function(V5n){__extends(W5n,V5n);W5n.prototype.dispatchReportLoaded=function(l5n){l5n?this.dispatch(new v5n.ReportFileLoadedEvent(l5n)):this.dispatch(new v5n.ReportFileFailedEvent(U5n._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT));};function W5n(){return U9VV.x4C!==V5n&&V5n.apply(this,arguments)||this;}W5n.prototype.parseReport=function(X5n){try{var p5n=-U9VV.O8C,p5n=X5n.indexOf(v9VV.d8B);return JSON.parse(-U9VV.O8C<p5n?X5n.substring(U9VV.F8C,p5n):X5n);}catch(B5n){return console.error(B5n),U9VV.x4C;}};W5n.prototype.getStringByteLength=function(q5n){var Y5n=new P6n.DataStream(new ArrayBuffer(U9VV.F8C),U9VV.F8C,P6n.DataStream.BIG_ENDIAN);Y5n.writeString(q5n);return Y5n.byteLength;};return W5n;}(events.EventDispatcher);v5n.ReportLoader=G5n;}(U5n.report||(U5n.report={})));}(P6n.model||(P6n.model={})));}(pivot||(pivot={})));(function(u5n){(function(z5n){(function(N5n){var D5n=function(K5n){__extends(x5n,K5n);x5n.prototype.load=function(O5n){var F5n=this;this.url=O5n;this.bytesLoaded=U9VV.F8C;this.loader=new misc.URLStream();this.loader.dataType=misc.DataType.TEXT;this.loader.addEventListener(events._Event.PROGRESS,function(M5n){return F5n.onProgress(M5n);});this.loader.addEventListener(events._Event.COMPLETE,function(){return F5n.onLoaded();});this.loader.addEventListener(events._Event.ERROR,function(){return F5n.onError();});this.loader.load(O5n);};function x5n(){var s5n=K5n.call(this)||this;s5n.counter=U9VV.F8C;s5n.embeddedStartDataSign=v9VV.S8B;s5n.embeddedDataJSONStartSign=v9VV.d8B;return s5n;}x5n.prototype.onProgress=function(b5n){var I2K=U9VV;b5n=I2K.F8C;if(I2K.x4C!=this.loader&&-I2K.O8C<(b5n=this.loader.response.indexOf(v9VV.I8B))&&b5n+this.embeddedDataJSONStartSign.length+I2K.O8C<this.loader.response.length)this.onLoaded();};x5n.prototype.onLoaded=function(){var d2K=U9VV;if(d2K.x4C!=this.loader){this.loader.removeAllEventListeners(events._Event.COMPLETE);var j5n=this.parseReport(this.loader.response);if(j5n instanceof N5n.ReportValueObject){if(j5n.connectionInfo instanceof u5n.data_.vo.CSVConnectionInfo&&!d2K.F8C==j5n.connectionInfo.embedded){var g5n=j5n.connectionInfo;g5n.filename=this.loader.url;g5n.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(d2K.F8C,this.loader.response.indexOf(v9VV.I8B)+d2K.c8C)+v9VV.m6C);this.loader.response.indexOf(this.embeddedStartDataSign);j5n.connectionInfo=g5n;}}else utils.nullOrUndefined(j5n)||utils.nullOrUndefined(j5n.dataSource)||!d2K.F8C!=j5n.dataSource.embedded||(j5n.dataSource.filename=this.loader.url,j5n.dataSource.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(d2K.F8C,this.loader.response.indexOf(this.embeddedDataJSONStartSign))));this.dispatchReportLoaded(j5n);this.dispose();}};x5n.prototype.onError=function(){this.loader.removeAllEventListeners(events._Event.PROGRESS);this.loader.removeAllEventListeners(events._Event.COMPLETE);this.loader.removeAllEventListeners(events._Event.ERROR);var o5n=z5n.XSSCheck.valid(this.url)?this.url:z5n.XSSCheck.validate(this.url),o5n=utils.StringUtils.bind(z5n._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,o5n);this.dispatch(new N5n.ReportFileFailedEvent(o5n));this.dispose();};x5n.prototype.dispose=function(){U9VV.x4C!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=U9VV.x4C);};return x5n;}(N5n.ReportLoader);N5n.UrlReportLoader=D5n;}(z5n.report||(z5n.report={})));}(u5n.model||(u5n.model={})));}(pivot||(pivot={})));(function(n5n){(function(t5n){(function(c5n){var L5n=function(e5n){__extends(a5n,e5n);a5n.prototype.load=function(){var h5n=this;this.file=new misc.FileReference();this.file.addEventListener(events._Event.SELECT,function(){return h5n.onSelected();});this.file.addEventListener(events._Event.COMPLETE,function(){return h5n.onLoaded();});this.file.addEventListener(events._Event.CANCEL,function(){return h5n.onCancel();});this.file.addEventListener(events._Event.ERROR,function(){return h5n.onError();});this.file.browse([v9VV.T8B,v9VV.m8B]);};a5n.prototype.onSelected=function(){U9VV.x4C!=this.file&&this.file.load(misc.ReadMethod.ARRAY_BUFFER);};a5n.prototype.onLoaded=function(){var J2K=U9VV;try{var k5n=new n5n.DataStream(this.file.response,J2K.F8C,n5n.DataStream.BIG_ENDIAN),A5n=k5n.readString(k5n.byteLength),R5n=this.parseReport(A5n);if(R5n instanceof c5n.ReportValueObject){if(R5n.connectionInfo instanceof n5n.data_.vo.CSVConnectionInfo&&!J2K.F8C==R5n.connectionInfo.embedded){var Q5n=R5n.connectionInfo;Q5n.embeddedDataToLoad=this.file.response;Q5n.embeddedDataOffset=this.getStringByteLength(A5n.substring(J2K.F8C,A5n.indexOf(v9VV.I8B)+J2K.c8C)+v9VV.m6C);R5n.connectionInfo=Q5n;}}else utils.nullOrUndefined(R5n)||utils.nullOrUndefined(R5n.dataSource)||!J2K.F8C!=R5n.dataSource.embedded||(R5n.dataSource.embeddedDataToLoad=this.file.response,R5n.dataSource.embeddedDataOffset=this.getStringByteLength(A5n.substring(J2K.F8C,A5n.indexOf(v9VV.d8B))));this.dispatchReportLoaded(R5n);this.dispose();}catch(f5n){console.error(f5n),this.onError();}};a5n.prototype.onError=function(){var i5n=utils.StringUtils.bind(t5n._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,U9VV.C4C);this.dispatch(new c5n.ReportFileFailedEvent(i5n));this.dispose();};function a5n(){return e5n.call(this)||this;}a5n.prototype.onCancel=function(){this.dispatchWith(c5n.ReportEvent.REPORT_FILE_CANCELLED);this.dispose();};a5n.prototype.dispose=function(){U9VV.x4C!=this.file&&(this.file.removeAllEventListeners(),this.file.dispose(),this.file=U9VV.x4C);};return a5n;}(c5n.ReportLoader);c5n.LocalReportLoader=L5n;}(t5n.report||(t5n.report={})));}(n5n.model||(n5n.model={})));}(pivot||(pivot={})));(function(J5n){(function(E5n){(function(Z5n){var H5n=function(){var C8B="plain";var r8B="binary";var w8B="server";y5n.validType=function(d5n){return d5n==y5n.FILE||d5n==y5n.SERVER||d5n==y5n.BINARY||d5n==y5n.PLAIN;};y5n.FILE=v9VV.A6C;function y5n(){}y5n.SERVER=w8B;y5n.BINARY=r8B;y5n.PLAIN=C8B;return y5n;}();Z5n.DestinationType=H5n;}(E5n.report||(E5n.report={})));}(J5n.model||(J5n.model={})));}(pivot||(pivot={})));(function(S5n){(function(I5n){(function(m5n){var T5n=function(){w5n.customFields=[];function w5n(){}return w5n;}();m5n.CustomFieldsManager=T5n;}(I5n.report||(I5n.report={})));}(S5n.model||(S5n.model={})));}(pivot||(pivot={})));(function(r5n){(function(C5n){(function(U7n){var P5n=function(){v7n.prototype.normalizeSlice=function(G7n){if(U9VV.F8C<=v7n.findMeasure(G7n.rows)){var W7n=v7n.findMeasure(G7n.columns);U9VV.F8C<=W7n&&(G7n.columns[W7n]=G7n.columns[U9VV.F8C],G7n.columns.shift());}};v7n.findMeasure=function(l7n){for(var p7n=r5n.data_.Cube.MEASURES_NAME,V7n=U9VV.F8C;V7n<l7n.length;V7n++)if(l7n[V7n].uniqueName==p7n)return V7n;return-U9VV.O8C;};function v7n(){this.rows=[];this.columns=[];this.pages=[];this.measures=[];this.rowSorting={};this.columnSorting={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.drillAll=this.expandAll=!U9VV.O8C;this.flatOrder=[];this.formatsInUse={};}v7n.readExpandedFromObject=function(B7n){var h2K=U9VV;for(var u7n=[],Y7n,X7n=h2K.F8C;X7n<B7n.length;X7n++){Y7n=[];Y7n.push(h2K.x4C!=B7n[X7n].measure?B7n[X7n].measure:h2K.C4C);if(h2K.x4C!=B7n[X7n].tuple)for(var q7n=h2K.F8C;q7n<B7n[X7n].tuple.length;q7n++)Y7n.push(B7n[X7n].tuple[q7n]);u7n.push(Y7n);}return u7n;};v7n.readDrilledFromObject=function(N7n){var e2K=U9VV;for(var K7n=[],D7n,z7n=e2K.F8C;z7n<N7n.length;z7n++){D7n=[];D7n.push(e2K.x4C!=N7n[z7n].level?N7n[z7n].level:e2K.C4C);D7n.push(e2K.x4C!=N7n[z7n].measure?N7n[z7n].measure:-e2K.O8C);if(e2K.x4C!=N7n[z7n].tuple){D7n.push(N7n[z7n].tuple[N7n[z7n].tuple.length-e2K.O8C]);for(var x7n=e2K.F8C;x7n<N7n[z7n].tuple.length;x7n++)D7n.push(N7n[z7n].tuple[x7n]);}K7n.push(D7n);}return K7n;};v7n.fromObject=function(s7n,M7n,O7n){var a2K=U9VV;void a2K.F8C===M7n&&(M7n=a2K.x4C);void a2K.F8C===O7n&&(O7n=!a2K.O8C);if(a2K.x4C==s7n)return a2K.x4C;s7n instanceof v7n||(s7n=v7n.toPlainObject(s7n));var F7n=new v7n();a2K.x4C!=s7n.measures&&s7n.measures.length&&(F7n.measures=s7n.measures);a2K.x4C==M7n&&C5n.PivotModel.getInstance();a2K.x4C!=s7n.pages&&s7n.pages.length&&(F7n.pages=v7n.hierarchiesFromObject(s7n.pages));a2K.x4C!=s7n.columns&&s7n.columns.length&&(F7n.columns=v7n.hierarchiesFromObject(s7n.columns,O7n));a2K.x4C!=s7n.rows&&s7n.rows.length&&(F7n.rows=v7n.hierarchiesFromObject(s7n.rows,O7n));a2K.x4C!=s7n.flatOrder&&s7n.flatOrder.length&&(F7n.flatOrder=s7n.flatOrder);F7n.normalizeSlice(F7n);a2K.x4C!=s7n.rowSorting&&(F7n.rowSorting=s7n.rowSorting);a2K.x4C!=s7n.columnSorting&&(F7n.columnSorting=s7n.columnSorting);a2K.x4C!=s7n.expandAll&&(F7n.expandAll=s7n.expandAll);a2K.x4C!=s7n.expandedRows&&s7n.expandedRows.length&&(F7n.expandedRows=s7n.expandedRows);a2K.x4C!=s7n.expandedColumns&&s7n.expandedColumns.length&&(F7n.expandedColumns=s7n.expandedColumns);a2K.x4C!=s7n.drillAll&&(F7n.drillAll=s7n.drillAll);a2K.x4C!=s7n.drilledRows&&s7n.drilledRows.length&&(F7n.drilledRows=s7n.drilledRows);a2K.x4C!=s7n.drilledColumns&&s7n.drilledColumns.length&&(F7n.drilledColumns=s7n.drilledColumns);return F7n;};v7n.hierarchiesFromObject=function(j7n,n7n){var P8B="sort";void U9VV.F8C===n7n&&(n7n=!U9VV.O8C);for(var g7n=[],b7n=U9VV.F8C;b7n<j7n.length;b7n++){g7n[b7n]={};n7n&&!j7n[b7n].sort&&(j7n[b7n].sort=r5n.data_.consts.SortType.UNSORTED);for(var o7n in j7n[b7n])P8B==o7n?g7n[b7n].sortName=j7n[b7n].sort:g7n[b7n][o7n]=j7n[b7n][o7n];}return g7n;};v7n.prototype.toObject=function(a7n){var c2K=U9VV;void c2K.F8C===a7n&&(a7n=!c2K.O8C);var L7n={},t7n,c7n=[];for(t7n=c2K.F8C;t7n<this.pages.length;t7n++)c7n.push(this.hierarchyToJSON(this.pages[t7n],a7n));c2K.F8C<c7n.length&&(L7n.reportFilters=c7n);c7n=[];for(t7n=c2K.F8C;t7n<this.rows.length;t7n++)c7n.push(this.hierarchyToJSON(this.rows[t7n],a7n));c2K.F8C<c7n.length&&(L7n.rows=c7n);c7n=[];for(t7n=c2K.F8C;t7n<this.columns.length;t7n++)c7n.push(this.hierarchyToJSON(this.columns[t7n],a7n));c2K.F8C<c7n.length&&(L7n.columns=c7n);c7n=[];for(t7n=c2K.F8C;t7n<this.measures.length;t7n++)c7n.push(this.measureToJSON(this.measures[t7n],a7n));c2K.F8C<c7n.length&&(L7n.measures=c7n);if(c2K.x4C!=this.rowSorting&&c2K.x4C!=this.rowSorting.type&&this.rowSorting.type!=r5n.data_.consts.SortType.UNSORTED||c2K.x4C!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=r5n.data_.consts.SortType.UNSORTED)L7n.sorting={},c2K.x4C!=this.rowSorting&&c2K.x4C!=this.rowSorting.type&&this.rowSorting.type!=r5n.data_.consts.SortType.UNSORTED&&(L7n.sorting.row=this.rowSorting),c2K.x4C!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=r5n.data_.consts.SortType.UNSORTED&&(L7n.sorting.column=this.columnSorting);t7n={};if(a7n||this.expandAll)t7n.expandAll=this.expandAll;c2K.F8C<this.expandedRows.length&&(t7n.rows=this.expandedElementsToJSON(this.expandedRows));c2K.F8C<this.expandedColumns.length&&(t7n.columns=this.expandedElementsToJSON(this.expandedColumns));utils.ObjectUtils.isEmptyObject(t7n)||(L7n.expands=t7n);t7n={};if(a7n||this.drillAll)t7n.drillAll=this.drillAll;c2K.F8C<this.drilledRows.length&&(t7n.rows=this.drilledElementsToJSON(this.drilledRows));c2K.F8C<this.drilledColumns.length&&(t7n.columns=this.drilledElementsToJSON(this.drilledColumns));utils.ObjectUtils.isEmptyObject(t7n)||(L7n.drills=t7n);c2K.F8C<this.flatOrder.length&&(L7n.flatOrder=this.flatOrder);return L7n;};v7n.prototype.expandedElementsToJSON=function(k7n){var t2K=U9VV;for(var A7n=[],e7n,h7n,Q7n,R7n=t2K.F8C;R7n<k7n.length;R7n++)e7n={},h7n=k7n[R7n].slice(t2K.F8C),Q7n=h7n.shift(),t2K.F8C!=h7n.length&&(e7n.tuple=h7n,t2K.C4C!=Q7n&&(e7n.measure=Q7n),A7n.push(e7n));return A7n;};v7n.prototype.drilledElementsToJSON=function(y7n){var n2K=U9VV;for(var E7n=[],i7n,H7n,Z7n,f7n,J7n=n2K.F8C;J7n<y7n.length;J7n++)i7n={},f7n=y7n[J7n].slice(n2K.F8C),H7n=f7n.shift(),Z7n=f7n.shift(),f7n.shift(),n2K.F8C!=f7n.length&&(i7n.tuple=f7n,n2K.C4C!=Z7n&&(i7n.measure=Z7n),n2K.C4C!=H7n&&(i7n.level=H7n),E7n.push(i7n));return E7n;};v7n.prototype.measureToJSON=function(d7n,I7n){var o2K=U9VV;var S7n={};S7n.uniqueName=d7n.uniqueName;if(o2K.x4C!=d7n.formula&&o2K.C4C!=d7n.formula)S7n.formula=d7n.formula,d7n.individual&&(S7n.individual=!o2K.F8C),S7n.caption=d7n.caption;else if(I7n||d7n.aggregation!=r5n.data_.consts.AggregationName.NONE)S7n.aggregation=d7n.aggregation;if(I7n||!o2K.O8C==d7n.active)S7n.active=d7n.active;o2K.x4C!=d7n.format&&o2K.C4C!=d7n.format&&(S7n.format=d7n.format,this.formatsInUse[d7n.format]=d7n.active);o2K.x4C!=d7n.availableAggregations&&o2K.F8C<d7n.availableAggregations.length&&(S7n.availableAggregations=d7n.availableAggregations);return S7n;};v7n.prototype.hierarchyToJSON=function(T7n,r7n){var j2K=U9VV;var m7n={};m7n.uniqueName=T7n.uniqueName;j2K.x4C!=T7n.activeLevelName&&(m7n.levelName=T7n.activeLevelName);if(j2K.x4C!=T7n.filter&&(m7n.filter={},j2K.x4C!=T7n.filter.type&&T7n.filter.type!=r5n.data_.consts.FilterType.NONE&&(m7n.filter={type:T7n.filter.type,quantity:T7n.filter.quantity,measure:T7n.filter.measure}),j2K.x4C!=T7n.filter.members)){var w7n=j2K.K2C==typeof T7n.filter.members?T7n.filter.members.split(v9VV.k6C):T7n.filter.members;j2K.F8C<w7n.length&&(m7n.filter.members=w7n,!j2K.F8C===T7n.filter.negation&&(m7n.filter.negation=T7n.filter.negation));}T7n.filterEnabled||(m7n.filterEnabled=!j2K.F8C);T7n.uniqueName!=r5n.data_.Cube.MEASURES_NAME&&T7n.sortName&&(r7n||T7n.sortName!=r5n.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME)&&(m7n.sort=T7n.sortName);T7n.uniqueName!=r5n.data_.Cube.MEASURES_NAME&&T7n.sortAs&&(m7n.sortAs=T7n.sortAs);return m7n;};v7n.toPlainObject=function(C7n){var M2K=U9VV;var P7n={};if(void M2K.F8C==C7n)return P7n;M2K.x4C!=C7n.pages&&(P7n.pages=C7n.pages);M2K.x4C!=C7n.reportFilters&&(P7n.pages=C7n.reportFilters);M2K.x4C!=C7n.rows&&(P7n.rows=C7n.rows);M2K.x4C!=C7n.columns&&(P7n.columns=C7n.columns);M2K.x4C!=C7n.measures&&(P7n.measures=C7n.measures);M2K.x4C!=C7n.rowSorting&&(P7n.rowSorting=C7n.rowSorting,M2K.x4C!=P7n.rowSorting.tuple&&M2K.K2C==typeof P7n.rowSorting.tuple&&(P7n.rowSorting.tuple=P7n.rowSorting.tuple.split(v9VV.k6C)));M2K.x4C!=C7n.sorting&&M2K.x4C!=C7n.sorting.row&&(P7n.rowSorting=C7n.sorting.row);M2K.x4C!=C7n.columnSorting&&(P7n.columnSorting=C7n.columnSorting,M2K.x4C!=P7n.columnSorting.tuple&&M2K.K2C==typeof P7n.columnSorting.tuple&&(P7n.columnSorting.tuple=P7n.columnSorting.tuple.split(v9VV.k6C)));M2K.x4C!=C7n.sorting&&M2K.x4C!=C7n.sorting.column&&(P7n.columnSorting=C7n.sorting.column);M2K.x4C!=C7n.expandAll&&(P7n.expandAll=C7n.expandAll);M2K.x4C!=C7n.expandedRows&&(P7n.expandedRows=C7n.expandedRows);M2K.x4C!=C7n.expandedColumns&&(P7n.expandedColumns=C7n.expandedColumns);M2K.x4C!=C7n.expands&&(M2K.x4C!=C7n.expands.expandAll&&(P7n.expandAll=C7n.expands.expandAll),M2K.x4C!=C7n.expands.rows&&(P7n.expandedRows=v7n.readExpandedFromObject(C7n.expands.rows)),M2K.x4C!=C7n.expands.columns&&(P7n.expandedColumns=v7n.readExpandedFromObject(C7n.expands.columns)));M2K.x4C!=C7n.drillAll&&(P7n.drillAll=C7n.drillAll);M2K.x4C!=C7n.drilledRows&&(P7n.drilledRows=C7n.drilledRows);M2K.x4C!=C7n.drilledColumns&&(P7n.drilledColumns=C7n.drilledColumns);M2K.x4C!=C7n.drills&&(M2K.x4C!=C7n.drills.drillAll&&(P7n.drillAll=C7n.drills.drillAll),M2K.x4C!=C7n.drills.rows&&(P7n.drilledRows=v7n.readDrilledFromObject(C7n.drills.rows)),M2K.x4C!=C7n.drills.columns&&(P7n.drilledColumns=v7n.readDrilledFromObject(C7n.drills.columns)));M2K.x4C!=C7n.flatOrder&&(P7n.flatOrder=C7n.flatOrder);M2K.x4C!=C7n.slice&&(C7n=C7n.slice,M2K.x4C!=C7n.pages&&C7n.pages.length&&(P7n.pages=C7n.pages),M2K.x4C!=C7n.reportFilters&&C7n.reportFilters.length&&(P7n.pages=C7n.reportFilters),M2K.x4C!=C7n.rows&&C7n.rows.length&&(P7n.rows=C7n.rows),M2K.x4C!=C7n.columns&&C7n.columns.length&&(P7n.columns=C7n.columns),M2K.x4C!=C7n.measures&&C7n.measures.length&&(P7n.measures=C7n.measures),M2K.x4C!=C7n.sorting&&M2K.x4C!=C7n.sorting.row&&(P7n.rowSorting=C7n.sorting.row),M2K.x4C!=C7n.sorting&&M2K.x4C!=C7n.sorting.column&&(P7n.columnSorting=C7n.sorting.column),M2K.x4C!=C7n.expands&&(M2K.x4C!=C7n.expands.expandAll&&(P7n.expandAll=C7n.expands.expandAll),M2K.x4C!=C7n.expands.rows&&(P7n.expandedRows=v7n.readExpandedFromObject(C7n.expands.rows)),M2K.x4C!=C7n.expands.columns&&(P7n.expandedColumns=v7n.readExpandedFromObject(C7n.expands.columns))),M2K.x4C!=C7n.drills&&(M2K.x4C!=C7n.drills.drillAll&&(P7n.drillAll=C7n.drills.drillAll),M2K.x4C!=C7n.drills.rows&&(P7n.drilledRows=v7n.readDrilledFromObject(C7n.drills.rows)),M2K.x4C!=C7n.drills.columns&&(P7n.drilledColumns=v7n.readDrilledFromObject(C7n.drills.columns))),M2K.x4C!=C7n.flatOrder&&C7n.flatOrder.length&&(P7n.flatOrder=C7n.flatOrder));return P7n;};return v7n;}();U7n.SliceValueObject=P5n;}(C5n.report||(C5n.report={})));}(r5n.model||(r5n.model={})));}(pivot||(pivot={})));(function(U92){(function(v92){(function(G92){(function(V92){var W92=function(){l92.toReport=function(p92){var e6K=U9VV;var X92,B92=new v92.report.ReportValueObject();B92.withDefaults=p92.withDefaults;B92.connectionInfo=p92._connectionInfo;if(p92._slice){var Y92=U92.data_._structure.Axis.toObject(p92._slice.findAxis(U92.data_.consts.AxisName.ROWS_AXIS)),z92=U92.data_._structure.Axis.toObject(p92._slice.findAxis(U92.data_.consts.AxisName.COLUMNS_AXIS));X92=U92.data_._structure.Axis.toObject(p92._slice.findAxis(U92.data_.consts.AxisName.PAGES_AXIS));B92.slice=new v92.report.SliceValueObject();B92.slice.rows=Y92.hierarchies;B92.slice.columns=z92.hierarchies;B92.slice.pages=X92.hierarchies;B92.slice.measures=[];var u92;for(X92=e6K.F8C;X92<p92._slice.measures_.length;X92++)u92=p92._slice.measures_.getItemAt(X92),u92=U92.data_._structure.GenericMeasure.toObject(u92),u92.active=!e6K.F8C,B92.slice.measures.push(u92);for(X92=e6K.F8C;X92<p92._structure.measures_.length;X92++)u92=p92._structure.measures_.getItemAt(X92),p92._slice.measures_.keyExists(u92.uniqueName)||u92.hasDefaultParams()||(u92=U92.data_._structure.GenericMeasure.toObject(u92),u92.active=!e6K.O8C,B92.slice.measures.push(u92));B92.slice.rowSorting=Y92.sort;B92.slice.columnSorting=z92.sort;B92.slice.expandAll=p92._slice.expandAll;B92.slice.expandedRows=p92.expandedRows;B92.slice.expandedColumns=p92.expandedColumns;B92.slice.drillAll=p92._slice.drillAll;B92.slice.drilledRows=p92.drilledRows;B92.slice.drilledColumns=p92.drilledColumns;B92.slice.flatOrder=p92._slice.flatOrder;}B92.options=p92._options;Y92=[];for(X92=e6K.F8C;X92<p92.formats.length;X92++)Y92[X92]=p92.formats.getItemAt(X92).toObject();B92.formats=Y92;Y92=[];for(X92=e6K.F8C;X92<p92.conditions.length;X92++)Y92[X92]=v92.condition.vo.ConditionValueObject.toObject(p92.conditions.getItemAt(X92));B92.conditions=Y92;B92.customFields=p92.customFields;B92.labels=p92.labels;var q92;X92={};for(q92 in p92.columnSizes)X92[q92]=p92.columnSizes[q92];B92.columnSizes=X92;Y92=[];for(q92 in p92.columnHeaderSizes)X92=parseInt(q92),Y92[X92]=p92.columnHeaderSizes[q92];B92.columnHeaderSizes=Y92;X92={};for(q92 in p92.rowSizes)X92[q92]=p92.rowSizes[q92];B92.rowSizes=X92;Y92=[];for(q92 in p92.rowHeaderSizes)X92=parseInt(q92),Y92[X92+p92.startTableRow]=p92.rowHeaderSizes[q92];B92.rowHeaderSizes=Y92;Y92=[];if(e6K.F8C!=p92.startTableRow)for(q92 in p92.rowFilterSizes)X92=parseInt(q92),Y92[X92]=p92.rowFilterSizes[q92];B92.rowFilterSizes=Y92;B92.localization=p92.localization;return B92;};function l92(){this.formats=new utils.AssociativeArray();this.conditions=new utils.AssociativeArray();this.customFields=[];this.rowSizes={};this.columnSizes={};this.startTableRow=U9VV.F8C;this.rowHeaderSizes={};this.columnHeaderSizes={};this.rowFilterSizes={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.localization=U9VV.x4C;this.labels={};this.withGlobals=this.withDefaults=!U9VV.O8C;}return l92;}();V92.StateValueObject=W92;}(G92.vo||(G92.vo={})));}(v92._state||(v92._state={})));}(U92.model||(U92.model={})));}(pivot||(pivot={})));(function(N92){(function(D92){(function(K92){var x92=function(){var U0B="table";s92.getInstance=function(){U9VV.x4C==s92._instance&&(s92._instance=new s92());return s92._instance;};s92.dispose=function(){s92._instance=U9VV.x4C;};s92.prototype.print=function(O92){void U9VV.F8C===O92&&(O92=U9VV.x4C);this._printInProgress||(this._printInProgress=!U9VV.F8C,this._options=O92||new D92.printing.PrintOptions(),D92.PivotModel.getInstance().addEventListener(N92.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler),D92.PivotModel.getInstance().dispatchWith(N92.PivotEvent.PRINT));};s92.prototype.onPrintCompleted=function(){D92.PivotModel.getInstance().removeEventListener(N92.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler);this._printInProgress=!U9VV.O8C;};s92.prototype.run=function(M92,b92){this.grid=M92;this.dataProvider=b92;this.gridLayout=U9VV.x4C!=M92?M92.gridLayout:U9VV.x4C;this.start();};s92.prototype.start=function(){var q2K=U9VV;var C0C=756;var w0C=576;var j92=this;this.pageNumber=q2K.F8C;this._pageWidth=w0C-q2K.M8C*this.MARGINS;this._pageHeight=C0C-q2K.M8C*this.MARGINS;this.pages=new uicontrols.UIElement(q2K.r4C);this.stylesList=[];this.rowsShift=this.columnsShift=q2K.F8C;utils.ThreadManager.addTask(this.generatePageColumn,this,q2K.x4C,function(){return j92.finish();});};s92.prototype.clear=function(){var Y2K=U9VV;this._printInProgress=!Y2K.O8C;this.columnsShift=this.pageNumber=this.rowsShift=this.columnsShift=Y2K.F8C;this.pages=this.printSprite=Y2K.x4C;this.footerHeight=this.headerHeight=Y2K.F8C;};s92.prototype.generatePageColumn=function(){return this.addColumn();};s92.prototype.addColumn=function(){var B2K=U9VV;var v0B="td:last-child";if(B2K.x4C==this.printSprite)this.printSprite=this.createPage(),this.printTable=this.printSprite.find(U0B);else if(!(this.printSprite.getWidth(!B2K.F8C)<=this._pageWidth&&B2K.F8C!=this.columnsShift)&&(this.printSprite.getWidth(!B2K.F8C)>this._pageWidth&&(this.columnsShift--,this.printSprite.find(v0B).remove()),this.addPageToPJ(),this.printSprite=this.createPage(),this.printTable=this.printSprite.find(U0B),!B2K.O8C==this.grid.isFlatTable)){var g92=this.columnsShift;B2K.F8C!=this.columnsShift&&(this.columnsShift=B2K.F8C,this.addColumnOnPage(),this.columnsShift=g92,this.columnsShift+B2K.O8C<=this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?B2K.O8C:B2K.F8C)&&(this.columnsShift+=B2K.O8C));}this.addColumnOnPage();if(!(!B2K.F8C==this.shift()))return!B2K.O8C;this.addPageToPJ();return!B2K.F8C;};s92.prototype.createPage=function(){var p2K=U9VV;var G0B="page";var o92=new uicontrols.UIElement(p2K.r4C).addClass(G0B);o92.css(p2K.F3C,p2K.O3C).css(p2K.M2C,v9VV.M5C);if(p2K.x4C!=this._options.header){var n92=this.createHeaderFooter(this._options.header);o92.append(n92);}var c92=new uicontrols.UIElement(U0B);p2K.F8C==this.pageNumber&&p2K.F8C<D92._options.OptionsManager.gridTitle.length&&c92.append(new uicontrols.UIElement(v9VV.W0B).text(D92._options.OptionsManager.gridTitle));o92.append(c92);if(p2K.x4C!=this._options.footer){var t92=this.createHeaderFooter(this._options.footer);o92.append(t92);}this.grid.container.append(o92);this.headerHeight=p2K.x4C!=n92?n92.getHeight():p2K.F8C;this.footerHeight=p2K.x4C!=t92?t92.getHeight():p2K.F8C;return o92;};s92.prototype.createHeaderFooter=function(L92){var a92=new uicontrols.UIElement(U9VV.r4C);L92=L92.replace(/##PAGE-NUMBER##/gi,(this.pageNumber+U9VV.O8C).toString());L92=L92.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());a92.html(L92);return a92;};s92.prototype.addPageToPJ=function(){var V2K=U9VV;var V0B="tr:last-child";this.pageNumber++;N92.preloader(!V2K.F8C,D92._labels.Labels.MESSAGE_PLEASE_WAIT,this.pageNumber+V2K.s4C+D92._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!V2K.F8C);this.rowHeightSum>this._pageHeight&&(this._rowIdx--,this.printSprite.find(V0B).remove());this.printSprite.detach();this.printSprite.css(V2K.F3C,V2K.C4C).css(V2K.M2C,V2K.C4C);this.pages.append(this.printSprite);return!V2K.O8C;};s92.prototype.shift=function(){var G2K=U9VV;++this.columnsShift;this.columnsShift>this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?G2K.O8C:G2K.F8C)&&(this.columnsShift=G2K.F8C,this.rowsShift+=this._rowIdx-this.grid.FIRST_DATA_ROW);return v9VV.N6C<=this.pageNumber||this.rowsShift>=this.dataProvider.extendedDataHeight?!G2K.F8C:!G2K.O8C;};function s92(){var F92=this;this.MARGINS=U9VV.y8C;this._printInProgress=!U9VV.O8C;this.printCompletedHandler=function(){return F92.onPrintCompleted();};this.footerHeight=this.headerHeight=U9VV.F8C;}s92.prototype.addColumnOnPage=function(){this.rowHeightSum=U9VV.F8C;var h92=this.grid.START_HEADERS_COLUMN+this.columnsShift,e92=this._pageHeight-this.headerHeight-this.footerHeight;for(this._rowIdx=this.grid.START_TABLE_ROW;this.rowHeightSum<=e92&&this._rowIdx<this.dataProvider.extendedDataHeight+this.grid.FIRST_DATA_ROW-this.rowsShift;this._rowIdx++){this.rowIndex=this._rowIdx<this.grid.FIRST_DATA_ROW?this._rowIdx:this._rowIdx+this.rowsShift;var R92=this.gridLayout.getCell(this.rowIndex,h92,!U9VV.F8C,!U9VV.F8C);this.rowHeightSum+=this.addCell(this._rowIdx,this.columnsShift,R92);if(this.rowHeightSum>=e92)break;}};s92.prototype.addCell=function(k92,f92,A92){var P4K=G9VV;var C4K=v9VV;var r4K=U9VV;var K0B="maxWidth:400px'";var l0B="tr";f92=this.printTable.find(l0B,!r4K.F8C);for(f92=r4K.F8C<f92.length?f92[k92]:r4K.x4C;r4K.x4C==f92;)this.printTable.append(new uicontrols.UIElement(l0B)),f92=this.printTable.find(l0B,!r4K.F8C)[k92];k92=C4K.p0B+(A92?A92.getLabel():r4K.C4C)+C4K.X0B;if(r4K.x4C==A92)k92=utils.StringUtils.bind(k92,C4K.B0B);else{var Q92=r4K.C4C,i92=r4K.C4C;A92.isCustomized&&(i92=A92.style.getStyleString(),Q92=A92.style.getCustomClassString(),this.appendStylesList(A92.style.customStyleNames));Q92=A92.isRowHeader?Q92+(C4K.Y0B+A92.level):A92.isColumnHeader?Q92+C4K.q0B:A92.isFilterHeader?Q92+P4K.u0B:A92.isTotal&&r4K.C4C!=A92.getLabel()?Q92+P4K.z0B:Q92+P4K.N0B;r4K.C4C!=Q92.trim()&&(Q92=P4K.D0B+Q92.trim()+C4K.v9Q);r4K.C4C!=i92.trim()&&(i92=P4K.x0B+i92.trim()+K0B);k92=utils.StringUtils.bind(k92,Q92+r4K.s4C+i92);}f92.element.innerHTML+=k92;return f92.getHeight(!r4K.F8C)+r4K.j8C;};s92.prototype.appendStylesList=function(E92){for(var J92=U9VV.F8C;J92<E92.length;J92++)U9VV.F8C>this.stylesList.indexOf(E92[J92])&&this.stylesList.push(E92[J92]);};s92.prototype.finish=function(){var m4K=U9VV;var s0B="Sending pages to printer...";N92.preloader(!m4K.F8C,D92._labels.Labels.MESSAGE_PLEASE_WAIT,s0B,!m4K.O8C,!m4K.F8C);misc.PrintJob.print(this.pages.html(),this.generateStyle(),D92._options.OptionsManager.gridTitle);N92.preloader(!m4K.O8C);D92.PivotModel.getInstance().dispatchWith(N92.PivotEvent.PRINT_COMPLETE);this.clear();};s92.prototype.generateStyle=function(){var T4K=G9VV;var I4K=U9VV;var k0B="background-color:rgb(247, 247, 247)";var Q0B="background-color:rgb(255, 255, 255)";var A0B=".page:not(:last-child), svg { page-break-after: always; }";var o0B="border: 1px solid #eee;";var g0B="td{white-space:nowrap;{0}}\n";var j0B="caption{{0}}\n";var O0B="table{width:100%;border-collapse:collapse;{0}}\n";for(var H92=I4K.C4C,y92=uicontrols.UIElement.convert(this.gridLayout.element),Z92=y92.find(T4K.F0B),H92=H92+utils.StringUtils.bind(O0B,N92._view.grid.vo.StyleValueObject.fromItemToString(y92,[T4K.M0B,T4K.b0B])),H92=H92+utils.StringUtils.bind(j0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.TITLE,y92)),H92=H92+utils.StringUtils.bind(g0B,utils.browserVersion().isChrome?I4K.C4C:o0B),H92=H92+utils.StringUtils.bind(T4K.n0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.CELL,Z92)),H92=H92+utils.StringUtils.bind(T4K.t0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.CELL+I4K.s4C+N92._view.grid.vo.GridStyleName.TOTAL,Z92)),H92=H92+utils.StringUtils.bind(T4K.c0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.CELL+I4K.s4C+N92._view.grid.vo.GridStyleName.HEADER+I4K.s4C+N92._view.grid.vo.GridStyleName.HEADER_ROW,y92)),H92=H92+utils.StringUtils.bind(T4K.L0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.CELL+I4K.s4C+N92._view.grid.vo.GridStyleName.HEADER+I4K.s4C+N92._view.grid.vo.GridStyleName.HEADER_COLUMN,y92)),H92=H92+utils.StringUtils.bind(T4K.a0B,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.CELL+I4K.s4C+N92._view.grid.vo.GridStyleName.HEADER+I4K.s4C+N92._view.grid.vo.GridStyleName.FILTER_HEADER,y92)),Z92=I4K.O8C;I4K.J8C>=Z92;Z92++)H92+=utils.StringUtils.bind(T4K.e0B,Z92,N92._view.grid.vo.StyleValueObject.fromClassToString(N92._view.grid.vo.GridStyleName.HEADER_ROW+I4K.s4C+N92._view.grid.vo.GridStyleName.LEVEL+Z92,y92,[T4K.h0B]));for(Z92=I4K.F8C;Z92<this.stylesList.length;Z92++)H92+=utils.StringUtils.bind(T4K.R0B,this.stylesList[Z92],N92._view.grid.vo.StyleValueObject.fromClassToString(this.stylesList[Z92],y92));H92=(H92+A0B).replace(/background-color:rgb\(33, 33, 33\)/g,Q0B);return H92=H92.replace(/background-color:rgb\(66, 66, 66\)/g,k0B);};return s92;}();K92.PrintingManager=x92;}(D92.printing||(D92.printing={})));}(N92.model||(N92.model={})));}(pivot||(pivot={})));(function(d92){(function(S92){(function(T92){var I92=function(){m92.fromObject=function(w92){var r92=new m92();U9VV.x4C!=w92&&(U9VV.x4C!=w92.header&&(r92.header=w92.header),U9VV.x4C!=w92.footer&&(r92.footer=w92.footer));return r92;};function m92(){}return m92;}();T92.PrintOptions=I92;}(S92.printing||(S92.printing={})));}(d92.model||(d92.model={})));}(pivot||(pivot={})));(function(C92){(function(P92){(function(U12){var v12=function(W12){var v4f=U9VV;var z4B="showReportFiltersArea";var u4B="grandTotalsPosition";var q4B="showAggregationLabels";var Y4B="defaultHierarchySortName";var B4B="selectEmptyCells";var X4B="showCalculatedValuesButton";var p4B="dateTimePattern";var l4B="datePattern";var V4B="showGrandTotals";var W4B="showTotals";var G4B="saveAllFormats";var v4B="showHierarchies";var U4B="showDrillThroughConfigurator";var C0B="sorting";var w0B="showExtraTotalLabels";var m0B="showHierarchyCaptions";var I0B="showEmptyData";var S0B="showDefaultSlice";var d0B="showFilter";var y0B="gridTitle";var Z0B="flatView";var H0B="gridType";var E0B="classicView";var J0B="configuratorButton";var i0B="configuratorActive";var f0B="configuratorOpened";__extends(G12,W12);G12.getInstance=function(){utils.nullOrUndefined(G12.instance)&&(G12.instance=new G12());return G12.instance;};G12.dispose=function(){G12._globals._defaults=v4f.x4C;G12._globals=v4f.x4C;G12._options=v4f.x4C;G12._defaults=v4f.x4C;G12.instance=v4f.x4C;};G12.setGlobalOptions=function(l12){G12._globals=l12;};G12.getOptions=function(X12,B12){void v4f.F8C===X12&&(X12=!v4f.O8C);void v4f.F8C===B12&&(B12=!v4f.O8C);var p12=new U12.vo.OptionsValueObject();X12&&p12.mergeWith(G12._defaults);B12&&p12.mergeWith(G12._globals);p12.mergeWith(G12._options);X12||p12.cleanFromDefaults();return p12;};G12.clear=function(){this._options=new U12.vo.OptionsValueObject();};G12.setOptions=function(D12,u12){void v4f.F8C===u12&&(u12=!v4f.F8C);if(utils.nullOrUndefined(G12._options)||u12){var Y12=G12.configuratorOpened;G12._options=new U12.vo.OptionsValueObject();G12._options.configuratorOpened=Y12;}var Y12=U12.vo.OptionsValueObject.toPlainObject(D12),z12=!v4f.O8C;G12.dispatchSuspended=!v4f.F8C;var N12=G12.getOptions(!v4f.F8C,!v4f.F8C),q12;for(q12 in Y12)if(void v4f.F8C!=N12[q12]&&Y12[q12]!=N12[q12]&&(z12=!v4f.F8C,G12.optionAffectDataProvider(q12))){G12.optionAffectedDataProvider=!v4f.F8C;break;}G12._options.mergeWith(Y12);C92.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME=G12.defaultHierarchySortName;G12.dispatchSuspended=!v4f.O8C;z12&&G12.dispatchReportChange();};G12.optionAffectDataProvider=function(x12){return-v4f.O8C<G12._optionsAffectDataProvider.indexOf(x12);};G12.getOption=function(K12){return v4f.x4C!=G12._options[K12]?G12._options[K12]:G12._globals&&v4f.x4C!=G12._globals[K12]?G12._globals[K12]:G12._defaults[K12];};Object.defineProperty(G12,f0B,{get:function(){return G12._options.configuratorOpened;},set:function(s12){G12._options.configuratorOpened=s12;},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,i0B,{get:function(){return G12.getOption(i0B);},set:function(F12){G12._options.configuratorActive!=F12&&(G12.configuratorOpened=G12._options.configuratorActive=F12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,J0B,{get:function(){return G12.getOption(J0B);},set:function(O12){G12._options.configuratorButton!=O12&&(G12._options.configuratorButton=O12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,E0B,{get:function(){return G12.getOption(H0B)==C92._view.grid.GridType.CLASSIC;},set:function(M12){G12._options.gridType!=C92._view.grid.GridType.CLASSIC&&(G12._options.gridType=C92._view.grid.GridType.CLASSIC,G12.optionAffectedDataProvider=G12.optionAffectDataProvider(H0B),G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,Z0B,{get:function(){return G12.getOption(H0B)==C92._view.grid.GridType.FLAT;},set:function(b12){G12._options.gridType!=C92._view.grid.GridType.FLAT&&(G12._options.gridType=C92._view.grid.GridType.FLAT,G12.optionAffectedDataProvider=G12.optionAffectDataProvider(H0B),G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,H0B,{get:function(){return G12.getOption(H0B);},set:function(j12){G12._options.gridType!=j12&&(G12._options.gridType=j12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,y0B,{get:function(){return G12.getOption(y0B);},set:function(g12){G12._options.gridTitle!=g12&&(G12._options.gridTitle=g12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,d0B,{get:function(){return G12.getOption(d0B);},set:function(o12){G12._options.showFilter!=o12&&(G12._options.showFilter=o12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,S0B,{get:function(){return G12.getOption(S0B);},set:function(n12){G12._options.showDefaultSlice!=n12&&(G12._options.showDefaultSlice=n12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,I0B,{get:function(){return G12.getOption(I0B);},set:function(t12){G12._options.showEmptyData!=t12&&(G12._options.showEmptyData=t12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,G9VV.T0B,{get:function(){return G12.getOption(G9VV.T0B);},set:function(c12){G12._options.showAggregations!=c12&&(G12._options.showAggregations=c12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});function G12(){var V12=W12.call(this)||this;G12._defaults=new U12.vo.OptionsValueObject();G12._defaults.setDefaults();G12._options=new U12.vo.OptionsValueObject();if(G12.instance)throw Error(v9VV.D5C);return V12;}Object.defineProperty(G12,m0B,{get:function(){return G12.getOption(m0B);},set:function(L12){G12._options.showHierarchyCaptions!=L12&&(G12._options.showHierarchyCaptions=L12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,w0B,{get:function(){return G12.getOption(w0B);},set:function(a12){G12._options.showExtraTotalLabels!=a12&&(G12._options.showExtraTotalLabels=a12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,G9VV.r0B,{get:function(){return G12.getOption(G9VV.r0B);},set:function(e12){G12._options.showHeaders!=e12&&(G12._options.showHeaders=e12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,C0B,{get:function(){return G12.getOption(C0B);},set:function(h12){G12._options.sorting!=h12&&(G12._options.sorting=h12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,G9VV.P0B,{get:function(){return G12.getOption(G9VV.P0B);},set:function(R12){G12._options.drillThrough!=R12&&(G12._options.drillThrough=R12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,U4B,{get:function(){return G12.getOption(U4B);},set:function(A12){G12._options.showDrillThroughConfigurator!=A12&&(G12._options.showDrillThroughConfigurator=A12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,v4B,{get:function(){return G12.getOption(v4B);},set:function(Q12){G12._options.showHierarchies!=Q12&&(G12._options.showHierarchies=Q12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,G4B,{get:function(){return G12.getOption(G4B);},set:function(k12){G12._options.saveAllFormats!=k12&&(G12._options.saveAllFormats=k12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,W4B,{get:function(){return G12.getOption(W4B);},set:function(f12){G12._options.showTotals!=f12&&(G12._options.showTotals=f12,G12.optionAffectedDataProvider=G12.optionAffectDataProvider(W4B),G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,V4B,{get:function(){return G12.getOption(V4B);},set:function(i12){G12._options.showGrandTotals!=i12&&(G12._options.showGrandTotals=i12,G12.optionAffectedDataProvider=G12.optionAffectDataProvider(V4B),G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,l4B,{get:function(){return G12.getOption(l4B);},set:function(J12){G12._options.datePattern!=J12&&(G12._options.datePattern=J12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,p4B,{get:function(){return G12.getOption(p4B);},set:function(E12){G12._options.dateTimePattern!=E12&&(G12._options.dateTimePattern=E12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,X4B,{get:function(){return G12.getOption(X4B);},set:function(H12){G12._options.showCalculatedValuesButton!=H12&&(G12._options.showCalculatedValuesButton=H12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,B4B,{get:function(){return G12.getOption(B4B);},set:function(Z12){G12._options.selectEmptyCells!=Z12&&(G12._options.selectEmptyCells=Z12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,Y4B,{get:function(){return G12.getOption(Y4B);},set:function(y12){G12._options.defaultHierarchySortName!=y12&&(G12._options.defaultHierarchySortName=y12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,q4B,{get:function(){return G12.getOption(q4B);},set:function(d12){G12._options.showAggregationLabels!=d12&&(G12._options.showAggregationLabels=d12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,u4B,{get:function(){return G12.getOption(u4B);},set:function(S12){G12._options.grandTotalsPosition!=S12&&(G12._options.grandTotalsPosition=S12,G12.optionAffectedDataProvider=G12.optionAffectDataProvider(u4B),G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});Object.defineProperty(G12,z4B,{get:function(){return G12.getOption(z4B);},set:function(I12){G12._options.showReportFiltersArea!=I12&&(G12._options.showReportFiltersArea=I12,G12.dispatchReportChange());},enumerable:!v4f.F8C,configurable:!v4f.F8C});G12.dispatchReportChange=function(){G12.dispatchSuspended||G12.getInstance().dispatch(new events._Event(P92._state.StateEvent.REPORT_CHANGED));};G12.optionAffectedDataProvider=!v4f.O8C;G12.dispatchSuspended=!v4f.O8C;G12._optionsAffectDataProvider=[H0B,W4B,V4B,u4B];G12.defaultDatePattern=v9VV.L7C;G12.defaultDateTimePattern=v9VV.a7C;return G12;}(events.EventDispatcher);U12.OptionsManager=v12;}(P92._options||(P92._options={})));}(C92.model||(C92.model={})));}(pivot||(pivot={})));(function(T12){(function(m12){(function(w12){(function(C12){var r12=function(){P12.prototype.setDefaults=function(){for(var U82 in this._defaults)this[U82]=this._defaults[U82];};P12.prototype.cleanFromDefaults=function(){for(var v82 in this._defaults)this[v82]==this._defaults[v82]&&(this[v82]=void U9VV.F8C);};P12.fromObject=function(G82){var Q6K=v9VV;var A6K=U9VV;var W82=new P12();if(void A6K.F8C==G82)return W82;A6K.x4C!=G82.options&&(G82=G82.options);G82 instanceof P12||(G82=P12.toPlainObject(G82));A6K.x4C!=G82.configuratorActive&&(W82.configuratorActive=G82.configuratorActive);A6K.x4C!=G82.configuratorButton&&(W82.configuratorButton=G82.configuratorButton);A6K.x4C!=G82.gridTitle&&(W82.gridTitle=G82.gridTitle);A6K.x4C!=G82.gridType&&(W82.gridType=G82.gridType);A6K.x4C!=G82.showFilter&&(W82.showFilter=G82.showFilter);A6K.x4C!=G82.showDefaultSlice&&(W82.showDefaultSlice=G82.showDefaultSlice);A6K.x4C!=G82.showEmptyData&&(W82.showEmptyData=G82.showEmptyData);A6K.x4C!=G82.showAggregations&&(W82.showAggregations=G82.showAggregations);A6K.x4C!=G82.showHierarchyCaptions&&(W82.showHierarchyCaptions=G82.showHierarchyCaptions);A6K.x4C!=G82.showHeaders&&(W82.showHeaders=G82.showHeaders);A6K.x4C!=G82.showReportFiltersArea&&(W82.showReportFiltersArea=G82.showReportFiltersArea);A6K.x4C!=G82.showExtraTotalLabels&&(W82.showExtraTotalLabels=G82.showExtraTotalLabels);A6K.x4C!=G82.drillThrough&&(W82.drillThrough=G82.drillThrough);A6K.x4C!=G82.showDrillThroughConfigurator&&(W82.showDrillThroughConfigurator=G82.showDrillThroughConfigurator);A6K.x4C!=G82.sorting&&(W82.sorting=G82.sorting,Q6K.j7C==W82.sorting.toString().toLowerCase()&&(W82.sorting=A6K.k2C),Q6K.C1B==W82.sorting.toString().toLowerCase()&&(W82.sorting=G9VV.N4B));A6K.x4C!=G82.showHierarchies&&(W82.showHierarchies=G82.showHierarchies);A6K.x4C!=G82.saveAllFormats&&(W82.saveAllFormats=G82.saveAllFormats);A6K.x4C!=G82.showTotals&&(W82.showTotals=G82.showTotals,Q6K.j7C==W82.showTotals.toString().toLowerCase()&&(W82.showTotals=A6K.k2C),Q6K.C1B==W82.showTotals.toString().toLowerCase()&&(W82.showTotals=G9VV.N4B));A6K.x4C!=G82.showGrandTotals&&(W82.showGrandTotals=G82.showGrandTotals,Q6K.j7C==W82.showGrandTotals.toString().toLowerCase()&&(W82.showGrandTotals=A6K.k2C),Q6K.C1B==W82.showGrandTotals.toString().toLowerCase()&&(W82.showGrandTotals=G9VV.N4B));A6K.x4C!=G82.datePattern&&(W82.datePattern=G82.datePattern);A6K.x4C!=G82.dateTimePattern&&(W82.dateTimePattern=G82.dateTimePattern);A6K.x4C!=G82.showCalculatedValuesButton&&(W82.showCalculatedValuesButton=G82.showCalculatedValuesButton);A6K.x4C!=G82.selectEmptyCells&&(W82.selectEmptyCells=G82.selectEmptyCells);A6K.x4C!=G82.defaultHierarchySortName&&(W82.defaultHierarchySortName=G82.defaultHierarchySortName);A6K.x4C!=G82.showAggregationLabels&&(W82.showAggregationLabels=G82.showAggregationLabels);A6K.x4C!=G82.grandTotalsPosition&&(W82.grandTotalsPosition=G82.grandTotalsPosition);return W82;};P12.toPlainObject=function(V82){var i6K=v9VV;var f6K=U9VV;var l82={};if(void f6K.F8C==V82)return l82;f6K.x4C!=V82.configuratorActive&&(l82.configuratorActive=V82.configuratorActive);f6K.x4C!=V82.configuratorButton&&(l82.configuratorButton=V82.configuratorButton);f6K.x4C!=V82.showAggregations&&(l82.showAggregations=V82.showAggregations);f6K.x4C!=V82.showCalculatedValuesButton&&(l82.showCalculatedValuesButton=V82.showCalculatedValuesButton);f6K.x4C!=V82.drillThrough&&(l82.drillThrough=V82.drillThrough);f6K.x4C!=V82.showDrillThroughConfigurator&&(l82.showDrillThroughConfigurator=V82.showDrillThroughConfigurator);f6K.x4C!=V82.sorting&&(l82.sorting=V82.sorting);f6K.x4C!=V82.datePattern&&(l82.datePattern=V82.datePattern);f6K.x4C!=V82.dateTimePattern&&(l82.dateTimePattern=V82.dateTimePattern);f6K.x4C!=V82.saveAllFormats&&(l82.saveAllFormats=V82.saveAllFormats);f6K.x4C!=V82.showDefaultSlice&&(l82.showDefaultSlice=V82.showDefaultSlice);f6K.x4C!=V82.showEmptyData&&(l82.showEmptyData=V82.showEmptyData);f6K.x4C!=V82.defaultHierarchySortName&&(l82.defaultHierarchySortName=V82.defaultHierarchySortName);f6K.x4C!=V82.selectEmptyCells&&(l82.selectEmptyCells=V82.selectEmptyCells);f6K.x4C!=V82.showAggregationLabels&&(l82.showAggregationLabels=V82.showAggregationLabels);f6K.x4C!=V82.classicView&&(l82.classicView=V82.classicView);f6K.x4C!=V82.flatView&&(l82.flatView=V82.flatView);f6K.x4C!=V82.gridType&&(l82.gridType=V82.gridType);f6K.x4C!=V82.gridTitle&&(l82.gridTitle=V82.gridTitle);f6K.x4C!=V82.showFilter&&(l82.showFilter=V82.showFilter);f6K.x4C!=V82.showHeaders&&(l82.showHeaders=V82.showHeaders);f6K.x4C!=V82.showTotals&&(l82.showTotals=V82.showTotals);f6K.x4C!=V82.showGrandTotals&&(l82.showGrandTotals=V82.showGrandTotals);f6K.x4C!=V82.grandTotalsPosition&&(l82.grandTotalsPosition=V82.grandTotalsPosition);f6K.x4C!=V82.showExtraTotalLabels&&(l82.showExtraTotalLabels=V82.showExtraTotalLabels);f6K.x4C!=V82.showHierarchies&&(l82.showHierarchies=V82.showHierarchies);f6K.x4C!=V82.showHierarchyCaptions&&(l82.showHierarchyCaptions=V82.showHierarchyCaptions);f6K.x4C!=V82.drillthroughMaxRows&&(l82.drillthroughMaxRows=V82.drillthroughMaxRows);f6K.x4C!=V82.showReportFiltersArea&&(l82.showReportFiltersArea=V82.showReportFiltersArea);f6K.x4C!=V82.grid&&(V82=V82.grid,f6K.x4C!=V82.type&&(l82.gridType=V82.type),f6K.x4C!=V82.title&&(l82.gridTitle=V82.title),f6K.x4C!=V82.showFilter&&(l82.showFilter=V82.showFilter),f6K.x4C!=V82.showHeaders&&(l82.showHeaders=V82.showHeaders),f6K.x4C!=V82.showTotals&&(l82.showTotals=V82.showTotals,i6K.j7C==l82.showTotals.toString().toLowerCase()&&(l82.showTotals=f6K.k2C),i6K.C1B==l82.showTotals.toString().toLowerCase()&&(l82.showTotals=G9VV.N4B)),f6K.x4C!=V82.showGrandTotals&&(l82.showGrandTotals=V82.showGrandTotals,i6K.j7C==l82.showGrandTotals.toString().toLowerCase()&&(l82.showGrandTotals=f6K.k2C),i6K.C1B==l82.showGrandTotals.toString().toLowerCase()&&(l82.showGrandTotals=G9VV.N4B)),f6K.x4C!=V82.grandTotalsPosition&&(l82.grandTotalsPosition=V82.grandTotalsPosition),f6K.x4C!=V82.showExtraTotalLabels&&(l82.showExtraTotalLabels=V82.showExtraTotalLabels),f6K.x4C!=V82.showHierarchies&&(l82.showHierarchies=V82.showHierarchies),f6K.x4C!=V82.showHierarchyCaptions&&(l82.showHierarchyCaptions=V82.showHierarchyCaptions),f6K.x4C!=V82.drillthroughMaxRows&&(l82.drillthroughMaxRows=V82.drillthroughMaxRows),f6K.x4C!=V82.showReportFiltersArea&&(l82.showReportFiltersArea=V82.showReportFiltersArea));return l82;};P12.prototype.toObject=function(){var E6K=U9VV;var p82={},X82={};this.gridType===T12._view.grid.GridType.COMPACT?X82.type=T12._view.grid.GridType.COMPACT:this.gridType===T12._view.grid.GridType.CLASSIC?X82.type=T12._view.grid.GridType.CLASSIC:this.gridType===T12._view.grid.GridType.FLAT&&(X82.type=T12._view.grid.GridType.FLAT);E6K.x4C!=this.gridTitle&&(X82.title=this.gridTitle);E6K.x4C!=this.showFilter&&(X82.showFilter=this.showFilter);E6K.x4C!=this.showHeaders&&(X82.showHeaders=this.showHeaders);E6K.x4C!=this.showTotals&&(X82.showTotals=this.showTotals);E6K.x4C!=this.showGrandTotals&&(X82.showGrandTotals=this.showGrandTotals);E6K.x4C!=this.grandTotalsPosition&&(X82.grandTotalsPosition=this.grandTotalsPosition);E6K.x4C!=this.showExtraTotalLabels&&(X82.showExtraTotalLabels=this.showExtraTotalLabels);E6K.x4C!=this.showHierarchies&&(X82.showHierarchies=this.showHierarchies);E6K.x4C!=this.showHierarchyCaptions&&(X82.showHierarchyCaptions=this.showHierarchyCaptions);E6K.x4C!=this.drillthroughMaxRows&&(X82.drillthroughMaxRows=this.drillthroughMaxRows);E6K.x4C!=this.showReportFiltersArea&&(X82.showReportFiltersArea=this.showReportFiltersArea);utils.ObjectUtils.isEmptyObject(X82)||(p82.grid=X82);E6K.x4C!=this.configuratorActive&&(p82.configuratorActive=this.configuratorActive);E6K.x4C!=this.configuratorButton&&(p82.configuratorButton=this.configuratorButton);E6K.x4C!=this.showAggregations&&(p82.showAggregations=this.showAggregations);E6K.x4C!=this.showCalculatedValuesButton&&(p82.showCalculatedValuesButton=this.showCalculatedValuesButton);E6K.x4C!=this.drillThrough&&(p82.drillThrough=this.drillThrough);E6K.x4C!=this.showDrillThroughConfigurator&&(p82.showDrillThroughConfigurator=this.showDrillThroughConfigurator);E6K.x4C!=this.sorting&&(p82.sorting=this.sorting);E6K.x4C!=this.datePattern&&(p82.datePattern=this.datePattern);E6K.x4C!=this.dateTimePattern&&(p82.dateTimePattern=this.dateTimePattern);E6K.x4C!=this.saveAllFormats&&(p82.saveAllFormats=this.saveAllFormats);E6K.x4C!=this.showDefaultSlice&&(p82.showDefaultSlice=this.showDefaultSlice);E6K.x4C!=this.showEmptyData&&(p82.showEmptyData=this.showEmptyData);E6K.x4C!=this.defaultHierarchySortName&&(p82.defaultHierarchySortName=this.defaultHierarchySortName);E6K.x4C!=this.selectEmptyCells&&(p82.selectEmptyCells=this.selectEmptyCells);E6K.x4C!=this.showAggregationLabels&&(p82.showAggregationLabels=this.showAggregationLabels);return p82;};P12.prototype.mergeWith=function(Y82){for(var B82 in Y82)this._defaults.hasOwnProperty(B82)&&void U9VV.F8C!=Y82[B82]&&(this[B82]=Y82[B82]);};function P12(){var Z6K=U9VV;this._defaults={configuratorActive:!Z6K.O8C,configuratorOpened:!Z6K.O8C,configuratorButton:!Z6K.F8C,gridType:T12._view.grid.GridType.COMPACT,gridTitle:Z6K.C4C,showFilter:!Z6K.F8C,showDefaultSlice:!Z6K.F8C,showEmptyData:!Z6K.F8C,showAggregations:!Z6K.F8C,showHierarchyCaptions:!Z6K.F8C,drillthroughMaxRows:v9VV.N6C,showHeaders:!Z6K.F8C,showReportFiltersArea:!Z6K.F8C,showExtraTotalLabels:!Z6K.O8C,drillThrough:!Z6K.F8C,showDrillThroughConfigurator:!Z6K.F8C,sorting:Z6K.k2C,showHierarchies:!Z6K.F8C,saveAllFormats:!Z6K.O8C,showTotals:Z6K.k2C,showGrandTotals:Z6K.k2C,datePattern:v9VV.L7C,dateTimePattern:v9VV.a7C,showCalculatedValuesButton:!Z6K.F8C,selectEmptyCells:!Z6K.F8C,defaultHierarchySortName:T12.data_.consts.SortType.ASC,showAggregationLabels:!Z6K.F8C,grandTotalsPosition:Z6K.b2C};}return P12;}();C12.OptionsValueObject=r12;}(w12.vo||(w12.vo={})));}(m12._options||(m12._options={})));}(T12.model||(T12.model={})));}(pivot||(pivot={})));(function(q82){(function(u82){(function(N82){var z82=function(x82){__extends(D82,x82);D82.getInstance=function(){U9VV.x4C==D82.instance&&(D82.instance=new D82());return D82.instance;};D82.dispose=function(){D82.conditions=U9VV.x4C;D82.instance=U9VV.x4C;};D82.add=function(s82){U9VV.x4C!=s82&&(D82.conditions.addItem(s82.id,s82),this.dispatchReportChange());};function D82(){var K82=x82.call(this)||this;if(U9VV.x4C!=D82.instance)throw Error(v9VV.D5C);return K82;}D82.get=function(F82){return D82.conditions.getItem(F82);};D82.remove=function(O82){D82.conditions.removeItem(O82);this.dispatchReportChange();};D82.removeAll=function(){D82.conditions=new utils.AssociativeArray();this.dispatchReportChange();};D82.getObjects=function(){for(var b82=[],M82=U9VV.F8C;M82<D82.conditions.length;M82++){var j82=D82.conditions.getItemAt(M82);j82.isUpdate||b82.push(j82.toObject());}return b82;};D82.dispatchReportChange=function(){D82.getInstance().dispatchWith(u82._state.StateEvent.REPORT_CHANGED);};D82.conditions=new utils.AssociativeArray();return D82;}(events.EventDispatcher);N82.ConditionManager=z82;}(u82.condition||(u82.condition={})));}(q82.model||(q82.model={})));}(pivot||(pivot={})));(function(g82){(function(o82){(function(n82){(function(c82){var L82=function(){var D4B="isUpdate";Object.defineProperty(a82.prototype,D4B,{get:function(){return-U9VV.O8C<this.formula.toLowerCase().indexOf(g82.data_.consts.FunctionName.UPDATE_DIFFERENCE)||-U9VV.O8C<this.formula.toLowerCase().indexOf(g82.data_.consts.FunctionName.UPDATE_PERCENT);},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});a82.prototype.toObject=function(){var e82={};e82.id=this.id;e82.row=this.row;e82.column=this.column;void U9VV.F8C!==this.isTotal&&(e82.isTotal=this.isTotal);e82.measure=this.measure;e82.member=this.member;e82.hierarchy=this.hierarchy;e82.formula=this.formula;U9VV.x4C!=this.format&&(e82.format=this.format.toObject(),e82.formatCSS=this.format.toString());return e82;};function a82(){this.id=U9VV.C4C;this.column=this.row=-U9VV.O8C;this.formula=this.hierarchy=this.member=this.measure=U9VV.C4C;this.params=[];}a82.toObject=function(h82){return h82.toObject();};a82.fromObject=function(R82){var T6K=U9VV;var A82=new a82();A82.id=T6K.x4C!=R82.id?R82.id:utils.StringUtils.generateID();T6K.x4C!=R82.row&&(A82.row=R82.row);T6K.x4C!=R82.column&&(A82.column=R82.column);if(T6K.x4C!=R82.isTotal){if(!T6K.F8C==R82.isTotal||T6K.O8C==R82.isTotal)A82.isTotal=!T6K.F8C;if(!T6K.O8C==R82.isTotal||T6K.F8C==R82.isTotal)A82.isTotal=!T6K.O8C;}T6K.x4C!=R82.measure&&(A82.measure=R82.measure);A82.formula=R82.formula;T6K.x4C!=R82.trueStyle&&T6K.x4C==R82.format&&(R82.format=R82.trueStyle);T6K.x4C!=R82.format&&(A82.format=T6K.K2C===typeof R82.format?t82.fromString(R82.format):t82.fromObject(R82.format));R82=new utils.Lexer();A82.params=R82.parse(A82.formula);return T6K.x4C==A82.params?T6K.x4C:A82;};return a82;}();c82.ConditionValueObject=L82;var t82=function(){Q82.fromObject=function(k82){var m6K=U9VV;var s4B=1.5;var f82=new Q82();if(m6K.x4C==k82)return f82;m6K.x4C!=k82.backgroundColor&&(f82.backgroundColor=Q82.color(k82.backgroundColor));m6K.x4C!=k82.color&&(f82.color=Q82.color(k82.color));m6K.x4C!=k82.fontFamily&&(f82.fontFamily=k82.fontFamily);m6K.x4C!=k82.fontSize&&(f82.fontSize=Q82.size(k82.fontSize));m6K.x4C!=k82.italic&&k82.italic&&(f82.fontStyle=G9VV.x4B);m6K.x4C!=k82.fontStyle&&(f82.fontStyle=k82.fontStyle);m6K.x4C!=k82.bold&&k82.bold&&(f82.fontWeight=G9VV.K4B);m6K.x4C!=k82.fontWeight&&(f82.fontWeight=k82.fontWeight);m6K.x4C!=k82.padding&&(f82.padding=Q82.size(Math.round(s4B*k82.padding)));m6K.x4C!=k82.textAlign&&(f82.textAlign=k82.textAlign);m6K.x4C!=k82.textIndent&&(f82.textIndent=Q82.size(k82.textIndent));return f82;};function Q82(){}Q82.fromString=function(i82){var C6K=U9VV;var E82={};i82=i82.split(v9VV.F9Q);if(C6K.x4C!=i82)for(var J82=C6K.F8C;J82<i82.length;J82++){var H82=i82[J82].split(v9VV.t7C)[C6K.F8C],Z82=i82[J82].split(v9VV.t7C)[C6K.O8C];C6K.C4C!=H82&&(E82[H82]=Z82);}return Q82.fromObject(E82);};Q82.prototype.toObject=function(){var P6K=U9VV;var y82={};P6K.x4C!=this.backgroundColor&&(y82.backgroundColor=this.backgroundColor);P6K.x4C!=this.color&&(y82.color=this.color);P6K.x4C!=this.fontFamily&&(y82.fontFamily=this.fontFamily);P6K.x4C!=this.fontSize&&(y82.fontSize=this.fontSize);P6K.x4C!=this.fontStyle&&(y82.fontStyle=this.fontStyle);P6K.x4C!=this.fontWeight&&(y82.fontWeight=this.fontWeight);P6K.x4C!=this.padding&&(y82.padding=this.padding);P6K.x4C!=this.textAlign&&(y82.textAlign=this.textAlign);P6K.x4C!=this.textIndent&&(y82.textIndent=this.textIndent);return y82;};Q82.prototype.toCSSObject=function(){var v5K=G9VV;var U5K=U9VV;var j4B="text-indent";var O4B="font-style";var d82={};U5K.x4C!=this.backgroundColor&&(d82[v5K.F4B]=this.backgroundColor);U5K.x4C!=this.color&&(d82.color=this.color);U5K.x4C!=this.fontFamily&&(d82[v5K.M0B]=this.fontFamily);U5K.x4C!=this.fontSize&&(d82[v5K.b0B]=this.fontSize);U5K.x4C!=this.fontStyle&&(d82[O4B]=this.fontStyle);U5K.x4C!=this.fontWeight&&(d82[v5K.M4B]=this.fontWeight);U5K.x4C!=this.padding&&(d82.padding=this.padding);U5K.x4C!=this.textAlign&&(d82[v5K.b4B]=this.textAlign);U5K.x4C!=this.textIndent&&(d82[j4B]=this.textIndent);return d82;};Q82.prototype.toString=function(){var S82=U9VV.C4C,I82=this.toCSSObject(),T82;for(T82 in I82)S82+=T82+v9VV.t7C+I82[T82]+v9VV.F9Q;return S82;};Q82.color=function(m82){var g4B="0x";return m82.replace(g4B,v9VV.R7C);};Q82.size=function(w82){var l5K=U9VV;return l5K.x2C==typeof w82?w82+l5K.y4C:l5K.K2C==typeof w82&&l5K.F8C>w82.indexOf(l5K.y4C)?w82.trim()+l5K.y4C:w82;};return Q82;}();c82.CSSValueObject=t82;}(n82.vo||(n82.vo={})));}(o82.condition||(o82.condition={})));}(g82.model||(g82.model={})));}(pivot||(pivot={})));(function(r82){(function(C82){(function(U02){var P82=function(G02){var A0f=U9VV;var t4B=/[A-Za-z]+/;var n4B="columnSizesNamed";var o4B="rowSizesNamed";__extends(v02,G02);v02.getInstance=function(){A0f.x4C==v02.instance&&(v02.instance=new v02());return v02.instance;};v02.dispose=function(){v02.rowFilterSizes=A0f.x4C;v02.rowHeaderSizes=A0f.x4C;v02.rowSizes=A0f.x4C;v02.rowSizesByIdx=A0f.x4C;v02._rowSizesNamed=A0f.x4C;v02._rowSizesNamedToApply=A0f.x4C;v02.columnHeaderSizes=A0f.x4C;v02.columnSizes=A0f.x4C;v02.columnSizesByIdx=A0f.x4C;v02._columnSizesNamed=A0f.x4C;v02._columnSizesNamedToApply=A0f.x4C;v02.instance=A0f.x4C;};Object.defineProperty(v02,o4B,{get:function(){return this._rowSizesNamed=v02.toNamedSizes(r82.data_.consts.AxisName.ROWS_AXIS);},enumerable:!A0f.F8C,configurable:!A0f.F8C});Object.defineProperty(v02,n4B,{get:function(){return this._columnSizesNamed=v02.toNamedSizes(r82.data_.consts.AxisName.COLUMNS_AXIS);},enumerable:!A0f.F8C,configurable:!A0f.F8C});v02.clear=function(){v02.rowSizes={};v02.columnSizes={};v02._rowSizesNamedToApply={};v02._rowSizesNamed={};v02._columnSizesNamedToApply={};v02._columnSizesNamed={};v02.rowSizesByIdx={};v02.columnSizesByIdx={};v02.rowHeaderSizes={};v02.columnHeaderSizes={};v02.rowFilterSizes={};};v02.applySizes=function(V02,l02,p02,X02,B02,Y02,q02){if(v02.basedOnNamesArray(V02)||v02.basedOnNamesArray(l02))v02._rowSizesNamedToApply=v02.convertSizes(V02),v02._columnSizesNamedToApply=v02.convertSizes(l02),v02.processSizes();else if(v02.basedOnNamesObject(V02)||v02.basedOnNamesObject(l02))v02._rowSizesNamedToApply=V02,v02._columnSizesNamedToApply=l02,v02.processSizes();v02.rowSizesByIdx=p02;v02.columnSizesByIdx=X02;v02.rowHeaderSizes=B02;v02.columnHeaderSizes=Y02;v02.rowFilterSizes=q02;};v02.processSizes=function(){if(C82.PivotModel.getInstance().state_.reportState==C82._state.StateEvent.REPORT_COMPLETE)this.onDataLoaded();else r82.data_.Cube.getInstance().addEventListener(r82.data_.DataEvent.QUERY_COMPLETE,v02.onDataLoaded,A0f.O8C);};v02.basedOnNamesArray=function(u02){var z02=t4B,N02;for(N02 in u02)if(-A0f.O8C<u02[N02].toString().search(z02))return!A0f.F8C;return!A0f.O8C;};v02.basedOnNamesObject=function(K02){var D02=t4B,x02;for(x02 in K02)if(-A0f.O8C<x02.toString().search(D02))return!A0f.F8C;return!A0f.O8C;};v02.convertSizes=function(F02){var O02={};if(A0f.x4C!=F02)for(var M02 in F02){var s02=F02[M02];if(s02 instanceof Array&&A0f.F8C<s02.length){var b02=parseInt(s02.pop());O02[s02.toString()]=b02;}}return O02;};v02.onDataLoaded=function(){r82.data_.Cube.getInstance().removeEventListener(r82.data_.DataEvent.QUERY_COMPLETE,v02.onDataLoaded);v02.rowSizes=v02.fromNamedSizes(r82.data_.consts.AxisName.ROWS_AXIS);v02._rowSizesNamedToApply={};v02.columnSizes=v02.fromNamedSizes(r82.data_.consts.AxisName.COLUMNS_AXIS);v02._columnSizesNamedToApply={};};v02.fromNamedSizes=function(c02){var e02={},a02=c02==r82.data_.consts.AxisName.ROWS_AXIS?v02._rowSizesNamedToApply:v02._columnSizesNamedToApply,L02;for(L02 in a02){var g02=L02.split(v9VV.k6C),A02=a02[L02],h02=r82.data_.Cube.getInstance().slice_.axes.getItem(c02).hasMeasures,R02;h02&&!C82._options.OptionsManager.flatView&&(R02=g02[g02.length-A0f.O8C],g02.splice(g02.length-A0f.O8C,A0f.O8C));for(var t02=!A0f.O8C,n02=[],o02=A0f.F8C;o02<g02.length;o02++)if(C82._options.OptionsManager.flatView)if(c02==r82.data_.consts.AxisName.ROWS_AXIS)n02.push(g02[o02]);else{var j02=g02[o02],j02=r82.data_.Cube.getInstance().localDataStorage.keys.indexOf(j02);if(-A0f.O8C==j02){t02=!A0f.F8C;break;}n02.push(j02);}else{j02=g02[o02];j02=(c02==r82.data_.consts.AxisName.ROWS_AXIS?r82.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(o02):r82.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(o02)).members.getItem(j02);if(A0f.x4C==j02){t02=!A0f.F8C;break;}j02.isAll?n02.push(A0f.C4C):n02.push(j02.ordinal.toString());}if(!t02){if(h02&&!C82._options.OptionsManager.flatView){g02=r82.data_.Cube.getInstance().slice_.measures_.indexOf(R02);if(A0f.C4C!=R02&&-A0f.O8C==g02)continue;n02.push(g02);}e02[n02.toString()]=A02;}}return e02;};v02.toNamedSizes=function(H02){var S02={},I02=H02==r82.data_.consts.AxisName.ROWS_AXIS?v02.rowSizes:v02.columnSizes,y02;for(y02 in I02){var k02=y02.split(v9VV.k6C),T02=I02[y02],Z02=r82.data_.Cube.getInstance().slice_.axes.getItem(H02).hasMeasures,J02;Z02&&!C82._options.OptionsManager.flatView&&(J02=parseInt(k02[k02.length-A0f.O8C]),k02.splice(k02.length-A0f.O8C,A0f.O8C));for(var E02=!A0f.O8C,i02=[],f02=A0f.F8C;f02<k02.length;f02++)if(C82._options.OptionsManager.flatView)if(H02==r82.data_.consts.AxisName.ROWS_AXIS)i02.push(k02[f02]);else{var Q02=A0f.C4C===k02[f02]?A0f.F8C:parseInt(k02[f02]),Q02=r82.data_.Cube.getInstance().localDataStorage.keys[Q02];if(A0f.x4C==Q02){E02=!A0f.F8C;break;}i02.push(Q02);}else{var Q02=A0f.C4C===k02[f02]?A0f.F8C:parseInt(k02[f02]),d02=H02==r82.data_.consts.AxisName.ROWS_AXIS?r82.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(f02):r82.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(f02);if(A0f.x4C==d02){E02=!A0f.F8C;break;}Q02=d02.members.getItemAt(Q02);if(A0f.x4C==Q02){E02=!A0f.F8C;break;}i02.push(Q02.uniqueName);}if(!E02){if(Z02&&!C82._options.OptionsManager.flatView){if(J02>=r82.data_.Cube.getInstance().slice_.measures_.length)continue;-A0f.O8C==J02&&A0f.O8C==r82.data_.Cube.getInstance().slice_.measures_.length&&(J02=A0f.F8C);i02.push(r82.data_.Cube.getInstance().slice_.measures_.getKeyAt(J02));}S02[i02.toString()]=T02;}}return S02;};v02.rowSizes={};v02.columnSizes={};v02._rowSizesNamedToApply={};v02._rowSizesNamed={};v02._columnSizesNamedToApply={};v02._columnSizesNamed={};v02.startTableRow=A0f.F8C;v02.rowSizesByIdx={};v02.columnSizesByIdx={};v02.rowHeaderSizes={};v02.columnHeaderSizes={};function v02(){var W02=G02.call(this)||this;if(A0f.x4C!=v02.instance)throw Error(v9VV.D5C);return W02;}v02.rowFilterSizes={};return v02;}(events.EventDispatcher);U02.SizesManager=P82;}(C82.sizes||(C82.sizes={})));}(r82.model||(r82.model={})));}(pivot||(pivot={})));(function(m02){(function(w02){(function(r02){var C02=function(){var L0f=U9VV;var P4B="Helvetica";var C4B=3.779;var i4B=0.9;var f4B="fullPageWidth";var k4B="fullPageHeight";var Q4B="JPEG";var d0C=297;var Q0C=210;P02.run=function(U42,v42,G42,W42){var a4B="a4";var L4B="mm";var V42=this;m02.preloader(!L0f.F8C,w02._labels.Labels.MESSAGE_PLEASE_WAIT,G9VV.c4B,!L0f.F8C,!L0f.F8C);P02.clear();P02.grid=U42;P02.dataHeight=W42;P02.dataWidth=G42;P02.coords=U42.gridLayout.coords;P02.exportOptions=v42;P02.pdf=new jsPDF(v42.pageOrientation,L4B,a4B,!utils.browserVersion().isMsie);P02.pageHeight=P02.fullPageHeight-L0f.M8C*P02.PAGE_MARGIN;P02.pageWidth=P02.fullPageWidth-L0f.M8C*P02.PAGE_MARGIN;P02.totalColumnCount=P02.grid.FIRST_DATA_COLUMN+G42;P02.totalRowCount=P02.grid.FIRST_DATA_ROW+W42;P02.widthSize={};P02.currentYPos=P02.PAGE_MARGIN;try{P02.calculateColumnCount(),P02.getStyles(),P02.createHeaderAndFooter(P02.exportOptions.header,P02.exportOptions.footer,function(){return V42.onHeaderAndFooterCreated();});}catch(l42){var e4B="Export PDF error:";console.error(e4B,l42),m02.uialert(w02._labels.Labels.MESSAGE_EXPORT_ERROR,w02._labels.Labels.ERROR,m02.AlertType.ERROR),m02.preloader(!L0f.O8C),w02.PivotModel.getInstance().dispatch(new events._Event(m02.PivotEvent.EXPORT_COMPLETE)),P02.clear();}};P02.createHeaderAndFooter=function(B42,Y42,z42){var A4B="image/jpeg";var R4B="white";var h4B="background";var H8C=23;try{P02.headerHeight=L0f.F8C;P02.footerHeight=L0f.F8C;var q42=L0f.x4C==B42,u42=L0f.x4C==Y42;if(q42&&u42)z42();else{if(!q42){B42=B42.replace(/##PAGE-NUMBER##/gi,(P02.pageNumber+L0f.O8C).toString());B42=B42.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var p42=new uicontrols.UIElement(L0f.r4C);p42.css(L0f.F3C,L0f.O3C);p42.css(h4B,R4B);p42.setWidth(P02.mm2px(P02.fullPageWidth-L0f.M8C*P02.HEADER_FOOTER_MARGIN));p42.html(B42);m02._view.PivotView.stage.container.prepend(p42);html2canvas(p42.element,{onrendered:function(N42){p42.remove();var D42=N42.toDataURL(A4B).slice(H8C);P02.headerImage=atob(D42);P02.headerHeight=P02.px2mm(N42.height);q42=!L0f.F8C;u42&&z42();},async:!L0f.F8C});}if(!u42){Y42=Y42.replace(/##PAGE-NUMBER##/gi,(P02.pageNumber+L0f.O8C).toString());Y42=Y42.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var X42=new uicontrols.UIElement(L0f.r4C);X42.css(L0f.F3C,L0f.O3C);X42.css(h4B,R4B);X42.setWidth(P02.mm2px(P02.fullPageWidth-L0f.M8C*P02.HEADER_FOOTER_MARGIN));X42.html(Y42);m02._view.PivotView.stage.container.prepend(X42);html2canvas(X42.element,{onrendered:function(x42){X42.remove();var K42=x42.toDataURL(A4B).slice(H8C);P02.footerImage=atob(K42);P02.footerHeight=P02.px2mm(x42.height);u42=!L0f.F8C;q42&&z42();},async:!L0f.F8C});}}}catch(s42){P02.headerImage=L0f.x4C,P02.headerHeight=L0f.F8C,P02.footerImage=L0f.x4C,P02.footerHeight=L0f.F8C,z42();}};P02.addHeader=function(F42,O42){F42.addImage(O42,Q4B,P02.HEADER_FOOTER_MARGIN,P02.HEADER_FOOTER_MARGIN);};P02.addFooter=function(M42,b42){M42.addImage(b42,Q4B,P02.HEADER_FOOTER_MARGIN,P02.fullPageHeight-P02.footerHeight-P02.HEADER_FOOTER_MARGIN);};P02.addHeaderAndFooter=function(){L0f.x4C!=P02.headerImage&&P02.addHeader(P02.pdf,P02.headerImage);L0f.x4C!=P02.footerImage&&P02.addFooter(P02.pdf,P02.footerImage);P02.pageHeight=P02.fullPageHeight;P02.pageHeight-=L0f.F8C==P02.headerHeight?P02.PAGE_MARGIN:P02.headerHeight+L0f.M8C*P02.HEADER_FOOTER_MARGIN;P02.pageHeight-=L0f.F8C==P02.footerHeight?P02.PAGE_MARGIN:P02.footerHeight+L0f.M8C*P02.HEADER_FOOTER_MARGIN;P02.currentYPos=L0f.F8C==P02.headerHeight?P02.PAGE_MARGIN:P02.headerHeight+L0f.M8C*P02.HEADER_FOOTER_MARGIN;};Object.defineProperty(P02,k4B,{get:function(){return v9VV.Y1Q===P02.exportOptions.pageOrientation?d0C:Q0C;},enumerable:!L0f.F8C,configurable:!L0f.F8C});Object.defineProperty(P02,f4B,{get:function(){return v9VV.Y1Q===P02.exportOptions.pageOrientation?Q0C:d0C;},enumerable:!L0f.F8C,configurable:!L0f.F8C});P02.onHeaderAndFooterCreated=function(){P02.addHeaderAndFooter();P02.addTitle(w02._options.OptionsManager.gridTitle,P02.pdf);utils.nullOrEmpty(w02._options.OptionsManager.gridTitle)||L0f.F8C!=P02.pageNumber||(P02.currentYPos+=L0f.g8C);P02.preprocessData();utils.ThreadManager.addTask(P02.generateRow,L0f.x4C,L0f.x4C,function(){return P02.onPdfGenerated();});};P02.addTitle=function(g42,j42){if(!utils.nullOrEmpty(g42)){j42.setTextColor(L0f.F8C,L0f.F8C,L0f.F8C);j42.setFontStyle(G9VV.K4B);j42.setFontSize(L0f.e8C);var o42=L0f.e8C*j42.getStringUnitWidth(g42)/j42.internal.scaleFactor;j42.text(g42,(j42.internal.pageSize.width-o42)/L0f.M8C,P02.currentYPos);}};P02.getStyles=function(){var n42=P02.grid.gridLayout,t42=n42.find(G9VV.F0B);P02.cellStyle=m02._view.grid.vo.StyleValueObject.fromClass(m02._view.grid.vo.GridStyleName.CELL,t42);P02.totalCellStyle=m02._view.grid.vo.StyleValueObject.fromClass(m02._view.grid.vo.GridStyleName.CELL+L0f.s4C+m02._view.grid.vo.GridStyleName.TOTAL,t42);P02.rowHeaderCellStyle=m02._view.grid.vo.StyleValueObject.fromClass(m02._view.grid.vo.GridStyleName.CELL+L0f.s4C+m02._view.grid.vo.GridStyleName.HEADER+L0f.s4C+m02._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(n42.element));P02.columnHeaderCellStyle=m02._view.grid.vo.StyleValueObject.fromClass(m02._view.grid.vo.GridStyleName.CELL+L0f.s4C+m02._view.grid.vo.GridStyleName.HEADER+L0f.s4C+m02._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(n42.element));P02.filterHeaderCellStyle=m02._view.grid.vo.StyleValueObject.fromClass(m02._view.grid.vo.GridStyleName.CELL+L0f.s4C+m02._view.grid.vo.GridStyleName.HEADER+L0f.s4C+m02._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(n42.element));};P02.getColumnWidth=function(c42){c42=P02.pixel2mm(P02.grid.gridLayout.coords.getColWidth(c42));c42=c42<P02.pageWidth?c42:P02.pageWidth-L0f.O8C;return i4B*c42;};P02.setDefaultCellStyle=function(a42,L42){var y4B="rgb(222,222,222)";var Z4B="rgb(0,0,0,0)";if(L0f.x4C!=a42&&a42.isCustomized){var e42=L0f.F8C<a42.style.customStyleNames.length?m02._view.grid.vo.StyleValueObject.fromClass(a42.style.getCustomClassString()):m02._view.grid.vo.StyleValueObject.fromString(a42.style.getStyleString());e42.merge(L42);L42=e42;}L42.color=L42.color||G9VV.J4B;G9VV.E4B==L42.backgroundColor&&(L42.color=G9VV.H4B);L42.backgroundColor=L42.backgroundColor||Z4B;L42.borderColor=L42.borderColor||y4B;L42.fontSize=L42.fontSize||L0f.a8C;return L42;};P02.getOptionsForCell=function(h42){var d4B=0.85;return{fontSize:d4B*h42.fontSize,fontName:L0f.x4C==h42.fontFamily?P02.FONT_NAME:h42.fontFamily,fontStyle:m02._view.grid.vo.FontStylePDFType.getFontStyle(parseFloat(h42.fontWeight))};};P02.preprocessData=function(){var S4B=0.8;P02.heigthSize=Array(P02.totalRowCount);for(var A42=L0f.F8C,i42=L0f.F8C,k42=L0f.F8C,Q42;i42<P02.totalRowCount;){for(var k42=A42=L0f.F8C,J42=S4B*Math.max(P02.px2mm(P02.coords.getRowHeight(i42)),L0f.o8C);A42<P02.totalColumnCount;){Q42=P02.grid.gridLayout.getCell(i42,A42,!L0f.F8C,!L0f.F8C);var R42=new m02._view.grid.vo.StyleValueObject(),R42=P02.cellStyle.clone(),R42=P02.setDefaultCellStyle(Q42,R42);if(L0f.x4C!=Q42){var f42=Q42.getLabel();L0f.x2C===typeof f42&&(Q42.value=f42,f42+=L0f.C4C,Q42.numeric=!L0f.F8C);f42=f42.replace(/<(?:.|\n)*?>/gi,L0f.C4C);Q42=L0f.x4C!=P02.widthSize&&L0f.x4C!=P02.widthSize[A42]?P02.widthSize[A42]:P02.getColumnWidth(A42);R42=P02.pdf.splitTextToSize(f42,Q42,P02.getOptionsForCell(R42));R42=(L0f.O8C<R42.length?P02.px2mm(R42.length*(L0f.a8C+L0f.M8C*P02.PADDING)-L0f.M8C*P02.PADDING):P02.px2mm(L0f.a8C*R42.length-P02.PADDING))/J42;R42=L0f.O8C>R42?J42:(R42+L0f.O8C)*J42;R42=R42>P02.pageHeight/L0f.M8C?(P02.pageHeight-L0f.O8C)/L0f.M8C:R42;k42=R42>k42?R42:k42;}A42++;}P02.heigthSize[i42]=k42;i42++;}};P02.generateRow=function(){var m4B="FD";var T4B="normal";var I4B=0.7;if(P02._addingHeaderFooter)return!L0f.O8C;for(var P42=utils.getTimer(),T42=L0f.F8C;T42<P02.BLOCK_SIZE;T42++){if(P02.pageIsFilled&&(P02.addNewPage(),P02._addingHeaderFooter))return!L0f.O8C;var S42=L0f.F8C,m42=P02.PAGE_MARGIN,H42,S42=!L0f.O8C,y42=L0f.C4C,C42=P02.currentRowIdx-P02.currentStartRowIdx<P02.grid.FIRST_DATA_ROW&&P02.currentRowIdx>P02.grid.START_HEADERS_COLUMN?P02.currentRowIdx-P02.currentStartRowIdx:P02.currentRowIdx,r42=P02.heigthSize[C42];for(P02.currentColIdx=P02.currentStartColIdx;P02.currentColIdx<P02.currentColumnCount+P02.currentStartColIdx;)if(H42=(S42=w02._options.OptionsManager.flatView?!L0f.O8C:P02.currentColIdx==P02.currentStartColIdx&&P02.currentColIdx>P02.grid.START_HEADERS_COLUMN)?P02.grid.START_HEADERS_COLUMN:P02.currentColIdx,!P02.allRowsGenerated()&&P02.rowsHeightSum+r42<=P02.pageHeight){S42=L0f.x4C!=P02.widthSize&&L0f.x4C!=P02.widthSize[H42]?P02.widthSize[H42]:P02.getColumnWidth(H42);if(i4B*(m42+S42)>P02.pageWidth)break;H42=P02.grid.gridLayout.getCell(C42,H42,!L0f.F8C,!L0f.F8C);y42=utils.nullOrUndefined(H42)?L0f.C4C:H42.getLabel();L0f.x2C===typeof y42&&(H42.value=y42,y42+=L0f.C4C,H42.numeric=!L0f.F8C);var y42=y42.replace(/<(?:.|\n)*?>/gi,L0f.C4C),Z42=y42.match(/&#(\d{3,4});/gi);if(Z42)for(var w42,E42=L0f.F8C;E42<Z42.length;E42++)w42=parseInt(Z42[E42].substring(L0f.M8C,Z42[E42].length-L0f.O8C)),y42=y42.replace(Z42[E42],String.fromCharCode(w42));Z42=[y42];E42=new m02._view.grid.vo.StyleValueObject();L0f.x4C!=H42&&H42.isRowHeader?(E42=P02.rowHeaderCellStyle.clone(),E42=P02.setDefaultCellStyle(H42,E42),Z42=P02.pdf.splitTextToSize(y42,S42,P02.getOptionsForCell(E42))):L0f.x4C!=H42&&H42.isColumnHeader?(E42=P02.columnHeaderCellStyle.clone(),E42=P02.setDefaultCellStyle(H42,E42),Z42=P02.pdf.splitTextToSize(y42,S42,P02.getOptionsForCell(E42))):L0f.x4C!=H42&&H42.isFilterHeader?(E42=P02.filterHeaderCellStyle.clone(),E42=P02.setDefaultCellStyle(H42,E42)):L0f.x4C!=H42&&H42.isTotal&&L0f.C4C!=H42.getLabel()?(E42=P02.totalCellStyle.clone(),E42=P02.setDefaultCellStyle(H42,E42)):(E42=P02.cellStyle.clone(),E42=P02.setDefaultCellStyle(H42,E42),Z42=P02.pdf.splitTextToSize(y42,S42,P02.getOptionsForCell(E42)));w42=Z42.length;var I42=L0f.O8C<w42?P02.px2mm(Z42.length*(E42.fontSize+L0f.M8C*P02.PADDING)-L0f.M8C*P02.PADDING):P02.px2mm(Z42.length*E42.fontSize-P02.PADDING);I42>P02.pageHeight/L0f.M8C&&(I42=(P02.pageHeight-L0f.J8C)/L0f.M8C,w42=Math.floor(P02.mm2px(I42)/(E42.fontSize+L0f.M8C*P02.PADDING)));E42.fontSize*=I4B;var d42=m02._view.grid.vo.StyleValueObject.parseRGB(E42.backgroundColor);P02.pdf.setFillColor(d42[L0f.F8C],d42[L0f.O8C],d42[L0f.M8C],L0f.F8C!=d42[L0f.b8C]?void L0f.F8C:L0f.F8C);d42=m02._view.grid.vo.StyleValueObject.parseRGB(E42.borderColor);P02.pdf.setDrawColor(d42[L0f.F8C],d42[L0f.O8C],d42[L0f.M8C],L0f.F8C!=d42[L0f.b8C]?void L0f.F8C:L0f.F8C);d42=m02._view.grid.vo.StyleValueObject.parseRGB(E42.color);P02.pdf.setTextColor(d42[L0f.F8C],d42[L0f.O8C],d42[L0f.M8C]);P02.pdf.setFontStyle(G9VV.K4B==E42.fontWeight?G9VV.K4B:T4B);P02.pdf.setFontSize(E42.fontSize);P02.pdf.rect(m42,P02.currentYPos,S42,r42,m4B);I42=P02.currentYPos+(r42-I42)/L0f.M8C+P02.PADDING;if(L0f.j2C==E42.textAlign)if(L0f.O8C<Z42.length)for(T42=L0f.F8C;T42<w42;T42++)P02.pdf.text(Z42[T42],m42+S42-P02.PADDING,I42,L0f.x4C,L0f.x4C,L0f.j2C),I42+=L0f.M8C*P02.PADDING;else P02.pdf.text(y42,m42+S42-P02.PADDING,I42,L0f.x4C,L0f.x4C,L0f.j2C);else if(L0f.O8C<Z42.length)for(T42=L0f.F8C;T42<w42;T42++)E42=!w02._options.OptionsManager.classicView&&L0f.x4C!=H42&&L0f.F8C<H42.level?(H42.level+L0f.O8C)*P02.PADDING:P02.PADDING,P02.pdf.text(Z42[T42],m42+E42,I42),I42+=L0f.M8C*P02.PADDING;else E42=!w02._options.OptionsManager.classicView&&L0f.x4C!=H42&&L0f.F8C<H42.level?(H42.level+L0f.O8C)*P02.PADDING:P02.PADDING,P02.pdf.text(y42,m42+E42,I42);P02.currentColIdx++;m42+=S42;}else{P02.pageIsFilled=!L0f.F8C;break;}P02.pageIsFilled||(P02.currentYPos+=r42,P02.rowsHeightSum+=r42,P02.currentRowIdx++);if(P02.allColumnsGenerated()&&P02.allRowsGenerated())break;}P02.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-P42,P02.BLOCK_SIZE);return P02.allColumnsGenerated()&&P02.allRowsGenerated();};function P02(){}P02.allColumnsGenerated=function(){return P02.currentStartColIdx+P02.currentColumnCount>=P02.dataWidth+P02.grid.FIRST_DATA_COLUMN;};P02.allRowsGenerated=function(){return P02.currentRowIdx>=P02.dataHeight+P02.grid.FIRST_DATA_ROW;};P02.addNewPage=function(){P02.pdf.addPage();P02.pageNumber++;P02.pageIsFilled=!L0f.O8C;P02._addingHeaderFooter=!L0f.F8C;P02.createHeaderAndFooter(P02.exportOptions.header,P02.exportOptions.footer,function(){P02._addingHeaderFooter=!L0f.O8C;P02.addHeaderAndFooter();});P02.rowsHeightSum=L0f.F8C;L0f.O8C<P02.pageNumber&&(P02.shiftRows(),P02.shiftColumns());m02.preloader(!L0f.F8C,w02._labels.Labels.MESSAGE_PLEASE_WAIT,P02.pageNumber+L0f.O8C+L0f.s4C+w02._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!L0f.F8C);};P02.shiftRows=function(){P02.allColumnsGenerated()&&!P02.allRowsGenerated()?(P02.currentRowIdx-=P02.grid.FIRST_DATA_ROW,P02.currentStartRowIdx=P02.currentRowIdx):P02.currentRowIdx=P02.currentStartRowIdx;};P02.shiftColumns=function(){P02.allColumnsGenerated()?P02.allRowsGenerated()||(P02.currentStartColIdx=L0f.F8C,P02.currentColIdx=L0f.F8C):(P02.currentStartColIdx+=P02.currentColumnCount,P02.currentColIdx=P02.currentStartColIdx);P02.calculateColumnCount();};P02.calculateColumnCount=function(){P02.currentColumnCount=L0f.F8C;var v22=P02.currentStartColIdx,U22=L0f.F8C,G22=L0f.F8C;if(w02._options.OptionsManager.flatView?L0f.F8C:P02.currentStartColIdx>=P02.grid.FIRST_DATA_COLUMN)U22=P02.getColumnWidth(P02.grid.START_HEADERS_COLUMN),G22+=U22,P02.currentColumnCount++,P02.currentStartColIdx--,P02.currentColIdx--;for(;v22<P02.totalColumnCount;)if(U22=P02.getColumnWidth(v22),U22>P02.pageWidth/L0f.M8C-P02.PAGE_MARGIN&&(U22=(P02.pageWidth+P02.PAGE_MARGIN)/L0f.M8C,P02.widthSize[v22]=U22),G22+=U22,G22<=P02.pageWidth)P02.currentColumnCount++,v22++;else{L0f.F8C==P02.currentColumnCount&&(P02.currentColumnCount=L0f.O8C);break;}};P02.onPdfGenerated=function(){var w4B="pivot.pdf";L0f.F8C==P02.exportOptions.filename.length&&(P02.exportOptions.filename=w4B);var W22=P02.pdf.output(),W22=utils.StringUtils.strToUint8Arr(W22);r02.ExportManager.save(W22,P02.exportOptions);P02.clear();w02.PivotModel.getInstance().dispatch(new events._Event(m02.PivotEvent.EXPORT_COMPLETE));};P02.clear=function(){P02.grid=L0f.x4C;P02.exportOptions=L0f.x4C;P02.pdf=L0f.x4C;P02.dataWidth=L0f.F8C;P02.dataHeight=L0f.F8C;P02.totalColumnCount=L0f.F8C;P02.totalRowCount=L0f.F8C;P02.currentColumnCount=L0f.F8C;P02.currentColIdx=L0f.F8C;P02.currentStartColIdx=L0f.F8C;P02.currentRowIdx=L0f.F8C;P02.currentStartRowIdx=L0f.F8C;P02.rowsHeightSum=L0f.F8C;P02.currentYPos=L0f.F8C;P02.pageIsFilled=!L0f.O8C;P02.pageNumber=L0f.F8C;P02.pageHeight=L0f.F8C;P02.pageWidth=L0f.F8C;P02.headerHeight=L0f.F8C;P02.headerImage=L0f.x4C;P02.footerHeight=L0f.F8C;P02.footerImage=L0f.x4C;};P02.pixel2mm=function(V22){var r4B=0.264;return r4B*V22;};P02.mm2px=function(l22){return C4B*l22;};P02.px2mm=function(p22){return p22/C4B;};P02.FONT_NAME=P4B;P02.PAGE_MARGIN=L0f.A8C;P02.pageIsFilled=!L0f.O8C;P02.pageNumber=L0f.F8C;P02.HEADER_FOOTER_MARGIN=L0f.g8C;P02.headerHeight=L0f.F8C;P02.footerHeight=L0f.F8C;P02._addingHeaderFooter=!L0f.O8C;P02.BLOCK_SIZE=L0f.J8C;P02.PADDING=P02.pixel2mm(L0f.t8C);return P02;}();r02.ExportPDF=C02;}(w02._export||(w02._export={})));}(m02.model||(m02.model={})));}(pivot||(pivot={})));(function(X22){(function(B22){(function(Y22){var q22=function(){var n0f=U9VV;u22.run=function(z22,N22,D22,x22){u22.grid=z22;u22.dataWidth=D22;u22.dataHeight=x22;u22.exportOptions=N22;try{u22.exportToHTML();}catch(K22){var U2B="Export HTML error:";console.error(U2B,K22),X22.uialert(B22._labels.Labels.MESSAGE_EXPORT_ERROR,B22._labels.Labels.ERROR,X22.AlertType.ERROR),X22.preloader(!n0f.O8C),B22.PivotModel.getInstance().dispatch(new events._Event(X22.PivotEvent.EXPORT_COMPLETE)),u22.clear();}};u22.exportToHTML=function(){X22.preloader(!n0f.F8C,B22._labels.Labels.MESSAGE_EXPORT_PROGRESS);u22.htmlString=n0f.C4C;u22.rowIdx=u22.grid.START_TABLE_ROW;u22.stylesList=[];utils.ThreadManager.addTask(u22.generateRow,n0f.x4C,n0f.x4C,u22.onHTMLExportComplete);};u22.generateStyle=function(){var r0K=G9VV;var V2B=".title{{0}}\n";var G2B=".grid{border-collapse:collapse;{0}border-top:1px solid #e9e9e9;border-left:1px solid #e9e9e9;}\n";var v2B="body{{0}}\n";for(var s22=n0f.C4C,O22=u22.grid.gridLayout,F22=O22.find(r0K.F0B),s22=s22+utils.StringUtils.bind(v2B,X22._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(O22.element),[r0K.M0B])),s22=s22+utils.StringUtils.bind(G2B,X22._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(O22.element),[r0K.M0B,r0K.b0B,r0K.W2B])),s22=s22+utils.StringUtils.bind(V2B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.TITLE,uicontrols.UIElement.convert(O22.element))),s22=s22+utils.StringUtils.bind(r0K.n0B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.CELL,F22)),s22=s22+utils.StringUtils.bind(r0K.t0B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.CELL+n0f.s4C+X22._view.grid.vo.GridStyleName.TOTAL,F22)),s22=s22+utils.StringUtils.bind(r0K.c0B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.CELL+n0f.s4C+X22._view.grid.vo.GridStyleName.HEADER+n0f.s4C+X22._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(O22.element))),s22=s22+utils.StringUtils.bind(r0K.L0B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.CELL+n0f.s4C+X22._view.grid.vo.GridStyleName.HEADER+n0f.s4C+X22._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(O22.element))),s22=s22+utils.StringUtils.bind(r0K.a0B,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.CELL+n0f.s4C+X22._view.grid.vo.GridStyleName.HEADER+n0f.s4C+X22._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(O22.element))),F22=n0f.O8C;n0f.J8C>=F22;F22++)s22+=utils.StringUtils.bind(r0K.e0B,F22,X22._view.grid.vo.StyleValueObject.fromClassToString(X22._view.grid.vo.GridStyleName.HEADER_ROW+n0f.s4C+X22._view.grid.vo.GridStyleName.LEVEL+F22,uicontrols.UIElement.convert(O22.element),[r0K.h0B]));for(F22=n0f.F8C;F22<u22.stylesList.length;F22++)s22+=utils.StringUtils.bind(r0K.R0B,u22.stylesList[F22],X22._view.grid.vo.StyleValueObject.fromClassToString(u22.stylesList[F22],uicontrols.UIElement.convert(O22.element)));return s22;};u22.appendStylesList=function(b22){for(var M22=n0f.F8C;M22<b22.length;M22++)n0f.F8C>u22.stylesList.indexOf(b22[M22])&&u22.stylesList.push(b22[M22]);};u22.generateRow=function(){var w0K=G9VV;var m0K=v9VV;var Y2B="</tr>";var B2B="<tr>";var X2B="px;";var p2B="width:";var l2B=" level";for(var c22=utils.getTimer(),L22=Math.min(u22.rowIdx+u22.BLOCK_SIZE,u22.dataHeight+u22.grid.FIRST_DATA_ROW),j22,o22=n0f.C4C;u22.rowIdx<L22;u22.rowIdx++){for(var o22=n0f.C4C,t22=u22.grid.START_HEADERS_COLUMN;t22<u22.dataWidth+u22.grid.FIRST_DATA_COLUMN;t22++)if(j22=u22.grid.gridLayout.getCell(u22.rowIdx,t22,!n0f.F8C,!n0f.F8C),o22+=m0K.p0B+(j22?j22.getLabel():n0f.C4C)+m0K.X0B,n0f.x4C==j22)o22=utils.StringUtils.bind(o22,m0K.B0B);else{var g22=n0f.C4C,n22=n0f.C4C;j22.isCustomized&&(n22=j22.style.getStyleString(),g22=j22.style.getCustomClassString(),u22.appendStylesList(j22.style.customStyleNames));g22=j22.isRowHeader?g22+(m0K.Y0B+j22.level):j22.isColumnHeader?g22+m0K.q0B:j22.isFilterHeader?g22+w0K.u0B:j22.isTotal&&n0f.C4C!=j22.getLabel()?g22+w0K.z0B:g22+w0K.N0B;n0f.x4C!=j22&&j22.isFilterHeader&&(g22+=l2B+j22.level);n0f.C4C!=g22.trim()&&(g22=w0K.D0B+g22.trim()+m0K.v9Q);n22+=p2B+u22.grid.gridLayout.coords.getColWidth(t22)+X2B;n0f.C4C!=n22.trim()&&(n22=w0K.x0B+n22.trim()+m0K.v9Q);o22=utils.StringUtils.bind(o22,g22+n0f.s4C+n22);}u22.rowsString+=B2B+o22+Y2B;}u22.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-c22,u22.BLOCK_SIZE);u22.showProgress(u22.rowIdx);return u22.rowIdx>=u22.dataHeight+u22.grid.FIRST_DATA_ROW;};u22.showProgress=function(a22){var q2B="{0}%";X22.preloader(!n0f.F8C,B22._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(q2B,(a22/(u22.dataHeight+u22.grid.FIRST_DATA_ROW)*n0f.o0C).toFixed(n0f.F8C)));};function u22(){throw Error(v9VV.D5C);}u22.onHTMLExportComplete=function(){X22.preloader(!n0f.O8C);u22.saveHTMLExport();u22.clear();};u22.saveHTMLExport=function(){var I0K=v9VV;var F2B="</body></html>";var s2B="</style></head>";var K2B="<!DOCTYPE html><html><head><meta charset='UTF-8'/>";var x2B="</table>";var D2B="<table class='grid'>";var N2B="</div>";var z2B="<div class='title'>";var u2B="pivotgrid.html";n0f.F8C==u22.exportOptions.filename.length&&(u22.exportOptions.filename=u2B);var h22=n0f.C4C;if(!utils.nullOrEmpty(u22.exportOptions.header))var e22=u22.exportOptions.header,e22=e22.replace(/##PAGE-NUMBER##/gi,n0f.C4C),e22=e22.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),h22=h22+e22;h22+=z2B+B22._options.OptionsManager.gridTitle+N2B;h22+=D2B+u22.rowsString+x2B;utils.nullOrEmpty(u22.exportOptions.footer)||(e22=u22.exportOptions.footer,e22=e22.replace(/##PAGE-NUMBER##/gi,n0f.C4C),e22=e22.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),h22+=e22);u22.htmlString=K2B;u22.htmlString+=I0K.o5C+(utils.nullOrEmpty(B22._options.OptionsManager.gridTitle)?B22._labels.Labels.DEFAULT_EXPORT_TITLE:B22._options.OptionsManager.gridTitle)+I0K.n5C;u22.htmlString+=I0K.t5C+u22.generateStyle()+s2B;u22.htmlString+=I0K.e5C+h22+F2B;Y22.ExportManager.save(u22.htmlString,u22.exportOptions);B22.PivotModel.getInstance().dispatch(new events._Event(X22.PivotEvent.EXPORT_COMPLETE));};u22.clear=function(){u22.rowIdx=n0f.F8C;u22.htmlString=n0f.C4C;u22.rowsString=n0f.C4C;u22.dataWidth=n0f.F8C;u22.dataHeight=n0f.F8C;u22.grid=n0f.x4C;u22.exportOptions=n0f.x4C;};u22.rowIdx=n0f.F8C;u22.htmlString=n0f.C4C;u22.rowsString=n0f.C4C;u22.BLOCK_SIZE=n0f.J8C;return u22;}();Y22.ExportHTML=q22;}(B22._export||(B22._export={})));}(X22.model||(X22.model={})));}(pivot||(pivot={})));(function(R22){(function(A22){(function(Q22){var k22=function(){var g0f=U9VV;var A2B=14.3;var c2B=864E5;var t2B="1899-12-30";var n2B=6E4;f22.run=function(i22,J22,E22,H22){f22.grid=i22;f22.dataWidth=E22;f22.dataHeight=H22;f22.exportOptions=J22;try{f22.exportToXLS();}catch(Z22){var O2B="Export XLS error:";console.error(O2B,Z22),R22.uialert(A22._labels.Labels.MESSAGE_EXPORT_ERROR,A22._labels.Labels.ERROR,R22.AlertType.ERROR),R22.preloader(!g0f.O8C),A22.PivotModel.getInstance().dispatch(new events._Event(R22.PivotEvent.EXPORT_COMPLETE));}};f22.exportToXLS=function(){R22.preloader(!g0f.F8C,A22._labels.Labels.MESSAGE_EXPORT_PROGRESS);f22.rowIdx=f22.grid.START_TABLE_ROW;f22.xlsPadding=g0f.F8C;f22.xlsDocument=new xls.XLS();var y22=utils.nullOrEmpty(A22._options.OptionsManager.gridTitle)?A22._labels.Labels.DEFAULT_EXPORT_TITLE:A22._options.OptionsManager.gridTitle.replace(/[^a-zA-Z\d\s\-|+@#$^&()_,.!]/g,g0f.C4C),y22=g0f.F8C<f22.exportOptions.excelSheetName.length?f22.exportOptions.excelSheetName:y22;g0f.I8C<y22.length&&(y22=y22.substr(g0f.F8C,g0f.S8C)+G9VV.c4B);y22=new xls.XLSSheet(y22);f22.xlsDocument.sheets.push(y22);f22.getStyles();f22.addTitle();f22.addXLSCustomFields();f22.addFilters();utils.ThreadManager.addTask(f22.generateXLSRow,g0f.x4C,g0f.x4C,function(){return f22.onXLSExportComplete();});};f22.getStyles=function(){var d22=f22.grid.gridLayout.element;f22.cellStyle=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL,uicontrols.UIElement.convert(d22));f22.totalCellStyle=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL+g0f.s4C+R22._view.grid.vo.GridStyleName.TOTAL,uicontrols.UIElement.convert(d22));f22.rowHeaderCellStyle=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(d22));f22.columnHeaderCellStyle=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(d22));f22.filterHeaderCellStyle=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER+g0f.s4C+R22._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(d22));for(var S22=g0f.O8C;g0f.J8C>=S22;S22++)f22.rowHeaderLevelsCellStyle[S22]=R22._view.grid.vo.StyleValueObject.fromClass(R22._view.grid.vo.GridStyleName.CELL+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER+g0f.s4C+R22._view.grid.vo.GridStyleName.HEADER_ROW+g0f.s4C+R22._view.grid.vo.GridStyleName.LEVEL+S22,uicontrols.UIElement.convert(d22));};f22.onXLSExportComplete=function(){f22.mergeTitleCells();R22.preloader(!g0f.O8C);f22.saveXLSExport();};f22.saveXLSExport=function(){var M2B="pivot.xlsx";f22.rowIdx=f22.grid.START_TABLE_ROW;g0f.F8C==f22.exportOptions.filename.length&&(f22.exportOptions.filename=M2B);Q22.ExportManager.save(f22.xlsDocument.toUint8Array(),f22.exportOptions);f22.xlsDocument=g0f.x4C;f22.exportOptions=g0f.x4C;A22.PivotModel.getInstance().dispatch(new events._Event(R22.PivotEvent.EXPORT_COMPLETE));};f22.generateXLSRow=function(){var H0K=G9VV;var j2B="Tahoma";var b2B="{0}% ({1} rows)";for(var v32=utils.getTimer(),W32=f22.dataHeight+f22.grid.FIRST_DATA_ROW;f22.rowIdx<W32;f22.rowIdx++){if(g0f.o0C<utils.getTimer()-v32){v32=f22.rowIdx/W32*g0f.o0C;if(g0f.o0C<v32)return!g0f.O8C;R22.preloader(!g0f.F8C,A22._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(b2B,v32.toFixed(g0f.F8C),f22.rowIdx.toString()));break;}for(var w22=f22.grid.START_HEADERS_COLUMN;w22<f22.dataWidth+f22.grid.FIRST_DATA_COLUMN;w22++){var I22=f22.grid.gridLayout.getCell(f22.rowIdx,w22,!g0f.F8C,!g0f.F8C),C22=utils.nullOrUndefined(I22)?g0f.C4C:I22.getLabel(),U32;utils.nullOrUndefined(I22)||g0f.x4C!=I22.measure&&(I22.measure.type==R22.data_.types.MeasureType.DATE?isNaN(I22.value)||(U32=f22.convertToExcelDate(I22.value)):I22.measure.type==R22.data_.types.MeasureType.DATETIME&&(isNaN(I22.value)||(U32=f22.convertToExcelDateTime(I22.value))));g0f.x2C===typeof C22&&(I22.value=C22,C22+=g0f.C4C,I22.numeric=!g0f.F8C);var m22=g0f.x4C!=I22&&(I22.isRowHeader||I22.isColumnHeader);f22.exportOptions.excelExportAll&&g0f.C4C==C22&&g0f.x4C!=I22&&g0f.x4C!=I22.member&&(C22=I22.member.caption);if(g0f.C4C!=C22.trim()||m22){m22=new R22._view.grid.vo.StyleValueObject();m22=g0f.x4C!=I22&&I22.isRowHeader?g0f.F8C<I22.level&&f22.rowHeaderLevelsCellStyle[I22.level]?f22.rowHeaderLevelsCellStyle[I22.level].clone():f22.rowHeaderCellStyle.clone():g0f.x4C!=I22&&I22.isColumnHeader?f22.columnHeaderCellStyle.clone():g0f.x4C!=I22&&I22.isFilterHeader?f22.filterHeaderCellStyle.clone():g0f.x4C!=I22&&I22.isTotal&&g0f.C4C!=I22.getLabel()?f22.totalCellStyle.clone():f22.cellStyle.clone();if(g0f.x4C!=I22&&I22.isCustomized){var P22=g0f.F8C<I22.style.customStyleNames.length?R22._view.grid.vo.StyleValueObject.fromClass(I22.style.getCustomClassString()):R22._view.grid.vo.StyleValueObject.fromString(I22.style.getStyleString());P22.merge(m22);m22=P22;}m22.color=m22.color||H0K.J4B;H0K.E4B==m22.backgroundColor&&(m22.color=H0K.H4B);m22.backgroundColor=m22.backgroundColor||v9VV.Q7C;m22.fontSize=m22.fontSize?f22.px2pt(m22.fontSize):g0f.t8C;var r22=new xls.styles.fonts.XLSStyleFont(j2B,m22.fontSize,utils.StringUtils.fromRgbToHex(m22.color));r22.bold=H0K.K4B==m22.fontWeight;r22.italic=!g0f.O8C;var T22=g0f.x4C,G32=P22=!g0f.O8C;if(I22.numeric){if(g0f.x4C!=I22.measure){var T22=I22.measure.getFormat(),G32=g0f.C4C!=T22.nullValue?!g0f.F8C:G32,P22=I22.measure.aggregation==R22.data_.consts.AggregationName.PERCENT||I22.measure.aggregation==R22.data_.consts.AggregationName.PERCENT_COLUMN||I22.measure.aggregation==R22.data_.consts.AggregationName.PERCENT_ROW||I22.measure.aggregation==R22.data_.consts.AggregationName.PERCENT_DIFFERENCE||I22.measure.calculated&&-g0f.O8C<I22.measure.formula.indexOf(H0K.g2B),V32=T22.toXLSFormatCode();if(P22||T22.isPercent)T22=T22.clone(),T22.currencySymbol=g0f.C4C==T22.currencySymbol?H0K.o2B:T22.currencySymbol,V32=T22.toXLSFormatCode();T22=new xls.styles.format.XLSStyleFormat(g0f.C4C==V32?g0f.F8C:-g0f.O8C,V32);}}else g0f.x4C==I22.measure||I22.measure.type!=R22.data_.types.MeasureType.DATE&&I22.measure.type!=R22.data_.types.MeasureType.DATETIME||(T22=new xls.styles.format.XLSStyleFormat(g0f.R8C,g0f.C4C));T22&&f22.xlsDocument.styleSheet.addFormat(T22);r22=new xls.styles.XLSStyle(r22,utils.StringUtils.fromRgbToHex(m22.backgroundColor),T22,m22.textAlign);!A22._options.OptionsManager.classicView&&I22&&I22.isRowHeader&&g0f.F8C<I22.level&&(r22.textIndent=I22.level);f22.xlsDocument.styleSheet.addStyle(r22);T22=g0f.x4C!=I22.measure?I22.measure.getFormat():g0f.x4C;I22.numeric?g0f.x4C==T22||I22.label!=T22.infinityValue&&I22.label!=T22.divideByZeroValue?(U32=g0f.x4C==T22||!P22&&H0K.o2B!=T22.currencySymbol?I22.value:I22.value/g0f.o0C,f22.xlsDocument.sheets[g0f.F8C].setCell(f22.rowIdx-f22.grid.START_TABLE_ROW+f22.xlsPadding,w22,isNaN(I22.value)&&G32?I22.getLabel():U32,r22)):f22.xlsDocument.sheets[g0f.F8C].setCell(f22.rowIdx-f22.grid.START_TABLE_ROW+f22.xlsPadding,w22,I22.getLabel(),r22):!I22.isValue||g0f.x4C==I22.measure||I22.measure.type!=R22.data_.types.MeasureType.DATE&&I22.measure.type!=R22.data_.types.MeasureType.DATETIME?I22.isValue&&g0f.x4C!=I22.measure&&I22.measure.aggregation==R22.data_.consts.AggregationName.NONE?f22.xlsDocument.sheets[g0f.F8C].setCell(f22.rowIdx-f22.grid.START_TABLE_ROW+f22.xlsPadding,w22,I22.value,r22):f22.xlsDocument.sheets[g0f.F8C].setCell(f22.rowIdx-f22.grid.START_TABLE_ROW+f22.xlsPadding,w22,C22,r22):f22.xlsDocument.sheets[g0f.F8C].setCell(f22.rowIdx-f22.grid.START_TABLE_ROW+f22.xlsPadding,w22,U32,r22);g0f.x4C!=I22&&(g0f.F8C==f22.xlsDocument.sheets[g0f.F8C].getColumnWidth(w22)&&(I22=f22.convertPixelsToWidth(f22.grid.gridLayout.coords.getColWidth(w22)),f22.xlsDocument.sheets[g0f.F8C].setColumnWidth(w22,I22)),w22!=f22.grid.START_HEADERS_COLUMN||f22.grid.gridLayout.coords.isRowHeightDefault(f22.rowIdx)||(I22=f22.convertPixelsToPoints(f22.grid.gridLayout.coords.getRowHeight(f22.rowIdx)),f22.xlsDocument.sheets[g0f.F8C].setRowHeight(f22.rowIdx+f22.xlsPadding,I22)),C22.length>m22.width&&f22.xlsDocument.sheets[g0f.F8C].setColumnWidth(w22,f22.convertPixelsToPoints(C22.length+f22.cellPadding)>f22.convertPixelsToPoints(f22.DEFAULT_CELL_WIDTH)?f22.convertPixelsToPoints(f22.DEFAULT_CELL_WIDTH):f22.convertPixelsToPoints(C22.length+f22.cellPadding)));}}}return f22.rowIdx>=W32;};f22.convertToExcelDate=function(l32){if(!utils.DateFormat.isUTCFormat(A22._options.OptionsManager.datePattern)){var p32=new Date(l32).getTimezoneOffset();l32-=n2B*p32;}l32=-Date.parse(t2B)+l32;return Math.floor(l32/c2B);};f22.convertToExcelDateTime=function(X32){if(!utils.DateFormat.isUTCFormat(A22._options.OptionsManager.dateTimePattern)){var B32=new Date(X32).getTimezoneOffset();X32-=n2B*B32;}return(-Date.parse(t2B)+X32)/c2B;};f22.px2pt=function(Y32){var L2B=0.75;return L2B*Y32;};f22.convertPixelsToPoints=function(q32){return g0f.F8C>=q32?g0f.F8C:f22.defaultExcelCellHeightPoints/f22.defaultExcelCellHeightPixels*q32*(f22.defaultExcelCellHeightPixels/R22._view.grid.sheet.GridCoords.CELL_HEIGHT);};f22.convertPixelsToWidth=function(u32){var a2B=0.5;return g0f.F8C>=u32?g0f.F8C:((u32-g0f.g8C)/g0f.n8C*g0f.o0C+a2B)/g0f.o0C;};function f22(){throw Error(v9VV.D5C);}f22.addXLSCustomFields=function(){var J0K=G9VV;var e2B="Report Information";var D32=A22.report.CustomFieldsManager.customFields;if(g0f.F8C<D32.length){var z32=getComputedStyle(R22._view.PivotView.stage.container.find(v9VV.f7C+R22._view.grid.vo.GridStyleName.HEADER_COLUMN).element),N32=new xls.styles.fonts.XLSStyleFont(z32.fontFamily,parseInt(z32.fontSize)-g0f.M8C,utils.StringUtils.fromRgbToHex(z32.color));N32.bold=J0K.K4B===z32.fontWeight;N32.italic=J0K.x4B===z32.fontStyle;N32=new xls.styles.XLSStyle(N32,utils.StringUtils.fromRgbToHex(z32.backgroundColor));N32.textAlign=z32.textAlign;f22.xlsDocument.styleSheet.addStyle(N32);f22.xlsDocument.sheets[g0f.F8C].setCell(f22.xlsPadding,g0f.F8C,e2B,N32);f22.xlsDocument.sheets[g0f.F8C].setCell(f22.xlsPadding,g0f.O8C,g0f.C4C,N32);var z32=getComputedStyle(R22._view.PivotView.stage.container.find(v9VV.f7C+R22._view.grid.vo.GridStyleName.CELL).element),x32=new xls.styles.fonts.XLSStyleFont(z32.fontFamily,parseInt(z32.fontSize)-g0f.M8C,utils.StringUtils.fromRgbToHex(z32.color));x32.bold=J0K.K4B===z32.fontWeight;x32.italic=J0K.x4B===z32.fontStyle;x32=new xls.styles.XLSStyle(x32,utils.StringUtils.fromRgbToHex(z32.backgroundColor));x32.textAlign=z32.textAlign;f22.xlsDocument.styleSheet.addStyle(x32);for(z32=g0f.F8C;z32<D32.length;z32++)f22.xlsDocument.sheets[g0f.F8C].setCell(z32+g0f.O8C+f22.xlsPadding,g0f.F8C,String(D32[z32].name),N32),f22.xlsDocument.sheets[g0f.F8C].setCell(z32+g0f.O8C+f22.xlsPadding,g0f.O8C,String(D32[z32].value),N32);}f22.xlsPadding+=g0f.F8C==D32.length?g0f.F8C:D32.length+g0f.M8C;};f22.addTitle=function(){var h2B="center";var F32=A22._options.OptionsManager.gridTitle;if(g0f.F8C!=F32.length){var K32=getComputedStyle(R22._view.PivotView.stage.container.find(v9VV.f7C+R22._view.grid.vo.GridStyleName.TITLE).element),s32=new xls.styles.fonts.XLSStyleFont(K32.fontFamily,parseInt(K32.fontSize)-g0f.M8C,utils.StringUtils.fromRgbToHex(K32.color));s32.bold=G9VV.K4B===K32.fontWeight;s32.italic=G9VV.x4B===K32.fontStyle;K32=new xls.styles.XLSStyle(s32,utils.StringUtils.fromRgbToHex(K32.backgroundColor));K32.textAlign=h2B;f22.xlsDocument.styleSheet.addStyle(K32);f22.xlsDocument.sheets[g0f.F8C].setCell(g0f.F8C,g0f.F8C,F32,K32);f22.xlsPadding=g0f.O8C;}};f22.mergeTitleCells=function(){if(g0f.F8C<A22._options.OptionsManager.gridTitle.length){var O32=f22.xlsDocument.sheets[g0f.F8C];O32.mergeCells(g0f.F8C,g0f.F8C,Math.min(O32.columnsCount,g0f.L8C));}};f22.addFilters=function(){var Q0K=G9VV;var A0K=v9VV;var R2B="Filters";if(f22.exportOptions.showFilters){var a32=A22.PivotModel.getInstance().cube_.slice_.allHierarchies(),L32=[],j32=g0f.C4C,n32,e32=!g0f.F8C,M32=getComputedStyle(R22._view.PivotView.stage.container.find(A0K.f7C+R22._view.grid.vo.GridStyleName.HEADER).element),o32=new xls.styles.fonts.XLSStyleFont(M32.fontFamily,parseInt(M32.fontSize)-g0f.M8C,utils.StringUtils.fromRgbToHex(M32.color));o32.bold=Q0K.K4B===M32.fontWeight;o32.italic=Q0K.x4B===M32.fontStyle;o32=new xls.styles.XLSStyle(o32,utils.StringUtils.fromRgbToHex(M32.backgroundColor));o32.textAlign=M32.textAlign;f22.xlsDocument.styleSheet.addStyle(o32);var b32=getComputedStyle(R22._view.PivotView.stage.container.find(A0K.f7C+R22._view.grid.vo.GridStyleName.CELL).element),M32=new xls.styles.fonts.XLSStyleFont(b32.fontFamily,parseInt(b32.fontSize)-g0f.M8C,utils.StringUtils.fromRgbToHex(b32.color));M32.bold=Q0K.K4B===b32.fontWeight;M32.italic=Q0K.x4B===b32.fontStyle;M32=new xls.styles.XLSStyle(M32,utils.StringUtils.fromRgbToHex(b32.backgroundColor));M32.textAlign=b32.textAlign;f22.xlsDocument.styleSheet.addStyle(M32);for(var b32=f22.xlsDocument.sheets[g0f.F8C],j32=!g0f.O8C,g32=g0f.F8C,t32=g0f.F8C;t32<a32.length;t32++)if(n32=a32.getItemAt(t32),j32=n32.dimension.type==R22.data_.types.DimensionType.MD_DIMTYPE_TIME,n32.hasFilter()){L32.length=g0f.F8C;if(j32)j32=f22.composeDateRange(n32);else{for(var c32=g0f.F8C;c32<n32.filterMembers.length;c32++)j32=n32.filterMembers.getItemAt(c32),L32.push(j32.caption);j32=L32.join(A0K.P7C);}e32&&(b32.setCell(g32+f22.xlsPadding,g0f.F8C,g0f.C4C,o32),b32.setCell(g32+f22.xlsPadding,g0f.O8C,R2B,o32),g32++);b32.setCell(g32+f22.xlsPadding,g0f.F8C,n32.caption,o32);b32.setCell(g32+f22.xlsPadding,g0f.O8C,j32,M32);g32++;e32=!g0f.O8C;}if(A22._options.OptionsManager.gridType==R22._view.grid.GridType.FLAT)for(a32=A22.PivotModel.getInstance().cube_.slice_.measuresAll,t32=g0f.F8C;t32<a32.length;t32++)if(n32=A22.PivotModel.getInstance().cube_.slice_.measureToHierarchy(a32.getItemAt(t32)),n32.hasFilter()){for(c32=L32.length=g0f.F8C;c32<n32.filterMembers.length;c32++)j32=n32.filterMembers.getItemAt(c32),L32.push(j32.caption);j32=L32.join(A0K.P7C);e32&&(b32.setCell(g32+f22.xlsPadding,g0f.F8C,g0f.C4C,o32),b32.setCell(g32+f22.xlsPadding,g0f.O8C,R2B,o32),g32++);b32.setCell(g32+f22.xlsPadding,g0f.F8C,n32.caption,o32);b32.setCell(g32+f22.xlsPadding,g0f.O8C,j32,M32);g32++;e32=!g0f.O8C;}f22.xlsPadding+=e32?g0f.F8C:g32+g0f.O8C;}};f22.composeDateRange=function(i32){var Q32,h32,R32,A32=!g0f.O8C,J32=[],A32=h32=g0f.C4C;g0f.x4C!=f22.sortedMembers&&(f22.sortedMembers.length=g0f.F8C);f22.sortMembers(i32.allMember);for(var E32=f22.composeFilteredMembers(i32),k32=!g0f.O8C,f32=g0f.F8C;f32<f22.sortedMembers.length;f32++)h32=f22.sortedMembers[f32],A32=f32==f22.sortedMembers.length-g0f.O8C,!k32&&i32.filterMembers.keyExists(h32.uniqueName)&&(k32=!g0f.F8C,Q32=h32),k32&&(i32.filterMembers.keyExists(h32.uniqueName)&&(R32=h32),-g0f.O8C<E32.indexOf(h32)&&!A32||(R32=g0f.x4C!=R32?R32:Q32,h32=f22.composeDate(Q32),A32=R32.uniqueName!=Q32.uniqueName?v9VV.t7C+f22.composeDate(R32,!g0f.F8C):g0f.C4C,R32=Q32=g0f.x4C,k32=!g0f.O8C,J32.push(h32+A32)));return J32.join(v9VV.P7C);};f22.sortMembers=function(H32){g0f.x4C==f22.sortedMembers&&(f22.sortedMembers=[]);H32.isAll||f22.sortedMembers.push(H32);H32=H32.hierarchy_.sortChildren(H32,!g0f.O8C,R22.data_.consts.SortType.ASC);for(var d32=H32.length,Z32,y32=g0f.F8C;y32<d32;y32++)Z32=H32.getItemAt(y32),g0f.F8C<Z32.children.length?f22.sortMembers(Z32):f22.sortedMembers.push(Z32);};f22.composeDate=function(T32,m32){void g0f.F8C===m32&&(m32=!g0f.O8C);var S32=T32,I32=[];for(I32.push(T32.caption);S32&&S32.uniqueName!=T32.uniqueName&&!S32.level.isLast&&g0f.F8C<S32.children.length;)I32.push(S32.caption),S32=S32.hierarchy_.sortChildren(S32,!g0f.O8C,R22.data_.consts.SortType.ASC),S32=S32.getItemAt(m32?S32.length-g0f.O8C:g0f.F8C);for(S32=T32.parent;S32&&!S32.isAll;)I32.unshift(S32.caption),S32=S32.parent;return I32.join(g0f.L2C);};f22.composeFilteredMembers=function(C32){var r32=[];C32=C32.filterMembers;for(var w32,v62,P32=g0f.F8C;P32<C32.length;P32++){w32=C32.getItemAt(P32);r32.push(w32);v62=w32.descendants;for(var U62=g0f.F8C;U62<v62.length;U62++)r32.push(v62.getItemAt(U62));if(!(w32.parent&&!w32.parent.isAll&&-g0f.O8C<r32.indexOf(w32.parent)))for(;w32.parent&&!w32.parent.isAll;)w32=w32.parent,r32.push(w32);}return r32;};f22.rowIdx=g0f.F8C;f22.xlsPadding=g0f.F8C;f22.cellPadding=g0f.b8C;f22.DEFAULT_CELL_WIDTH=g0f.o0C;f22.rowHeaderLevelsCellStyle=[];f22.defaultExcelCellHeightPoints=A2B;f22.defaultExcelCellHeightPixels=g0f.P8C;return f22;}();Q22.ExportXLS=k22;}(A22._export||(A22._export={})));}(R22.model||(R22.model={})));}(pivot||(pivot={})));(function(G62){(function(W62){(function(l62){var X62=function(){B62.exportTo=function(Y62,q62,u62){var e0K=U9VV;void e0K.F8C===q62&&(q62=e0K.x4C);void e0K.F8C===u62&&(u62=e0K.x4C);B62._exportInProgress?this.delayedExports.push({type:Y62,options:q62,callback:u62}):(Y62=Y62.toLowerCase(),Y62=V62.validType(Y62)?Y62:V62.PDF,W62.PivotModel.getInstance().addEventListener(G62.PivotEvent.EXPORT_COMPLETE,B62.exportCompleteHandler),B62._exportInProgress=!e0K.F8C,B62.callbackHandler=u62,utils.nullOrUndefined(q62)&&(q62=new l62.ExportOptions()),q62.type=Y62,Y62=new p62(Y62,q62,u62),W62.PivotModel.getInstance().dispatch(Y62));};B62.stopExport=function(){G62.preloader(!U9VV.O8C);W62.PivotModel.getInstance().removeEventListener(G62.PivotEvent.EXPORT_COMPLETE,B62.exportCompleteHandler);B62._exportInProgress=!U9VV.O8C;};B62.onExportCompleted=function(z62){B62.stopExport();U9VV.F8C<B62.delayedExports.length&&(z62=B62.delayedExports.shift(),this.exportTo(z62.type,z62.options,z62.callback));};B62.save=function(D62,N62){switch(N62.destinationType.toLowerCase()){case W62.report.DestinationType.FILE:B62.saveToFile(D62,N62);break;case W62.report.DestinationType.SERVER:B62.saveToServer(D62,N62);break;case W62.report.DestinationType.BINARY:B62.saveToBinary(D62,N62);break;case W62.report.DestinationType.PLAIN:B62.saveToPlain(D62,N62);break;default:B62.saveToFile(D62,N62);}};B62.saveToServer=function(s62,x62){var Q2B="Unknown type of export: '";switch(x62.type){case V62.HTML:case V62.EXCEL:case V62.PDF:B62.saveToServerAsBinary(s62,x62);break;default:var K62=W62.XSSCheck.validate(x62.type);G62.uialert(Q2B+K62+v9VV.v9Q,W62._labels.Labels.ERROR);}};B62.saveToFile=function(M62,F62){var Z2B="text/plain;charset=utf-8";var H2B=".pdf";var E2B="application/pdf";var J2B=".xlsx";var i2B="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";var f2B=".html";var k2B="text/html;charset=utf-8";var O62;switch(F62.type){case V62.HTML:O62=k2B;F62.filename=B62.appendFileExtension(F62.filename,f2B);break;case V62.EXCEL:O62=i2B;F62.filename=B62.appendFileExtension(F62.filename,J2B);break;case V62.PDF:O62=E2B;F62.filename=B62.appendFileExtension(F62.filename,H2B);break;default:O62=Z2B;}var b62=[M62];try{var j62=new Blob(b62,{type:O62});savingAs(j62,F62.filename);B62.triggerCallback({data:M62,fielname:F62.filename,type:F62.type});}catch(g62){G62.uialert(W62._labels.Labels.MESSAGE_CANT_SAVE_FILE,W62._labels.Labels.ERROR,G62.AlertType.ERROR),B62.triggerCallback(U9VV.x4C,{message:W62._labels.Labels.MESSAGE_CANT_SAVE_FILE});}};B62.appendFileExtension=function(o62,n62){o62.indexOf(n62)!=o62.length-n62.length&&(o62+=n62);return o62;};B62.saveToServerAsBinary=function(h62,c62){var S2B="filedata";var d2B="application/octet-binary";var L62=new utils.Timer(U9VV.m0C);L62.addEventListener(utils.TimerEvent.TIMER,function(A62){var y2B=" sec";G62.preloader(!U9VV.F8C,W62._labels.Labels.MESSAGE_UPLOADING,(L62.currentCount/U9VV.L8C).toString()+y2B);});var t62=new misc.URLStream();t62.addEventListener(events._Event.ERROR,function(Q62){G62.uialert(W62._labels.Labels.MESSAGE_CANT_SAVE_FILE,W62._labels.Labels.ERROR);L62.stop();G62.preloader(!U9VV.O8C);B62.triggerCallback(U9VV.x4C,{message:W62._labels.Labels.MESSAGE_CANT_SAVE_FILE});});t62.addEventListener(events._Event.COMPLETE,function(){L62.stop();G62.preloader(!U9VV.O8C);B62.triggerCallback({data:h62,fielname:c62.filename,type:c62.type,response:t62.response});});var R62=new Blob([h62],{type:d2B}),a62=new FormData();a62.append(S2B,R62,c62.filename);for(var e62 in c62.extendedParameters)a62.append(e62,c62.extendedParameters[e62]);t62.requestMethod=misc.URLRequestMethod.POST;t62.data=a62;t62.contentType=!U9VV.O8C;t62.load(c62.url);L62.start();};B62.saveToBinary=function(k62,f62){};B62.saveToPlain=function(i62,J62){};B62.triggerCallback=function(E62,H62){var M0K=U9VV;void M0K.F8C===E62&&(E62=M0K.x4C);void M0K.F8C===H62&&(H62=M0K.x4C);M0K.x4C!=B62.callbackHandler&&B62.callbackHandler.call(M0K.x4C,E62,H62);};B62._exportInProgress=!U9VV.O8C;function B62(){}B62.delayedExports=[];B62.exportCompleteHandler=function(Z62){return B62.onExportCompleted(Z62);};return B62;}();l62.ExportManager=X62;var p62=function(y62){__extends(d62,y62);function d62(I62,T62,m62){var S62=y62.call(this,G62.PivotEvent.EXPORT)||this;S62.exportType=I62;S62.exportOptions=T62;S62.callbackHandler=m62;return S62;}return d62;}(events._Event);l62.ExportEvent=p62;var V62=function(){var T2B="pdf";var I2B="excel";w62.validType=function(r62){return r62===w62.EXCEL||r62===w62.HTML||r62===w62.PDF;};function w62(){}w62.EXCEL=I2B;w62.HTML=v9VV.o6C;w62.PDF=T2B;return w62;}();l62.ExportType=V62;}(W62._export||(W62._export={})));}(G62.model||(G62.model={})));}(pivot||(pivot={})));(function(C62){(function(P62){(function(U52){var v52=function(){G52.fromObject=function(V52){var K0K=U9VV;var x0K=v9VV;var C2B="destinationType";var r2B="pageOrientation";var w2B="excelExportAll";var m2B="excelSheetName";var l52=new G52();if(utils.nullOrUndefined(V52))return l52;V52.hasOwnProperty(G9VV.r0B)&&(l52.showHeaders=x0K.j7C===V52.showHeaders||!K0K.F8C===V52.showHeaders);V52.hasOwnProperty(x0K.A8B)&&(l52.filename=V52.filename);V52.hasOwnProperty(x0K.k8B)&&(l52.url=V52.url);V52.hasOwnProperty(m2B)&&(l52.excelSheetName=V52.excelSheetName);V52.hasOwnProperty(w2B)&&(l52.excelExportAll=V52.excelExportAll);!V52.hasOwnProperty(r2B)||x0K.Y1Q!==V52.pageOrientation&&x0K.y9Q!==V52.pageOrientation||(l52.pageOrientation=V52.pageOrientation.toLowerCase());V52.hasOwnProperty(C2B)&&C62.model.report.DestinationType.validType(V52.destinationType.toString().toLowerCase())&&(l52.destinationType=V52.destinationType.toString().toLowerCase());void K0K.F8C!=V52.showFilters&&(l52.showFilters=V52.showFilters);void K0K.F8C!=V52.extendedParameters&&(l52.extendedParameters=V52.extendedParameters);void K0K.F8C!=V52.header&&(l52.header=V52.header);void K0K.F8C!=V52.footer&&(l52.footer=V52.footer);return l52;};function G52(W52){var z0K=U9VV;void z0K.F8C===W52&&(W52=v9VV.A6C);this.showHeaders=!z0K.F8C;this.destinationType=C62.model.report.DestinationType.FILE;this.filename=z0K.C4C;this.url=v9VV.S5C;this.type=U52.ExportType.HTML;this.pageOrientation=v9VV.Y1Q;this.excelSheetName=z0K.C4C;this.showFilters=this.excelExportAll=!z0K.O8C;this.extendedParameters={};this.destinationType=W52;}return G52;}();U52.ExportOptions=v52;}(P62._export||(P62._export={})));}(C62.model||(C62.model={})));}(pivot||(pivot={})));(function(p52){(function(X52){(function(B52){var Y52=function(){q52.getFormat=function(u52){return q52.formats.keyExists(u52)?q52.formats.getItem(u52):U9VV.C4C!=u52&&q52.formats.keyExists(U9VV.C4C)?q52.formats.getItem(U9VV.C4C):q52.getDefaultFormat();};q52.setFormat=function(N52){var z52=B52.vo.FormatValueObject.fromObject(N52);q52.cleanFormats.addItem(z52.name,z52);if(U9VV.x4C!=q52.defaultFormat)z52.mergeDefaults(q52.defaultFormat);else if(U9VV.C4C==z52.name)for(q52.defaultFormat=N52,N52=U9VV.F8C;N52<q52.formats.length;N52++)q52.formats.getItemAt(N52).mergeDefaults(q52.defaultFormat);q52.formats.addItem(z52.name,z52);};function q52(){}q52.getAllFormats=function(){return q52.cleanFormats.slice();};q52.clear=function(){q52.formats=new utils.AssociativeArray();q52.cleanFormats=new utils.AssociativeArray();q52.defaultFormat=U9VV.x4C;};q52.getDefaultFormat=function(){return new B52.vo.FormatValueObject();};q52.formatExists=function(D52){return q52.formats.keyExists(D52);};q52.dispose=function(){q52.formats=U9VV.x4C;q52.cleanFormats=U9VV.x4C;q52.defaultFormat=U9VV.x4C;};q52.formats=new utils.AssociativeArray();q52.cleanFormats=new utils.AssociativeArray();q52.defaultFormat=U9VV.x4C;return q52;}();B52.FormatManager=Y52;}(X52.format||(X52.format={})));}(p52.model||(p52.model={})));}(pivot||(pivot={})));(function(x52){(function(K52){(function(s52){(function(O52){var F52=function(){var p0K=U9VV;var D3B="currencySymbolLength";var N3B="isCount";var z3B="isPercent";var u3B="textAlign";var q3B="divideByZeroValue";var Y3B="infinityValue";var B3B="nullValue";var X3B="currencySymbolAlign";var p3B="currencySymbol";var l3B="maxSymbols";var V3B="maxDecimalPlaces";var W3B="decimalPlaces";var v3B="decimalSeparator";var U3B="thousandsSeparator";Object.defineProperty(M52.prototype,G9VV.P2B,{get:function(){return this._params;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,U3B,{get:function(){return void p0K.F8C!=this._params.thousandsSeparator?this._params.thousandsSeparator:this._defaults.thousandsSeparator;},set:function(j52){this._params.thousandsSeparator=j52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,v3B,{get:function(){return void p0K.F8C!=this._params.decimalSeparator?this._params.decimalSeparator:this._defaults.decimalSeparator;},set:function(g52){this._params.decimalSeparator=g52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});function M52(b52){var G3B="Infinity";void p0K.F8C===b52&&(b52=p0K.C4C);this.name=p0K.C4C;this._params={};this._defaults={thousandsSeparator:p0K.s4C,decimalSeparator:v9VV.f7C,decimalPlaces:-p0K.O8C,maxDecimalPlaces:-p0K.O8C,maxSymbols:p0K.J8C,currencySymbol:p0K.C4C,currencySymbolAlign:p0K.M2C,nullValue:p0K.C4C,infinityValue:G3B,divideByZeroValue:G3B,textAlign:p0K.C4C,isPercent:!p0K.O8C,isCount:!p0K.O8C};this.name=b52;}Object.defineProperty(M52.prototype,W3B,{get:function(){return void p0K.F8C!=this._params.decimalPlaces?this._params.decimalPlaces:this._defaults.decimalPlaces;},set:function(o52){this._params.decimalPlaces=o52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,V3B,{get:function(){return void p0K.F8C!=this._params.maxDecimalPlaces?this._params.maxDecimalPlaces:this._defaults.maxDecimalPlaces;},set:function(n52){this._params.maxDecimalPlaces=n52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,l3B,{get:function(){return void p0K.F8C!=this._params.maxSymbols?this._params.maxSymbols:this._defaults.maxSymbols;},set:function(t52){this._params.maxSymbols=t52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,p3B,{get:function(){return void p0K.F8C!=this._params.currencySymbol?this._params.currencySymbol:this._defaults.currencySymbol;},set:function(c52){this._params.currencySymbol=c52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,X3B,{get:function(){return void p0K.F8C!=this._params.currencySymbolAlign?this._params.currencySymbolAlign:this._defaults.currencySymbolAlign;},set:function(L52){this._params.currencySymbolAlign=L52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,B3B,{get:function(){return void p0K.F8C!=this._params.nullValue?this._params.nullValue:this._defaults.nullValue;},set:function(a52){this._params.nullValue=a52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,Y3B,{get:function(){return void p0K.F8C!=this._params.infinityValue?this._params.infinityValue:this._defaults.infinityValue;},set:function(e52){this._params.infinityValue=e52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,q3B,{get:function(){return void p0K.F8C!=this._params.divideByZeroValue?this._params.divideByZeroValue:this._defaults.divideByZeroValue;},set:function(h52){this._params.divideByZeroValue=h52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,u3B,{get:function(){return void p0K.F8C!=this._params.textAlign?this._params.textAlign:this._defaults.textAlign;},set:function(R52){this._params.textAlign=R52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,z3B,{get:function(){return void p0K.F8C!=this._params.isPercent?this._params.isPercent:this._defaults.isPercent;},set:function(A52){this._params.isPercent=A52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,N3B,{get:function(){return void p0K.F8C!=this._params.isCount?this._params.isCount:this._defaults.isCount;},set:function(Q52){this._params.isCount=Q52;},enumerable:!p0K.F8C,configurable:!p0K.F8C});Object.defineProperty(M52.prototype,D3B,{get:function(){return p0K.O8C<this.currencySymbol.length&&v9VV.R6C==this.currencySymbol.charAt(p0K.F8C)&&v9VV.F9Q==this.currencySymbol.charAt(this.currencySymbol.length-p0K.O8C)?p0K.O8C:this.currencySymbol.length;},set:function(k52){},enumerable:!p0K.F8C,configurable:!p0K.F8C});M52.prototype.applyFormat=function(f52){return utils.NumberFormatter.format(f52,this);};M52.prototype.toXLSFormatCode=function(){var N5K=v9VV;var s3B="###0";var K3B="#,##0";var x3B="0.";var J52,i52=p0K.C4C;if(-p0K.O8C==this.decimalPlaces&&p0K.C4C==this.currencySymbol)return p0K.C4C;if(G9VV.o2B==this.currencySymbol){var E52=-p0K.O8C==this.decimalPlaces?p0K.F8C:this.decimalPlaces,i52=p0K.F8C<E52?x3B:N5K.O7C;for(J52=p0K.F8C;J52<E52;J52++)i52+=N5K.O7C;return i52+=this.currencySymbol;}i52=p0K.C4C!=this.thousandsSeparator?K3B:s3B;if(p0K.F8C<this.decimalPlaces)for(i52+=N5K.f7C,J52=p0K.F8C;J52<this.decimalPlaces;J52++)i52+=N5K.O7C;p0K.C4C!=this.currencySymbol&&(i52=p0K.M2C==this.currencySymbolAlign?G9VV.F3B+this.currencySymbol+i52:i52+G9VV.F3B+this.currencySymbol);return i52;};M52.prototype.toObject=function(y52){void p0K.F8C===y52&&(y52=!p0K.O8C);var H52={};H52.name=this.name;if(y52)H52.thousandsSeparator=this.thousandsSeparator,H52.decimalSeparator=this.decimalSeparator,H52.decimalPlaces=this.decimalPlaces,H52.maxDecimalPlaces=this.maxDecimalPlaces,H52.maxSymbols=this.maxSymbols,H52.currencySymbol=this.currencySymbol,H52.currencySymbolAlign=this.currencySymbolAlign,H52.nullValue=this.nullValue,H52.infinityValue=this.infinityValue,H52.divideByZeroValue=this.divideByZeroValue,H52.textAlign=p0K.C4C!=this.textAlign?this.textAlign:p0K.j2C,H52.isPercent=this.isPercent,H52.isCount=this.isCount;else for(var Z52 in this._params)H52[Z52]=u3B==Z52?p0K.C4C==this.textAlign?p0K.j2C:this.textAlign:this._params[Z52];return H52;};M52.fromObject=function(d52){var S52=new M52();p0K.x4C!=d52.name&&(S52.name=d52.name);p0K.x4C!=d52.thousandsSeparator&&K52.XSSCheck.valid(d52.thousandsSeparator)&&(S52.thousandsSeparator=K52.XSSCheck.validate(d52.thousandsSeparator,!p0K.F8C));p0K.x4C!=d52.decimalSeparator&&K52.XSSCheck.valid(d52.decimalSeparator)&&(S52.decimalSeparator=K52.XSSCheck.validate(d52.decimalSeparator));p0K.x4C!=d52.decimalPlaces&&-p0K.O8C<parseInt(d52.decimalPlaces)&&(S52.decimalPlaces=isNaN(parseInt(d52.decimalPlaces))?-p0K.O8C:parseInt(d52.decimalPlaces));p0K.x4C!=d52.maxDecimalPlaces&&-p0K.O8C<parseInt(d52.maxDecimalPlaces)&&(S52.maxDecimalPlaces=d52.maxDecimalPlaces);p0K.x4C!=d52.maxSymbols&&p0K.O8C<parseInt(d52.maxSymbols)&&(S52.maxSymbols=d52.maxSymbols);p0K.x4C!=d52.currencySymbol&&K52.XSSCheck.valid(d52.currencySymbol)&&(S52.currencySymbol=K52.XSSCheck.validate(d52.currencySymbol,!p0K.F8C));p0K.x4C!=d52.currencySymbolAlign&&K52.XSSCheck.valid(d52.currencySymbolAlign)&&(S52.currencySymbolAlign=K52.XSSCheck.validate(d52.currencySymbolAlign));p0K.x4C!=d52.nullValue&&K52.XSSCheck.valid(d52.nullValue)&&(S52.nullValue=K52.XSSCheck.validate(d52.nullValue));p0K.x4C!=d52.infinityValue&&K52.XSSCheck.valid(d52.infinityValue)&&(S52.infinityValue=K52.XSSCheck.validate(d52.infinityValue));p0K.x4C!=d52.divideByZeroValue&&K52.XSSCheck.valid(d52.divideByZeroValue)&&(S52.divideByZeroValue=K52.XSSCheck.validate(d52.divideByZeroValue));p0K.x4C!=d52.textAlign&&K52.XSSCheck.valid(d52.textAlign)&&(S52.textAlign=K52.XSSCheck.validate(d52.textAlign));p0K.x4C!=d52.isPercent&&(S52.isPercent=!p0K.F8C==d52.isPercent);p0K.x4C!=d52.isCount&&(S52.isCount=!p0K.F8C==d52.isCount);return S52;};M52.prototype.clone=function(){var I52=new M52();I52.name=this.name;this._params.hasOwnProperty(U3B)&&(I52.thousandsSeparator=this.thousandsSeparator);this._params.hasOwnProperty(v3B)&&(I52.decimalSeparator=this.decimalSeparator);this._params.hasOwnProperty(W3B)&&(I52.decimalPlaces=this.decimalPlaces);this._params.hasOwnProperty(V3B)&&(I52.maxDecimalPlaces=this.maxDecimalPlaces);this._params.hasOwnProperty(l3B)&&(I52.maxSymbols=this.maxSymbols);this._params.hasOwnProperty(p3B)&&(I52.currencySymbol=this.currencySymbol);this._params.hasOwnProperty(X3B)&&(I52.currencySymbolAlign=this.currencySymbolAlign);this._params.hasOwnProperty(B3B)&&(I52.nullValue=this.nullValue);this._params.hasOwnProperty(Y3B)&&(I52.infinityValue=this.infinityValue);this._params.hasOwnProperty(q3B)&&(I52.divideByZeroValue=this.divideByZeroValue);this._params.hasOwnProperty(u3B)&&(I52.textAlign=this.textAlign);this._params.hasOwnProperty(z3B)&&(I52.isPercent=this.isPercent);this._params.hasOwnProperty(z3B)&&(I52.isCount=this.isCount);var T52={},m52;for(m52 in this._defaults)T52[m52]=this._defaults[m52];I52._defaults=T52;return I52;};M52.prototype.mergeDefaults=function(r52){for(var w52 in r52)this._defaults[w52]=r52[w52];};return M52;}();O52.FormatValueObject=F52;}(s52.vo||(s52.vo={})));}(K52.format||(K52.format={})));}(x52.model||(x52.model={})));}(pivot||(pivot={})));(function(C52){var P52=function(){U72.format=function(W72,G72,B72,u72,V72){var R5x=v9VV;var h5x=G9VV;var e5x=U9VV;var M3B="e";var O3B="9";void e5x.F8C===G72&&(G72=e5x.x4C);void e5x.F8C===B72&&(B72=!e5x.O8C);void e5x.F8C===u72&&(u72=!e5x.O8C);void e5x.F8C===V72&&(V72=-e5x.O8C);e5x.x4C==G72&&(G72=U72.defaultFormatVO);if(isNaN(W72)||C52.nullOrUndefined(W72))return G72.nullValue;if(Infinity==W72)return G72.infinityValue;if(W72==pivot.data_.consts.DataConsts.DIVIDE_BY_ZERO)return G72.divideByZeroValue;B72||(B72=G72.isCount);W72=G72.isPercent&&h5x.o2B!=G72.currencySymbol?e5x.o0C*W72:W72;var X72=u72?h5x.o2B:G72.currencySymbol,X72=!u72&&G72.isPercent&&h5x.o2B!=G72.currencySymbol?h5x.o2B:X72;G72.currencySymbolAlign=G72.isPercent?e5x.j2C:G72.currencySymbolAlign;var p72=B72?e5x.F8C:G72.decimalPlaces,v72=e5x.C4C;if(e5x.F8C==W72&&e5x.F8C>p72)return v72=R5x.O7C,!B72&&e5x.F8C<X72.length&&(v72=U72.formatCurrency(v72,X72,G72.currencySymbolAlign,u72)),v72;v72=e5x.F8C>W72?G72.maxSymbols-e5x.O8C:G72.maxSymbols;e5x.O8C<G72.thousandsSeparator.length&&!C52.StringUtils.isEntity(G72.thousandsSeparator)&&(v72-=Math.floor(v72/e5x.b8C)*G72.thousandsSeparator.length);!B72&&e5x.F8C<G72.currencySymbolLength&&(v72-=G72.currencySymbolLength);G72.thousandsSeparator=R5x.S7C==G72.thousandsSeparator?R5x.v9Q:G72.thousandsSeparator;var l72=W72.toString().split(R5x.f7C);if(e5x.O8C<l72.length&&e5x.L8C<=l72[e5x.O8C].length){for(var l72=l72[e5x.O8C],q72=e5x.F8C,z72=e5x.F8C,Y72=l72.length-e5x.M8C;e5x.F8C<=Y72;Y72--)if(O3B!=l72.charAt(Y72)&&R5x.O7C!=l72.charAt(Y72)||l72.charAt(Y72)!=l72.charAt(Y72+e5x.O8C))if(e5x.j8C>q72)q72=e5x.F8C;else{z72=Y72+e5x.O8C;break;}else q72++;e5x.j8C<=q72&&(l72=Math.pow(e5x.L8C,z72),W72=Math.round(W72*l72)/l72);}l72=e5x.j8C<p72?Math.pow(e5x.L8C,v72-p72-e5x.O8C):Math.pow(e5x.L8C,v72-e5x.j8C);q72=Math.pow(e5x.L8C,-(v72-e5x.j8C));-e5x.O8C<V72&&(p72=V72);Math.abs(W72)>l72?(V72=Math.round(Math.log(W72)/Math.LN10),V72=Math.round(Math.log(V72)/Math.LN10+e5x.O8C),v72=e5x.F8C>W72?G72.maxSymbols-V72-e5x.g8C:G72.maxSymbols-V72-e5x.j8C,e5x.J8C<v72&&(v72=e5x.J8C),e5x.O8C>v72&&(v72=e5x.O8C),v72=W72.toExponential(v72)):Math.abs(W72)<q72&&e5x.F8C>p72?(V72=Math.round(Math.log(W72)/Math.LN10),V72=Math.round(Math.log(-V72)/Math.LN10+e5x.O8C),v72=v72-e5x.j8C-V72,e5x.J8C<v72&&(v72=e5x.J8C),e5x.O8C>v72&&(v72=e5x.O8C),v72=W72.toExponential(v72)):e5x.F8C>p72?(V72=e5x.O8C,e5x.O8C<Math.abs(W72)?(V72=Math.round(Math.log(Math.abs(W72))/Math.LN10),V72=Math.pow(e5x.L8C,v72-V72-e5x.M8C)):V72=Math.pow(e5x.L8C,v72-e5x.M8C),v72=(Math.round(Math.abs(W72)*V72)/V72).toString(),e5x.F8C>W72&&(v72=e5x.L2C+v72)):v72=e5x.F8C==p72?Math.round(W72).toString():W72.toFixed(p72);-e5x.O8C==v72.indexOf(M3B)&&(v72=v72.split(R5x.f7C),V72=U72.formatThousands(v72[e5x.F8C],G72),l72=e5x.O8C<v72.length?v72[e5x.O8C]:e5x.C4C,(e5x.O8C<v72.length||e5x.F8C<p72)&&e5x.F8C!=G72.maxDecimalPlaces?(-e5x.O8C<G72.maxDecimalPlaces&&l72.length>G72.maxDecimalPlaces&&(l72=l72.substr(e5x.F8C,G72.maxDecimalPlaces)),v72=V72+G72.decimalSeparator+l72):v72=V72);!B72&&e5x.F8C<X72.length&&(v72=U72.formatCurrency(v72,X72,G72.currencySymbolAlign,u72));return v72=U72.checkNegativeZero(v72,W72);};U72.formatThousands=function(N72,x72){var a5x=U9VV;void a5x.F8C===x72&&(x72=a5x.x4C);var O72=a5x.F8C>parseFloat(N72);O72&&(N72=N72.substr(a5x.O8C));var D72=N72;if(a5x.b8C<N72.length){a5x.x4C==x72&&(a5x.x4C==U72.defaultFormatVO&&(U72.defaultFormatVO=new pivot.model.format.vo.FormatValueObject(a5x.C4C)),x72=U72.defaultFormatVO);var D72=Math.floor(N72.length/a5x.b8C),K72=[],s72=N72.length%a5x.b8C;a5x.F8C<s72&&K72.push(N72.substr(a5x.F8C,s72));for(var F72=a5x.F8C;F72<D72;F72++)K72.push(N72.substr(s72+a5x.b8C*F72,a5x.b8C));D72=K72.join(x72.thousandsSeparator);}O72&&(D72=a5x.L2C+D72);return D72;};function U72(){}U72.formatCurrency=function(M72,b72,j72,g72){var L5x=U9VV;return M72=L5x.M2C!=j72||g72?M72+b72:L5x.F8C==M72.indexOf(L5x.L2C)?L5x.L2C+b72+M72.substr(L5x.O8C):b72+M72;};U72.checkNegativeZero=function(o72,n72){var c5x=U9VV;var b3B="[1-9]+";return c5x.F8C<=n72||-c5x.O8C==o72.indexOf(c5x.L2C)||-c5x.O8C<o72.search(b3B)?o72:o72.replace(c5x.L2C,c5x.C4C);};U72.defaultFormatVO=new pivot.model.format.vo.FormatValueObject();return U72;}();C52.NumberFormatter=P52;}(utils||(utils={})));(function(t72){(function(c72){var L72=function(){a72.getStructureLoader=function(h72){var e72=U9VV.x4C;switch(h72.dataSourceType){case c72.consts.DataSourceType.CSV:e72=!U9VV.F8C==h72.embedded?new c72.csv.CSVEmbeddedLoader():new c72.csv.CSVLoader();break;case c72.consts.DataSourceType.JSON:e72=new c72.json.JSONLoader();}return e72;};function a72(){}return a72;}();c72.StructureLoaderFactory=L72;}(t72.data_||(t72.data_={})));}(pivot||(pivot={})));(function(R72){(function(A72){var Q72=function(){return function(){this.mdx=this.type=U9VV.C4C;this.axisName=A72.consts.AxisName.ROWS_AXIS;this.tuple=[];};}();A72.Query=Q72;}(R72.data_||(R72.data_={})));}(pivot||(pivot={})));(function(k72){(function(i72){var f72=function(){var o3B="siblings";var j3B="ascendants";J72.MEMBERS=v9VV.a1Q;function J72(){}J72.ASCENDANTS=j3B;J72.DESCENDANTS=G9VV.g3B;J72.SIBLINGS=o3B;J72.SEARCH=G9VV.n3B;return J72;}();i72.MembersLoaderState=f72;}(k72.data_||(k72.data_={})));}(pivot||(pivot={})));(function(E72){(function(H72){var Z72=function(){var h3B="BEFORE_QUERY";var e3B="STRUCTURE_LOADING_FAILED";var a3B="STRUCTURE_CANCELLED";var L3B="STRUCTURE_LOADED";var c3B="STRUCTURE_CONNECTED";var t3B="BEFORE_STRUCTURE_LOADING";d72.BEFORE_STRUCTURE_LOADING=t3B;d72.STRUCTURE_CONNECTED=c3B;d72.STRUCTURE_LOADED=L3B;d72.STRUCTURE_CANCELLED=a3B;function d72(){}d72.STRUCTURE_LOADING_FAILED=e3B;d72.BEFORE_QUERY=h3B;d72.QUERY_COMPLETE=G9VV.R3B;d72.QUERY_ERROR=G9VV.A3B;return d72;}();H72.DataEvent=Z72;var y72=function(S72){__extends(I72,S72);function I72(m72){var T72=S72.call(this,Z72.BEFORE_QUERY)||this;T72.queryType=m72;return T72;}return I72;}(events._Event);H72.BeforeQueryEvent=y72;y72=function(w72){__extends(r72,w72);function r72(P72){var C72=w72.call(this,Z72.QUERY_COMPLETE)||this;C72.queryType=H72.consts.QueryType.SELECT;C72.queryType=P72;return C72;}return r72;}(events._Event);H72.QueryCompleteEvent=y72;}(E72.data_||(E72.data_={})));}(pivot||(pivot={})));(function(U9r){(function(v9r){(function(W9r){var G9r=function(l9r){var p0f=U9VV;var l0f=G9VV;var K6B=9E3;__extends(V9r,l9r);V9r.getInstance=function(){var Q3B="grid";p0f.x4C==V9r.instance&&(V9r.instance=new V9r(),V9r.instance._name=Q3B+V9r.counter);return V9r.instance;};V9r.prototype.addEventListeners=function(){this.cube_.addEventListener(v9r.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,p0f.O8C);this.cube_.addEventListener(v9r.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(v9r.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler,p0f.O8C);};V9r.prototype.removeEventListeners=function(){this.cube_.removeEventListener(v9r.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(v9r.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(v9r.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);};Object.defineProperty(V9r.prototype,l0f.k3B,{get:function(){return p0f.x4C!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(Y9r){this._dataStorage=Y9r;},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,v9VV.t8Q,{get:function(){return p0f.x4C!=this._slice?this._slice:this.cube_.slice_;},set:function(q9r){this._slice=q9r;},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.f3B,{get:function(){return U9r.model._options.OptionsManager.classicView;},set:function(u9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,v9VV.M8Q,{get:function(){return this._rows;},set:function(z9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.i3B,{get:function(){return this.slice.rowsOnly;},set:function(N9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.J3B,{get:function(){return this._rowLevels;},set:function(D9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.E3B,{get:function(){return this._columnLevels;},set:function(x9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,v9VV.b8Q,{get:function(){return this._columns;},set:function(K9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.H3B,{get:function(){return this.slice.columnsOnly;},set:function(s9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.Z3B,{get:function(){return this._pages;},set:function(F9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.y3B,{get:function(){return this._measures;},set:function(O9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.d3B,{get:function(){return this._measuresPosition;},set:function(M9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.S3B,{get:function(){return this.slice&&this._dataLoaded;},set:function(b9r){this._dataLoaded=b9r;},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.I3B,{get:function(){return this._rowMaxDepth;},set:function(j9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.T3B,{get:function(){return this._columnMaxDepth;},set:function(g9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.m3B,{get:function(){return this._measureDepth;},set:function(o9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.w3B,{get:function(){return this._rowAxis;},set:function(n9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.r3B,{get:function(){return this._columnAxis;},set:function(t9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.C3B,{get:function(){return this._rowAxis?this._rowAxis.hasMeasures?this._rowAxis.hierarchies.length-p0f.O8C:this._rowAxis.hierarchies.length:p0f.F8C;},set:function(c9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.P3B,{get:function(){return this._columnAxis?this._columnAxis.hasMeasures?this._columnAxis.hierarchies.length-p0f.O8C:this._columnAxis.hierarchies.length:p0f.F8C;},set:function(L9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.U6B,{get:function(){return p0f.O8C<this._measures.length||this._columnAxis.hasMeasures&&U9r.model._options.OptionsManager.showExtraTotalLabels;},set:function(a9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});V9r.prototype.getExpandedRows=function(){return this._rowAxis&&!this.isAllExpanded()?this._rowAxis.expandedTuples:[];};V9r.prototype.setExpandedRows=function(e9r){this._rowAxis&&!this.isAllExpanded()&&(this._rowAxis.expandedTuples=e9r);};V9r.prototype.getExpandedColumns=function(){return this._columnAxis&&!this.isAllExpanded()?this._columnAxis.expandedTuples:[];};V9r.prototype.setExpandedColumns=function(h9r){this._columnAxis&&!this.isAllExpanded()&&(this._columnAxis.expandedTuples=h9r);};V9r.prototype.getCollapsedRows=function(){return this._rowAxis&&this.isAllExpanded()?this._rowAxis.expandedTuples:[];};V9r.prototype.setCollapsedRows=function(R9r){this._rowAxis&&this.isAllExpanded()&&(this._rowAxis.expandedTuples=R9r);};V9r.prototype.getCollapsedColumns=function(){return this._columnAxis&&this.isAllExpanded()?this._columnAxis.expandedTuples:[];};V9r.prototype.setCollapsedColumns=function(A9r){this._columnAxis&&this.isAllExpanded()&&(this._columnAxis.expandedTuples=A9r);};V9r.prototype.getDrilledDownRows=function(){return this._rowAxis&&!this.isAllDrilled()?this._rowAxis.drilledTuples:[];};V9r.prototype.setDrilledDownRows=function(Q9r){this._rowAxis&&!this.isAllDrilled()&&(this._rowAxis.drilledTuples=Q9r);};V9r.prototype.getDrilledDownColumns=function(){return this._columnAxis&&!this.isAllDrilled()?this._columnAxis.drilledTuples:[];};V9r.prototype.setDrilledDownColumns=function(k9r){this._columnAxis&&!this.isAllDrilled()&&(this._columnAxis.drilledTuples=k9r);};V9r.prototype.getDrilledUpRows=function(){return this._rowAxis&&this.isAllDrilled()?this._rowAxis.drilledTuples:[];};V9r.prototype.setDrilledUpRows=function(f9r){this._rowAxis&&this.isAllDrilled()&&(this._rowAxis.drilledTuples=f9r);};V9r.prototype.getDrilledUpColumns=function(){return this._columnAxis&&this.isAllDrilled()?this._columnAxis.drilledTuples:[];};V9r.prototype.setDrilledUpColumns=function(i9r){this._columnAxis&&this.isAllDrilled()&&(this._columnAxis.drilledTuples=i9r);};V9r.prototype.isAllDrilled=function(){return this.slice.drillAll;};V9r.prototype.isAllExpanded=function(){return this.slice.expandAll;};Object.defineProperty(V9r.prototype,l0f.v6B,{get:function(){var J9r=v9r.consts.SortType.UNSORTED;this._rowAxis&&(J9r=this._rowAxis.sortType,J9r==v9r.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(J9r=this._rowAxis.totalSortType));return J9r;},set:function(E9r){this._rowAxis&&(this._rowAxis.sortType=E9r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.G6B,{get:function(){var H9r;this._rowAxis&&(H9r=this._rowAxis.sortTuple,this._rowAxis.sortType==v9r.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(H9r=[]));return H9r;},set:function(Z9r){this._rowAxis&&(this._rowAxis.sortTuple=Z9r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.W6B,{get:function(){var y9r;this._rowAxis&&(y9r=this._rowAxis.sortMeasure,this._rowAxis.sortType==v9r.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(y9r=this._rowAxis.totalSortMeasure));return y9r;},set:function(d9r){this._rowAxis&&(this._rowAxis.sortMeasure=d9r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.V6B,{get:function(){if(this.rowSortType==v9r.consts.SortType.UNSORTED||p0f.x4C==this.rowSortTuple)return!p0f.O8C;if(p0f.O8C>this.rowSortTuple.length)return!p0f.F8C;var S9r=!p0f.O8C;try{S9r=this.isRowExpanded(this.rowSortTuple.slice(p0f.F8C,this.rowSortTuple.length-p0f.O8C));}catch(I9r){}return S9r;},set:function(T9r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.l6B,{get:function(){var m9r=v9r.consts.SortType.UNSORTED;this._columnAxis&&(m9r=this._columnAxis.sortType,m9r==v9r.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(m9r=this._columnAxis.totalSortType));return m9r;},set:function(w9r){this._columnAxis&&(this._columnAxis.sortType=w9r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.p6B,{get:function(){var r9r;this._columnAxis&&(r9r=this._columnAxis.sortTuple,this._columnAxis.sortType==v9r.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(r9r=[]));return r9r;},set:function(C9r){this._columnAxis&&(this._columnAxis.sortTuple=C9r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.X6B,{get:function(){var P9r;this._columnAxis&&(P9r=this._columnAxis.sortMeasure,this._columnAxis.sortType==v9r.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=v9r.consts.SortType.UNSORTED&&(P9r=this._columnAxis.totalSortMeasure));return P9r;},set:function(U1r){this._columnAxis&&(this._columnAxis.sortMeasure=U1r);},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.B6B,{get:function(){if(this.columnSortType==v9r.consts.SortType.UNSORTED||p0f.x4C==this.columnSortTuple)return!p0f.O8C;if(p0f.O8C>this.columnSortTuple.length)return!p0f.F8C;var v1r=!p0f.O8C;try{v1r=this.isColumnExpanded(this.columnSortTuple.slice(p0f.F8C,this.columnSortTuple.length-p0f.O8C));}catch(G1r){}return v1r;},set:function(W1r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});V9r.prototype.reset=function(V1r){void p0f.F8C===V1r&&(V1r=!p0f.F8C);this.dataLoaded=!p0f.O8C;this._measures=new utils.AssociativeArray();this._rows=new utils.AssociativeArray();this._columns=new utils.AssociativeArray();this._pages=new utils.AssociativeArray();this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this._columnMaxDepth=this._rowMaxDepth=p0f.F8C;this.rowType=[];V1r&&(this._columnAxis&&(this._columnAxis.expandedTuples=[]),this._rowAxis&&(this._rowAxis.expandedTuples=[]),this._columnAxis&&(this._columnAxis.drilledTuples=[]),this._rowAxis&&(this._rowAxis.drilledTuples=[]));};V9r.prototype.onBeforeQuery=function(l1r){this.queryType=l1r.queryType;this.dataLoaded=!p0f.O8C;l1r.queryType==v9r.consts.QueryType.SELECT&&this.reset();l1r.queryType!=v9r.consts.QueryType.DRILL_UP&&l1r.queryType!=v9r.consts.QueryType.DRILL_DOWN||this.reset(!p0f.O8C);};V9r.prototype.onQueryComplete=function(){this.load();};V9r.prototype.onStructureLoaded=function(){this.dataLoaded=!p0f.O8C;this.reset();};V9r.prototype.load=function(){if(p0f.x4C==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,p0f.x4C==this.dataStorage))return;if(this.slice){this._columnAxis=this.slice.findAxis(v9r.consts.AxisName.COLUMNS_AXIS);this._rowAxis=this.slice.findAxis(v9r.consts.AxisName.ROWS_AXIS);if(p0f.F8C==this.columnTuples.length&&p0f.F8C==this.rowTuples.length||this.queryType==v9r.consts.QueryType.FILTER){this.isAllExpanded()?this.dataStorage.expandAll(this.slice.drillAll):(this.dataStorage.expand([],v9r.consts.AxisName.ROWS_AXIS,p0f.x4C),this.dataStorage.expand([],v9r.consts.AxisName.COLUMNS_AXIS,p0f.x4C));var p1r,B1r,Y1r;(p0f.F8C<this.getDrilledDownRows().length||p0f.F8C<this.getDrilledUpRows().length)&&this._drillRows();(p0f.F8C<this.getDrilledDownColumns().length||p0f.F8C<this.getDrilledUpColumns().length)&&this._drillColumns();if(this.queryType==v9r.consts.QueryType.FILTER)if(this.slice.expandAll){var X1r=this.getCollapsedRows();if(p0f.F8C<X1r.length)for(p1r=p0f.F8C;p1r<X1r.length;p1r++)try{B1r=this.slice.measures_.getItemAt(X1r[p1r][p0f.F8C]),Y1r=X1r[p1r].slice(p0f.O8C),this.dataStorage.collapse(Y1r,v9r.consts.AxisName.ROWS_AXIS,B1r);}catch(q1r){}X1r=this.getCollapsedColumns();if(p0f.F8C<this.getCollapsedColumns().length)for(p1r=p0f.F8C;p1r<this.getCollapsedColumns().length;p1r++)try{B1r=this.slice.measures_.getItemAt(X1r[p1r][p0f.F8C]),Y1r=X1r[p1r].slice(p0f.O8C),this.dataStorage.collapse(Y1r,v9r.consts.AxisName.COLUMNS_AXIS,B1r);}catch(u1r){}}else{X1r=this.getExpandedRows();if(p0f.F8C<X1r.length)for(p1r=p0f.F8C;p1r<X1r.length;p1r++)try{B1r=this.slice.measures_.getItemAt(X1r[p1r][p0f.F8C]),Y1r=X1r[p1r].slice(p0f.O8C),this.dataStorage.expand(Y1r,v9r.consts.AxisName.ROWS_AXIS,B1r);}catch(z1r){}X1r=this.getExpandedColumns();if(p0f.F8C<X1r.length)for(p1r=p0f.F8C;p1r<X1r.length;p1r++)try{B1r=this.slice.measures_.getItemAt(X1r[p1r][p0f.F8C]),Y1r=X1r[p1r].slice(p0f.O8C),this.dataStorage.expand(Y1r,v9r.consts.AxisName.COLUMNS_AXIS,B1r);}catch(N1r){}}(p0f.F8C<this.getDrilledDownRows().length||p0f.F8C<this.getDrilledUpRows().length)&&this._drillRows();(p0f.F8C<this.getDrilledDownColumns().length||p0f.F8C<this.getDrilledUpColumns().length)&&this._drillColumns();}this.prepare();this.dataLoaded=!p0f.F8C;}else this._rowAxis=this._columnAxis=p0f.x4C;};V9r.prototype._drillRows=function(){var F1r,M1r,x1r,O1r,s1r,b1r=this.rowAxis.hierarchies.slice();b1r.removeItem(v9r.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var K1r=this.getDrilledUpRows(),D1r=p0f.F8C;D1r<K1r.length;D1r++)try{F1r=this.slice.measures_.getItemAt(K1r[D1r][p0f.F8C]),x1r=K1r[D1r].slice(p0f.M8C),O1r=b1r.getItemAt(x1r.length-p0f.O8C),s1r=O1r.members.getItem(K1r[D1r][p0f.O8C]),this.dataStorage.isRowDrilledDown(x1r,s1r,F1r)&&this.dataStorage.drillUp(x1r,s1r,v9r.consts.AxisName.ROWS_AXIS,F1r);}catch(g1r){}else for(K1r=this.getDrilledDownRows(),D1r=p0f.F8C;D1r<K1r.length;D1r++)try{if(p0f.K2C==typeof K1r[D1r][p0f.F8C]?(M1r=K1r[D1r][p0f.F8C],F1r=this.slice.measures_.getItemAt(K1r[D1r][p0f.O8C]),x1r=K1r[D1r].slice(p0f.b8C),O1r=b1r.getItemAt(x1r.length-p0f.O8C),s1r=O1r.members.getItem(K1r[D1r][p0f.M8C])):(F1r=this.slice.measures_.getItemAt(K1r[D1r][p0f.F8C]),x1r=K1r[D1r].slice(p0f.M8C),O1r=b1r.getItemAt(x1r.length-p0f.O8C),s1r=O1r.members.getItem(K1r[D1r][p0f.O8C])),void p0f.F8C!==M1r)if(O1r.findLevel(M1r).num<s1r.level.num){var j1r=this.ascendantByLevel(s1r,M1r);x1r[x1r.length-p0f.O8C]=j1r.ordinal;O1r.drillUpMember(j1r);this.dataStorage.drillUp(x1r,j1r,v9r.consts.AxisName.ROWS_AXIS,F1r);}else this.dataStorage.drillDownTo(x1r,s1r,v9r.consts.AxisName.ROWS_AXIS,M1r);else this.dataStorage.isRowDrilledDown(x1r,s1r,F1r)||(this.dataStorage.hierarchize(x1r,s1r,v9r.consts.AxisName.ROWS_AXIS),this.dataStorage.drillDown(x1r,s1r,v9r.consts.AxisName.ROWS_AXIS,F1r));}catch(o1r){}};V9r.prototype._drillColumns=function(){var a1r,c1r,e1r,L1r,h1r=this.columnAxis.hierarchies.slice();h1r.removeItem(v9r.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var t1r=this.getDrilledUpColumns(),n1r=p0f.F8C;n1r<t1r.length;n1r++)try{a1r=this.slice.measures_.getItemAt(t1r[n1r][p0f.F8C]),c1r=t1r[n1r].slice(p0f.M8C),e1r=h1r.getItemAt(c1r.length-p0f.O8C),L1r=e1r.members.getItem(t1r[n1r][p0f.O8C]),this.dataStorage.isColumnDrilledDown(c1r,L1r,a1r)&&this.dataStorage.drillUp(c1r,L1r,v9r.consts.AxisName.COLUMNS_AXIS,a1r);}catch(R1r){}else for(t1r=this.getDrilledDownColumns(),n1r=p0f.F8C;n1r<t1r.length;n1r++)try{a1r=this.slice.measures_.getItemAt(t1r[n1r][p0f.F8C]),c1r=t1r[n1r].slice(p0f.M8C),e1r=h1r.getItemAt(c1r.length-p0f.O8C),L1r=e1r.members.getItem(t1r[n1r][p0f.O8C]),this.dataStorage.isColumnDrilledDown(c1r,L1r,a1r)||(this.dataStorage.hierarchize(c1r,L1r,v9r.consts.AxisName.COLUMNS_AXIS),this.dataStorage.drillDown(c1r,L1r,v9r.consts.AxisName.COLUMNS_AXIS,a1r));}catch(A1r){}};V9r.prototype.prepare=function(){var A8K=v9VV;this._showUnexpandedDataAlert=!p0f.O8C;this.slice?(this._measures=this.slice.measures_,this._measuresPosition=this._rowAxis.hasMeasures?this._rowAxis.measuresPosition:this._columnAxis.measuresPosition,this._rows=this.slice.rows,this._columns=this.slice.columns,this._pages=this.slice.pages):(this._measures=new utils.AssociativeArray(),this._measuresPosition=p0f.F8C,this._rows=new utils.AssociativeArray(),this._columns=new utils.AssociativeArray(),this._pages=new utils.AssociativeArray());this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this.rowType=[];this._columnMaxDepth=this._rowMaxDepth=p0f.F8C;var k1r=this.dataStorage.result[p0f.F8C],f1r=this.dataStorage.result[p0f.O8C],Q1r;if(!utils.nullOrUndefined(this.slice)&&!this.slice.isEmpty){(!this._rowAxis.hasMeasures||p0f.O8C<this._rows.length||this.isClassic)&&this.fillRowTuples(k1r,[],p0f.F8C);if(p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.b8Q==U9r.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&p0f.O8C==this._rows.length)this.rowTuples.push([]),this.rowDepths.push(p0f.F8C);if(!this.isClassic)if(this._rowAxis.hasMeasures&&this.multiMeasures){this.rowDepths=[];this.rowType=[];if(p0f.O8C<this._rows.length)for(p0f.F8C!=this.measuresPosition&&this.fillRowTuples1(k1r,[],-p0f.O8C,p0f.F8C),Q1r=p0f.F8C;Q1r<this._measures.length;Q1r++)p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.b8Q==U9r.model._options.OptionsManager.showGrandTotals?(this._rowTuples.push([[],Q1r]),this.rowDepths.push(p0f.F8C)):p0f.F8C!=this._measuresPosition||G9VV.N4B!=U9r.model._options.OptionsManager.showGrandTotals&&A8K.M8Q!=U9r.model._options.OptionsManager.showGrandTotals||(this._rowTuples.push([[],Q1r]),this.rowDepths.push(p0f.F8C)),p0f.F8C==this.measuresPosition&&this.fillRowTuples1(k1r,[],Q1r,p0f.O8C);if(p0f.F8C==this.measuresPosition&&(p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.b8Q==U9r.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&p0f.O8C==this._rows.length))for(Q1r=p0f.F8C;Q1r<this._measures.length;Q1r++)this._rowTuples.push([[],Q1r]),this.rowDepths.push(p0f.F8C);}else this._rowTuples=this.rowTuples;(!this._columnAxis.hasMeasures||p0f.O8C<this._columns.length)&&this.fillColumnTuples(f1r,[],p0f.F8C);this._measureDepth=-p0f.O8C;if(p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.M8Q==U9r.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&p0f.O8C==this._columns.length)this.columnTuples.push([]),this.columnDepths.push(p0f.F8C);if(this._columnAxis.hasMeasures&&this.multiMeasures){this.columnDepths=[];if(p0f.O8C<this._columns.length)for(p0f.F8C!=this._measuresPosition&&this.fillColumnTuples1(f1r,[],-p0f.O8C,p0f.F8C),Q1r=p0f.F8C;Q1r<this._measures.length;Q1r++)p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.M8Q==U9r.model._options.OptionsManager.showGrandTotals?(this._columnTuples.push([[],Q1r]),this.columnDepths.push(p0f.F8C)):p0f.F8C!=this._measuresPosition||G9VV.N4B!=U9r.model._options.OptionsManager.showGrandTotals&&A8K.b8Q!=U9r.model._options.OptionsManager.showGrandTotals||(this._columnTuples.push([[],Q1r]),this.columnDepths.push(p0f.F8C)),p0f.F8C==this._measuresPosition&&this.fillColumnTuples1(f1r,[],Q1r,p0f.F8C);if(p0f.F8C==this._measuresPosition&&(p0f.k2C==U9r.model._options.OptionsManager.showGrandTotals||A8K.M8Q==U9r.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&p0f.O8C==this._columns.length))for(Q1r=p0f.F8C;Q1r<this._measures.length;Q1r++)this._columnTuples.push([[],Q1r]),this.columnDepths.push(p0f.F8C);}else this._columnTuples=this.columnTuples;for(k1r=p0f.F8C;k1r<this.rowDepths.length;k1r++)this.rowDepths[k1r]>this._rowMaxDepth&&(this._rowMaxDepth=this.rowDepths[k1r]);this._rowMaxDepth++;for(k1r=p0f.F8C;k1r<this.columnDepths.length;k1r++)this.columnDepths[k1r]>this._columnMaxDepth&&(this._columnMaxDepth=this.columnDepths[k1r]);this._columnMaxDepth++;p0f.F8C<this.slice.columnsOnly.length&&this._columnAxis.hasMeasures&&this.multiMeasures&&this._columnMaxDepth++;-p0f.O8C==this._measureDepth?this._measureDepth=p0f.F8C==this.measuresPosition?p0f.F8C:this._columnMaxDepth:this._measureDepth++;this._showUnexpandedDataAlert&&U9r.uialert(U9r.model._labels.Labels.MESSAGE_CANT_EXPAND,U9r.model._labels.Labels.MESSAGE_CANT_EXPAND_TITLE,U9r.AlertType.ALERT);}};V9r.prototype.showRowTuples=function(){for(var i1r=p0f.F8C;i1r<this.rowTuples.length;i1r++);};V9r.prototype.showRowTuples1=function(){for(var J1r=p0f.F8C;J1r<this._rowTuples.length;J1r++)this.getRowTuple(J1r,!p0f.F8C),this.getRowMeasure(J1r);};V9r.prototype.showColumnTuples=function(){for(var E1r=p0f.F8C;E1r<this.columnTuples.length;E1r++);};V9r.prototype.showColumnTuples1=function(){for(var H1r=p0f.F8C;H1r<this._columnTuples.length;H1r++)this.getColumnTuple(H1r,!p0f.F8C),this.getColumnMeasure(H1r);};V9r.prototype.fillRowTuples=function(S1r,y1r,d1r){var Z1r=y1r.length;if(Z1r=this._rowAxis.hasMeasures&&y1r.length>=this._measuresPosition?this._rows.getItemAt(Z1r+p0f.O8C):this._rows.getItemAt(Z1r))p0f.F8C==d1r&&(this._fillRowTuplesStart=Date.now()),this.isClassic?this._fillRowChildren(Z1r.allMember,S1r,y1r,d1r):this.fillRowChildren(Z1r.allMember,S1r,y1r,d1r);};V9r.prototype.isEmptyOnRows=function(T1r){for(var I1r=p0f.F8C;I1r<this.measures.length;I1r++)if(!isNaN(this.getValue(T1r,[],this.measures.getItemAt(I1r))))return!p0f.O8C;return!p0f.F8C;};V9r.prototype.isEmptyOnColumns=function(w1r){for(var m1r=p0f.F8C;m1r<this.measures.length;m1r++)if(!isNaN(this.getValue([],w1r,this.measures.getItemAt(m1r))))return!p0f.O8C;return!p0f.F8C;};V9r.prototype.fillRowChildren=function(P1r,G8r,W8r,V8r){if(p0f.x4C!=P1r){var U8r;U8r=P1r.hierarchy_.sortChildren(P1r,!p0f.O8C,p0f.C4C);U8r=this.sortRowsByValue(U8r,G8r,W8r);P1r=this.rowsOnly.indexOf(P1r.hierarchy_.uniqueName)<this.rowsOnly.length-p0f.O8C;for(var v8r=p0f.F8C;v8r<U8r.length;v8r++){var r1r=U8r.getItemAt(v8r);p0f.F8C==v8r&&this.fillRowLevels(r1r);if(p0f.x4C!=G8r[r1r.ordinal]&&!r1r.isAll){var C1r=W8r.slice(p0f.F8C);C1r.push(r1r.ordinal);if(!this.isEmptyOnRows(C1r)){var p8r=!r1r.isLeaf&&this.dataStorage.isRowDrilledDown(C1r,r1r),l8r=P1r&&this.dataStorage.isRowExpanded(C1r);this.rowTuples.push(C1r);this.rowDepths.push(V8r);Date.now()-this._fillRowTuplesStart<V9r.SCRIPT_EXECUTION_TIMEOUT&&(p8r?this.fillRowChildren(r1r,G8r,W8r,V8r+p0f.O8C):l8r&&this.fillRowTuples(G8r[r1r.ordinal],C1r,V8r+p0f.O8C));}}}}};V9r.prototype.fillRowTuples1=function(Y8r,B8r,q8r,u8r){if(!this.isClassic){var X8r=B8r.length;(X8r=this._rowAxis.hasMeasures&&B8r.length>=this._measuresPosition?this._rows.getItemAt(X8r+p0f.O8C):this._rows.getItemAt(X8r))&&this.fillRowChildren1(X8r.allMember,Y8r,B8r,q8r,u8r);}};V9r.prototype.fillRowChildren1=function(s8r,F8r,O8r,K8r,x8r){if(p0f.x4C!=s8r){var b8r=O8r.length;s8r=s8r.hierarchy_.sortChildren(s8r,!p0f.O8C,p0f.C4C);s8r=this.sortRowsByValue(s8r,F8r,O8r);for(var D8r,M8r=p0f.F8C;M8r<s8r.length;M8r++){var N8r=s8r.getItemAt(M8r);if(p0f.x4C!=F8r[N8r.ordinal]&&!N8r.isAll){var z8r=O8r.slice(p0f.F8C);z8r.push(N8r.ordinal);if(!this.isEmptyOnRows(z8r))if(b8r<this._measuresPosition)if(this._rowTuples.push([z8r,-p0f.O8C]),this.rowDepths.push(x8r),b8r==this._measuresPosition-p0f.O8C&&this.dataStorage.isRowExpanded(z8r,K8r))for(D8r=p0f.F8C;D8r<this._measures.length;D8r++)this.dataStorage.isRowDrilledDown(z8r,N8r,D8r)?this.fillRowChildren1(N8r,F8r,O8r,D8r,x8r+p0f.M8C):(this._rowTuples.push([z8r,D8r]),this.rowDepths.push(x8r+p0f.O8C),this.dataStorage.isRowExpanded(z8r)&&this.fillRowTuples1(F8r[N8r.ordinal],z8r,D8r,x8r+p0f.M8C));else{for(D8r=p0f.F8C;D8r<this._measures.length;D8r++)this._rowTuples.push([z8r,D8r]),this.rowDepths.push(x8r+p0f.O8C);this.dataStorage.isRowDrilledDown(z8r,N8r,K8r)?this.fillRowChildren1(N8r,F8r,O8r,K8r,x8r+p0f.M8C):this.dataStorage.isRowExpanded(z8r,K8r)&&this.fillRowTuples1(F8r[N8r.ordinal],z8r,K8r,x8r+p0f.M8C);}else this._rowTuples.push([z8r,K8r]),this.rowDepths.push(x8r),this.dataStorage.isRowDrilledDown(z8r,N8r,K8r)?this.fillRowChildren1(N8r,F8r,O8r,K8r,x8r+p0f.O8C):this.dataStorage.isRowExpanded(z8r,K8r)&&this.fillRowTuples1(F8r[N8r.ordinal],z8r,K8r,x8r+p0f.O8C);}}}};V9r.prototype._fillRowChildren=function(g8r,a8r,h8r,t8r){if(p0f.x4C!=g8r){g8r=g8r.hierarchy_.sortChildren(g8r,!p0f.O8C,p0f.C4C);g8r=this.sortRowsByValue(g8r,a8r,h8r);for(var c8r=p0f.F8C;c8r<g8r.length;c8r++){var o8r=g8r.getItemAt(c8r);p0f.F8C==c8r&&this.fillRowLevels(o8r);if(p0f.x4C!=a8r[o8r.ordinal]&&!o8r.isAll){var j8r=h8r.slice(p0f.F8C);j8r.push(o8r.ordinal);if(!this.isEmptyOnRows(j8r)){var L8r=this.dataStorage.isRowDrilledDown(j8r,o8r),e8r=this.dataStorage.isRowExpanded(j8r),n8r=this.rowTuples.length;this.rowCount>j8r.length&&(this.rowType[n8r]=p0f.O8C,void p0f.F8C==this.rowDepths[n8r]&&(this.rowDepths[n8r]=t8r));if(Date.now()-this._fillRowTuplesStart<V9r.SCRIPT_EXECUTION_TIMEOUT)L8r?this._fillRowChildren(o8r,a8r,h8r,t8r+p0f.O8C):e8r&&this.fillRowTuples(a8r[o8r.ordinal],j8r,t8r+p0f.O8C);else if(L8r||e8r)this._showUnexpandedDataAlert=!p0f.F8C;if(L8r||e8r){if(p0f.k2C==U9r.model._options.OptionsManager.showTotals||v9VV.M8Q==U9r.model._options.OptionsManager.showTotals)this.rowTuples.push(j8r),this.rowType[this.rowTuples.length-p0f.O8C]=p0f.M8C,this.rowDepths[this.rowTuples.length-p0f.O8C]=t8r;L8r&&this.rowDepths[n8r]>t8r&&(this.rowDepths[n8r]=t8r,this.rowType[n8r]=p0f.F8C);}else this.rowTuples.push(j8r),void p0f.F8C==this.rowType[this.rowTuples.length-p0f.O8C]&&(this.rowType[this.rowTuples.length-p0f.O8C]=p0f.F8C,this.rowDepths[this.rowTuples.length-p0f.O8C]=t8r);}}}}};V9r.prototype.fillRowLevels=function(R8r){this.fillLevels(this._rowLevels,R8r);};V9r.prototype.fillColumnLevels=function(A8r){this.fillLevels(this._columnLevels,A8r);};V9r.prototype.fillLevels=function(k8r,Q8r){if(-p0f.O8C==k8r.indexOf(Q8r.level.uniqueName))if(p0f.O8C>=Q8r.level.num)k8r.push(Q8r.level.uniqueName);else{var f8r=k8r.indexOf(Q8r.parent.level.uniqueName);k8r.splice(f8r+p0f.O8C,p0f.F8C,Q8r.level.uniqueName);}};V9r.prototype.isValidSortTuple=function(E8r,Z8r){for(var i8r=p0f.F8C;i8r<E8r.length;i8r++){var J8r=Z8r.getItemAt(i8r);if(J8r.hasFilter()){var H8r=J8r.members.getItemAt(E8r[i8r]);if(!J8r.filter.keyExists(H8r.uniqueName))return!p0f.O8C;}}return!p0f.F8C;};V9r.prototype.sortRowsByValue=function(S8r,U0r,P8r){if(!this.hasColumnSorting)return S8r;var C8r=this.columnSortTuple;if(!this.isValidSortTuple(C8r,this.columnsOnly))return S8r;for(var m8r=[],r8r=[],w8r=[],T8r=new utils.AssociativeArray(),y8r,d8r=p0f.F8C;d8r<S8r.length;d8r++)if(y8r=S8r.getItemAt(d8r),p0f.x4C!=U0r[y8r.ordinal]&&!y8r.isAll){var I8r=P8r.slice(p0f.F8C);I8r.push(y8r.ordinal);I8r=this.getValue(I8r,C8r,this.columnSortMeasure);isNaN(I8r)?w8r.push(y8r):(m8r.push(I8r),r8r.push(y8r));}S8r=this.columnSortType!=v9r.consts.SortType.DESC?utils.ArrayUtils.sort(m8r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(m8r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(d8r=p0f.F8C;d8r<S8r.length;d8r++)y8r=r8r[S8r[d8r]],p0f.x4C!=y8r&&T8r.addItem(y8r.uniqueName,y8r);for(d8r=p0f.F8C;d8r<w8r.length;d8r++)y8r=w8r[d8r],this.columnSortType==v9r.consts.SortType.DESC?T8r.addItem(y8r.uniqueName,y8r):T8r.addItemAt(y8r.uniqueName,y8r,d8r);return T8r;};V9r.prototype.sortColumnsByValue=function(W0r,u0r,q0r){if(!this.hasRowSorting)return W0r;var Y0r=this.rowSortTuple;if(!this.isValidSortTuple(Y0r,this.rowsOnly))return W0r;for(var p0r=[],B0r=[],X0r=[],v0r,l0r=new utils.AssociativeArray(),G0r=p0f.F8C;G0r<W0r.length;G0r++)if(v0r=W0r.getItemAt(G0r),p0f.x4C!=u0r[v0r.ordinal]&&!v0r.isAll){var V0r=q0r.slice(p0f.F8C);V0r.push(v0r.ordinal);V0r=this.getValue(Y0r,V0r,this.rowSortMeasure);isNaN(V0r)?X0r.push(v0r):(p0r.push(V0r),B0r.push(v0r));}W0r=this.rowSortType!=v9r.consts.SortType.DESC?utils.ArrayUtils.sort(p0r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(p0r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(G0r=p0f.F8C;G0r<W0r.length;G0r++)v0r=B0r[W0r[G0r]],p0f.x4C!=v0r&&l0r.addItem(v0r.uniqueName,v0r);for(G0r=p0f.F8C;G0r<X0r.length;G0r++)v0r=X0r[G0r],this.rowSortType==v9r.consts.SortType.DESC?l0r.addItem(v0r.uniqueName,v0r):l0r.addItemAt(v0r.uniqueName,v0r,G0r);return l0r;};V9r.prototype.fillColumnTuples=function(D0r,N0r,x0r){var z0r=N0r.length;(z0r=this._columnAxis.hasMeasures&&N0r.length>=this._measuresPosition?this._columns.getItemAt(z0r+p0f.O8C):this._columns.getItemAt(z0r))&&this.fillColumnChildren(z0r.allMember,D0r,N0r,x0r);};V9r.prototype.fillColumnChildren=function(s0r,M0r,b0r,j0r){s0r=s0r.hierarchy_.sortChildren(s0r,!p0f.O8C,p0f.C4C);s0r=this.sortColumnsByValue(s0r,M0r,b0r);for(var O0r=p0f.F8C;O0r<s0r.length;O0r++){var K0r=s0r.getItemAt(O0r);p0f.F8C==O0r&&this.fillColumnLevels(K0r);if(p0f.x4C!=M0r[K0r.ordinal]&&!K0r.isAll){var F0r=b0r.slice(p0f.F8C);F0r.push(K0r.ordinal);if(!this.isEmptyOnColumns(F0r)){var g0r=this.dataStorage.isColumnExpanded(F0r);this.columnTuples.push(F0r);this.columnDepths.push(j0r);this.dataStorage.isColumnDrilledDown(F0r,K0r)?this.fillColumnChildren(K0r,M0r,b0r,j0r+p0f.O8C):g0r&&this.fillColumnTuples(M0r[K0r.ordinal],F0r,j0r+p0f.O8C);}}}};V9r.prototype.fillColumnTuples1=function(t0r,n0r,c0r,L0r){var o0r=n0r.length;(o0r=this._columnAxis.hasMeasures&&n0r.length>=this._measuresPosition?this._columns.getItemAt(o0r+p0f.O8C):this._columns.getItemAt(o0r))&&this.fillColumnChildren1(o0r.allMember,t0r,n0r,c0r,L0r);};V9r.prototype.fillColumnChildren1=function(k0r,Q0r,f0r,A0r,R0r){var E0r=f0r.length;k0r=k0r.hierarchy_.sortChildren(k0r,!p0f.O8C,p0f.C4C);k0r=this.sortColumnsByValue(k0r,Q0r,f0r);for(var e0r,J0r=p0f.F8C;J0r<k0r.length;J0r++){var h0r=k0r.getItemAt(J0r);if(p0f.x4C!=Q0r[h0r.ordinal]&&!h0r.isAll){var a0r=f0r.slice(p0f.F8C);a0r.push(h0r.ordinal);if(!this.isEmptyOnColumns(a0r)){var i0r=this.dataStorage.isColumnExpanded(a0r,A0r);if(E0r<this._measuresPosition)if(this._columnAxis.hasMeasures&&this._measureDepth<R0r+p0f.O8C&&(this._measureDepth=R0r+p0f.O8C),E0r==this._measuresPosition-p0f.O8C&&i0r)if(this.dataStorage.isColumnDrilledDown(a0r,h0r)){for(e0r=p0f.F8C;e0r<this._measures.length;e0r++)this._columnTuples.push([a0r,e0r]),this.columnDepths.push(R0r);this.fillColumnChildren1(h0r,Q0r,f0r,A0r,R0r+p0f.O8C);}else for(e0r=p0f.F8C;e0r<this._measures.length;e0r++)this._columnTuples.push([a0r,e0r]),this.columnDepths.push(R0r),this.dataStorage.isColumnExpanded(a0r,e0r)&&this.fillColumnTuples1(Q0r[h0r.ordinal],a0r,e0r,R0r+p0f.O8C);else{for(e0r=p0f.F8C;e0r<this._measures.length;e0r++)this._columnTuples.push([a0r,e0r]),this.columnDepths.push(R0r);this.dataStorage.isColumnDrilledDown(a0r,h0r,A0r)?this.fillColumnChildren1(h0r,Q0r,f0r,A0r,R0r+p0f.O8C):i0r&&this.fillColumnTuples1(Q0r[h0r.ordinal],a0r,A0r,R0r+p0f.O8C);}else this._columnTuples.push([a0r,A0r]),this.columnDepths.push(R0r),this.dataStorage.isColumnDrilledDown(a0r,h0r,A0r)?this.fillColumnChildren1(h0r,Q0r,f0r,A0r,R0r+p0f.O8C):i0r&&this.fillColumnTuples1(Q0r[h0r.ordinal],a0r,A0r,R0r+p0f.O8C);}}}};Object.defineProperty(V9r.prototype,l0f.Y6B,{get:function(){return p0f.F8C==this.columnTuples.length&&p0f.F8C==this.rowTuples.length;},set:function(H0r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});V9r.prototype.getRowDepth=function(Z0r){return this.isClassic?this.rowDepths[this._rowAxis.hasMeasures?Math.floor(Z0r/this._measures.length):Z0r]:this.rowDepths[Z0r];};V9r.prototype.getRowType=function(y0r){return this.isClassic?this.rowType[this._rowAxis.hasMeasures?Math.floor(y0r/this._measures.length):y0r]:this.rowType[y0r];};V9r.prototype.getColumnType=function(d0r){return p0f.O8C;};V9r.prototype.getColumnDepth=function(S0r){return this.columnDepths[S0r];};V9r.prototype.getRowHierarchyIdx=function(I0r){return this._rowAxis.hasMeasures&&(I0r.length>this._measuresPosition||p0f.F8C==this._measuresPosition)?I0r.length:I0r.length-p0f.O8C;};V9r.prototype.getRowHierarchy=function(T0r){T0r=this.getRowHierarchyIdx(T0r);return this._rows.getItemAt(T0r);};V9r.prototype.getColumnHierarchyIdx=function(m0r){return this._columnAxis.hasMeasures&&(m0r.length>this._measuresPosition||p0f.F8C==this._measuresPosition)?m0r.length:m0r.length-p0f.O8C;};V9r.prototype.getColumnHierarchy=function(w0r){w0r=this.getColumnHierarchyIdx(w0r);return this._columns.getItemAt(w0r);};Object.defineProperty(V9r.prototype,l0f.q6B,{get:function(){return this.columnTuples.length;},set:function(r0r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.u6B,{get:function(){return this.rowTuples.length;},set:function(C0r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.z6B,{get:function(){return this._columnTuples.length;},set:function(P0r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.N6B,{get:function(){return this.isClassic?(this.rowAxis&&this.rowAxis.hasMeasures?this._measures.length:p0f.O8C)*this.rowTuples.length:this._rowTuples.length;},set:function(U4r){},enumerable:!p0f.F8C,configurable:!p0f.F8C});V9r.prototype.isRowExpanded=function(G4r,v4r){void p0f.F8C===v4r&&(v4r=p0f.x4C);return this.dataStorage.isRowExpanded(G4r,v4r);};function V9r(){var p9r=l9r.call(this)||this;p9r.rowTuples=[];p9r._rowTuples=[];p9r.columnTuples=[];p9r._columnTuples=[];p9r.rowDepths=[];p9r.rowType=[];p9r.columnDepths=[];p9r._name=p0f.C4C;p9r.queryCompleteHandler=function(){return p9r.onQueryComplete();};p9r.beforeQueryHandler=function(X9r){return p9r.onBeforeQuery(X9r);};p9r.structureLoadedHandler=function(B9r){return p9r.onStructureLoaded();};p9r._rows=new utils.AssociativeArray();p9r._rowLevels=[];p9r._columnLevels=[];p9r._columns=new utils.AssociativeArray();p9r._pages=new utils.AssociativeArray();p9r._measures=new utils.AssociativeArray();p9r._measuresPosition=p0f.F8C;p9r._dataLoaded=!p0f.O8C;p9r._rowMaxDepth=p0f.F8C;p9r._columnMaxDepth=p0f.F8C;p9r._measureDepth=p0f.F8C;p9r.queryType=v9r.consts.QueryType.SELECT;p9r._showUnexpandedDataAlert=!p0f.O8C;p9r._fillRowTuplesStart=p0f.F8C;V9r.counter++;p9r.cube_=v9r.Cube.getInstance();return p9r;}V9r.prototype.isColumnExpanded=function(V4r,W4r){void p0f.F8C===W4r&&(W4r=p0f.x4C);return this.dataStorage.isColumnExpanded(V4r,W4r);};V9r.prototype.isRowDrilledDown=function(p4r,X4r,l4r){void p0f.F8C===l4r&&(l4r=p0f.x4C);return this.dataStorage.isRowDrilledDown(p4r,X4r,l4r);};V9r.prototype.isColumnDrilledDown=function(Y4r,q4r,B4r){void p0f.F8C===B4r&&(B4r=p0f.x4C);return this.dataStorage.isColumnDrilledDown(Y4r,q4r,B4r);};V9r.prototype.isAggregated=function(u4r,z4r){return this.dataStorage.isAggregated(u4r,z4r);};V9r.prototype.getColumnTupleIndex=function(D4r){D4r=D4r.slice(p0f.F8C);for(var F4r=this._columnAxis.hasMeasures,M4r=F4r?D4r.pop():-p0f.O8C,x4r=this._columnTuples,N4r=p0f.F8C;N4r<x4r.length;N4r++){var O4r=!p0f.F8C,K4r;if(F4r&&this.multiMeasures){if(M4r!=x4r[N4r][p0f.O8C])continue;K4r=x4r[N4r][p0f.F8C];}else K4r=x4r[N4r];if(K4r.length==D4r.length){for(var s4r=p0f.F8C;s4r<K4r.length;s4r++)if(K4r[s4r]!=D4r[s4r]){O4r=!p0f.O8C;break;}if(O4r)return N4r;}}return-p0f.O8C;};V9r.prototype.getRowTupleIndex=function(j4r){j4r=j4r.slice(p0f.F8C);for(var t4r=this._rowAxis.hasMeasures,L4r=t4r?j4r.pop():-p0f.O8C,g4r=this.isClassic?this.rowTuples:this._rowTuples,b4r=p0f.F8C;b4r<g4r.length;b4r++){var c4r=!p0f.F8C,o4r;if(t4r&&this.multiMeasures){if(L4r!=g4r[b4r][p0f.O8C])continue;o4r=g4r[b4r][p0f.F8C];}else o4r=g4r[b4r];if(o4r.length==j4r.length){for(var n4r=p0f.F8C;n4r<o4r.length;n4r++)if(o4r[n4r]!=j4r[n4r]){c4r=!p0f.O8C;break;}if(c4r)return b4r;}}return-p0f.O8C;};V9r.prototype.getRowTuple=function(a4r,e4r){void p0f.F8C===e4r&&(e4r=!p0f.O8C);if(p0f.F8C>a4r||p0f.x4C==this._rowAxis||p0f.x4C==this._measures)return p0f.x4C;if(e4r&&this._rowAxis.hasMeasures&&this.multiMeasures){if(this.isClassic){var h4r=Math.floor(a4r/this._measures.length);return p0f.x4C==this.rowTuples[h4r]?p0f.x4C:this.rowTuples[h4r].slice(p0f.F8C);}return p0f.x4C==this._rowTuples[a4r]?p0f.x4C:this._rowTuples[a4r][p0f.F8C].slice(p0f.F8C);}return p0f.x4C==this.rowTuples[a4r]?p0f.x4C:this.rowTuples[a4r].slice(p0f.F8C);};V9r.prototype.getColumnTuple=function(R4r,A4r){void p0f.F8C===A4r&&(A4r=!p0f.O8C);return p0f.F8C>R4r||p0f.x4C==this._columnAxis||p0f.x4C==this._measures?p0f.x4C:A4r&&this._columnAxis.hasMeasures&&this.multiMeasures?p0f.x4C==this._columnTuples[R4r]?p0f.x4C:this._columnTuples[R4r][p0f.F8C].slice():p0f.x4C==this.columnTuples[R4r]?p0f.x4C:this.columnTuples[R4r].slice();};V9r.prototype.getColumnTupleByName=function(Q4r,k4r){return p0f.x4C;};V9r.prototype.getColumnTupleForExport=function(f4r){return this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[f4r]:this.columnTuples[f4r];};V9r.prototype.getRowMeasure=function(i4r){return p0f.x4C==this._rowTuples[i4r]?p0f.x4C:this._rowAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._rowTuples[i4r][p0f.O8C]):p0f.x4C;};V9r.prototype.getRowMeasureIndex=function(J4r){return p0f.x4C==this._rowTuples[J4r]?-p0f.O8C:this._rowAxis.hasMeasures&&this.multiMeasures?this._rowTuples[J4r][p0f.O8C]:-p0f.O8C;};V9r.prototype.getColumnMeasure=function(E4r){return p0f.x4C==this._columnTuples[E4r]?p0f.x4C:this._columnAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._columnTuples[E4r][p0f.O8C]):p0f.x4C;};V9r.prototype.getColumnMeasureIndex=function(H4r){return p0f.x4C==this._columnTuples[H4r]?-p0f.O8C:this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[H4r][p0f.O8C]:-p0f.O8C;};V9r.prototype.getMeasure=function(Z4r,y4r){if(p0f.x4C==this._measures||p0f.x4C==this._rowAxis||p0f.x4C==this._columnAxis)return p0f.x4C;if(this.multiMeasures){if(this._rowAxis.hasMeasures){if(this.isClassic){var d4r=Z4r%this._measures.length;return p0f.x4C==this.rowTuples[Math.floor(Z4r/this.measures.length)]?this._measures.getItemAt(p0f.F8C):this._measures.getItemAt(d4r);}return p0f.x4C==this._rowTuples[Z4r]?this._measures.getItemAt(p0f.F8C):this._measures.getItemAt(this._rowTuples[Z4r][p0f.O8C]);}return p0f.x4C==this._columnTuples[y4r]?this._measures.getItemAt(p0f.F8C):this._measures.getItemAt(this._columnTuples[y4r][p0f.O8C]);}return this._measures.getItemAt(p0f.F8C);};V9r.prototype.drillThrough=function(S4r,I4r,T4r){return this.dataStorage.drillThrough(S4r,I4r,T4r);};V9r.prototype.save=function(m4r,w4r,r4r,C4r,P4r){this.dataStorage.save(m4r,w4r,r4r,C4r,P4r);};V9r.prototype.getUpdatedValue=function(U2r,v2r,G2r){return this.dataStorage.getUpdatedValue(U2r,v2r,G2r);};V9r.prototype.getRecordId=function(W2r,V2r,l2r){return p0f.x4C;};V9r.prototype.getValue=function(X2r,B2r,p2r){var Y2r;if(p2r.aggregation==v9r.consts.AggregationName.PERCENT)return Y2r=this.dataStorage.getValue([],[],p2r),X2r=this.dataStorage.getValue(X2r,B2r,p2r),Math.abs(p0f.o0C*X2r/Y2r);if(p2r.aggregation==v9r.consts.AggregationName.PERCENT_COLUMN)return Y2r=this.dataStorage.getValue([],B2r,p2r),X2r=this.dataStorage.getValue(X2r,B2r,p2r),p0f.o0C*X2r/Y2r;if(p2r.aggregation==v9r.consts.AggregationName.PERCENT_ROW)return Y2r=this.dataStorage.getValue(X2r,[],p2r),X2r=this.dataStorage.getValue(X2r,B2r,p2r),p0f.o0C*X2r/Y2r;if(p2r.aggregation==v9r.consts.AggregationName.INDEX){Y2r=this.dataStorage.getValue([],[],p2r);var q2r=this.dataStorage.getValue(X2r,[],p2r),u2r=this.dataStorage.getValue([],B2r,p2r);X2r=this.dataStorage.getValue(X2r,B2r,p2r);return Math.abs(Y2r*X2r/(u2r*q2r));}return p2r.aggregation==v9r.consts.AggregationName.DIFFERENCE?this.getDifference(X2r,B2r,p2r,!p0f.O8C):p2r.aggregation==v9r.consts.AggregationName.PERCENT_DIFFERENCE?this.getDifference(X2r,B2r,p2r,!p0f.F8C):this.dataStorage.getValue(X2r,B2r,p2r);};V9r.prototype.getDifference=function(z2r,N2r,D2r,x2r){return this.rowAxis.hasMeasures?this.getDifferenceColumn(z2r,N2r,D2r,x2r):this.getDifferenceRow(z2r,N2r,D2r,x2r);};V9r.prototype.getDifferenceColumn=function(s2r,F2r,O2r,M2r){var K2r;if(p0f.F8C<this.columns.length){K2r=this.getColumnTupleIndex(F2r);if(p0f.F8C>K2r)return p0f.F8C;if(p0f.F8C==K2r||p0f.F8C==F2r.length)return NaN;K2r=this.getColumnTuple(K2r-p0f.O8C);if(F2r.length!=K2r.length)return NaN;K2r=this.dataStorage.getValue(s2r,K2r,O2r);}else{s2r.slice(p0f.F8C);s2r.push(-p0f.O8C);K2r=this.getRowTupleIndex(s2r);s2r.pop();if(p0f.F8C==K2r||p0f.F8C==s2r.length)return NaN;if(p0f.F8C>K2r)return p0f.F8C;K2r=this.getRowTuple(K2r-p0f.O8C,!p0f.F8C);if(s2r.length!=K2r.length)return NaN;K2r=this.dataStorage.getValue(K2r,F2r,O2r);}s2r=this.dataStorage.getValue(s2r,F2r,O2r);return M2r?(s2r-K2r)/K2r*p0f.o0C:s2r-K2r;};V9r.prototype.getDifferenceRow=function(g2r,j2r,o2r,n2r){var b2r;if(p0f.F8C<this.rows.length){b2r=this.getRowTupleIndex(g2r);if(p0f.F8C==b2r||p0f.F8C==g2r.length)return NaN;if(p0f.F8C>b2r)return p0f.F8C;b2r=this.getRowTuple(b2r-p0f.O8C);if(g2r.length!=b2r.length)return NaN;b2r=this.dataStorage.getValue(b2r,j2r,o2r);}else{j2r=j2r.slice(p0f.F8C);j2r.push(p0f.F8C);b2r=this.getColumnTupleIndex(j2r);j2r.pop();if(p0f.F8C==b2r||p0f.F8C==j2r.length)return NaN;if(p0f.F8C>b2r)return p0f.F8C;b2r=this.getColumnTuple(b2r-p0f.O8C,!p0f.F8C);if(j2r.length!=b2r.length)return NaN;b2r=this.dataStorage.getValue(g2r,b2r,o2r);}g2r=this.dataStorage.getValue(g2r,j2r,o2r);return n2r?(g2r-b2r)/b2r*p0f.o0C:g2r-b2r;};V9r.prototype.calculate=function(t2r,c2r,L2r,a2r){return this.dataStorage.calculate(t2r,c2r,L2r,a2r);};V9r.prototype.expandData=function(e2r){this.dataLoaded&&(e2r=this.slice.allHierarchies().getItem(e2r),p0f.x4C!=e2r&&this.expandHierarchy(e2r));};V9r.prototype.expandHierarchy=function(A2r){var R2r=this.slice.rows.keyExists(A2r.uniqueName)?v9r.consts.AxisName.ROWS_AXIS:v9r.consts.AxisName.COLUMNS_AXIS,h2r=R2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;A2r=R2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(A2r.uniqueName):this.slice.columnsOnly.indexOf(A2r.uniqueName);if(A2r+p0f.O8C!=h2r){var h2r=[],Q2r=(R2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(p0f.F8C,A2r+p0f.O8C);this.getTuples([],Q2r,h2r);for(var Q2r=R2r==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-p0f.O8C,k2r=p0f.F8C;k2r<h2r.length;k2r++)if(p0f.F8C<=Q2r&&Q2r<=A2r&&p0f.O8C<this.slice.measures_.length)for(var f2r=p0f.F8C;f2r<this.slice.measures_.length;f2r++){var i2r=this.slice.measures_.getItemAt(f2r);h2r[k2r].length>Q2r?this.expand(h2r[k2r],R2r,i2r,!p0f.O8C):this.expand(h2r[k2r],R2r,p0f.x4C,!p0f.O8C);}else this.expand(h2r[k2r],R2r,p0f.x4C,!p0f.O8C);this.cube_.dispatch(new v9r.QueryCompleteEvent(v9r.consts.QueryType.EXPAND));}};V9r.prototype.getTuples=function(I2r,H2r,S2r,E2r){void p0f.F8C===E2r&&(E2r=!p0f.F8C);if(p0f.F8C!=H2r.length)for(var J2r=H2r.getItemAt(p0f.F8C),J2r=J2r.hasFilter()?J2r.filter:J2r.members,Z2r=p0f.F8C;Z2r<J2r.length;Z2r++){var d2r=J2r.getItemAt(Z2r);if(!d2r.isAll){var y2r=I2r.slice(p0f.F8C);y2r.push(d2r.ordinal);(E2r||!E2r&&p0f.O8C==H2r.length)&&S2r.push(y2r.slice(p0f.F8C));this.getTuples(y2r.slice(p0f.F8C),H2r.slice(p0f.O8C),S2r,E2r);}}};V9r.prototype.collapseData=function(T2r){this.dataLoaded&&(T2r=this.slice.allHierarchies().getItem(T2r),p0f.x4C!=T2r&&this.collapseHierarchy(T2r));};V9r.prototype.collapseHierarchy=function(r2r){var w2r=this.slice.rows.keyExists(r2r.uniqueName)?v9r.consts.AxisName.ROWS_AXIS:v9r.consts.AxisName.COLUMNS_AXIS,m2r=w2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;r2r=w2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(r2r.uniqueName):this.slice.columnsOnly.indexOf(r2r.uniqueName);if(r2r+p0f.O8C!=m2r){var m2r=[],C2r=(w2r==v9r.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(p0f.F8C,r2r+p0f.O8C);this.getTuples([],C2r,m2r,!p0f.O8C);for(var C2r=w2r==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-p0f.O8C,P2r=p0f.F8C;P2r<m2r.length;P2r++)if(p0f.F8C<=C2r&&C2r<=r2r&&p0f.O8C<this.slice.measures_.length)for(var U3r=p0f.F8C;U3r<this.slice.measures_.length;U3r++){var v3r=this.slice.measures_.getItemAt(U3r);m2r[P2r].length>C2r?this.collapse(m2r[P2r],w2r,v3r,!p0f.O8C):this.collapse(m2r[P2r],w2r,p0f.x4C,!p0f.O8C);}else this.collapse(m2r[P2r],w2r,p0f.x4C,!p0f.O8C);this.cube_.dispatch(new v9r.QueryCompleteEvent(v9r.consts.QueryType.COLLAPSE));}};V9r.prototype.expandAll=function(){this.dataLoaded&&(this.reset(),this.slice.expandAll?this.dataStorage.expandAll(this.slice.drillAll):this.cube_.select());};V9r.prototype.sort=function(){this.prepare();this.cube_.dispatchWith(U9r.model._state.StateEvent.REPORT_CHANGED);};Object.defineProperty(V9r.prototype,l0f.D6B,{get:function(){return this._lastRowsTupleInteracted;},enumerable:!p0f.F8C,configurable:!p0f.F8C});Object.defineProperty(V9r.prototype,l0f.x6B,{get:function(){return this._lastColsTupleInteracted;},enumerable:!p0f.F8C,configurable:!p0f.F8C});V9r.prototype.expand=function(B3r,l3r,X3r,Y3r){void p0f.F8C===X3r&&(X3r=p0f.x4C);void p0f.F8C===Y3r&&(Y3r=!p0f.F8C);l3r==v9r.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=B3r);l3r==v9r.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=B3r);var G3r=this.slice.findAxis(l3r),p3r=B3r.slice(p0f.F8C),G3r=X3r&&G3r.hasMeasures?this._measures.indexOf(X3r.uniqueName):-p0f.O8C;p3r.unshift(G3r);var W3r=[];if(this.isAllExpanded())if(l3r==v9r.consts.AxisName.ROWS_AXIS){for(var W3r=[],V3r=this.getCollapsedRows(),G3r=p0f.F8C;G3r<V3r.length;G3r++)p3r.toString()!=V3r[G3r].toString()&&W3r.push(V3r[G3r]);this.setCollapsedRows(W3r);}else{W3r=[];V3r=this.getCollapsedColumns();for(G3r=p0f.F8C;G3r<V3r.length;G3r++)p3r.toString()!=V3r[G3r].toString()&&W3r.push(V3r[G3r]);this.setCollapsedColumns(W3r);}else l3r==v9r.consts.AxisName.ROWS_AXIS?(W3r=this.getExpandedRows().slice(p0f.F8C),W3r.push(p3r),this.setExpandedRows(W3r)):(W3r=this.getExpandedColumns().slice(p0f.F8C),W3r.push(p3r),this.setExpandedColumns(W3r));this.cube_.expand(B3r,l3r,X3r,Y3r);this.cube_.dispatchWith(U9r.model._state.StateEvent.REPORT_CHANGED);};V9r.prototype.collapse=function(N3r,D3r,K3r,s3r){void p0f.F8C===K3r&&(K3r=p0f.x4C);void p0f.F8C===s3r&&(s3r=!p0f.F8C);D3r==v9r.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=N3r.slice(p0f.F8C,N3r.length-p0f.O8C));D3r==v9r.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=N3r.slice(p0f.F8C,N3r.length-p0f.O8C));var q3r=this.slice.findAxis(D3r),x3r=N3r.slice(p0f.F8C),q3r=K3r&&q3r.hasMeasures?this._measures.indexOf(K3r.uniqueName):-p0f.O8C;x3r.unshift(q3r);var u3r=[];if(this.isAllExpanded())D3r==v9r.consts.AxisName.ROWS_AXIS?(u3r=this.getCollapsedRows().slice(p0f.F8C),u3r.push(x3r),this.setCollapsedRows(u3r)):(u3r=this.getCollapsedColumns().slice(p0f.F8C),u3r.push(x3r),this.setCollapsedColumns(u3r));else if(D3r==v9r.consts.AxisName.ROWS_AXIS){for(var u3r=[],z3r=this.getExpandedRows(),q3r=p0f.F8C;q3r<z3r.length;q3r++)x3r.toString()!=z3r[q3r].toString()&&u3r.push(z3r[q3r]);this.setExpandedRows(u3r);}else{u3r=[];z3r=this.getExpandedColumns();for(q3r=p0f.F8C;q3r<z3r.length;q3r++)x3r.toString()!=z3r[q3r].toString()&&u3r.push(z3r[q3r]);this.setExpandedColumns(u3r);}this.cube_.collapse(N3r,D3r,K3r,s3r);this.cube_.dispatchWith(U9r.model._state.StateEvent.REPORT_CHANGED);};V9r.prototype.drillUp=function(n3r,t3r,g3r,b3r,O3r){void p0f.F8C===b3r&&(b3r=p0f.x4C);if(void p0f.F8C!==O3r)return this.drillUpTo(n3r,t3r,g3r,b3r,O3r);var F3r=this.slice.findAxis(g3r);O3r=[];var M3r=n3r.slice(p0f.F8C);M3r.unshift(t3r.uniqueName);F3r=b3r&&F3r.hasMeasures?this._measures.indexOf(b3r.uniqueName):-p0f.O8C;M3r.unshift(F3r);if(this.isAllDrilled())g3r==v9r.consts.AxisName.ROWS_AXIS?(O3r=this.getDrilledUpRows().slice(p0f.F8C),O3r.push(M3r),this.setDrilledUpRows(O3r)):(O3r=this.getDrilledUpColumns().slice(p0f.F8C),O3r.push(M3r),this.setDrilledUpColumns(O3r));else if(g3r==v9r.consts.AxisName.ROWS_AXIS){var j3r=this.getDrilledDownRows(),o3r;for(o3r in j3r)F3r=j3r[o3r],p0f.K2C==typeof F3r[p0f.F8C]&&(F3r=F3r.slice(p0f.O8C)),F3r.toString()!=M3r.toString()&&O3r.push(F3r);this.setDrilledDownRows(O3r);}else{j3r=this.getDrilledDownColumns();for(o3r in j3r)F3r=j3r[o3r],p0f.K2C==typeof F3r[p0f.F8C]&&(F3r=F3r.slice(p0f.O8C)),F3r.toString()!=M3r.toString()&&O3r.push(F3r);this.setDrilledDownColumns(O3r);}this.cube_.drillUp(n3r,t3r,g3r,b3r);this.cube_.dispatchWith(U9r.model._state.StateEvent.REPORT_CHANGED);};V9r.prototype.ascendantByLevel=function(L3r,a3r){for(var c3r=L3r;void p0f.F8C!==c3r&&c3r.level.uniqueName!=a3r;)c3r=c3r.parent;return c3r;};V9r.prototype.drillUpTo=function(H3r,Q3r,E3r,f3r,J3r){void p0f.F8C===f3r&&(f3r=p0f.x4C);var i3r=this.ascendantByLevel(Q3r,J3r),R3r,h3r=this.slice.findAxis(E3r),k3r=[],e3r=H3r.slice(p0f.F8C);e3r.unshift(Q3r.uniqueName);h3r=f3r&&h3r.hasMeasures?this._measures.indexOf(f3r.uniqueName):-p0f.O8C;e3r.unshift(h3r);e3r.unshift(J3r);k3r.push(e3r);if(E3r==v9r.consts.AxisName.ROWS_AXIS){for(var A3r=this.getDrilledDownRows(),h3r=A3r.length-p0f.O8C;p0f.F8C<=h3r;h3r--)e3r=A3r[h3r],R3r=p0f.K2C==typeof e3r[p0f.F8C]?Q3r.hierarchy_.findMember(e3r[p0f.M8C]):Q3r.hierarchy_.findMember(e3r[p0f.O8C]),R3r=this.ascendantByLevel(R3r,J3r),void p0f.F8C!==R3r&&R3r.uniqueName==i3r.uniqueName||k3r.unshift(e3r);this.setDrilledDownRows(k3r);}else{A3r=this.getDrilledDownColumns();for(h3r=A3r.length-p0f.O8C;p0f.F8C<=h3r;h3r--)e3r=A3r[h3r],R3r=p0f.K2C==typeof e3r[p0f.F8C]?Q3r.hierarchy_.findMember(e3r[p0f.M8C]):Q3r.hierarchy_.findMember(e3r[p0f.O8C]),R3r=this.ascendantByLevel(R3r,J3r),void p0f.F8C!==R3r&&R3r.uniqueName==i3r.uniqueName||k3r.unshift(e3r);this.setDrilledDownColumns(k3r);}e3r=H3r.slice(p0f.F8C);e3r[e3r.length-p0f.O8C]=i3r.ordinal;this.cube_.drillUp(e3r,i3r,E3r,f3r);};V9r.prototype.drillDown=function(w3r,r3r,T3r,S3r,Z3r){void p0f.F8C===S3r&&(S3r=p0f.x4C);if(void p0f.F8C!==Z3r)return this.drillDownTo(w3r,r3r,T3r,S3r,Z3r);var y3r=this.slice.findAxis(T3r);Z3r=[];var d3r=w3r.slice(p0f.F8C);d3r.unshift(r3r.uniqueName);y3r=S3r&&y3r.hasMeasures?this._measures.indexOf(S3r.uniqueName):-p0f.O8C;d3r.unshift(y3r);if(this.isAllDrilled())if(T3r==v9r.consts.AxisName.ROWS_AXIS){var I3r=this.getDrilledUpRows(),m3r;for(m3r in I3r)y3r=I3r[m3r],y3r.toString()!=d3r.toString()&&Z3r.push(y3r);this.setDrilledUpRows(Z3r);}else{I3r=this.getDrilledUpColumns();for(m3r in I3r)y3r=I3r[m3r],y3r.toString()!=d3r.toString()&&Z3r.push(y3r);this.setDrilledUpColumns(Z3r);}else T3r==v9r.consts.AxisName.ROWS_AXIS?(Z3r=this.getDrilledDownRows().slice(p0f.F8C),Z3r.push(d3r),this.setDrilledDownRows(Z3r)):(Z3r=this.getDrilledDownColumns().slice(p0f.F8C),Z3r.push(d3r),this.setDrilledDownColumns(Z3r));this.cube_.drillDown(w3r,r3r,T3r,S3r);this.cube_.dispatchWith(U9r.model._state.StateEvent.REPORT_CHANGED);};V9r.prototype.drillDownTo=function(C3r,U6r,v6r,G6r,V6r){var W6r=this.slice.findAxis(v6r),P3r=[];C3r=C3r.slice(p0f.F8C);C3r.unshift(U6r.uniqueName);U6r=G6r&&W6r.hasMeasures?this._measures.indexOf(G6r.uniqueName):-p0f.O8C;C3r.unshift(U6r);C3r.unshift(V6r);v6r==v9r.consts.AxisName.ROWS_AXIS?(P3r=this.getDrilledDownRows().slice(p0f.F8C),P3r.push(C3r),this.setDrilledDownRows(P3r)):(P3r=this.getDrilledDownColumns().slice(p0f.F8C),P3r.push(C3r),this.setDrilledDownColumns(P3r));};V9r.dispose=function(){V9r.instance&&(V9r.instance.removeEventListeners(),V9r.instance.removeAllEventListeners());V9r.instance=p0f.x4C;};V9r.counter=p0f.F8C;V9r.SCRIPT_EXECUTION_TIMEOUT=K6B;return V9r;}(events.EventDispatcher);W9r.ViewDataProvider=G9r;}(v9r.dataprovider_||(v9r.dataprovider_={})));}(U9r.data_||(U9r.data_={})));}(pivot||(pivot={})));(function(l6r){(function(p6r){(function(X6r){var Y6r=function(){q6r.getDataProvider=function(z6r){var h8K=U9VV;void h8K.F8C===z6r&&(z6r=h8K.C4C);h8K.C4C==z6r&&(z6r=l6r.model._options.OptionsManager.flatView?B6r.FLAT:B6r.PIVOT);var u6r=h8K.x4C,u6r=z6r==B6r.FLAT?X6r.FlatViewDataProvider.getInstance():X6r.ViewDataProvider.getInstance();u6r.addEventListeners();q6r.dataProvider_!=u6r?(q6r.dataProvider_&&q6r.dataProvider_.removeEventListeners(),u6r.load()):l6r.model._options.OptionsManager.optionAffectedDataProvider&&(u6r.load(),l6r.model._options.OptionsManager.optionAffectedDataProvider=!h8K.O8C);q6r.dataProvider_=u6r;return q6r.dataProvider_;};function q6r(){}q6r.dispose=function(){X6r.FlatViewDataProvider.dispose();X6r.ViewDataProvider.dispose();q6r.dataProvider_=U9VV.x4C;};q6r.dataProvider_=U9VV.x4C;return q6r;}();X6r.DataProviderFactory=Y6r;var B6r=function(){N6r.PIVOT=G9VV.s6B;function N6r(){}N6r.FLAT=G9VV.F6B;return N6r;}();X6r.DataProviderType=B6r;}(p6r.dataprovider_||(p6r.dataprovider_={})));}(l6r.data_||(l6r.data_={})));}(pivot||(pivot={})));(function(D6r){(function(x6r){(function(s6r){var K6r=function(O6r){var v0f=U9VV;var U0f=G9VV;__extends(F6r,O6r);Object.defineProperty(F6r.prototype,U0f.k3B,{get:function(){return v0f.x4C!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(b6r){this._dataStorage=b6r;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,v9VV.t8Q,{get:function(){return v0f.x4C!=this._slice?this._slice:this.cube_.slice_;},set:function(j6r){this._slice=j6r;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.y3B,{get:function(){return this._measures;},set:function(g6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.U6B,{get:function(){return v0f.O8C<this._measures.length;},set:function(o6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.S3B,{get:function(){return this.slice&&this._dataLoaded;},set:function(n6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.getInstance=function(){v0f.x4C==F6r.instance&&(F6r.instance=new F6r());return F6r.instance;};F6r.prototype.addEventListeners=function(){this.cube_.addEventListener(x6r.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,v0f.O8C);};F6r.prototype.removeEventListeners=function(){this.cube_.removeEventListener(x6r.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);};F6r.prototype.load=function(){if(v0f.x4C==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,v0f.x4C==this.dataStorage))return;this.slice&&(this.dataStorage.expand([],x6r.consts.AxisName.ROWS_AXIS,v0f.x4C),this.dataStorage.expand([],x6r.consts.AxisName.COLUMNS_AXIS,v0f.x4C),this.prepare(),this._dataLoaded=!v0f.F8C);};F6r.prototype.onQueryComplete=function(){this.load();};F6r.prototype.prepare=function(){var c6r,L6r,t6r,a6r=this.slice?this.slice.flatten(!v0f.F8C):new utils.AssociativeArray();this.colIndices.length=v0f.F8C;this.colNames=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();for(c6r=v0f.F8C;c6r<a6r.length;c6r++)t6r=a6r.getItemAt(c6r),L6r=this.cube_.structure_.hierarchyToMeasure(t6r.uniqueName),v0f.x4C==L6r&&(L6r=this.cube_.structure_.calculatedMeasures.getItem(t6r.uniqueName)),L6r&&this._measures.addItem(L6r.uniqueName,L6r),L6r=this.dataStorage.factKeys.indexOf(t6r.uniqueName),this.colIndices.push(L6r),this.colNames.addItem(t6r.uniqueName,this.colIndices.length-v0f.O8C);if(this.hasColumnSorting)this._sort();else for(c6r=v0f.F8C;c6r<a6r.length;c6r++)if(t6r=a6r.getItemAt(c6r),t6r.sortName!=x6r.consts.SortType.UNSORTED){this._columnSortType=t6r.sortName;this._columnSortTuple=this.getColumnTuple(c6r);this._columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(t6r.uniqueName);v0f.x4C==this._columnSortMeasure&&(this._columnSortMeasure=this.cube_.structure_.calculatedMeasures.getItem(t6r.uniqueName));this.sort();break;}};Object.defineProperty(F6r.prototype,U0f.d3B,{get:function(){return v0f.F8C;},set:function(e6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.I3B,{get:function(){return v0f.F8C;},set:function(h6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.T3B,{get:function(){return v0f.F8C;},set:function(R6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.m3B,{get:function(){return v0f.F8C;},set:function(A6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,v9VV.M8Q,{get:function(){return new utils.AssociativeArray();},set:function(Q6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.i3B,{get:function(){return new utils.AssociativeArray();},set:function(k6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.J3B,{get:function(){return[];},set:function(f6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.E3B,{get:function(){return[];},set:function(i6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,v9VV.b8Q,{get:function(){return new utils.AssociativeArray();},set:function(J6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.H3B,{get:function(){return new utils.AssociativeArray();},set:function(E6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.Z3B,{get:function(){return new utils.AssociativeArray();},set:function(H6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.w3B,{get:function(){return new x6r._structure.Axis(x6r.consts.AxisName.ROWS_AXIS);},set:function(Z6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});function F6r(){var M6r=O6r.call(this)||this;M6r._measures=new utils.AssociativeArray();M6r._dataLoaded=!v0f.O8C;M6r.queryCompleteHandler=function(){return M6r.onQueryComplete();};M6r._columnSortType=x6r.consts.SortType.UNSORTED;M6r._columnSortTuple=v0f.x4C;M6r.indices=[];M6r.colIndices=[];M6r.cube_=x6r.Cube.getInstance();return M6r;}Object.defineProperty(F6r.prototype,U0f.r3B,{get:function(){return new x6r._structure.Axis(x6r.consts.AxisName.COLUMNS_AXIS);},set:function(y6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.C3B,{get:function(){return v0f.O8C;},set:function(d6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.P3B,{get:function(){return v0f.F8C;},set:function(S6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.v6B,{get:function(){return v0f.x4C;},set:function(I6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.G6B,{get:function(){return v0f.x4C;},set:function(T6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.W6B,{get:function(){return v0f.x4C;},set:function(m6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.V6B,{get:function(){return!v0f.O8C;},set:function(w6r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.l6B,{get:function(){return this._columnSortType;},set:function(r6r){r6r=r6r.toLowerCase();this._columnSortType=r6r==x6r.consts.SortType.ASC||r6r==x6r.consts.SortType.DESC?r6r:x6r.consts.SortType.UNSORTED;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.p6B,{get:function(){return this._columnSortTuple;},set:function(C6r){this._columnSortTuple=C6r;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.X6B,{get:function(){return this._columnSortMeasure;},set:function(P6r){this._columnSortMeasure=P6r;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.B6B,{get:function(){return this._columnSortType==x6r.consts.SortType.UNSORTED||v0f.x4C==this._columnSortTuple?!v0f.O8C:!v0f.F8C;},set:function(U5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.prototype.reset=function(v5r){this._dataLoaded=!v0f.O8C;this._sortedHierarchy=v0f.x4C;this._measures=new utils.AssociativeArray();this.indices.length=v0f.F8C;this.colIndices.length=v0f.F8C;this.colNames=new utils.AssociativeArray();this._columnSortTuple=this._columnSortMeasure=v0f.x4C;this._columnSortType=x6r.consts.SortType.UNSORTED;};Object.defineProperty(F6r.prototype,U0f.Y6B,{get:function(){return v0f.F8C==this.colIndices.length;},set:function(G5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.prototype.getRowDepth=function(W5r){return v0f.F8C;};F6r.prototype.getRowType=function(V5r){return v0f.F8C;};F6r.prototype.getColumnType=function(l5r){return v0f.F8C;};F6r.prototype.getColumnDepth=function(p5r){return v0f.O8C;};F6r.prototype.getRowHierarchyIdx=function(X5r){return v0f.F8C;};F6r.prototype.getRowHierarchy=function(B5r){return this.getColumnHierarchy(B5r);};F6r.prototype.getColumnHierarchyIdx=function(Y5r){return v0f.F8C;};F6r.prototype.getColumnHierarchy=function(q5r){return this.cube_.structure_.allHierarchies().getItem(this.dataStorage.keys[q5r[v0f.F8C]]);};Object.defineProperty(F6r.prototype,U0f.q6B,{get:function(){return this.colIndices.length;},set:function(u5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.u6B,{get:function(){return this.dataStorage?this.dataStorage.result[v0f.F8C]:v0f.F8C;},set:function(z5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.z6B,{get:function(){return this.colIndices.length;},set:function(N5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.N6B,{get:function(){return this.dataStorage.getRowCount();},set:function(D5r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.prototype.isRowExpanded=function(x5r,K5r){return!v0f.O8C;};F6r.prototype.isColumnExpanded=function(s5r,F5r){return!v0f.O8C;};F6r.prototype.isRowDrilledDown=function(O5r,M5r,b5r){return!v0f.O8C;};F6r.prototype.isColumnDrilledDown=function(j5r,g5r,o5r){return!v0f.O8C;};F6r.prototype.isAggregated=function(n5r,t5r){return!v0f.O8C;};F6r.prototype.getColumnTupleIndex=function(L5r){for(var c5r=v0f.F8C;c5r<this.colIndices.length;c5r++)if(this.colIndices[c5r].toString()==L5r.toString())return c5r;return-v0f.O8C;};F6r.prototype.getRowTupleIndex=function(e5r){if(!(v0f.F8C<this.indices.length&&e5r[v0f.F8C]<this.indices.length))return e5r[v0f.F8C];for(var a5r=v0f.F8C;a5r<this.indices.length;a5r++)if(this.indices[a5r].toString()==e5r.toString())return a5r;return-v0f.O8C;};F6r.prototype.getRowTuple=function(h5r,R5r){return v0f.F8C>h5r?v0f.x4C:v0f.F8C<this.indices.length&&h5r<this.indices.length?[this.indices[h5r]]:[h5r];};F6r.prototype.getColumnTuple=function(A5r,Q5r){return v0f.F8C>A5r?v0f.x4C:v0f.F8C<this.colIndices.length&&A5r<this.colIndices.length?[this.colIndices[A5r]]:[A5r];};F6r.prototype.getColumnTupleByName=function(i5r,k5r){void v0f.F8C===k5r&&(k5r=!v0f.O8C);var f5r=this.colNames.getItem(i5r);return this.getColumnTuple(f5r,k5r);};F6r.prototype.getColumnTupleForExport=function(J5r){return v0f.x4C;};F6r.prototype.getRowMeasure=function(E5r){return v0f.x4C;};F6r.prototype.getRowMeasureIndex=function(H5r){return v0f.F8C;};F6r.prototype.getColumnMeasure=function(Z5r){return v0f.x4C;};F6r.prototype.getColumnMeasureIndex=function(y5r){return v0f.F8C;};F6r.prototype.getMeasure=function(I5r,S5r){var d5r=this.getColumnTuple(S5r);return this._measures.getItem(this.dataStorage.factKeys[d5r[v0f.F8C]]);};F6r.prototype.getUpdatedValue=function(T5r,w5r,m5r){return v0f.x4C==T5r?this.dataStorage.getFlatUpdatedValue(v0f.x4C,m5r):this.dataStorage.getFlatUpdatedValue(T5r[v0f.F8C],m5r);};F6r.prototype.getValue=function(C5r,P5r,r5r){return v0f.x4C==P5r&&v0f.x4C==C5r?this.dataStorage.getValue([],[],r5r):this.dataStorage.getFlatValue(C5r[v0f.F8C],P5r[v0f.F8C],r5r,r5r.type!=x6r.types.MeasureType.COUNT);};F6r.prototype.getRecordId=function(U7r,v7r,G7r){return v0f.x4C==v7r&&v0f.x4C==U7r?v0f.x4C:this.dataStorage.getRecordId(U7r[v0f.F8C],v7r[v0f.F8C],G7r);};F6r.prototype.sort=function(){this._sort();};F6r.prototype._sort=function(){if(this.hasColumnSorting){this._columnSortMeasure.type!=x6r.types.MeasureType.COUNT?this.sortRowsByValue():this.sortRowsByMembers();this._sortedHierarchy&&(this._sortedHierarchy.sortName=x6r.consts.SortType.UNSORTED);var W7r=this.getColumnHierarchy(this._columnSortTuple);W7r&&(W7r.sortName=this._columnSortType,this._sortedHierarchy=W7r);}};F6r.prototype.sortRowsByValue=function(){var V7r,p7r,l7r=[];for(V7r=v0f.F8C;V7r<this.extendedDataHeight;V7r++)p7r=this.getValue([V7r],this._columnSortTuple,this._columnSortMeasure),l7r[V7r]=isNaN(p7r)?Number.NEGATIVE_INFINITY:p7r;this.indices=this._columnSortType!=x6r.consts.SortType.DESC?utils.ArrayUtils.sort(l7r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(l7r,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);};F6r.prototype.sortRowsByMembers=function(){var z7r=this,B7r=this.getColumnHierarchy(this._columnSortTuple);if(v0f.x4C!=B7r){var X7r,Y7r,q7r=[];X7r=B7r.levels_.getItemAt(v0f.O8C).type;var u7r=X7r==x6r.types.LevelType.YEAR||X7r==x6r.types.LevelType.MONTH||X7r==x6r.types.LevelType.DAY;for(X7r=v0f.F8C;X7r<this.extendedDataHeight;X7r++)Y7r=this.getValue([X7r],this._columnSortTuple,this._columnSortMeasure),Y7r=B7r.members.getItemAt(Y7r),q7r.push(u7r?Y7r.uniqueName:Y7r.caption);if(u7r){this.sortedIndex={};u7r=B7r.sortChildren(B7r.allMember,!v0f.O8C,this._columnSortType);for(X7r=v0f.F8C;X7r<B7r.members.length;X7r++)Y7r=B7r.members.getItemAt(X7r),this.sortedIndex[Y7r.uniqueName]=u7r.indexOf(Y7r.uniqueName);this.indices=utils.ArrayUtils.sort(q7r,utils.ArrayUtils.RETURNINDEXEDARRAY,function(N7r,D7r){return z7r.sortFunction(N7r,D7r);});}else this.indices=this._columnSortType!=x6r.consts.SortType.DESC?utils.ArrayUtils.sort(q7r,utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(q7r,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);}};F6r.prototype.sortFunction=function(s7r,F7r){var x7r=this.sortedIndex[s7r],K7r=this.sortedIndex[F7r];return x7r>K7r?v0f.O8C:x7r<K7r?-v0f.O8C:v0f.F8C;};F6r.prototype.calculate=function(O7r,M7r,b7r,j7r){return this.dataStorage.calculateFlat(O7r,M7r,b7r,j7r);};F6r.prototype.expandData=function(g7r){};F6r.prototype.collapseData=function(o7r){};F6r.prototype.expandAll=function(){};Object.defineProperty(F6r.prototype,U0f.D6B,{get:function(){return v0f.x4C;},enumerable:!v0f.F8C,configurable:!v0f.F8C});Object.defineProperty(F6r.prototype,U0f.x6B,{get:function(){return v0f.x4C;},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.prototype.expand=function(n7r,t7r,c7r,L7r){};F6r.prototype.collapse=function(a7r,e7r,h7r,R7r){};F6r.prototype.drillUp=function(A7r,Q7r,k7r,f7r){};F6r.prototype.drillDown=function(i7r,J7r,E7r,H7r){};F6r.prototype.drillThrough=function(Z7r,y7r,d7r){return[];};F6r.prototype.save=function(S7r,I7r,T7r,m7r,w7r){this.dataStorage.saveFlat(S7r,I7r,T7r,m7r,w7r);};Object.defineProperty(F6r.prototype,U0f.f3B,{get:function(){return!v0f.O8C;},set:function(r7r){},enumerable:!v0f.F8C,configurable:!v0f.F8C});F6r.dispose=function(){F6r.instance&&(F6r.instance.removeAllEventListeners(),F6r.instance.removeEventListeners());F6r.instance=v0f.x4C;};return F6r;}(events.EventDispatcher);s6r.FlatViewDataProvider=K6r;}(x6r.dataprovider_||(x6r.dataprovider_={})));}(D6r.data_||(D6r.data_={})));}(pivot||(pivot={})));(function(C7r){(function(P7r){(function(U95){var v95=function(W95){__extends(G95,W95);function G95(){return W95.call(this)||this;}G95.getInstance=function(){var O6B="chart";U9VV.x4C==G95._instance&&(G95._instance=new G95(),G95._instance._name=O6B+U95.ViewDataProvider.counter);return G95._instance;};Object.defineProperty(G95.prototype,G9VV.f3B,{get:function(){return!U9VV.O8C;},set:function(V95){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});G95.dispose=function(){G95._instance&&(G95._instance.removeEventListeners(),G95._instance.removeAllEventListeners());G95._instance=U9VV.x4C;};return G95;}(U95.ViewDataProvider);U95.ChartDataProvider=v95;}(P7r.dataprovider_||(P7r.dataprovider_={})));}(C7r.data_||(C7r.data_={})));}(pivot||(pivot={})));function PivotApi(p1C){var W1C={version:pivot.Pivot.BUILD_VERSION},V1C=new pivot.Pivot(p1C,W1C);W1C.getAllConditions=function(){return V1C.getAllConditions();};W1C.getCondition=function(X1C){return V1C.getCondition(X1C);};W1C.addCondition=function(B1C){return V1C.addCondition(B1C);};W1C.removeCondition=function(Y1C){return V1C.removeCondition(Y1C);};W1C.removeAllConditions=function(){return V1C.removeAllConditions();};W1C.open=function(){return V1C.open();};W1C.load=function(q1C){return V1C.load(q1C);};W1C.getReport=function(u1C){return V1C.getReport(u1C);};W1C.setReport=function(z1C){return V1C.setReport(z1C);};W1C.getData=function(N1C,D1C,x1C){return V1C.getData(N1C,D1C,x1C);};W1C.save=function(K1C,s1C,F1C,O1C,M1C){var R0x=U9VV;void R0x.F8C===K1C&&(K1C={filename:v9VV.R8B});void R0x.F8C===s1C&&(s1C=R0x.x4C);void R0x.F8C===F1C&&(F1C=R0x.x4C);void R0x.F8C===O1C&&(O1C=R0x.x4C);void R0x.F8C===M1C&&(M1C=!R0x.O8C);return V1C.save(K1C,s1C,F1C,O1C,M1C);};W1C.updateData=function(b1C,j1C){return V1C.updateData(b1C,j1C);};W1C.connectTo=function(g1C){return V1C.connectTo(g1C);};W1C.addCalculatedMeasure=function(o1C){return V1C.addCalculatedMeasure(o1C);};W1C.removeCalculatedMeasure=function(n1C){return V1C.removeCalculatedMeasure(n1C);};W1C.removeAllCalculatedMeasures=function(){return V1C.removeAllCalculatedMeasures();};W1C.clear=function(){return V1C.clear();};W1C.dispose=function(){V1C.dispose();};W1C.refresh=function(){return V1C.refresh();};W1C.expandAllData=function(t1C){void U9VV.F8C===t1C&&(t1C=!U9VV.F8C);return V1C.expandAllData(t1C);};W1C.expandData=function(c1C){return V1C.expandData(c1C);};W1C.collapseAllData=function(){return V1C.collapseAllData();};W1C.collapseData=function(L1C){return V1C.collapseData(L1C);};W1C.print=function(a1C){void U9VV.F8C===a1C&&(a1C=U9VV.x4C);return V1C.print(a1C);};W1C.exportTo=function(R1C,e1C,h1C){var f0x=U9VV;void f0x.F8C===e1C&&(e1C=f0x.x4C);void f0x.F8C===h1C&&(h1C=f0x.x4C);return V1C.exportTo(R1C,e1C,h1C);};W1C.getFilter=function(A1C){return V1C.getFilter(A1C);};W1C.getFilterProperties=function(Q1C){return V1C.getFilterProperties(Q1C);};W1C.setFilter=function(f1C,i1C,k1C){void U9VV.F8C===k1C&&(k1C=!U9VV.O8C);return V1C.setFilter(f1C,i1C,k1C);};W1C.clearFilter=function(J1C){return V1C.clearFilter(J1C);};W1C.runQuery=function(E1C){return V1C.runQuery(E1C);};W1C.on=function(H1C,Z1C){return V1C.on(H1C,Z1C);};W1C.off=function(y1C,d1C){return V1C.off(y1C,d1C);};W1C.getRows=function(){return V1C.getRows();};W1C.getColumns=function(){return V1C.getColumns();};W1C.getReportFilters=function(){return V1C.getPages();};W1C.getMeasures=function(){return V1C.getMeasures();};W1C.getAllMeasures=function(){return V1C.getAllMeasures();};W1C.sortValues=function(S1C,I1C,T1C,m1C){return V1C.sortValues(S1C,I1C,T1C,m1C);};W1C.setSort=function(w1C,r1C){return V1C.setSort(w1C,r1C);};W1C.getSort=function(C1C){return V1C.getSort(C1C);};W1C.setTopX=function(P1C,U8C,v8C){return V1C.setTopX(P1C,U8C,v8C);};W1C.setBottomX=function(G8C,W8C,V8C){return V1C.setBottomX(G8C,W8C,V8C);};W1C.getOptions=function(){return V1C.getOptions();};W1C.setOptions=function(l8C){return V1C.setOptions(l8C);};W1C.getMembers=function(p8C,X8C,B8C){return V1C.getMembers(p8C,X8C,B8C);};W1C.getAllHierarchies=function(){return V1C.getAllHierarchies();};W1C.replaceHierarchyCaption=function(Y8C){return V1C.replaceHierarchyCaption(Y8C);};W1C.getFormat=function(q8C){return V1C.getFormat(q8C);};W1C.setFormat=function(u8C,z8C){return V1C.setFormat(u8C,z8C);};W1C.getCell=function(N8C,D8C){return V1C.getCell(N8C,D8C);};W1C.getSelectedCell=function(){return V1C.getSelectedCell();};W1C.setSelectedCell=function(x8C,K8C){return V1C.setSelectedCell(x8C,K8C);};W1C.removeSelection=function(){return V1C.removeSelection();};W1C.openFieldsList=function(){return V1C.openFieldsList();};W1C.closeFieldsList=function(){return V1C.closeFieldsList();};W1C.customizeCell=function(s8C){return V1C.customizeCell(s8C);};if(void U9VV.F8C!==window.WebDataRocksHighcharts){W1C.highcharts={instance:W1C};for(var l1C in window.WebDataRocksHighcharts)W1C.highcharts[l1C]=window.WebDataRocksHighcharts[l1C];}if(void U9VV.F8C!==window.WebDataRocksFusioncharts)for(l1C in W1C.fusioncharts={instance:W1C},window.WebDataRocksFusioncharts)W1C.fusioncharts[l1C]=window.WebDataRocksFusioncharts[l1C];if(void U9VV.F8C!==window.WebDataRocksGooglecharts)for(l1C in W1C.googlecharts={instance:W1C},window.WebDataRocksGooglecharts)W1C.googlecharts[l1C]=window.WebDataRocksGooglecharts[l1C];return window.webdatarocks=W1C;}(function(l95){(function(p95){(function(B95){var X95=function(){var y8f=U9VV;Object.defineProperty(Y95.prototype,v9VV.W0B,{get:function(){return this._caption;},set:function(z95){y8f.x4C==z95&&(z95=y8f.C4C);z95=z95.toString();y8f.x2C==typeof z95?this._caption=y8f.C4C+z95:y8f.C4C==z95.trim()?this._caption=l95.model._labels.Labels.MEMBER_BLANK:this._caption=z95;},enumerable:!y8f.F8C,configurable:!y8f.F8C});Object.defineProperty(Y95.prototype,G9VV.M6B,{get:function(){return this._uniqueName;},set:function(N95){this._uniqueName=N95;},enumerable:!y8f.F8C,configurable:!y8f.F8C});Y95.prototype._getProperty=function(D95){if(this._hasProperty(D95))return this.data[D95];};Y95.prototype._setProperty=function(x95,K95){this.data[x95]=K95;};Y95.prototype._hasProperty=function(s95){return this.data.hasOwnProperty(s95);};Y95.prototype.toString=function(){return this.uniqueName;};function Y95(u95,q95){void y8f.F8C===q95&&(q95=y8f.C4C);this.data={};this.uniqueName=u95;this.caption=q95;}Y95.prototype.toObject=function(){var F95={};F95.caption=this.caption;F95.uniqueName=this.uniqueName;return F95;};Y95.prototype.fromObject=function(M95){for(var O95 in M95)y8f.x4C!=this[O95]&&(this[O95]=M95[O95]);};return Y95;}();B95.GenericElement=X95;}(p95._structure||(p95._structure={})));}(l95.data_||(l95.data_={})));}(pivot||(pivot={})));(function(b95){(function(j95){(function(g95){var o95=function(t95){var J8f=U9VV;var T6B="predefinedDrillDowns";var I6B="allMember";var S6B="allMemberName";var d6B="filterMeasureName";var H6B="filterQuantity";var E6B="filterType";var J6B="filterMembersNegated";var i6B="filterMembers";var R6B="sortAs";var h6B="sortName";var e6B="drillDownDepth";var L6B="filterEnabled";var c6B="isMeasures";var t6B="isHierarchy";var n6B="levels_";var g6B="quantity";var j6B="origin";var b6B="dimension";__extends(n95,t95);Object.defineProperty(n95.prototype,b6B,{get:function(){return this._dimension;},set:function(A95){this._dimension=A95;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,J8f.W3C,{get:function(){return this._type;},set:function(Q95){this._type=Q95;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,j6B,{get:function(){return this._origin;},set:function(k95){this._origin=k95;this._isHierarchy=J8f.O8C==(k95&J8f.O8C);},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,g6B,{get:function(){return this.members.length;},set:function(f95){},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,G9VV.o6B,{get:function(){return this._folder;},set:function(i95){J8f.Q2C==i95?this._folder=J8f.C4C:this._folder=i95;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,n6B,{get:function(){return this._levels;},set:function(J95){},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.addLevel=function(E95){E95.hierarchy=this;this._levels.addItem(E95.uniqueName,E95);this._drilledDownMembers.addItemAt(E95.uniqueName,new utils.AssociativeArray(),E95.num);};n95.prototype.addLevelAt=function(H95,y95){H95.hierarchy=this;this._levels.addItemAt(H95.uniqueName,H95,y95);for(var Z95=J8f.M8C;Z95<this._levels.length;Z95++)this._levels.getItemAt(Z95).num++;this._drilledDownMembers.addItemAt(H95.uniqueName,new utils.AssociativeArray(),H95.num);};n95.prototype.findLevel=function(d95){return this._levels.getItem(d95);};Object.defineProperty(n95.prototype,t6B,{get:function(){return J8f.M8C<this.levels_.length;},set:function(S95){},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,c6B,{get:function(){return this.uniqueName==j95.Cube.MEASURES_NAME;},set:function(I95){},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,L6B,{get:function(){return this._filterEnabled;},set:function(T95){this._filterEnabled=T95;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,v9VV.a1Q,{get:function(){return this._members;},set:function(m95){},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.clear=function(){this._members=new utils.AssociativeArray();};n95.prototype.addMember=function(w95,r95,C95){void J8f.F8C===r95&&(r95=J8f.C4C);void J8f.F8C===C95&&(C95=J8f.C4C);J8f.C4C==r95&&(r95=this.levels_&&J8f.O8C<this.levels_.length?this.levels_.getItemAt(J8f.O8C).uniqueName:this.uniqueName+v9VV.f7C+this.caption,this.caption==b95.model._labels.Labels.MEMBER_BLANK&&(r95=this.uniqueName+G9VV.a6B));J8f.x4C==this.findMember(w95.uniqueName)&&(w95.hierarchy_=this,w95.parent=this.findMember(C95)||this.allMember,w95.level=this.findLevel(r95),J8f.x4C!=w95.parent&&w95.parent.addChild(w95),w95.ordinal=this._members.length,this._members.addItem(w95.uniqueName,w95),this.cache=[],this.cacheWithDescendants=[]);};n95.prototype.drillDownMember=function(P95){J8f.x4C!=P95&&(P95.isDrilledDown=!J8f.F8C,this._drilledDownMembers.getItem(P95.level.uniqueName).addItem(P95.uniqueName,P95));};n95.prototype.drillUpMember=function(U15){U15.isDrilledDown=!J8f.O8C;this._drilledDownMembers.getItem(U15.level.uniqueName).removeItem(U15.uniqueName);U15=U15.descendants;for(var v15=J8f.F8C;v15<U15.length;v15++){var G15=U15.getItemAt(v15);G15.isDrilledDown&&this.drillUpMember(G15);}};n95.prototype.drilledDownMembers=function(W15){return this._drilledDownMembers.getItem(W15.uniqueName);};Object.defineProperty(n95.prototype,e6B,{get:function(){for(var V15=J8f.O8C;V15<this.levels_.length;V15++){var l15=this.levels_.getItemAt(V15);if(J8f.F8C==this.drilledDownMembers(l15).length)return V15;}return J8f.O8C;},set:function(p15){},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.findMemberByCaption=function(B15){for(var X15=J8f.F8C;X15<this.members.length;X15++)if(this.members.getItemAt(X15).caption==B15)return this.members.getItemAt(X15);return J8f.x4C;};n95.prototype.findMember=function(Y15){return this.members.getItem(Y15);};n95.prototype.clearSort=function(q15){void J8f.F8C===q15&&(q15=!J8f.O8C);this.sortName=q15?j95.consts.SortType.UNSORTED:n95.DEFAULT_SORT_NAME;};n95.prototype.clearSortCache=function(){this.cache=[];};Object.defineProperty(n95.prototype,h6B,{get:function(){return this._sortName;},set:function(u15){this._sortName=u15;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,R6B,{get:function(){return this._sortAs;},set:function(z15){this._sortAs=z15;},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.sort=function(){return this.sortChildren(this.allMember);};n95.prototype.sortChildren=function(N15,K15,D15){void J8f.F8C===K15&&(K15=!J8f.F8C);void J8f.F8C===D15&&(D15=J8f.C4C);if(J8f.x4C==N15)return new utils.AssociativeArray();j95.consts.SortType.isValid(D15)||(D15=this._sortName);if(K15){if(J8f.x4C!=this.cacheWithDescendants[N15.ordinal]){if(J8f.x4C!=this.cacheWithDescendants[N15.ordinal][D15])return this.cacheWithDescendants[N15.ordinal][D15];if(!this.isHierarchy){if(D15==j95.consts.SortType.DESC&&J8f.x4C!=this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.ASC])return this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.DESC]=this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.ASC].reverse(),this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.DESC];if(D15==j95.consts.SortType.ASC&&J8f.x4C!=this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.DESC])return this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.ASC]=this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.DESC].reverse(),this.cacheWithDescendants[N15.ordinal][j95.consts.SortType.ASC];}}}else if(J8f.x4C!=this.cache[N15.ordinal]){if(J8f.x4C!=this.cache[N15.ordinal][D15])return this.cache[N15.ordinal][D15];if(!this.isHierarchy){if(D15==j95.consts.SortType.DESC&&J8f.x4C!=this.cache[N15.ordinal][j95.consts.SortType.ASC])return this.cache[N15.ordinal][j95.consts.SortType.DESC]=this.cache[N15.ordinal][j95.consts.SortType.ASC].reverse(),this.cache[N15.ordinal][j95.consts.SortType.DESC];if(D15==j95.consts.SortType.ASC&&J8f.x4C!=this.cache[N15.ordinal][j95.consts.SortType.DESC])return this.cache[N15.ordinal][j95.consts.SortType.ASC]=this.cache[N15.ordinal][j95.consts.SortType.DESC].reverse(),this.cache[N15.ordinal][j95.consts.SortType.ASC];}}var s15=this._sortName;this._sortName=D15;var x15;x15=K15?N15.descendants:N15.children;v9VV.l6C<x15.length?x15=K15?N15.descendants:N15.children:this._sortName==j95.consts.SortType.UNSORTED?(x15=K15?N15.descendants:N15.children,J8f.F8C<x15.length&&x15.getItemAt(J8f.F8C).isAll&&x15.removeItemAt(J8f.F8C)):x15=this.sortByCaption(N15,K15);K15?(J8f.x4C==this.cacheWithDescendants[N15.ordinal]&&(this.cacheWithDescendants[N15.ordinal]=[]),this.cacheWithDescendants[N15.ordinal][D15]=x15):(J8f.x4C==this.cache[N15.ordinal]&&(this.cache[N15.ordinal]=[]),this.cache[N15.ordinal][D15]=x15);this._sortName=s15;return x15;};n95.prototype._sortByCaptionOptimized=function(n15,t15){var F15=n15.getChildrenCaptions(),O15=F15.captions,F15=F15.members;this._sortName==j95.consts.SortType.DESC&&(O15=O15.reverse(),F15=F15.reverse());for(var j15=new utils.AssociativeArray(),M15=J8f.F8C;M15<O15.length;M15++)if(J8f.x4C!=O15[M15]){var g15;this._sortName==j95.consts.SortType.ASC&&(g15=utils.ArrayUtils.sort(O15[M15],utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));this._sortName==j95.consts.SortType.DESC&&(g15=utils.ArrayUtils.sort(O15[M15],utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));for(var o15=J8f.F8C;o15<g15.length;o15++){var b15=F15[M15][g15[o15]];j15.addUniqueItem(b15.uniqueName,b15);t15&&(b15=this.sortChildren(b15),J8f.F8C<b15.length&&j15.concat(b15,!J8f.O8C));}}return j15;};n95.prototype.checkIfMonth=function(c15){try{if(G9VV.A6B==c15.level.caption.toLowerCase())return!J8f.F8C;if(J8f.e8C<c15.children.length)return!J8f.O8C;for(var L15=J8f.F8C;L15<c15.children.length;L15++){var e15=c15.children.getItemAt(L15).caption.split(J8f.s4C)[J8f.F8C];if(-J8f.O8C==b95.model._labels.Labels.MONTHS_LABELS.indexOf(e15)&&-J8f.O8C==b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(e15))return!J8f.O8C;}var a15=c15.hierarchy_.levels_.indexOf(c15.level.uniqueName);if(c15.hierarchy_.levels_.length<a15+J8f.M8C)return!J8f.O8C;c15.hierarchy_.levels_.getItemAt(a15+J8f.O8C).type=j95.types.LevelType.MONTH;c15.hierarchy_.levels_.getItemAt(a15+J8f.M8C).type=j95.types.LevelType.DAY;return!J8f.F8C;}catch(h15){}return!J8f.O8C;};n95.prototype.sortByCaption=function(f15,E15){var p8K=v9VV;var R15=this.levels_.getItemAt(f15.level.num+J8f.O8C),k15=R15&&R15.type==j95.types.LevelType.YEAR,Q15=R15&&R15.type==j95.types.LevelType.HALFYEAR,J15=R15&&R15.type==j95.types.LevelType.QUARTER,i15=R15&&R15.type==j95.types.LevelType.MONTH,H15=R15&&R15.type==j95.types.LevelType.WEEK,Z15=R15&&R15.type==j95.types.LevelType.DAY,y15=R15&&R15.type==j95.types.LevelType.HOUR,d15=R15&&R15.type==j95.types.LevelType.MINUTE,S15=R15&&R15.type==j95.types.LevelType.NUMBER,I15=R15&&R15.type==j95.types.LevelType.TIME||R15&&R15.type==j95.types.LevelType.DATE,T15=R15&&R15.type==j95.types.LevelType.TIME_DATE,m15=this.sortAs==j95.consts.SortType.NUMERIC_RANGE;if(!(J15||i15||H15||I15||Z15||y15||d15||S15||T15)){if(p8K.N6C<f15.children.length)return this._sortByCaptionOptimized(f15,E15);this.checkIfMonth(f15)&&(i15=!J8f.F8C);}var A15=f15.children.toArray();J15||i15||H15||Z15||y15||d15||T15||Q15||k15?A15=this.sortOrdinal(A15,R15?R15.type:-J8f.O8C):I15?A15=this.sortDate(A15):S15?(this._sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(A15,p8K.W0B,utils.ArrayUtils.NUMERIC),this._sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(A15,p8K.W0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC)):m15?A15.sort(this.numericRangeSort):(this._sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(A15,p8K.W0B,utils.ArrayUtils.CASEINSENSITIVE),this._sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(A15,p8K.W0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE));R15=new utils.AssociativeArray();for(k15=J8f.F8C;k15<A15.length;k15++)Q15=A15[k15],R15.addUniqueItem(Q15.uniqueName,Q15),E15&&!f15.isLeaf&&(Q15=this.sortChildren(Q15,E15),J8f.F8C<Q15.length&&R15.concat(Q15,!J8f.O8C));return R15;};n95.prototype.sortOrdinal=function(w15,r15){r15==j95.types.LevelType.MONTH?w15=this.sortMonths(w15):r15==j95.types.LevelType.DAY?w15=this.sortWeekdays(w15):r15==j95.types.LevelType.QUARTER||r15==j95.types.LevelType.HALFYEAR||r15==j95.types.LevelType.YEAR?w15=utils.ArrayUtils.sortOn(w15,v9VV.W0B,utils.ArrayUtils.CASEINSENSITIVE|(this.sortName==j95.consts.SortType.DESC?utils.ArrayUtils.DESCENDING:J8f.F8C)):(this.sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(w15,G9VV.Q6B,utils.ArrayUtils.NUMERIC),this.sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(w15,G9VV.Q6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC));return w15;};n95.prototype.sortMonths=function(G85){for(var W85=this,C15=[],P15=[],U85=J8f.F8C;U85<G85.length;++U85){var v85=G85[U85];this._checkIfMonth(v85.caption)?P15.push(v85):C15.push(v85);}this.sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(C15,v9VV.W0B,utils.ArrayUtils.CASEINSENSITIVE);this.sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(C15,v9VV.W0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE);P15.sort(function(V85,l85){return W85.dateTimeMonthSort(V85,l85);});return P15.concat(C15);};n95.prototype.sortWeekdays=function(q85){for(var u85=this,p85=[],X85=[],B85=J8f.F8C;B85<q85.length;++B85){var Y85=q85[B85];this._checkIfWeekday(Y85.caption)?X85.push(Y85):p85.push(Y85);}this.sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(p85,v9VV.W0B,utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);this.sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(p85,v9VV.W0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);X85.sort(function(z85,N85){return u85.weekDaySort(z85,N85);});return X85.concat(p85);};n95.prototype._checkIfMonth=function(D85){return-J8f.O8C!=b95.model._labels.Labels.MONTHS_LABELS.indexOf(D85)||-J8f.O8C!=b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(D85);};n95.prototype._checkIfWeekday=function(x85){return-J8f.O8C!=b95.model._labels.Labels.WEEKDAYS_LABELS.indexOf(x85)||-J8f.O8C!=b95.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(x85);};n95.prototype.dateTimeMonthSort=function(F85,O85){var K85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.MONTHS_LABELS.indexOf(F85.caption):b95.model._labels.Labels.MONTHS_LABELS.indexOf(O85.caption);-J8f.O8C==K85&&(K85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(F85.caption):b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(O85.caption));var s85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.MONTHS_LABELS.indexOf(O85.caption):b95.model._labels.Labels.MONTHS_LABELS.indexOf(F85.caption);-J8f.O8C==s85&&(s85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(O85.caption):b95.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(F85.caption));return K85>s85?J8f.O8C:K85<s85?-J8f.O8C:J8f.F8C;};n95.prototype.weekDaySort=function(j85,g85){var M85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.WEEKDAYS_LABELS.indexOf(j85.caption):b95.model._labels.Labels.WEEKDAYS_LABELS.indexOf(g85.caption);-J8f.O8C==M85&&(M85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(j85.caption):b95.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(g85.caption));var b85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.WEEKDAYS_LABELS.indexOf(g85.caption):b95.model._labels.Labels.WEEKDAYS_LABELS.indexOf(j85.caption);-J8f.O8C==b85&&(b85=this.sortName==j95.consts.SortType.ASC?b95.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(g85.caption):b95.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(j85.caption));return M85>b85?J8f.O8C:M85<b85?-J8f.O8C:J8f.F8C;};n95.prototype.sortDate=function(o85){this._sortName==j95.consts.SortType.ASC&&utils.ArrayUtils.sortOn(o85,G9VV.Q6B,utils.ArrayUtils.NUMERIC);this._sortName==j95.consts.SortType.DESC&&utils.ArrayUtils.sortOn(o85,G9VV.Q6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC);return o85;};n95.prototype.numericRangeSort=function(c85,L85){var k6B=/(?:\d*\.)?\d+/;var n85=c85.caption.match(k6B),t85=L85.caption.match(k6B),n85=n85&&J8f.F8C<n85.length?parseFloat(n85[J8f.F8C]):Number.POSITIVE_INFINITY,t85=t85&&J8f.F8C<t85.length?parseFloat(t85[J8f.F8C]):Number.POSITIVE_INFINITY;return n85>t85?J8f.O8C:n85<t85?-J8f.O8C:J8f.F8C;};n95.prototype.membersByLevel=function(h85){h85=this._levels.getItem(h85).num;for(var R85=new utils.AssociativeArray(),A85=this.sort(),e85=J8f.F8C;e85<A85.length;e85++){var a85=A85.getItemAt(e85);a85&&a85.level.num==h85&&R85.addItem(a85.uniqueName,a85);}return R85;};Object.defineProperty(n95.prototype,G9VV.f6B,{get:function(){return J8f.F8C<this._filter.length?this._filter:this.filterMembers;},set:function(Q85){this._filter=Q85;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,i6B,{get:function(){this.__filterMembersNegatedChanged&&(this._filterMembers=new utils.AssociativeArray(),J8f.F8C<this._filterMembersNegated.length&&(this._filterMembers=this.createOpposite(this._filterMembersNegated)),this.__filterMembersNegatedChanged=!J8f.O8C);return this._filterMembers;},set:function(k85){k85.length+J8f.O8C==this.members.length&&(k85=new utils.AssociativeArray());this.__filterMembersChanged=!J8f.F8C;this._filterMembers=k85;this._filterMembersNegated=new utils.AssociativeArray();},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,J6B,{get:function(){this.__filterMembersChanged&&(this._filterMembersNegated=new utils.AssociativeArray(),J8f.F8C<this._filterMembers.length&&(this._filterMembersNegated=this.createOpposite(this._filterMembers)),this.__filterMembersChanged=!J8f.O8C);return this._filterMembersNegated;},set:function(f85){f85.length+J8f.O8C==this.members.length&&(f85=new utils.AssociativeArray());this.__filterMembersNegatedChanged=!J8f.F8C;this._filterMembersNegated=f85;this._filterMembers=new utils.AssociativeArray();},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.createOpposite=function(H85){for(var i85=this.members.slice(J8f.O8C),E85=J8f.F8C;E85<H85.length;E85++){var J85=H85.getItemAt(E85);i85.removeItem(J85.uniqueName);this.removeMemberChildren(i85,J85);J85.parent&&this.removeMemberParent(i85,J85.parent);}this.checkMemberChildren(i85,this.allMember);return i85;};n95.prototype.checkMemberChildren=function(y85,S85){for(var d85=J8f.F8C;d85<S85.children.length;d85++){var Z85=S85.children.getItemAt(d85);J8f.F8C<Z85.children.length&&(y85.getItem(Z85.uniqueName)?y85.getItem(Z85.children.getItemAt(J8f.F8C).uniqueName)&&this.removeMemberChildren(y85,Z85):this.checkMemberChildren(y85,Z85));}};n95.prototype.removeMemberChildren=function(m85,w85){if(w85)for(var T85=w85.children,I85=J8f.F8C;I85<T85.length;I85++)m85.removeItem(T85.getItemAt(I85).uniqueName),this.removeMemberChildren(m85,T85.getItemAt(I85));};n95.prototype.removeMemberParent=function(C85,r85){r85&&(C85.removeItem(r85.uniqueName),r85.parent&&this.removeMemberParent(C85,r85.parent));};Object.defineProperty(n95.prototype,E6B,{get:function(){return-J8f.O8C==this._filterQuantity?j95.consts.FilterType.NONE:this._filterType;},set:function(P85){P85=P85.toLowerCase();this._filterType=P85==j95.consts.FilterType.TOP||P85==j95.consts.FilterType.BOTTOM?P85:j95.consts.FilterType.NONE;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,H6B,{get:function(){return this._filterQuantity;},set:function(U05){isNaN(U05)||J8f.O8C>U05?(this._filterQuantity=-J8f.O8C,this._filterType=j95.consts.FilterType.NONE):this._filterQuantity=U05;},enumerable:!J8f.F8C,configurable:!J8f.F8C});function n95(a95,e95){var y6B=".(All Member)";var Z6B=".(All)";void J8f.F8C===e95&&(e95=J8f.C4C);var c95=t95.call(this,a95,e95)||this;c95._type=J8f.O8C;c95._origin=J8f.F8C;c95._folder=J8f.C4C;c95._allMemberName=J8f.C4C;c95._sortName=n95.DEFAULT_SORT_NAME;c95._sortAs=J8f.x4C;c95._filter=new utils.AssociativeArray();c95._filterMembers=new utils.AssociativeArray();c95.__filterMembersChanged=!J8f.O8C;c95._filterMembersNegated=new utils.AssociativeArray();c95.__filterMembersNegatedChanged=!J8f.O8C;c95._members=new utils.AssociativeArray();c95._drilledDownMembers=new utils.AssociativeArray();c95._levels=new utils.AssociativeArray();c95._isHierarchy=!J8f.O8C;c95._filterEnabled=!J8f.F8C;c95._predefinedDrillDowns=[];c95.cache=[];c95.cacheWithDescendants=[];c95._filterType=j95.consts.FilterType.NONE;c95._filterQuantity=-J8f.O8C;c95._filterMeasureName=J8f.C4C;var h95=a95+Z6B,L95=new g95.GenericLevel(h95,v9VV.g6Q,J8f.F8C);c95.addLevel(L95);var L95=a95+y6B,R95=new g95.GenericMember(L95,v9VV.g6Q);c95.addMember(R95,h95);c95.allMemberName=L95;return c95;}Object.defineProperty(n95.prototype,d6B,{get:function(){return this._filterMeasureName;},set:function(v05){this._filterMeasureName=v05;},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.prototype.clearFilter=function(){this.clearMembersFilter();this.clearValuesFilter();};n95.prototype.clearMembersFilter=function(){this._filter=new utils.AssociativeArray();this._filterMembers=new utils.AssociativeArray();this._filterMembersNegated=new utils.AssociativeArray();};n95.prototype.clearValuesFilter=function(){this._filter=new utils.AssociativeArray();this._filterQuantity=-J8f.O8C;this._filterType=j95.consts.FilterType.NONE;this._filterMeasureName=J8f.C4C;};n95.prototype.hasFilter=function(){return this.hasMembersFilter()||this.hasValuesFilter();};n95.prototype.hasMembersFilter=function(){return J8f.F8C<this._filterMembers.length||J8f.F8C<this._filterMembersNegated.length;};n95.prototype.hasValuesFilter=function(){return this._filterType&&this.filterType!=j95.consts.FilterType.NONE;};n95.prototype.filterByLevel=function(p05){for(var V05=new utils.AssociativeArray(),l05=J8f.F8C<this._filter.length?this._filter:this._filterMembers,G05=J8f.F8C;G05<l05.length;G05++){var W05=l05.getItemAt(G05);W05.level.num==p05&&V05.addItem(W05.uniqueName,W05);}return V05;};Object.defineProperty(n95.prototype,S6B,{get:function(){return this._allMemberName;},set:function(X05){this._allMemberName=X05;},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,I6B,{get:function(){this._allMember||(this._allMember=this.findMember(this._allMemberName),this.drillDownMember(this._allMember));return this._allMember;},set:function(B05){},enumerable:!J8f.F8C,configurable:!J8f.F8C});Object.defineProperty(n95.prototype,T6B,{get:function(){return this._predefinedDrillDowns;},set:function(Y05){this._predefinedDrillDowns=Y05;},enumerable:!J8f.F8C,configurable:!J8f.F8C});n95.toObject=function(u05){var q05={};q05.uniqueName=u05.uniqueName;q05.caption=u05.caption;q05.filterEnabled=u05.filterEnabled;q05.sortName=u05.sortName;q05.sortAs=u05.sortAs;q05.type=u05.type;q05.filter=n95.filterToObject(u05);return q05;};n95.filterToObject=function(z05){if(!J8f.O8C==z05.hasFilter())return J8f.x4C;var N05={};z05.hasValuesFilter()&&(N05={type:z05.filterType,quantity:z05.filterQuantity,measure:z05.filterMeasureName,measureName:z05.filterMeasureName});z05.hasMembersFilter()&&(z05.filterMembers.length<z05.members.length/J8f.M8C?N05.members=z05.filterMembers.toArray(!J8f.F8C):(N05.negation=!J8f.F8C,N05.members=z05.filterMembersNegated.toArray(!J8f.F8C)));return N05;};n95.fromObject=function(D05,x05){void J8f.F8C===x05&&(x05=J8f.x4C);var K05=D05.uniqueName;J8f.x4C==x05&&(x05=new n95(K05));D05.hasOwnProperty(v9VV.W0B)&&(x05.caption=D05.caption);D05.hasOwnProperty(h6B)&&(x05.sortName=D05.sortName);D05.hasOwnProperty(R6B)&&(x05.sortAs=D05.sortAs);D05.hasOwnProperty(L6B)&&(x05.filterEnabled=D05.filterEnabled);D05.hasOwnProperty(J8f.W3C)&&(x05.type=D05.type);D05.hasOwnProperty(j6B)&&(x05.origin=D05.origin);D05.hasOwnProperty(G9VV.o6B)&&(x05.folder=D05.folder);D05.hasOwnProperty(G9VV.f6B)&&n95.filterFromObject(D05.filter,x05);D05.hasOwnProperty(S6B)&&(x05.allMemberName=D05.allMemberName);return x05;};n95.filterFromObject=function(s05,O05){var w6B="measure";var m6B="measureName";if(J8f.x4C!=s05){if(s05.hasOwnProperty(v9VV.a1Q)){for(var M05,j05,F05=new utils.AssociativeArray(),b05=J8f.F8C;b05<s05.members.length;b05++)M05=J8f.K2C==typeof s05.members[b05]?s05.members[b05]:s05.members[b05].uniqueName,j05=O05.findMember(M05),J8f.x4C!=j05&&F05.addItem(M05,j05);s05.negation?O05.filterMembersNegated=F05:O05.filterMembers=F05;}M05=s05.hasOwnProperty(J8f.W3C)?s05.type:j95.consts.FilterType.NONE;j05=s05.hasOwnProperty(g6B)?Number(s05.quantity):-J8f.O8C;F05=J8f.C4C;s05.hasOwnProperty(m6B)&&(F05=s05.measureName);s05.hasOwnProperty(w6B)&&(F05=s05.measure);M05!=j95.consts.FilterType.NONE&&(O05.filterType=M05,O05.filterQuantity=j05,O05.filterMeasureName=F05);}};n95.DEFAULT_SORT_NAME=G9VV.r6B;return n95;}(g95.GenericElement);g95.GenericHierarchy=o95;}(j95._structure||(j95._structure={})));}(b95.data_||(b95.data_={})));}(pivot||(pivot={})));(function(g05){(function(o05){(function(n05){var t05=function(L05){var f8f=U9VV;var P6B="isLast";var C6B="num";__extends(c05,L05);Object.defineProperty(c05.prototype,C6B,{get:function(){return this._number;},set:function(R05){this._number=R05;},enumerable:!f8f.F8C,configurable:!f8f.F8C});Object.defineProperty(c05.prototype,f8f.W3C,{get:function(){return this._type;},set:function(A05){this._type=A05;},enumerable:!f8f.F8C,configurable:!f8f.F8C});Object.defineProperty(c05.prototype,P6B,{get:function(){return this._hierarchy.levels_.length-f8f.O8C==this._number;},set:function(Q05){},enumerable:!f8f.F8C,configurable:!f8f.F8C});Object.defineProperty(c05.prototype,G9VV.U5B,{get:function(){return this._hierarchy;},set:function(k05){this._hierarchy=k05;},enumerable:!f8f.F8C,configurable:!f8f.F8C});function c05(a05,e05,h05){void f8f.F8C===e05&&(e05=f8f.C4C);void f8f.F8C===h05&&(h05=f8f.F8C);a05=L05.call(this,a05,e05)||this;a05._type=f8f.O8C;a05._properties=new utils.AssociativeArray();a05._number=h05;return a05;}return c05;}(n05.GenericElement);n05.GenericLevel=t05;}(o05._structure||(o05._structure={})));}(g05.data_||(g05.data_={})));}(pivot||(pivot={})));(function(f05){(function(i05){(function(J05){var E05=function(Z05){var Q8f=U9VV;var K5B="isLeaf";var D5B="_captionMembers_";var N5B="captionMembers";var z5B="_captions_";var u5B="captions";var q5B="numDescendants";var Y5B="_descendants_";var B5B="_children_";var X5B="children";var p5B="isDrilledDown";var l5B="isAll";var W5B="root";var G5B="hierarchy_";var v5B="ordinal";__extends(H05,Z05);Object.defineProperty(H05.prototype,v5B,{get:function(){return this._ordinal;},set:function(I05){this._ordinal=I05;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,G9VV.Q6B,{get:function(){return this._levelOrdinal;},set:function(T05){this._levelOrdinal=T05;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,G5B,{get:function(){return this._hierarchy;},set:function(m05){this._hierarchy=m05;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,Q8f.q2C,{get:function(){return this._parent;},set:function(w05){this._parent=w05;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,W5B,{get:function(){if(Q8f.M8C>this._level.num)return this;var r05=this;do r05=r05.parent;while(Q8f.O8C<r05.level.num);return r05;},set:function(C05){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,G9VV.V5B,{get:function(){return this._level;},set:function(P05){this._level=P05;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,l5B,{get:function(){return Q8f.x4C!=this.hierarchy_.allMember&&this.hierarchy_.allMember.uniqueName==this.uniqueName;},set:function(U45){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,p5B,{get:function(){return this._isDrilledDown;},set:function(v45){this._isDrilledDown=v45;},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});function H05(d05,S05){var y05=Z05.call(this,d05,S05)||this;y05._ordinal=Q8f.O8C;y05._levelOrdinal=Q8f.F8C;y05._isDrilledDown=!Q8f.O8C;y05._numDescendants=-Q8f.O8C;y05._hasCaptionSorting=-Q8f.O8C;return y05;}Object.defineProperty(H05.prototype,X5B,{get:function(){return this._hasProperty(B5B)?this._getProperty(B5B):new utils.AssociativeArray();},set:function(G45){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,G9VV.g3B,{get:function(){if(this._hasProperty(Y5B))return this._getProperty(Y5B);var W45=new utils.AssociativeArray();W45.addItem(this.uniqueName,this);if(Q8f.F8C==this.numDescendants)return W45;for(var p45=this.children.length,l45=Q8f.F8C;l45<p45;l45++){var V45=this.children.getItemAt(l45);V45.isLeaf?W45.addItem(V45.uniqueName,V45):Q8f.F8C<V45.numDescendants?W45.concat(V45.descendants,!Q8f.O8C):W45.addItem(V45.uniqueName,V45);}Q8f.F8C<W45.length&&this._setProperty(G9VV.g3B,W45);return W45;},set:function(X45){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,q5B,{get:function(){if(-Q8f.O8C<this._numDescendants)return this._numDescendants;if(!this._hasProperty(B5B))return this._numDescendants=Q8f.F8C;for(var q45=this.children.length,B45=q45,Y45=Q8f.F8C;Y45<q45;Y45++)var u45=this.children.getItemAt(Y45),B45=B45+u45.numDescendants;return B45;},set:function(z45){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});H05.prototype.getChildrenCaptions=function(){return{captions:this.captions,members:this.captionMembers};};H05.prototype.clearDescendantsCache=function(){this._hasProperty(Y5B)&&delete this._descendants_;this.parent&&this.parent.clearDescendantsCache();};Object.defineProperty(H05.prototype,u5B,{get:function(){this._hasProperty(z5B)||(this.captions=[]);return this._getProperty(z5B);},set:function(N45){this._setProperty(z5B,N45);},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});Object.defineProperty(H05.prototype,N5B,{get:function(){this._hasProperty(D5B)||(this.captionMembers=[]);return this._getProperty(D5B);},set:function(D45){this._setProperty(D5B,D45);},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});H05.prototype.addChild=function(K45){var x45=this.children;x45.addItem(K45.uniqueName,K45);this._setProperty(B5B,x45);K45.parent=this;this._numDescendants=-Q8f.O8C;this.clearDescendantsCache();Q8f.O8C==this.hasCaptionSorting(K45)&&(x45=K45.caption.charAt(Q8f.F8C).toLowerCase().charCodeAt(Q8f.F8C),Q8f.x4C==this.captions[x45]&&(this.captions[x45]=[],this.captionMembers[x45]=[]),this.captions[x45].push(K45.caption),this.captionMembers[x45].push(K45));v9VV.l6C<this.children.length&&(this._hasCaptionSorting=Q8f.F8C,this.captions=[],this.captionMembers=[]);};H05.prototype.removeChild=function(s45){this.children.removeItem(s45.uniqueName);this.clearDescendantsCache();if(Q8f.O8C==this.hasCaptionSorting(s45)){var F45=s45.caption.charAt(Q8f.F8C).toLowerCase().charCodeAt(Q8f.F8C);s45=this.captions[F45].indexOf(s45.caption);this.captions[F45].splice(s45,Q8f.O8C);this.captionMembers[F45].splice(s45,Q8f.O8C);}};H05.prototype.hasCaptionSorting=function(O45){return-Q8f.O8C!=this._hasCaptionSorting?this._hasCaptionSorting:this._hasCaptionSorting=O45.level.type==i05.types.LevelType.HOUR||O45.level.type==i05.types.LevelType.MINUTE||O45.level.type==i05.types.LevelType.DAY||O45.level.type==i05.types.LevelType.NUMBER?Q8f.F8C:Q8f.O8C;};H05.prototype.toString=function(){var x5B=" : ";return this.uniqueName+x5B+this._ordinal;};Object.defineProperty(H05.prototype,K5B,{get:function(){return!this._hasProperty(B5B)||Q8f.F8C==this.children.length;},set:function(M45){},enumerable:!Q8f.F8C,configurable:!Q8f.F8C});H05.toObject=function(j45){var b45={};b45.uniqueName=j45.uniqueName;b45.caption=j45.caption;b45.hierarchyName=j45.hierarchy_.uniqueName;return b45;};return H05;}(J05.GenericElement);J05.GenericMember=E05;}(i05._structure||(i05._structure={})));}(f05.data_||(f05.data_={})));}(pivot||(pivot={})));(function(g45){(function(o45){(function(n45){var t45=function(L45){var A8f=G9VV;var R8f=U9VV;var n5B="calculated";var o5B="availableAggregations";var g5B="aggregation";var j5B="grandTotalCaption";var M5B="individual";var O5B="format";var F5B="customCaption";var s5B="originalCaption";__extends(c45,L45);function c45(h45,e45){var S1K=U9VV;void S1K.F8C===e45&&(e45=S1K.C4C);var a45=L45.call(this,h45,e45)||this;a45._folder=S1K.C4C;a45._format=S1K.C4C;a45._type=o45.types.MeasureType.NUMBER;a45._grandTotalCaption=S1K.C4C;a45._defaultAggregation=o45.consts.AggregationName.SUM;a45._aggregation=S1K.C4C;a45._availableAggregations=[];a45._params=[];a45._formula=S1K.C4C;a45._individual=!S1K.O8C;a45._hidden=!S1K.O8C;a45._defaultAggregation=o45.consts.AggregationName.SUM;return a45;}Object.defineProperty(c45.prototype,v9VV.W0B,{get:function(){if(this._customCaption)return this._customCaption;if(!U9VV.O8C==g45.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case o45.consts.AggregationName.COUNT:return utils.StringUtils.bind(g45.model._labels.Labels.COUNT_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(g45.model._labels.Labels.PRODUCT_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(g45.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(g45.model._labels.Labels.AVERAGE_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.MAX:return utils.StringUtils.bind(g45.model._labels.Labels.MAX_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.MIN:return utils.StringUtils.bind(g45.model._labels.Labels.MIN_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.INDEX:return utils.StringUtils.bind(g45.model._labels.Labels.INDEX_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(g45.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.NONE:return this._caption;}return utils.StringUtils.bind(g45.model._labels.Labels.SUM_TOTAL_CAPTION,this._caption);},set:function(R45){U9VV.C4C==R45.trim()?this._caption=g45.model._labels.Labels.MEMBER_BLANK:this._caption=R45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,s5B,{get:function(){return this._caption;},set:function(A45){},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,F5B,{get:function(){return this._customCaption;},set:function(Q45){this._customCaption=Q45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,A8f.o6B,{get:function(){return this._folder;},set:function(k45){this._folder=k45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,O5B,{get:function(){return this._format;},set:function(f45){this._format=f45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,M5B,{get:function(){return this._individual;},set:function(i45){this._individual=i45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,A8f.b5B,{get:function(){return this._hidden;},set:function(J45){this._hidden=J45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,R8f.W3C,{get:function(){return this._type;},set:function(E45){this._type=E45;this._type!=o45.types.MeasureType.NUMBER&&this._type!=o45.types.MeasureType.TIME&&(this._type==o45.types.MeasureType.DATE||this._type==o45.types.MeasureType.DATETIME?(this.availableAggregations=[o45.consts.AggregationName.COUNT,o45.consts.AggregationName.DISTINCT_COUNT,o45.consts.AggregationName.MAX,o45.consts.AggregationName.MIN],this._defaultAggregation=o45.consts.AggregationName.MAX):(this.availableAggregations=[o45.consts.AggregationName.COUNT,o45.consts.AggregationName.DISTINCT_COUNT],this._defaultAggregation=o45.consts.AggregationName.COUNT));},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,j5B,{get:function(){if(this.calculated)return this._caption;if(this._grandTotalCaption)return this._grandTotalCaption;if(!U9VV.O8C==g45.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case o45.consts.AggregationName.SUM:return utils.StringUtils.bind(g45.model._labels.Labels.SUM_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.COUNT:return utils.StringUtils.bind(g45.model._labels.Labels.COUNT_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(g45.model._labels.Labels.PRODUCT_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(g45.model._labels.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(g45.model._labels.Labels.AVERAGE_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.MAX:return utils.StringUtils.bind(g45.model._labels.Labels.MAX_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.MIN:return utils.StringUtils.bind(g45.model._labels.Labels.MIN_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.INDEX:return utils.StringUtils.bind(g45.model._labels.Labels.INDEX_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(g45.model._labels.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case o45.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(g45.model._labels.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);}return this._caption;},set:function(H45){this._grandTotalCaption=H45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,g5B,{get:function(){return U9VV.C4C==this._aggregation?this._defaultAggregation:this._aggregation;},set:function(Z45){var J1K=U9VV;Z45&&Z45.toLowerCase()!=this._aggregation?(Z45=Z45.toLowerCase(),o45.consts.AggregationName.deprecatedType(Z45)&&(Z45=o45.consts.AggregationName.fromDeprecatedToValid(Z45)),o45.consts.AggregationName.validType(Z45)||this.calculated&&Z45==o45.consts.AggregationName.NONE?(this._grandTotalCaption=this._customCaption=void J1K.F8C,this._aggregation=Z45,!this.calculated&&J1K.F8C<this.availableAggregations.length&&-J1K.O8C==this.availableAggregations.indexOf(Z45)&&(this._aggregation=this._availableAggregations[J1K.F8C])):this.resolveColisionsForAggregations()):J1K.C4C==Z45&&this.resolveColisionsForAggregations();},enumerable:!R8f.F8C,configurable:!R8f.F8C});c45.prototype.resolveColisionsForAggregations=function(){this._grandTotalCaption=this._customCaption=void U9VV.F8C;this._aggregation=U9VV.F8C<this._availableAggregations.length?this._availableAggregations[U9VV.F8C]:this._defaultAggregation;};Object.defineProperty(c45.prototype,o5B,{get:function(){return this._availableAggregations;},set:function(S45){this._availableAggregations=[];if(U9VV.x4C==S45)this._availableAggregations=[];else if(this.type!=o45.types.MeasureType.NUMBER&&this._type!=o45.types.MeasureType.TIME&&U9VV.F8C==this._availableAggregations.length)this._availableAggregations=this._type==o45.types.MeasureType.DATE||this._type==o45.types.MeasureType.DATETIME?[o45.consts.AggregationName.COUNT,o45.consts.AggregationName.DISTINCT_COUNT,o45.consts.AggregationName.MAX,o45.consts.AggregationName.MIN]:[o45.consts.AggregationName.COUNT,o45.consts.AggregationName.DISTINCT_COUNT];else for(var d45=U9VV.F8C;d45<S45.length;d45++){var y45=S45[d45].trim().toLowerCase();o45.consts.AggregationName.deprecatedType(y45)&&(y45=o45.consts.AggregationName.fromDeprecatedToValid(y45));(this.type==o45.types.MeasureType.NUMBER||this._type==o45.types.MeasureType.TIME||y45==o45.consts.AggregationName.COUNT||y45==o45.consts.AggregationName.DISTINCT_COUNT)&&o45.consts.AggregationName.validType(y45)&&this._availableAggregations.push(y45);}},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,A8f.P2B,{get:function(){return this._params;},set:function(I45){this._params=I45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,n5B,{get:function(){return U9VV.x4C!=this.formula&&U9VV.C4C!=this.formula;},set:function(T45){},enumerable:!R8f.F8C,configurable:!R8f.F8C});Object.defineProperty(c45.prototype,A8f.t5B,{get:function(){return this._formula;},set:function(m45){this._formula=m45;},enumerable:!R8f.F8C,configurable:!R8f.F8C});c45.toObject=function(r45){var w45={};w45.uniqueName=r45.uniqueName;w45.name=r45.originalCaption;r45.calculated&&(w45.formula=r45.formula);w45.format=r45.format;w45.individual=r45.individual;w45.availableAggregations=r45.availableAggregations;w45.aggregation=r45.aggregation;w45.caption=r45.caption;w45.originalCaption=r45.originalCaption;w45.grandTotalCaption=r45.grandTotalCaption;w45.folder=r45.folder;w45.type=r45.type;w45.calculated=r45.calculated;return w45;};c45.fromObject=function(C45,P45){var A1K=U9VV;void A1K.F8C===P45&&(P45=A1K.x4C);var U25=C45.uniqueName;A1K.x4C==P45&&(P45=new n45.GenericMeasure(U25));C45.hasOwnProperty(A1K.W3C)&&(P45.type=A1K.K2C==typeof C45.type?o45.types.MeasureType.fromColumnType(C45.type):C45.type);C45.hasOwnProperty(M5B)&&(P45.individual=C45.individual);C45.hasOwnProperty(A8f.t5B)&&(P45.formula=C45.formula);C45.hasOwnProperty(O5B)&&(P45.format=C45.format);C45.hasOwnProperty(o5B)&&(P45.availableAggregations=C45.availableAggregations);P45.aggregation=C45.hasOwnProperty(g5B)?C45.aggregation:P45.calculated?o45.consts.AggregationName.NONE:A1K.C4C;C45.hasOwnProperty(v9VV.W0B)&&(P45.caption=C45.caption);C45.hasOwnProperty(v9VV.F5C)&&(P45.caption=C45.name);C45.hasOwnProperty(j5B)&&(P45.grandTotalCaption=C45.grandTotalCaption);C45.hasOwnProperty(A8f.o6B)&&(P45.folder=C45.folder);P45.calculated&&(U25=new utils.Lexer(),P45.params=U25.parse(P45.formula));return P45;};c45.prototype.hasDefaultParams=function(){var R1K=U9VV;var v25=new c45(R1K.C4C,R1K.C4C);return this.individual!=v25.individual||this.formula!=v25.formula||this.format!=v25.format||this.type==o45.types.MeasureType.COUNT&&this.aggregation!=o45.consts.AggregationName.COUNT&&this.aggregation!=o45.consts.AggregationName.NONE||this.type==o45.types.MeasureType.NUMBER&&this.aggregation!=o45.consts.AggregationName.SUM&&this.aggregation!=o45.consts.AggregationName.NONE?!R1K.O8C:!R1K.F8C;};c45.prototype.getFormat=function(W25){var h1K=U9VV;void h1K.F8C===W25&&(W25=!h1K.O8C);var G25;G25=g45.model.format.FormatManager.formatExists(this.format)?g45.model.format.FormatManager.getFormat(this.format):h1K.C4C!=this.format&&g45.model.format.FormatManager.formatExists(h1K.C4C)?g45.model.format.FormatManager.getFormat(h1K.C4C):g45.model.format.FormatManager.getDefaultFormat();W25&&utils.nullOrUndefined(G25.params.textAlign)&&this.type!=o45.types.MeasureType.NUMBER&&this.type!=o45.types.MeasureType.TIME&&this.type!=o45.types.MeasureType.DATETIME&&(G25=G25.clone(),G25.textAlign=h1K.M2C);return G25;};return c45;}(n45.GenericElement);n45.GenericMeasure=t45;}(o45._structure||(o45._structure={})));}(g45.data_||(g45.data_={})));}(pivot||(pivot={})));(function(V25){(function(l25){(function(p25){var X25=function(Y25){var e8f=U9VV;var L5B="structure";__extends(B25,Y25);Object.defineProperty(B25.prototype,G9VV.c5B,{get:function(){return this._hierarchies;},set:function(N25){this._hierarchies=N25;},enumerable:!e8f.F8C,configurable:!e8f.F8C});function B25(z25,q25){void e8f.F8C===q25&&(q25=e8f.C4C);var u25=Y25.call(this,z25,q25)||this;u25.hierarchies=new utils.AssociativeArray();return u25;}Object.defineProperty(B25.prototype,e8f.W3C,{get:function(){return this._type;},set:function(D25){this._type=D25;},enumerable:!e8f.F8C,configurable:!e8f.F8C});Object.defineProperty(B25.prototype,L5B,{get:function(){return this._structure;},set:function(x25){this._structure=x25;},enumerable:!e8f.F8C,configurable:!e8f.F8C});B25.prototype.addHierarchy=function(K25){K25.dimension=this;this._hierarchies.addItem(K25.uniqueName,K25);};B25.prototype.findHierarchy=function(s25){return this._hierarchies.getItem(s25);};B25.fromObject=function(O25,F25){void e8f.F8C===F25&&(F25=e8f.x4C);var M25=O25.uniqueName;e8f.x4C==F25&&(F25=new B25(M25));void e8f.F8C!==O25.caption&&(F25.caption=O25.caption);void e8f.F8C!==O25.type&&(F25.type=O25.type);return F25;};return B25;}(p25.GenericElement);p25.GenericDimension=X25;}(l25._structure||(l25._structure={})));}(V25.data_||(V25.data_={})));}(pivot||(pivot={})));(function(b25){(function(j25){(function(g25){var o25=function(){var L8f=G9VV;var c8f=U9VV;var e5B="dimensions";var a5B="isComplete";Object.defineProperty(n25.prototype,a5B,{get:function(){return this._isComplete;},set:function(L25){this._isComplete=L25;},enumerable:!c8f.F8C,configurable:!c8f.F8C});Object.defineProperty(n25.prototype,e5B,{get:function(){return this._dimensions;},set:function(a25){},enumerable:!c8f.F8C,configurable:!c8f.F8C});Object.defineProperty(n25.prototype,L8f.h5B,{get:function(){return this._measures;},set:function(e25){},enumerable:!c8f.F8C,configurable:!c8f.F8C});Object.defineProperty(n25.prototype,L8f.R5B,{get:function(){for(var A25=new utils.AssociativeArray(),h25=U9VV.F8C;h25<this._measures.length;h25++){var R25=this._measures.getItemAt(h25);R25.calculated&&A25.addItem(R25.uniqueName,R25);}return A25;},set:function(Q25){},enumerable:!c8f.F8C,configurable:!c8f.F8C});Object.defineProperty(n25.prototype,L8f.A5B,{get:function(){for(var i25=new utils.AssociativeArray(),k25=U9VV.F8C;k25<this._measures.length;k25++){var f25=this._measures.getItemAt(k25);f25.calculated||i25.addItem(f25.uniqueName,f25);}return i25;},set:function(J25){},enumerable:!c8f.F8C,configurable:!c8f.F8C});Object.defineProperty(n25.prototype,L8f.Q5B,{get:function(){var E25=this.findDimension(j25.Cube.MEASURES_NAME);if(U9VV.x4C==E25){var H25=new g25.GenericHierarchy(j25.Cube.MEASURES_NAME,j25.Cube.MEASURES_NAME),E25=new g25.GenericDimension(j25.Cube.MEASURES_NAME,j25.Cube.MEASURES_NAME);E25.type=j25.types.DimensionType.MD_DIMTYPE_MEASURE;E25.addHierarchy(H25);this.addDimension(E25);}return E25.findHierarchy(j25.Cube.MEASURES_NAME);},set:function(Z25){},enumerable:!c8f.F8C,configurable:!c8f.F8C});n25.prototype.addDimension=function(y25){U9VV.x4C==this.findDimension(y25.uniqueName)&&(y25.structure=this,this.dimensions.addItem(y25.uniqueName,y25));};n25.prototype.findDimension=function(d25){return this.dimensions.getItem(d25);};n25.prototype.allHierarchies=function(T25){void U9VV.F8C===T25&&(T25=!U9VV.O8C);for(var S25=new utils.AssociativeArray(),I25=U9VV.F8C;I25<this.dimensions.length;I25++){var m25=this.dimensions.getItemAt(I25);if(T25||m25.type!=j25.types.DimensionType.MD_DIMTYPE_MEASURE)S25=S25.concat(m25.hierarchies);}return S25;};n25.prototype.findHierarchy=function(w25){return this.allHierarchies(!U9VV.F8C).getItem(w25);};n25.prototype.addMeasure=function(r25){this.measures_.addItem(r25.uniqueName,r25);};function n25(){this._isComplete=!U9VV.O8C;this.id=this.deleteId=U9VV.C4C;this.levels=[];this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};var c25=new g25.GenericHierarchy(j25.Cube.MEASURES_NAME,j25.Cube.MEASURES_NAME),t25=new g25.GenericDimension(j25.Cube.MEASURES_NAME,j25.Cube.MEASURES_NAME);t25.type=j25.types.DimensionType.MD_DIMTYPE_MEASURE;t25.addHierarchy(c25);this.addDimension(t25);this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=U9VV.C4C;}n25.prototype.findMeasure=function(C25){return this.measures_.getItem(C25);};n25.prototype.removeMeasure=function(P25){return this.measures_.removeItem(P25);};n25.prototype.clear=function(){this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=U9VV.C4C;this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this.isComplete=!U9VV.O8C;};n25.prototype.measureToHierarchy=function(U35){return this._measureToHierarchyMap[U35];};n25.prototype.hierarchyToMeasure=function(v35){return this._hierarchyToMeasureMap[v35];};n25.prototype.getDataType=function(G35){return this.types[G35];};n25.prototype.getDataField=function(W35){return this.fields.getItem(W35);};n25.prototype.getDataKeys=function(){return this.fields.toArray(!U9VV.F8C);};n25.prototype.addKeys=function(V35,l35){this._measureToHierarchyMap[V35]=this.findHierarchy(l35);this._hierarchyToMeasureMap[l35]=this.findMeasure(V35);};n25.prototype._addMeasure=function(X35,B35){var p35=new g25.GenericMeasure(X35.uniqueName,X35.caption);p35.type=B35;this.addMeasure(p35);this.addKeys(p35.uniqueName,X35.uniqueName);this.localDataStorage.addFactKey(p35.uniqueName);};n25.prototype.addStringHierarchy=function(u35,Y35,z35){var q35=Y35.uniqueName;Y35=new g25.GenericHierarchy(q35,Y35.caption);u35.addHierarchy(Y35);this.localDataStorage.addKey(q35);u35=new g25.GenericLevel(Y35.caption==b25.model._labels.Labels.MEMBER_BLANK?q35+L8f.a6B:q35,Y35.caption,U9VV.O8C);Y35.addLevel(u35);this._addMeasure(Y35,j25.types.MeasureType.COUNT);this.fields.addItem(z35,Y35);};n25.prototype.addHierarchicalDateHierarchy=function(D35,x35,s35){var f5B=".Quarter";var K35=x35.uniqueName,N35=x35.caption;D35.type=j25.types.DimensionType.MD_DIMTYPE_TIME;N35=new g25.GenericHierarchy(K35,N35);D35.addHierarchy(N35);D35=new g25.GenericLevel(K35+L8f.k5B,b25.model._labels.Labels.YEAR,N35.levels_.length);D35.type=j25.types.LevelType.YEAR;N35.addLevel(D35);this.localDataStorage.addKey(N35.uniqueName);x35.type==j25.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&(x35=K35+f5B,D35=new g25.GenericLevel(x35,b25.model._labels.Labels.QUARTER,N35.levels_.length),D35.type=j25.types.LevelType.QUARTER,N35.addLevel(D35),this.localDataStorage.addKey(x35,N35.uniqueName));x35=K35+L8f.i5B;D35=new g25.GenericLevel(x35,b25.model._labels.Labels.MONTH,N35.levels_.length);D35.type=j25.types.LevelType.MONTH;N35.addLevel(D35);this.localDataStorage.addKey(x35,N35.uniqueName);K35+=L8f.J5B;D35=new g25.GenericLevel(K35,b25.model._labels.Labels.DAY,N35.levels_.length);D35.type=j25.types.LevelType.DAY;N35.addLevel(D35);this.localDataStorage.addKey(K35,N35.uniqueName);this._addMeasure(N35,j25.types.MeasureType.COUNT);this.fields.addItem(s35,N35);};n25.prototype.addLevelOfHierarchy=function(g35,F35,j35){var K1K=U9VV;var M35=F35.hasOwnProperty(L8f.U5B)?F35.hierarchy:F35.uniqueName,b35=F35.hasOwnProperty(L8f.U5B)?F35.hierarchy:F35.caption,O35=g35.findHierarchy(M35);K1K.x4C==O35&&(O35=new g25.GenericHierarchy(M35,b35),g35.addHierarchy(O35));b35=K1K.F8C;if(F35.hasOwnProperty(K1K.q2C)){M35=O35.findLevel(F35.parent);if(K1K.x4C==M35){K1K.x4C==this.levels[O35.uniqueName]&&(this.levels[O35.uniqueName]=[]);this.levels[O35.uniqueName][F35.parent]=[F35,j35];return;}b35=O35.levels_.indexOf(M35.uniqueName);}M35=F35.hasOwnProperty(L8f.V5B)?F35.level:j35;F35=F35.hasOwnProperty(L8f.V5B)?F35.level:j35;F35=new g25.GenericLevel(M35,F35,b35+K1K.O8C);O35.addLevel(F35);K1K.O8C==F35.num?this.localDataStorage.addKey(O35.uniqueName):this.localDataStorage.addKey(M35,O35.uniqueName);this._addMeasure(O35,j25.types.MeasureType.COUNT);this.fields.addItem(j35,F35);this.levels[O35.uniqueName]&&this.levels[O35.uniqueName][M35]&&this.addLevelOfHierarchy(g35,this.levels[O35.uniqueName][M35][K1K.F8C],this.levels[O35.uniqueName][M35][K1K.O8C]);};n25.prototype.addDateHierarchy=function(a35,o35,e35){var D1K=v9VV;var L35=o35.uniqueName,t35=o35.caption;a35.type=j25.types.DimensionType.MD_DIMTYPE_TIME;var c35=L35+L8f.k5B,n35=t35+D1K.f7C+b25.model._labels.Labels.YEAR;o35=new g25.GenericHierarchy(c35,n35);o35.type=j25.types.DataFieldType.typeNum(j25.types.DataFieldType.DATE);a35.addHierarchy(o35);n35=new g25.GenericLevel(c35+D1K.f7C+n35,n35,U9VV.O8C);n35.type=j25.types.LevelType.YEAR;o35.addLevel(n35);this.localDataStorage.addKey(c35);this._addMeasure(o35,j25.types.MeasureType.COUNT);c35=L35+L8f.i5B;n35=t35+D1K.f7C+b25.model._labels.Labels.MONTH;o35=new g25.GenericHierarchy(c35,n35);a35.addHierarchy(o35);n35=new g25.GenericLevel(c35+D1K.f7C+n35,n35,U9VV.O8C);n35.type=j25.types.LevelType.MONTH;o35.addLevel(n35);this.localDataStorage.addKey(c35);this._addMeasure(o35,j25.types.MeasureType.COUNT);L35+=L8f.J5B;t35=t35+D1K.f7C+b25.model._labels.Labels.DAY;o35=new g25.GenericHierarchy(L35,t35);a35.addHierarchy(o35);t35=new g25.GenericLevel(L35+D1K.f7C+t35,t35,U9VV.O8C);t35.type=j25.types.LevelType.DAY;o35.addLevel(t35);this.localDataStorage.addKey(L35);this._addMeasure(o35,j25.types.MeasureType.COUNT);this.fields.addItem(e35,a35);};n25.prototype.addNumberHierarchy=function(R35,h35,k35){var A35=h35.uniqueName,Q35=h35.caption;h35=new g25.GenericHierarchy(A35,Q35);R35.addHierarchy(h35);this.localDataStorage.addKey(A35);R35=new g25.GenericLevel(A35+v9VV.f7C+Q35,Q35,U9VV.O8C);R35.type=j25.types.LevelType.NUMBER;h35.addLevel(R35);this._addMeasure(h35,j25.types.MeasureType.NUMBER);this.fields.addItem(k35,h35);};n25.prototype.addMonthHierarchy=function(i35,f35,H35){var J35=f35.uniqueName,E35=f35.caption;f35=new g25.GenericHierarchy(J35,E35);i35.addHierarchy(f35);this.localDataStorage.addKey(J35);i35=new g25.GenericLevel(J35+v9VV.f7C+E35,E35,U9VV.O8C);i35.type=j25.types.LevelType.MONTH;f35.addLevel(i35);this._addMeasure(f35,j25.types.MeasureType.COUNT);this.fields.addItem(H35,f35);};n25.prototype.addWeekdayHierarchy=function(y35,Z35,I35){var d35=Z35.uniqueName,S35=Z35.caption;Z35=new g25.GenericHierarchy(d35,S35);y35.addHierarchy(Z35);this.localDataStorage.addKey(d35);y35=new g25.GenericLevel(d35+v9VV.f7C+S35,S35,U9VV.O8C);y35.type=j25.types.LevelType.DAY;Z35.addLevel(y35);this._addMeasure(Z35,j25.types.MeasureType.COUNT);this.fields.addItem(I35,Z35);};n25.prototype.addDateStringHierarchy=function(m35,T35,C35){var w35=T35.uniqueName,r35=T35.caption;T35=new g25.GenericHierarchy(w35,r35);m35.addHierarchy(T35);this.localDataStorage.addKey(w35);m35=new g25.GenericLevel(w35+v9VV.f7C+r35,r35,U9VV.O8C);m35.type=j25.types.LevelType.TIME;T35.addLevel(m35);this._addMeasure(T35,j25.types.MeasureType.DATE);this.fields.addItem(C35,T35);};n25.prototype.addTimeHierarchy=function(U65,P35,W65){var v65=P35.uniqueName,G65=P35.caption;P35=new g25.GenericHierarchy(v65,G65);U65.addHierarchy(P35);this.localDataStorage.addKey(v65);U65=new g25.GenericLevel(v65+v9VV.f7C+G65,G65,U9VV.O8C);U65.type=j25.types.LevelType.NUMBER;P35.addLevel(U65);this._addMeasure(P35,j25.types.MeasureType.TIME);this.fields.addItem(W65,P35);};n25.prototype.addDateTimeHierarchy=function(l65,V65,B65){var p65=V65.uniqueName,X65=V65.caption;V65=new g25.GenericHierarchy(p65,X65);l65.addHierarchy(V65);this.localDataStorage.addKey(p65);l65=new g25.GenericLevel(p65+v9VV.f7C+X65,X65,U9VV.O8C);l65.type=j25.types.LevelType.NUMBER;V65.addLevel(l65);this._addMeasure(V65,j25.types.MeasureType.DATETIME);this.fields.addItem(B65,V65);};n25.prototype.isMetaObject=function(Y65){var E5B="dimensionCaption";return Y65.hasOwnProperty(U9VV.W3C)||Y65.hasOwnProperty(v9VV.W0B)||Y65.hasOwnProperty(L8f.U5B)||Y65.hasOwnProperty(L8f.V5B)||Y65.hasOwnProperty(U9VV.q2C)||Y65.hasOwnProperty(E5B);};n25.prototype.addDataStructure=function(u65){var P9K=U9VV;var z65=!P9K.O8C,q65;for(q65 in u65)P9K.x4C==u65[q65]&&(u65[q65]=P9K.C4C),P9K.K2C==typeof u65[q65]||P9K.x2C==typeof u65[q65]?this.addDataFieldString(q65,j25.types.DataFieldType.typeFromValue(u65[q65])):u65[q65]instanceof Date?this.addDataFieldString(q65,j25.types.DataFieldType.DATE):u65[q65]instanceof Array||(this.isMetaObject(u65[q65])&&(z65=!P9K.F8C),u65[q65].hasOwnProperty(L8f.t5B)?!P9K.O8C==utils.nullOrEmpty(u65[q65].formula)&&this.addCalculatedMeasure(u65[q65],q65):this.addDataField(u65[q65],q65));this.isComplete=!P9K.F8C;return z65;};n25.prototype.addCalculatedMeasure=function(N65,x65){var D65;D65=new j25._structure.GenericMeasure(x65,void U9VV.F8C==N65.caption?x65:N65.caption);D65.formula=N65.formula;D65.grandTotalCaption=void U9VV.F8C==N65.grandTotalCaption?b25.model._labels.Labels.GRID_GRAND_TOTAL:N65.grandTotalCaption;b25.model.PivotModel.getInstance().addCalculatedMeasure(D65);};n25.prototype.addDataFieldString=function(K65,s65){this.addDataField({uniqueName:K65,caption:K65,type:s65},K65);};n25.prototype.addDataField=function(j65,O65){var w9K=U9VV;void w9K.F8C===O65&&(O65=w9K.C4C);var F65={},b65;for(b65 in j65)F65[b65]=j65[b65];F65.hasOwnProperty(L8f.M6B)||(F65.uniqueName=O65);F65.hasOwnProperty(v9VV.W0B)&&w9K.C4C!=F65.caption||(F65.caption=O65);w9K.C4C==O65&&(O65=F65.uniqueName);b65=j25.types.DataFieldType.STRING;F65.hasOwnProperty(w9K.W3C)&&(b65=String(F65.type).trim().toLowerCase());F65.type=b65;var M65;F65.hasOwnProperty(L8f.U5B)?M65=this.findDimension(F65.hierarchy):b65==j25.types.DataFieldType.LEVEL&&F65.hasOwnProperty(L8f.U5B)&&(M65=this.findDimension(F65.hierarchy));w9K.x4C==M65&&(M65=j25._structure.GenericDimension.fromObject(F65),F65.hasOwnProperty(L8f.U5B)&&(M65.uniqueName=F65.hierarchy),M65.caption=F65.hasOwnProperty(v9VV.W0B)?F65.caption:F65.hasOwnProperty(L8f.U5B)?F65.hierarchy:M65.caption,b65==j25.types.DataFieldType.LEVEL&&F65.hasOwnProperty(L8f.U5B)&&(M65.uniqueName=F65.hierarchy),this.addDimension(M65));this.types[O65]=b65;switch(b65){case j25.types.DataFieldType.STRING:this.addStringHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.NUMBER:this.addNumberHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.MONTH:this.addMonthHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.WEEKDAY:this.addWeekdayHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.DATE:this.addDateHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.DATETIME:this.addDateTimeHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.TIME:this.addTimeHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.LEVEL:this.addLevelOfHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.HIERARCHICAL_DATE:case j25.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchicalDateHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.DATE_STRING:this.addDateStringHierarchy(M65,F65,O65);break;case j25.types.DataFieldType.ID:this.id=O65;this.fields.addItem(O65,w9K.x4C);break;case j25.types.DataFieldType.DELETE:this.deleteId=O65;break;case j25.types.DataFieldType.HIDDEN:break;default:this.addStringHierarchy(M65,F65,O65);}};return n25;}();g25.GenericStructure=o25;}(j25._structure||(j25._structure={})));}(b25.data_||(b25.data_={})));}(pivot||(pivot={})));(function(g65){(function(o65){(function(n65){var t65=function(){var n8f=G9VV;var o8f=U9VV;var r5B="depth";var w5B="hasMeasures";var m5B="sortType";var T5B="drilledTuplesBasedOnUniqueNames";var I5B="drilledTuples";var S5B="expandedTuplesBasedOnUniqueNames";var d5B="expandedTuples";var y5B="sortNamedTuple";var H5B="sortTuple";Object.defineProperty(c65.prototype,H5B,{get:function(){var m9K=U9VV;var Z5B=/\D/;if(m9K.x4C!=this.__sortTuple)return this.__sortTuple;var a65=m9K.x4C;if(m9K.x4C!=this._sortTuple)for(var e65=m9K.F8C,a65=[],R65=m9K.F8C;R65<this._hierarchies.length;R65++){var h65=this.hierarchies.getItemAt(R65);if(!h65.isMeasures){if(!this._sortTuple[e65])break;if(m9K.x2C==typeof this._sortTuple[e65]){a65=this._sortTuple;break;}var A65=this._sortTuple[e65].toString().trim();if(!Z5B.test(A65)){a65=this._sortTuple;break;}h65=h65.findMember(this._sortTuple[e65].toString().trim());if(m9K.x4C!=h65)a65.push(h65.ordinal);else if(this._sortTuple[e65]){a65=m9K.x4C;break;}}e65++;}return this.__sortTuple=a65;},set:function(Q65){this._sortTuple=Q65;this.__sortTuple=U9VV.x4C;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,y5B,{get:function(){var S9K=U9VV;var f65=S9K.x4C,i65=this.sortTuple;if(S9K.x4C!=i65)for(var E65=S9K.F8C,f65=[],J65=S9K.F8C;J65<this._hierarchies.length;J65++){var k65=this.hierarchies.getItemAt(J65);if(!k65.isMeasures){if(!i65[E65])break;var H65=S9K.C4C===i65[J65]?S9K.F8C:parseInt(i65[J65]),k65=k65.members.getItemAt(H65);if(S9K.x4C!=k65)f65.push(k65.uniqueName);else if(i65[E65]){f65=S9K.x4C;break;}}E65++;}return f65;},set:function(Z65){this.sortTuple=Z65;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,d5B,{get:function(){return this._expandedTuples;},set:function(y65){var d9K=U9VV;if(d9K.x4C==y65)this._expandedTuples=[];else if(this.hasMeasures)this._expandedTuples=y65;else{this._expandedTuples=[];for(var d65=d9K.F8C;d65<y65.length;d65++){var S65=y65[d65];S65[d9K.F8C]=-d9K.O8C;this._expandedTuples.push(S65);}}},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,S5B,{get:function(){var y9K=U9VV;for(var P65=[],T65,r65,U55,v55,m65,I65,C65=y9K.F8C;C65<this.expandedTuples.length;C65++){T65=this.expandedTuples[C65].slice(y9K.F8C);r65=[];U55=T65.shift();v55=y9K.C4C;for(var w65=m65=y9K.F8C;w65<T65.length;w65++)I65=this.hierarchies.getItemAt(m65),I65.isMeasures&&(-y9K.O8C<U55&&(v55=I65.members.getItemAt(U55).uniqueName),m65++,I65=this.hierarchies.getItemAt(m65)),y9K.x4C!=I65.members.getItemAt(T65[w65])&&r65.push(I65.members.getItemAt(T65[w65]).uniqueName),m65++;r65.unshift(v55);P65.push(r65);}return P65;},enumerable:!o8f.F8C,configurable:!o8f.F8C});c65.prototype.parseExpandedTuplesBasedOnUniqueNames=function(z55,X55){var Z9K=U9VV;void Z9K.F8C===X55&&(X55=Z9K.x4C);for(var u55=[],G55,V55,p55,q55,l55,W55,B55=Z9K.F8C;B55<z55.length;B55++){G55=z55[B55].slice(Z9K.F8C);if(isNaN(parseInt(G55[Z9K.F8C]))){V55=[];q55=-Z9K.O8C;p55=G55.shift();l55=Z9K.F8C;if(Z9K.F8C<this.hierarchies.length)for(var Y55=Z9K.F8C;Y55<G55.length;Y55++){W55=this.hierarchies.getItemAt(l55);if(utils.nullOrUndefined(W55))return[];W55.isMeasures&&(Z9K.C4C!=p55&&(q55=X55?X55.indexOf(p55):W55.members.indexOf(p55)),l55++,W55=this.hierarchies.getItemAt(l55));V55.push(W55.members.indexOf(G55[Y55]));l55++;}V55.unshift(q55);}else V55=G55;u55.push(V55);}return u55;};Object.defineProperty(c65.prototype,I5B,{get:function(){return this._drilledTuples;},set:function(N55){var H9K=U9VV;if(utils.nullOrUndefined(N55))this._drilledTuples=[];else{var D55;if(this.hasMeasures)this._drilledTuples=N55;else{this._drilledTuples=[];for(var x55=H9K.F8C;x55<N55.length;x55++)D55=N55[x55],H9K.K2C==typeof D55[H9K.F8C]?D55[H9K.O8C]=-H9K.O8C:D55[H9K.F8C]=-H9K.O8C,this._drilledTuples.push(D55);}this.setPredefinedDrillDowns(N55);}},enumerable:!o8f.F8C,configurable:!o8f.F8C});c65.prototype.setPredefinedDrillDowns=function(b55){var E9K=U9VV;var K55,M55=this._hierarchies.slice();M55.removeItem(o65.Cube.MEASURES_NAME);for(var j55,F55=E9K.F8C;F55<b55.length;F55++){K55=b55[F55].slice(E9K.F8C);E9K.K2C==typeof K55[E9K.F8C]&&(j55=K55.shift());var s55=M55.getItemAt(K55.length-E9K.b8C);if(E9K.x4C==s55)break;var O55=K55[E9K.O8C];isNaN(parseFloat(K55[E9K.O8C]))||(K55=s55.members.getItemAt(K55[E9K.O8C]),E9K.x4C!=K55&&(O55=K55.uniqueName));-E9K.O8C==s55.predefinedDrillDowns.indexOf(O55)&&s55.predefinedDrillDowns.push([j55,O55]);}};Object.defineProperty(c65.prototype,T5B,{get:function(){var J9K=U9VV;for(var a55=[],g55,o55,h55,R55,e55,A55,c55,n55,L55=J9K.F8C;L55<this.drilledTuples.length;L55++){g55=this.drilledTuples[L55].slice(J9K.F8C);o55=[];e55=h55=J9K.C4C;J9K.K2C==typeof g55[J9K.F8C]&&(h55=g55.shift());R55=g55.shift();A55=g55.shift();for(var t55=c55=J9K.F8C;t55<g55.length;t55++)n55=this.hierarchies.getItemAt(c55),n55.isMeasures&&(-J9K.O8C<R55&&(e55=n55.members.getItemAt(R55).uniqueName),c55++,n55=this.hierarchies.getItemAt(c55)),J9K.x4C!=n55.members.getItemAt(g55[t55])&&o55.push(n55.members.getItemAt(g55[t55]).uniqueName),c55++;o55.unshift(A55);o55.unshift(e55);o55.unshift(h55);a55.push(o55);}return a55;},enumerable:!o8f.F8C,configurable:!o8f.F8C});c65.prototype.parseDrilledTuplesBasedOnUniqueNames=function(T55,E55){var i9K=U9VV;void i9K.F8C===E55&&(E55=i9K.x4C);for(var y55=[],Q55,k55,d55,S55,Z55,I55,i55,f55,H55=i9K.F8C;H55<T55.length;H55++){Q55=T55[H55].slice(i9K.F8C);if(isNaN(parseInt(Q55[Q55.length-i9K.O8C]))){k55=[];S55=-i9K.O8C;d55=Q55.shift();Z55=Q55.shift();I55=Q55.shift();i55=i9K.F8C;if(i9K.F8C<this.hierarchies.length)for(var J55=i9K.F8C;J55<Q55.length;J55++){f55=this.hierarchies.getItemAt(i55);if(utils.nullOrUndefined(f55))return[];f55.isMeasures&&(i9K.C4C!=Z55&&(S55=E55?E55.indexOf(Z55):f55.members.indexOf(Z55)),i55++,f55=this.hierarchies.getItemAt(i55));k55.push(f55.members.indexOf(Q55[J55]));i55++;}k55.unshift(I55);k55.unshift(S55);i9K.C4C!=d55&&k55.unshift(d55);}else k55=Q55;y55.push(k55);}return y55;};Object.defineProperty(c65.prototype,m5B,{get:function(){return this._sortType;},set:function(m55){m55=m55.toLowerCase();this._sortType=m55==o65.consts.SortType.ASC||m55==o65.consts.SortType.DESC?m55:o65.consts.SortType.UNSORTED;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,n8f.M6B,{get:function(){return this._name;},set:function(w55){this._name=w55;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,v9VV.W0B,{get:function(){return this._caption;},set:function(r55){this._caption=r55;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,n8f.c5B,{get:function(){return this._hierarchies;},set:function(C55){this.expandedTuples=[];this.drilledTuples=[];this._sortTuple=U9VV.x4C;this._sortType=o65.consts.SortType.UNSORTED;this.sortMeasure=U9VV.x4C;this._hierarchies=C55;},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,o8f.l2C,{get:function(){for(var U75=U9VV.O8C,P55=U9VV.F8C;P55<this._hierarchies.length;P55++)U75*=this._hierarchies.getItemAt(P55).size;return U75;},set:function(v75){},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,n8f.d3B,{get:function(){return this._hierarchies.indexOf(o65.Cube.MEASURES_NAME);},set:function(G75){},enumerable:!o8f.F8C,configurable:!o8f.F8C});function c65(L65){this._hierarchies=new utils.AssociativeArray();this.totalSortType=o65.consts.SortType.UNSORTED;this._sortTuple=this.__sortTuple=U9VV.x4C;this._expandedTuples=[];this._drilledTuples=[];this._sortType=o65.consts.SortType.UNSORTED;this._name=L65;}Object.defineProperty(c65.prototype,n8f.Q5B,{get:function(){return this._hierarchies.getItem(o65.Cube.MEASURES_NAME);},set:function(W75){},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,w5B,{get:function(){return-U9VV.O8C<this.measuresPosition;},set:function(V75){},enumerable:!o8f.F8C,configurable:!o8f.F8C});Object.defineProperty(c65.prototype,r5B,{get:function(){for(var l75=U9VV.F8C,p75=U9VV.F8C;p75<this._hierarchies.length;p75++)var X75=this._hierarchies.getItemAt(p75),l75=l75+X75.drillDownDepth;return l75;},set:function(B75){},enumerable:!o8f.F8C,configurable:!o8f.F8C});c65.prototype.toString=function(){var P5B=" ]";var C5B="[Axis:";return C5B+this._name+P5B;};c65.fromObject=function(z75,Y75,q75,N75,K75,D75,s75){var h9K=U9VV;void h9K.F8C===s75&&(s75=h9K.x4C);z75=new c65(z75);z75.hierarchies=new utils.AssociativeArray();var u75;if(Y75)for(u75=h9K.F8C;u75<Y75.length;u75++)if(h9K.x4C!=Y75[u75].uniqueName){var x75=D75.findHierarchy(Y75[u75].uniqueName);h9K.x4C!=x75&&(o65._structure.GenericHierarchy.fromObject(Y75[u75],x75),x75.isMeasures&&z75.uniqueName==o65.consts.AxisName.PAGES_AXIS||z75.hierarchies.addItem(x75.uniqueName,x75));}q75&&(u75=D75.findMeasure(q75.measure?q75.measure:h9K.C4C),h9K.x4C!=u75&&h9K.x4C!=q75.tuple?z75.setSort(u75,q75.tuple,q75.type):z75.sortToSet=q75);if(N75&&h9K.F8C<N75.length){x75=[];for(u75=h9K.F8C;u75<N75.length;u75++){Y75=N75[u75];D75=[];h9K.F8C<Y75.length&&D75.push((isNaN(parseInt(Y75[h9K.F8C])),Y75[h9K.F8C]));for(q75=h9K.O8C;q75<Y75.length;q75++)D75.push((isNaN(parseInt(Y75[q75])),Y75[q75]));x75.push(D75);}N75=x75;}z75.expandedTuples=N75?z75.parseExpandedTuplesBasedOnUniqueNames(N75,s75):[];if(K75&&h9K.F8C<K75.length){N75=[];for(u75=h9K.F8C;u75<K75.length;u75++){Y75=K75[u75];D75=[];h9K.F8C<Y75.length&&D75.push((isNaN(parseInt(Y75[h9K.F8C])),Y75[h9K.F8C]));for(q75=h9K.O8C;q75<Y75.length;q75++)D75.push((isNaN(parseInt(Y75[q75])),Y75[q75]));N75.push(D75);}K75=N75;}z75.drilledTuples=K75?z75.parseDrilledTuplesBasedOnUniqueNames(K75,s75):[];return z75;};c65.toObject=function(F75){for(var O75={},b75=[],M75=U9VV.F8C;M75<F75.hierarchies.length;M75++){var j75=n65.GenericHierarchy.toObject(F75.hierarchies.getItemAt(M75));b75.push(j75);}O75.hierarchies=b75;F75.sortType==o65.consts.SortType.UNSORTED||utils.nullOrUndefined(F75.sortTuple)||utils.nullOrUndefined(F75.sortMeasure)||(O75.sort={type:F75.sortType,tuple:F75.sortNamedTuple,measure:F75.sortMeasure.uniqueName});return O75;};c65.prototype.setSort=function(o75,g75,n75){this.sortMeasure=o75;this.sortTuple=g75;this.sortType=n75;U9VV.F8C==g75.length&&(this.totalSortType=this.sortType,this.totalSortMeasure=this.sortMeasure);};return c65;}();n65.Axis=t65;}(o65._structure||(o65._structure={})));}(g65.data_||(g65.data_={})));}(pivot||(pivot={})));(function(t75){(function(c75){var L75;(function(a75){var e75=function(){var j8f=G9VV;var b8f=U9VV;var l7B="flatOrder";var V7B="drillAll";var W7B="expandAll";var G7B="measuresAll";var v7B="axisWithMeasures";var U7B="axes";Object.defineProperty(h75.prototype,U7B,{get:function(){return this._axes;},set:function(A75){},enumerable:!b8f.F8C,configurable:!b8f.F8C});h75.prototype.addAxis=function(Q75){this._axes.addItem(Q75.uniqueName,Q75);Q75.hasMeasures&&(this._axisWithMeasures=Q75);};h75.prototype.findAxis=function(k75){return this._axes.getItem(k75);};Object.defineProperty(h75.prototype,v7B,{get:function(){if(U9VV.x4C==this._axisWithMeasures){for(var f75=U9VV.F8C;f75<this._axes.length;f75++){var i75=this._axes.getItemAt(f75);if(i75.hasMeasures){this._axisWithMeasures=i75;break;}}U9VV.x4C==this._axisWithMeasures&&(this._axisWithMeasures=this.findAxis(c75.consts.AxisName.COLUMNS_AXIS));}this._axisWithMeasures.hasMeasures||(f75=this.structure.measuresHierarchy)&&this._axisWithMeasures.hierarchies.addItem(f75.uniqueName,f75);return this._axisWithMeasures;},set:function(J75){},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.A5B,{get:function(){for(var Z75=new utils.AssociativeArray(),E75=U9VV.F8C;E75<this._measures.length;E75++){var H75=this._measures.getItemAt(E75);H75.calculated||Z75.addItem(H75.uniqueName,H75);}return Z75;},set:function(y75){},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.R5B,{get:function(){for(var I75=new utils.AssociativeArray(),d75=U9VV.F8C;d75<this._measures.length;d75++){var S75=this._measures.getItemAt(d75);S75.calculated&&I75.addItem(S75.uniqueName,S75);}return I75;},set:function(T75){},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,G7B,{get:function(){return this._measures;},set:function(m75){this.measures_=m75;},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.h5B,{get:function(){for(var C75=new utils.AssociativeArray(),w75=U9VV.F8C;w75<this._measures.length;w75++){var r75=this._measures.getItemAt(w75);r75.hidden||C75.addItem(r75.uniqueName,r75);}return C75;},set:function(U9p){var g9K=U9VV;this._measures=U9p;U9p=this.axisWithMeasures.measuresHierarchy;if(g9K.x4C!=U9p&&(U9p.clear(),g9K.x4C!=this._measures))for(var v9p=g9K.F8C;v9p<this._measures.length;v9p++){var P75=this._measures.getItemAt(v9p),P75=new L75.GenericMember(P75.uniqueName,P75.caption);U9p.addMember(P75,g9K.C4C,g9K.C4C,!g9K.O8C);}},enumerable:!b8f.F8C,configurable:!b8f.F8C});function h75(R75){this._axes=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._drillAll=this._expandAll=!U9VV.O8C;this._flatOrder=[];this.structure=R75;this.addAxis(new c75._structure.Axis(c75.consts.AxisName.ROWS_AXIS));this.addAxis(new c75._structure.Axis(c75.consts.AxisName.COLUMNS_AXIS));this.addAxis(new c75._structure.Axis(c75.consts.AxisName.PAGES_AXIS));}h75.prototype.allHierarchies=function(l9p,p9p,G9p){var b9K=U9VV;void b9K.F8C===l9p&&(l9p=!b9K.F8C);void b9K.F8C===p9p&&(p9p=!b9K.F8C);void b9K.F8C===G9p&&(G9p=!b9K.O8C);for(var V9p=new utils.AssociativeArray(),W9p=b9K.F8C;W9p<this._axes.length;W9p++)var X9p=this._axes.getItemAt(W9p),V9p=V9p.concat(X9p.hierarchies);l9p||V9p.removeItem(this.structure.measuresHierarchy.uniqueName);if(!p9p)for(l9p=b9K.F8C;l9p<this.pages.length;l9p++)V9p.removeItem(this.pages.getKeyAt(W9p));if(G9p)for(W9p=b9K.F8C;W9p<this.measures_.length;W9p++)G9p=this.measures_.getItemAt(W9p),G9p.calculated||(G9p=this.structure.measureToHierarchy(G9p.uniqueName),V9p.addItem(G9p.uniqueName,G9p));return V9p;};h75.prototype.clear=function(){for(var B9p=U9VV.F8C;B9p<this._axes.length;B9p++)this._axes.getItemAt(B9p).hierarchies=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();};Object.defineProperty(h75.prototype,v9VV.M8Q,{get:function(){return this.findAxis(c75.consts.AxisName.ROWS_AXIS).hierarchies;},set:function(q9p){var Y9p=this.findAxis(c75.consts.AxisName.ROWS_AXIS);U9VV.x4C==Y9p&&(Y9p=new a75.Axis(c75.consts.AxisName.ROWS_AXIS));Y9p.hierarchies=q9p;U9VV.x4C==q9p&&(Y9p.hierarchies=new utils.AssociativeArray());this.addAxis(Y9p);},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,v9VV.b8Q,{get:function(){return this.findAxis(c75.consts.AxisName.COLUMNS_AXIS).hierarchies;},set:function(z9p){var u9p=this.findAxis(c75.consts.AxisName.COLUMNS_AXIS);U9VV.x4C==u9p&&(u9p=new a75.Axis(c75.consts.AxisName.COLUMNS_AXIS));u9p.hierarchies=z9p;U9VV.x4C==z9p&&(u9p.hierarchies=new utils.AssociativeArray());this.addAxis(u9p);},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.Z3B,{get:function(){return this.findAxis(c75.consts.AxisName.PAGES_AXIS).hierarchies;},set:function(D9p){var N9p=this.findAxis(c75.consts.AxisName.PAGES_AXIS);U9VV.x4C==N9p&&(N9p=new a75.Axis(c75.consts.AxisName.PAGES_AXIS));N9p.hierarchies=D9p;U9VV.x4C==D9p&&(N9p.hierarchies=new utils.AssociativeArray());this.addAxis(N9p);},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.i3B,{get:function(){return this.axisWithMeasures.uniqueName==c75.consts.AxisName.ROWS_AXIS?this.rows.splice(this.axisWithMeasures.measuresPosition,U9VV.O8C):this.rows;},set:function(x9p){},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.H3B,{get:function(){return this.axisWithMeasures.uniqueName==c75.consts.AxisName.COLUMNS_AXIS?this.columns.splice(this.axisWithMeasures.measuresPosition,U9VV.O8C):this.columns;},set:function(K9p){},enumerable:!b8f.F8C,configurable:!b8f.F8C});h75.prototype.clone=function(){var s9p=new h75(this.structure);s9p.rows=this.rows.slice();s9p.columns=this.columns.slice();s9p.pages=this.pages.slice();s9p.measures_=this.measures_.slice();s9p.flatOrder=this.flatOrder.slice(U9VV.F8C);return s9p;};h75.areRowsDiffer=function(O9p,M9p,j9p){var N9K=U9VV;void N9K.F8C===j9p&&(j9p=!N9K.F8C);if(N9K.x4C==M9p)return!N9K.F8C;var F9p=O9p.rows.length!=M9p.rows.length;if(!F9p)for(var b9p=N9K.F8C;b9p<O9p.rows.length;b9p++)if(O9p.rows.getItemAt(b9p).uniqueName!=M9p.rows.getItemAt(b9p).uniqueName){F9p=!N9K.F8C;break;}!F9p&&j9p&&O9p.findAxis(c75.consts.AxisName.ROWS_AXIS).hasMeasures&&M9p.findAxis(c75.consts.AxisName.ROWS_AXIS).hasMeasures&&(F9p=h75.areMeasuresDiffer(O9p,M9p));return F9p;};h75.areColumnsDiffer=function(o9p,n9p,c9p){var z9K=U9VV;void z9K.F8C===c9p&&(c9p=!z9K.F8C);if(z9K.x4C==n9p)return!z9K.F8C;var g9p=o9p.columns.length!=n9p.columns.length;if(!g9p)for(var t9p=z9K.F8C;t9p<o9p.columns.length;t9p++)if(o9p.columns.getItemAt(t9p).uniqueName!=n9p.columns.getItemAt(t9p).uniqueName){g9p=!z9K.F8C;break;}!g9p&&c9p&&o9p.findAxis(c75.consts.AxisName.COLUMNS_AXIS).hasMeasures&&n9p.findAxis(c75.consts.AxisName.COLUMNS_AXIS).hasMeasures&&(g9p=h75.areMeasuresDiffer(o9p,n9p));return g9p;};h75.areMeasuresDiffer=function(e9p,h9p){var u9K=U9VV;if(u9K.x4C==h9p)return!u9K.F8C;var a9p=e9p.measures_.length!=h9p.measures_.length;if(!a9p)for(var L9p=u9K.F8C;L9p<e9p.measures_.length;L9p++)if(e9p.measures_.getItemAt(L9p).uniqueName!=h9p.measures_.getItemAt(L9p).uniqueName){a9p=!u9K.F8C;break;}return a9p;};h75.fromObject=function(R9p,f9p){var q9K=U9VV;for(var k9p=new h75(f9p),i9p=new utils.AssociativeArray(),A9p=q9K.F8C;A9p<R9p.measures.length;A9p++)if(R9p.measures[A9p].hasOwnProperty(j8f.M6B)){var Q9p=f9p.measures_.getItem(R9p.measures[A9p].uniqueName);q9K.x4C==Q9p&&utils.nullOrEmpty(R9p.measures[A9p].formula)||(Q9p=c75._structure.GenericMeasure.fromObject(R9p.measures[A9p],Q9p),Q9p.calculated&&!f9p.measures_.keyExists(Q9p.uniqueName)&&f9p.addMeasure(Q9p),(utils.nullOrUndefined(R9p.measures[A9p].active)||R9p.measures[A9p].active)&&i9p.addItem(Q9p.uniqueName,Q9p));}A9p=c75._structure.Axis.fromObject(c75.consts.AxisName.ROWS_AXIS,R9p.rows,R9p.rowSorting,R9p.expandedRows,R9p.drilledRows,f9p,i9p.toArray(!q9K.F8C));Q9p=c75._structure.Axis.fromObject(c75.consts.AxisName.COLUMNS_AXIS,R9p.columns,R9p.columnSorting,R9p.expandedColumns,R9p.drilledColumns,f9p,i9p.toArray(!q9K.F8C));k9p.rows=A9p.hierarchies;k9p.columns=Q9p.hierarchies;k9p.pages=c75._structure.Axis.fromObject(c75.consts.AxisName.PAGES_AXIS,R9p.pages,q9K.x4C,[],[],f9p).hierarchies;k9p.measures_=i9p;k9p.expandAll=R9p.expandAll;k9p.drillAll=R9p.drillAll;k9p.flatOrder=R9p.flatOrder;k9p.addAxis(A9p);k9p.addAxis(Q9p);return k9p;};h75.prototype.toObject=function(){var Y9K=U9VV;for(var E9p={rows:[]},J9p=Y9K.F8C;J9p<this.rows.length;J9p++){var H9p=this.rows.getItemAt(J9p).toObject();E9p.rows[J9p]=H9p;}E9p.columns=[];for(J9p=Y9K.F8C;J9p<this.columns.length;J9p++)H9p=this.columns.getItemAt(J9p).toObject(),E9p.columns[J9p]=H9p;E9p.pages=[];for(J9p=Y9K.F8C;J9p<this.pages.length;J9p++)H9p=this.pages.getItemAt(J9p).toObject(),E9p.pages[J9p]=H9p;E9p.measures=[];for(J9p=Y9K.F8C;J9p<this.measures_.length;J9p++)H9p=this.measures_.getItemAt(J9p).toObject(),E9p.measures[J9p]=H9p;return E9p;};h75.prototype.parseExpandedTuples=function(){for(var Z9p=U9VV.F8C;Z9p<this._axes.length;Z9p++)this._axes.getItemAt(Z9p).parseExpandedTuples();};h75.prototype.flatten=function(I9p){var X9K=U9VV;void X9K.F8C===I9p&&(I9p=!X9K.O8C);for(var S9p=this.allHierarchies(!X9K.O8C),y9p=X9K.F8C;y9p<this.measures_.length;y9p++){var d9p=this.measures_.getItemAt(y9p),T9p=this.measureToHierarchy(d9p.uniqueName);X9K.x4C!=T9p&&S9p.addItem(T9p.uniqueName,T9p);d9p.calculated&&I9p&&(T9p=new a75.GenericHierarchy(d9p.uniqueName,d9p.caption),S9p.addItem(d9p.uniqueName,T9p));}I9p=new utils.AssociativeArray();for(y9p=X9K.F8C;y9p<this.flatOrder.length;y9p++)d9p=this.flatOrder[y9p],S9p.keyExists(d9p)&&(I9p.addItem(d9p,S9p.getItem(d9p)),S9p.removeItem(d9p));for(y9p=X9K.F8C;y9p<S9p.length;y9p++)I9p.addItem(S9p.getKeyAt(y9p),S9p.getItemAt(y9p));return I9p;};h75.prototype.isEqual=function(w9p){var p9K=U9VV;if(p9K.x4C==w9p||this.pages.length!=w9p.pages.length||this.rows.length!=w9p.rows.length||this.columns.length!=w9p.columns.length||this.measures_.length!=w9p.measures_.length)return!p9K.O8C;for(var m9p=p9K.F8C;m9p<this.pages.length;m9p++)if(this.pages.getKeyAt(m9p)!=w9p.pages.getKeyAt(m9p))return!p9K.O8C;for(m9p=p9K.F8C;m9p<this.rows.length;m9p++)if(this.rows.getKeyAt(m9p)!=w9p.rows.getKeyAt(m9p))return!p9K.O8C;for(m9p=p9K.F8C;m9p<this.columns.length;m9p++)if(this.columns.getKeyAt(m9p)!=w9p.columns.getKeyAt(m9p))return!p9K.O8C;for(m9p=p9K.F8C;m9p<this.measures_.length;m9p++)if(this.measures_.getKeyAt(m9p)!=w9p.measures_.getKeyAt(m9p)||this.measures_.getItemAt(m9p).aggregation!=w9p.measures_.getItemAt(m9p).aggregation)return!p9K.O8C;return!p9K.F8C;};h75.prototype.measureToHierarchy=function(r9p){return this.structure.measureToHierarchy(r9p);};h75.prototype.hierarchyToMeasure=function(C9p){return this.structure.hierarchyToMeasure(C9p);};Object.defineProperty(h75.prototype,j8f.Y6B,{get:function(){return U9VV.F8C==this.allHierarchies(!U9VV.O8C).length&&U9VV.F8C==this.measures_.length;},set:function(P9p){},enumerable:!b8f.F8C,configurable:!b8f.F8C});h75.prototype.makeDefault=function(){var V9K=U9VV;var v1p;if(t75.model._options.OptionsManager.flatView){this.rows=new utils.AssociativeArray();this.columns=new utils.AssociativeArray();this.pages=new utils.AssociativeArray();for(var U1p=new utils.AssociativeArray(),G1p=[],W1p=V9K.F8C;W1p<this.structure.measures_.length;W1p++)v1p=this.structure.measures_.getItemAt(W1p),G1p.push(v1p.uniqueName),v1p.type==c75.types.MeasureType.COUNT?(v1p=this.structure.measureToHierarchy(v1p.uniqueName))&&this.rows.addItem(v1p.uniqueName,v1p):U1p.addItem(v1p.uniqueName,v1p);this._flatOrder=G1p;this.measures_=U1p;}else{for(W1p=V9K.F8C;W1p<this.structure.measures_.length&&(v1p=this.structure.measures_.getItemAt(W1p),v1p.type!=c75.types.MeasureType.NUMBER?V9K.x4C==U1p&&(U1p=this.structure.measureToHierarchy(v1p.uniqueName)):V9K.x4C==G1p&&(G1p=v1p),V9K.x4C==U1p||V9K.x4C==G1p);W1p++);V9K.x4C==G1p?G1p=this.structure.measures_.getItemAt(V9K.F8C):V9K.x4C==U1p?(v1p=this.structure.measures_.getItemAt(V9K.F8C),U1p=this.structure.measureToHierarchy(v1p.uniqueName)):V9K.x4C==U1p&&V9K.x4C==G1p&&V9K.F8C<this.structure.measures_.length&&(G1p=this.structure.measures_.getItemAt(V9K.F8C),U1p=this.structure.measureToHierarchy(G1p.uniqueName));V9K.x4C!=U1p&&V9K.x4C!=G1p&&(this.pages=new utils.AssociativeArray(),this.rows=new utils.AssociativeArray(),this.columns=new utils.AssociativeArray(),this.rows.addItem(U1p.uniqueName,U1p),U1p=new utils.AssociativeArray(),U1p.addItem(G1p.uniqueName,G1p),this.measures_=U1p);}};Object.defineProperty(h75.prototype,W7B,{get:function(){return this._expandAll;},set:function(V1p){this._expandAll=V1p;},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,V7B,{get:function(){return this._drillAll;},set:function(l1p){this._drillAll=l1p;},enumerable:!b8f.F8C,configurable:!b8f.F8C});h75.prototype.clearExpands=function(){this.rowAxis.expandedTuples=[];this.columnAxis.expandedTuples=[];};h75.prototype.clearDrills=function(){this.rowAxis.drilledTuples=[];this.columnAxis.drilledTuples=[];};Object.defineProperty(h75.prototype,l7B,{get:function(){U9VV.x4C==this._flatOrder&&(this._flatOrder=[]);return this._flatOrder;},set:function(p1p){this._flatOrder=p1p;},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.w3B,{get:function(){return this.axes.getItem(c75.consts.AxisName.ROWS_AXIS);},enumerable:!b8f.F8C,configurable:!b8f.F8C});Object.defineProperty(h75.prototype,j8f.r3B,{get:function(){return this.axes.getItem(c75.consts.AxisName.COLUMNS_AXIS);},enumerable:!b8f.F8C,configurable:!b8f.F8C});h75.prototype.mergeExpandsAndDrills=function(X1p){var G9K=U9VV;utils.nullOrUndefined(X1p)||(this.expandAll=X1p.expandAll,this.drillAll=X1p.drillAll,h75.areRowsDiffer(this,X1p,!G9K.O8C)?(this.rowAxis.expandedTuples=this.cutTuples(X1p.rowAxis.expandedTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,X1p.rowAxis.hierarchies)),this.rowAxis.drilledTuples=this.cutTuples(X1p.rowAxis.drilledTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,X1p.rowAxis.hierarchies)+G9K.M8C)):(this.rowAxis.expandedTuples=this.cloneTuples(X1p.rowAxis.expandedTuples),this.rowAxis.drilledTuples=this.cloneTuples(X1p.rowAxis.drilledTuples)),h75.areColumnsDiffer(this,X1p,!G9K.O8C)?(this.columnAxis.expandedTuples=this.cutTuples(X1p.columnAxis.expandedTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,X1p.columnAxis.hierarchies)),this.columnAxis.drilledTuples=this.cutTuples(X1p.columnAxis.drilledTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,X1p.columnAxis.hierarchies)+G9K.M8C)):(this.columnAxis.expandedTuples=this.cloneTuples(X1p.columnAxis.expandedTuples),this.columnAxis.drilledTuples=this.cloneTuples(X1p.columnAxis.drilledTuples)));};h75.prototype.removeMeasure=function(B1p){this._measures.removeItem(B1p);};h75.prototype.getCommonFieldsCount=function(z1p,N1p){for(var q1p=U9VV.F8C,D1p=Math.min(z1p.length,N1p.length),Y1p=U9VV.F8C;Y1p<D1p;Y1p++){var u1p=z1p.getItemAt(Y1p),x1p=N1p.getItemAt(Y1p);if(u1p.uniqueName!=x1p.uniqueName)break;u1p.isMeasures||q1p++;}return q1p;};h75.prototype.cutTuples=function(O1p,M1p){var s1p=[];if(U9VV.O8C<M1p)for(var K1p=U9VV.F8C;K1p<O1p.length;K1p++){var F1p=O1p[K1p];F1p.length<=M1p&&s1p.push(F1p.slice());}return s1p;};h75.prototype.cloneTuples=function(g1p){for(var j1p=[],b1p=U9VV.F8C;b1p<g1p.length;b1p++)j1p.push(g1p[b1p].slice());return j1p;};return h75;}();a75.Slice=e75;}(L75=c75._structure||(c75._structure={})));}(t75.data_||(t75.data_={})));}(pivot||(pivot={})));(function(o1p){(function(n1p){(function(c1p){var L1p=function(){a1p.prototype.clear=function(){var r7f=U9VV;this.data=[];this.dataLoadedLength=this.bytesLoaded=r7f.F8C;this.connected=!r7f.O8C;this.chunkIndex=this.lastPosition=r7f.F8C;this.recordsetDelimiter=v9VV.m6C;this.fieldEnclosureToken=v9VV.U9Q;this.columnType=[];this.hasSizeHeader=this.isFileFailed=this.isFileLoaded=this.isHeaderParsed=!r7f.O8C;this.lastByte=r7f.F8C;this.lastRow=r7f.C4C;this.rowIdx=this.beforeBeforeLastByte=this.beforeLastByte=r7f.F8C;this.BLOCK_SIZE=r7f.o0C;r7f.x4C!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=r7f.x4C);this.stopTimer();};a1p.prototype.load=function(R1p,A1p,Q1p,k1p,f1p){var m7f=U9VV;try{if(this.clear(),this.filename=R1p.filename,this.successHandler=A1p,this.errorHandler=Q1p,this.connectedHandler=k1p,this.cancelledHandler=f1p,this.fieldSeparator=R1p.fieldSeparator,this.ignoreQuotedLineBreaks=R1p.ignoreQuotedLineBreaks,R1p.isDemo)this.generate();else{if(void m7f.F8C!==this.filename&&m7f.C4C!=this.filename&&v9VV.S5C!=this.filename.substr(-m7f.M8C)||!m7f.O8C!==R1p.browseForFile)this.filename=utils.URLUtils.getUrl(this.filename,!m7f.F8C);else this.onFileError();!m7f.F8C===R1p.browseForFile?this.browseFile():this.isGooggleDrive(R1p.filename)&&utils.nullOrUndefined(R1p.requestHeader)?this.authorizeGoogleDrive():(o1p.preloader(!m7f.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,R1p.requestHeader));}}catch(i1p){console.error(i1p.stack),this.onFileError();}};a1p.prototype.generate=function(){};a1p.prototype.authorizeGoogleDrive=function(){var p7B="auth";window.gapi&&window.gapi.load(p7B,{callback:this.onAuthApiLoadHandler});};a1p.prototype.onAuthApiLoad=function(){if(U9VV.C4C==o1p._view.PivotView.stage.getToolbar().googleClientId||U9VV.x4C==o1p._view.PivotView.stage.getToolbar().googleClientId)this.onGoogleClientIdNotSet();else window.gapi.auth.authorize({client_id:o1p._view.PivotView.stage.getToolbar().googleClientId,scope:o1p._view.PivotView.stage.getToolbar().googleScope,immediate:!U9VV.O8C},this.onhandleAuthResultHandler);};a1p.prototype.handleAuthResult=function(J1p){var X7B="Bearer ";var E1p={};J1p&&!J1p.error?(E1p.Authorization=X7B+J1p.access_token,o1p.preloader(!U9VV.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,E1p)):(o1p.preloader(!U9VV.O8C),this.onFileError());};a1p.prototype.isGooggleDrive=function(H1p){var B7B="www.googleapis.com/drive";return-U9VV.O8C<H1p.indexOf(B7B);};a1p.prototype.onGoogleClientIdNotSet=function(){o1p.uialert(o1p.model._labels.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY,o1p.model._labels.Labels.ERROR,o1p.AlertType.ERROR);};a1p.prototype.browseFile=function(){var Z1p=this;this.fileReference=new misc.FileReference();this.fileReference.addEventListener(events._Event.SELECT,function(){return Z1p.onFileSelected();});this.fileReference.addEventListener(events._Event.COMPLETE,function(){return Z1p.onFileComplete();});this.fileReference.addEventListener(events._Event.PROGRESS,function(y1p){return Z1p.onFileProgress(y1p);});this.fileReference.addEventListener(events._Event.CANCEL,function(){return Z1p.onFileCancelled();});this.fileReference.addEventListener(events._Event.ERROR,function(){return Z1p.onFileError();});this.fileReference.browse(this.fileExtensions);};function a1p(){var y7f=U9VV;var e1p=this;this.beforeBeforeLastByte=this.beforeLastByte=this.lastByte=y7f.F8C;this.fileExtensions=[G9VV.Y7B];this.onAuthApiLoadHandler=function(){return e1p.onAuthApiLoad();};this.onhandleAuthResultHandler=function(h1p){return e1p.handleAuthResult(h1p);};this.tickHandler=function(){return e1p.onTick();};this.timerCompleteHandler=function(){return e1p.onTimerComplete();};this.lastPosition=y7f.F8C;this.isStarted=!y7f.O8C;this.preloaderTime=y7f.F8C;this.cube_=n1p.Cube.getInstance();this.fileExtensions=[G9VV.Y7B];}a1p.prototype.onFileSelected=function(){var Z7f=U9VV;o1p.preloader(!Z7f.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA,Z7f.C4C,!Z7f.F8C,!Z7f.F8C);this.loader=this.fileReference;this.fileReference.load();this.fileReference=Z7f.x4C;};a1p.prototype.loadFile=function(T1p,I1p){var S1p=this;void U9VV.F8C===I1p&&(I1p=U9VV.x4C);var d1p=new misc.URLStream();d1p.dataType=misc.DataType.TEXT;d1p.addEventListener(events._Event.COMPLETE,function(){return S1p.onFileComplete();});d1p.addEventListener(events._Event.CONNECTED,function(){return S1p.onFileConnected();});d1p.addEventListener(events._Event.PROGRESS,function(m1p){return S1p.onFileProgress(m1p);});d1p.addEventListener(events._Event.ERROR,function(){return S1p.onFileError();});d1p.load(T1p,I1p);this.loader=d1p;this.timer=new utils.Timer(U9VV.o0C,v9VV.N6C);this.timer.addEventListener(utils.TimerEvent.TIMER,this.tickHandler);this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler);this.timer.start();};a1p.prototype.onTick=function(){var J7f=U9VV;J7f.F8C<this.bytesLoaded||this.isFileLoaded||this.isFileFailed?this.stopTimer():J7f.x4C!=this.timer&&o1p.preloader(!J7f.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA,utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(this.timer.currentCount/J7f.L8C,new o1p.model.format.vo.FormatValueObject(),!J7f.O8C,!J7f.O8C,J7f.O8C)));};a1p.prototype.onTimerComplete=function(){this.timer.running&&this.stopTimer();};a1p.prototype.stopTimer=function(){this.timer&&this.timer.running&&(this.timer.stop(),this.timer.removeEventListener(utils.TimerEvent.TIMER,this.tickHandler),this.timer.removeEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler));};a1p.prototype.onFileCancelled=function(){U9VV.x4C!=this.cancelledHandler&&(this.cancelledHandler(),this.cancelledHandler=U9VV.x4C);this.clear();};a1p.prototype.onFileError=function(){var f7f=U9VV;o1p.preloader(!f7f.O8C);if(!f7f.O8C==this.isFileFailed){this.isFileFailed=!f7f.F8C;var w1p=o1p.model.XSSCheck.valid(this.filename)?this.filename:o1p.model.XSSCheck.validate(this.filename);o1p.uialert(utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,w1p),o1p.model._labels.Labels.ERROR,o1p.AlertType.ERROR);}f7f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=f7f.x4C);this.stopTimer();};a1p.prototype.onHeaderParsingError=function(){o1p.preloader(!U9VV.O8C);o1p.uialert(utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR),o1p.model._labels.Labels.ERROR,o1p.AlertType.ERROR);};a1p.prototype.onFileProgress=function(r1p){var A7f=U9VV;var I0C=404;if(I0C==r1p.target.status)this.onFileError();else if(!utils.nullOrUndefined(this.loader))try{var C1p=this.loader.response;if(A7f.x4C!=C1p&&A7f.F8C!=C1p.length&&(this.bytesLoaded!=r1p.loaded||this.dataLoadedLength!=C1p.length)&&(this.hasSizeHeader=A7f.F8C<r1p.total&&r1p.lengthComputable,this.dataLoadedLength=C1p.length,this.bytesLoaded=r1p.loaded,G9VV.q7B<C1p.length-this.lastPosition||r1p.loaded==r1p.total))if(this.bytesLoaded>o1p.model.license.Limitations.MAX_CSV)o1p.uialert(o1p.model.license.LicenseLabels.getLabel(o1p.model.license.LicenseLabels.betaversion),o1p.model.license.LicenseLabels.getLabel(o1p.model.license.LicenseLabels.tooLarge)),o1p.preloader(!A7f.O8C),A7f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=A7f.x4C),this.stopTimer();else{this.isFileLoaded=r1p.loaded==r1p.total;void A7f.F8C!==C1p&&this.parseChunk(C1p.substring(this.lastPosition,C1p.length));this.lastPosition=C1p.length;var P1p=utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands(r1p.loaded.toFixed(A7f.F8C)),utils.NumberFormatter.formatThousands(r1p.total.toFixed(A7f.F8C)));o1p.preloader(!A7f.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA,P1p);}}catch(U8p){console.error(U8p.stack),this.onFileError();}};a1p.prototype.onFileConnected=function(){this.connected=!U9VV.F8C;o1p.preloader(!U9VV.F8C,o1p.model._labels.Labels.MESSAGE_LOADING_DATA,U9VV.C4C);};a1p.prototype.setConnected=function(){U9VV.x4C!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=U9VV.x4C);};a1p.prototype.onFileComplete=function(){var e7f=U9VV;if(!utils.nullOrUndefined(this.loader))try{if(e7f.F8C==this.lastPosition||!this.hasSizeHeader){var v8p=this.loader.response;this.connected=!e7f.F8C;v8p.length>o1p.model.license.Limitations.MAX_CSV?(o1p.uialert(o1p.model.license.LicenseLabels.getLabel(o1p.model.license.LicenseLabels.betaversion),o1p.model.license.LicenseLabels.getLabel(o1p.model.license.LicenseLabels.tooLarge)),o1p.preloader(!e7f.O8C),e7f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=e7f.x4C),this.clear()):(this.isFileLoaded=!e7f.F8C,this.isStarted?this.hasSizeHeader||(this.lastPosition<v8p.length?(this.parseChunk(v8p.substring(this.lastPosition,v8p.length)),this.lastPosition=v8p.length):this.data.push(this.lastRow)):this.parseChunk(v8p),this.parseAllDataRows(),this.onDataParsed());}}catch(G8p){console.error(G8p.stack),this.onFileError();}};a1p.isCSVValid=function(W8p){var L7f=U9VV;var z7B="<!doctype";var u7B="<config>";W8p=W8p.toLowerCase();return-L7f.O8C!=W8p.indexOf(v9VV.j5C)||-L7f.O8C!=W8p.indexOf(u7B)||L7f.F8C==W8p.trim().length||-L7f.O8C!=W8p.indexOf(z7B)?(o1p.uialert(o1p.model._labels.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT,o1p.model._labels.Labels.ERROR,o1p.AlertType.ERROR),!L7f.O8C):!L7f.F8C;};a1p.prototype.parseChunk=function(V8p){var c7f=v9VV;var t7f=U9VV;this.isStarted=!t7f.F8C;this.setConnected();t7f.F8C==this.chunkIndex&&-t7f.O8C==V8p.indexOf(c7f.m6C)&&-t7f.O8C!=V8p.indexOf(c7f.J7C)&&(this.recordsetDelimiter=c7f.J7C);void t7f.F8C===this.fieldSeparator&&(this.fieldSeparator=this.chooseSeparator(-t7f.O8C==V8p.indexOf(c7f.m6C)&&-t7f.O8C==V8p.indexOf(c7f.J7C)?V8p:V8p.substring(t7f.F8C,V8p.indexOf(this.recordsetDelimiter))));this.appendData(V8p);!t7f.O8C==this.isHeaderParsed&&(t7f.O8C<this.data.length||o1p.model._options.OptionsManager.showEmptyData)&&(this.parseHeader(this.data.shift(),this.data[t7f.F8C]),this.isHeaderParsed=!t7f.F8C);};a1p.prototype.onDataParsed=function(){var n7f=U9VV;o1p.preloader(!n7f.O8C);this.isHeaderParsed?n7f.x4C!=this.successHandler&&this.successHandler():(o1p.uialert(o1p.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,o1p.model._labels.Labels.ERROR,o1p.AlertType.ALERT),n7f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=n7f.x4C));this.clear();};a1p.prototype.parseHeader=function(x8p,O8p){var o7f=U9VV;var g7f=v9VV;if(a1p.isCSVValid(x8p))try{utils.nullOrUndefined(this.fieldSeparator)&&(this.fieldSeparator=g7f.k6C);var X8p=a1p.splitRow(x8p,this.fieldSeparator),D8p=a1p.splitRow(O8p,this.fieldSeparator);this.columnNames=[];for(var l8p=o7f.F8C;l8p<X8p.length;l8p++){var Y8p=this.getColumnValue(D8p[l8p]),u8p=X8p[l8p],p8p=o7f.x4C;if(o7f.F8C<X8p[l8p].length&&-o7f.O8C<X8p[l8p].indexOf(g7f.w7C)){var z8p=X8p[l8p].substr(X8p[l8p].indexOf(g7f.t7C)+o7f.O8C,X8p[l8p].length);if(o7f.F8C<z8p.length){u8p=X8p[l8p].substring(o7f.F8C,X8p[l8p].indexOf(g7f.t7C));try{p8p=JSON.parse(z8p);}catch(M8p){console.error(G9VV.N7B+X8p[l8p].substring(o7f.F8C,X8p[l8p].indexOf(v9VV.t7C))+G9VV.D7B+z8p),console.error(M8p.stack),X8p[l8p]=u8p;}}}var B8p;if(utils.nullOrUndefined(p8p)){var N8p=this.getColumnType(X8p[l8p],Y8p,o7f.F8C==D8p.length);B8p=this.getColumnName(X8p[l8p]);var s8p=this.getColumnCaption(B8p),F8p=this.getColumnAlias(X8p[l8p])||s8p;this.columnType[l8p]=N8p;this.columnNames.push(B8p);p8p={type:N8p,caption:F8p,uniqueName:B8p};if(N8p==n1p.types.DataFieldType.LEVEL){var q8p=B8p.split(g7f.t7C);p8p.hierarchy=q8p[o7f.F8C];p8p.level=q8p.pop();if(o7f.F8C<q8p.length){var K8p=q8p.pop();p8p.parent=K8p;}}}else{if(utils.nullOrUndefined(p8p.type)||!n1p.types.DataFieldType.valid(p8p.type))o7f.C4C==Y8p||void o7f.F8C===Y8p?p8p.type=n1p.types.DataFieldType.STRING:isNaN(Number(Y8p))?isNaN(Number(Y8p))&&(p8p.type=utils.StringUtils.isDate(Y8p)&&o1p.model._options.OptionsManager.datePattern==o1p.model._options.OptionsManager.defaultDatePattern?n1p.types.DataFieldType.DATE:n1p.types.DataFieldType.STRING):p8p.type=n1p.types.DataFieldType.NUMBER;B8p=this.getColumnName(u8p);if(utils.nullOrUndefined(p8p.caption)||o7f.C4C==p8p.caption.length)p8p.caption=this.getColumnCaption(B8p);this.columnType[l8p]=p8p.type;this.columnNames.push(B8p);}this.cube_.structure_.addDataField(p8p,B8p);}}catch(b8p){console.error(b8p.stack),this.onHeaderParsingError();}else this.onFileError();};a1p.prototype.getColumnValue=function(j8p){void U9VV.F8C!==j8p&&U9VV.x4C!==j8p&&(j8p=j8p.replace(v9VV.k6C,v9VV.f7C));return j8p;};a1p.prototype.getColumnCaption=function(o8p){var g8p=o8p.split(t1p.ALIAS_DELIMITER);if(U9VV.O8C<g8p.length)return g8p[U9VV.O8C];this.hasParentHierarchy(o8p)&&(g8p=o8p.split(v9VV.t7C));return g8p[g8p.length-U9VV.O8C];};a1p.prototype.getColumnName=function(n8p){var K7f=U9VV;n8p=n8p.trim().split(t1p.ALIAS_DELIMITER)[K7f.F8C];n8p=this.removeColumnFlags(n8p);if(-K7f.O8C<this.columnNames.indexOf(n8p)){for(var c8p=K7f.O8C,t8p=n8p;-K7f.O8C<this.columnNames.indexOf(t8p);)t8p=n8p+c8p,c8p++;n8p=t8p;}return n8p;};a1p.prototype.getColumnAlias=function(L8p){L8p=L8p.split(t1p.ALIAS_DELIMITER);return U9VV.O8C<L8p.length?L8p[U9VV.O8C]:U9VV.x4C;};a1p.prototype.removeColumnFlags=function(a8p){return a8p.replace(G9VV.x7B,U9VV.C4C);};a1p.prototype.getColumnType=function(h8p,R8p,A8p){var z7f=U9VV;var n7B="id+";var o7B="D4+";var g7B="D+";var j7B="w+";var b7B="m+";var M7B="d+";var O7B="ds+";var F7B="n+";var s7B="dt+";var K7B="t+";var e8p=n1p.types.DataFieldType.NUMBER;h8p=h8p.trim();if(utils.nullOrUndefined(R8p)&&!A8p)return n1p.types.DataFieldType.STRING;v9VV.D7C==h8p.charAt(z7f.F8C)?e8p=n1p.types.DataFieldType.STRING:K7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.TIME:s7B==h8p.substr(z7f.F8C,z7f.b8C)?e8p=n1p.types.DataFieldType.DATETIME:F7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.NUMBER:z7f.L2C==h8p.charAt(z7f.F8C)?e8p=n1p.types.DataFieldType.NUMBER:O7B==h8p.substr(z7f.F8C,z7f.b8C)?e8p=n1p.types.DataFieldType.DATE_STRING:M7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.DATE:b7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.MONTH:j7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.WEEKDAY:g7B==h8p.substr(z7f.F8C,z7f.M8C)?e8p=n1p.types.DataFieldType.HIERARCHICAL_DATE:o7B==h8p.substr(z7f.F8C,z7f.b8C)?e8p=n1p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:n7B==h8p.substr(z7f.F8C,z7f.b8C)?e8p=n1p.types.DataFieldType.ID:z7f.C4C==R8p||void z7f.F8C===R8p?e8p=n1p.types.DataFieldType.STRING:isNaN(Number(R8p))&&(e8p=utils.StringUtils.isDate(R8p)&&o1p.model._options.OptionsManager.datePattern==o1p.model._options.OptionsManager.defaultDatePattern?n1p.types.DataFieldType.DATE:n1p.types.DataFieldType.STRING);e8p==n1p.types.DataFieldType.STRING&&this.hasParentHierarchy(h8p)&&(e8p=n1p.types.DataFieldType.LEVEL);return e8p;};a1p.prototype.hasParentHierarchy=function(Q8p){var q7f=U9VV;v9VV.D7C==Q8p.charAt(q7f.F8C)&&(Q8p=Q8p.substr(q7f.O8C));return q7f.O8C<Q8p.split(v9VV.t7C).length&&-q7f.O8C<this.columnNames.indexOf(Q8p.split(v9VV.t7C)[q7f.F8C].trim());};a1p.prototype.parseDataRows=function(){var B7f=U9VV;for(var f8p=utils.getTimer(),k8p=this.data.length;B7f.V0C>utils.getTimer()-f8p&&this.rowIdx!=k8p;)this.parseDataRow(this.data[this.rowIdx++]);B7f.m0C<utils.getTimer()-this.preloaderTime&&this.isFileLoaded&&(f8p=o1p.model._labels.Labels.MESSAGE_ANALYZING_DATA,k8p=(this.rowIdx/this.data.length*B7f.o0C).toFixed(B7f.F8C),k8p=utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.rowIdx.toFixed(B7f.F8C)),utils.NumberFormatter.formatThousands(this.data.length.toFixed(B7f.F8C)),k8p),o1p.preloader(!B7f.F8C,f8p,k8p),this.preloaderTime=utils.getTimer());return this.isFileLoaded&&this.rowIdx>=this.data.length;};a1p.prototype.parseAllDataRows=function(){for(o1p.preloader(!U9VV.F8C,o1p.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(o1p.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(U9VV.F8C))));this.rowIdx<this.data.length;this.rowIdx++)this.parseDataRow(this.data[this.rowIdx]);};a1p.prototype.parseDataRow=function(J8p){var l7f=U9VV;if(!utils.nullOrEmpty(J8p)&&void l7f.F8C!==this.columnNames){J8p=utils.StringUtils.trim(J8p,this.fieldSeparator);if(J8p.split(this.fieldSeparator).length<this.columnNames.length)for(var E8p=J8p.split(this.fieldSeparator).length;E8p<this.columnNames.length;E8p++)J8p=J8p.concat(this.fieldSeparator);J8p+=l7f.s4C;for(var d8p=!l7f.O8C,y8p=!l7f.O8C,i8p=l7f.C4C,H8p=l7f.F8C,S8p=[],I8p=[],T8p=l7f.C4C,E8p=l7f.F8C;E8p<J8p.length;E8p++){var Z8p=J8p.charAt(E8p);E8p==J8p.length-l7f.O8C||Z8p==this.fieldSeparator&&!d8p?(E8p==J8p.length-l7f.O8C&&(i8p+=Z8p),i8p=i8p.trim(),i8p=i8p.replace(v9VV.J7C,l7f.C4C),i8p.charAt(l7f.F8C)==this.fieldEnclosureToken&&i8p.charAt(i8p.length-l7f.O8C)==this.fieldEnclosureToken&&(i8p=i8p.slice(l7f.O8C,i8p.length-l7f.O8C)),this.columnType[H8p]==n1p.types.DataFieldType.ID&&(T8p=i8p),o1p.model.XSSCheck.valid(i8p)||(i8p=o1p.model.XSSCheck.validate(i8p)),l7f.x4C!=this.columnNames[H8p]&&this.cube_.localDataStorage.addMember(this.columnNames[H8p],i8p,this.columnType[H8p],S8p,I8p),d8p=y8p=!l7f.O8C,i8p=l7f.C4C,H8p++):Z8p==this.fieldEnclosureToken?(y8p||(i8p+=Z8p),d8p=!d8p,y8p=!l7f.F8C):(i8p+=Z8p,y8p=!l7f.O8C);}this.cube_.localDataStorage.insert(S8p,I8p,T8p);}};a1p.prototype.appendData=function(m8p){var V7f=U9VV;void V7f.F8C!==this.lastRow&&V7f.F8C<this.lastRow.length&&(m8p=utils.StringUtils.concat(this.lastRow,m8p));m8p=this.splitLines(m8p);for(var w8p=V7f.F8C;w8p<m8p.length;w8p++)this.data.push(m8p[w8p]);!V7f.F8C!=this.isFileLoaded&&(this.lastRow=this.data.pop());};a1p.prototype.splitLines=function(r8p){var W7f=U9VV;var t7B="<br/>";var P8p=!W7f.O8C;r8p=r8p.split(this.recordsetDelimiter);if(!W7f.O8C==this.ignoreQuotedLineBreaks)for(var C8p=W7f.F8C;C8p<r8p.length;C8p++)P8p?(this.isQuoteOpen(r8p[C8p])&&(P8p=!W7f.O8C),r8p[C8p-W7f.O8C]+=t7B+r8p[C8p],r8p.splice(C8p,W7f.O8C),C8p--):this.isQuoteOpen(r8p[C8p])&&(P8p=!W7f.F8C);return r8p;};a1p.prototype.isQuoteOpen=function(U0p){return U9VV.O8C==this.countChar(U0p,this.fieldEnclosureToken)%U9VV.M8C;};a1p.prototype.countChar=function(G0p,V0p){var W0p=U9VV.F8C;if(G0p)for(var v0p=U9VV.F8C;v0p<G0p.length;v0p++)G0p.charAt(v0p)==V0p&&W0p++;return W0p;};a1p.prototype.chooseSeparator=function(l0p){var U7f=v9VV;if(void U9VV.F8C==this.fieldSeparator){var p0p=l0p.split(U7f.k6C).length;l0p=l0p.split(U7f.F9Q).length;return p0p>l0p?U7f.k6C:U7f.F9Q;}};a1p.splitRow=function(q0p,x0p,u0p){var r5f=U9VV;void r5f.F8C===u0p&&(u0p=v9VV.U9Q);if(r5f.x4C==q0p)return[];for(var X0p=r5f.C4C,z0p=!r5f.O8C,N0p=!r5f.O8C,D0p=[],B0p=r5f.F8C;B0p<q0p.length;B0p++){var Y0p=q0p.charAt(B0p);B0p==q0p.length-r5f.O8C||Y0p==x0p&&!z0p?(B0p==q0p.length-r5f.O8C&&Y0p==x0p?(D0p.push(X0p),X0p=r5f.C4C):B0p==q0p.length-r5f.O8C&&(X0p+=Y0p),X0p=X0p.trim(),X0p.charAt(r5f.F8C)==u0p&&X0p.charAt(X0p.length-r5f.O8C)==u0p&&(X0p=X0p.slice(r5f.O8C,X0p.length-r5f.O8C)),z0p=N0p=!r5f.O8C,D0p.push(X0p),X0p=r5f.C4C):Y0p==u0p?(N0p||(X0p+=Y0p),z0p=!z0p,N0p=!r5f.F8C):(X0p+=Y0p,N0p=!r5f.O8C);}return D0p;};a1p.splitRowWithMeta=function(O0p,c0p,b0p,n0p,t0p){var m5f=U9VV;void m5f.F8C===b0p&&(b0p=v9VV.U9Q);void m5f.F8C===n0p&&(n0p=v9VV.w7C);void m5f.F8C===t0p&&(t0p=v9VV.C7C);if(m5f.x4C==O0p)return[];for(var K0p=m5f.C4C,M0p=!m5f.O8C,j0p=!m5f.O8C,g0p=!m5f.O8C,o0p=[],F0p=m5f.F8C;F0p<O0p.length;F0p++){var s0p=O0p.charAt(F0p);F0p==O0p.length-m5f.O8C||s0p==c0p&&!M0p&&!g0p?(F0p==O0p.length-m5f.O8C&&s0p==c0p?(o0p.push(K0p),K0p=m5f.C4C):F0p==O0p.length-m5f.O8C&&(K0p+=s0p),K0p=K0p.trim(),K0p.charAt(m5f.F8C)==b0p&&K0p.charAt(K0p.length-m5f.O8C)==b0p&&(K0p=K0p.slice(m5f.O8C,K0p.length-m5f.O8C)),g0p=M0p=j0p=!m5f.O8C,o0p.push(K0p),K0p=m5f.C4C):s0p==b0p?(j0p||(K0p+=s0p),M0p=!M0p,j0p=!m5f.F8C):(j0p=!m5f.O8C,s0p==n0p?g0p=!m5f.F8C:s0p==t0p&&(g0p=!m5f.O8C),K0p+=s0p);}return o0p;};a1p.timeCaption=function(L0p){return L0p&&U9VV.F8C<L0p.length?L0p:o1p.model._labels.Labels.INVALID_DATE;};a1p.prototype.loadMembers=function(a0p,e0p,h0p){};a1p.prototype.loadMemberChildren=function(R0p,A0p,Q0p,k0p){};a1p.prototype.loadMemberDescendants=function(f0p,i0p,J0p,E0p){};a1p.prototype.searchMembers=function(H0p,Z0p,y0p,d0p){};a1p.prototype.cancel=function(){this.clear();this.connectedHandler=this.errorHandler=this.successHandler=U9VV.x4C;};return a1p;}();c1p.CSVLoader=L1p;var t1p=function(){var a7B="+T+";var L7B="F";var c7B="N";S0p.NAN=c7B;S0p.FLOAT=L7B;S0p.DELIMITER=v9VV.m7C;S0p.NEW_LINE=v9VV.m6C;function S0p(){}S0p.ALIAS_DELIMITER=a7B;return S0p;}();c1p.Consts=t1p;}(n1p.csv||(n1p.csv={})));}(o1p.data_||(o1p.data_={})));}(pivot||(pivot={})));(function(I0p){(function(T0p){(function(m0p){var w0p=function(){r0p.prototype.load=function(C0p,P0p,U4p,v4p,G4p){try{this.clear(),this._connectionInfo=C0p,this._successHandler=P0p,this.connectedHandler=v4p,this.cancelledHandler=G4p,this._errorHandler=U4p,this._embedded=this._connectionInfo.embedded,this._dataOffset=this._connectionInfo.embeddedDataOffset,this._dataToLoad=this._connectionInfo.embeddedDataToLoad,this._embeddedDataStarted=!U9VV.O8C,this._embedded&&U9VV.x4C!=this._dataToLoad&&this.loadEmbedded(this._dataToLoad);}catch(W4p){console.error(W4p.stack),this.onFileError();}};r0p.prototype.defineCurrentDataSigns=function(V4p){this._currentDataStartSign=-U9VV.O8C<V4p.indexOf(this._embeddedDataJSONStartSign)?this._embeddedDataJSONStartSign:this._embeddedDataStartSign;this._currentDataStopSign=this._currentDataStartSign==this._embeddedDataJSONStartSign?this._embeddedDataJSONStopSign:this._embeddedDataStopSign;};r0p.prototype.loadEmbedded=function(Y4p){var B4p=this;this.BLOCK_SIZE=v9VV.A5C;this._bytesLoaded=U9VV.F8C;try{var l4p=new I0p.DataStream(Y4p,this._dataOffset,I0p.DataStream.BIG_ENDIAN);utils.getTimer();var p4p=l4p.byteLength>this.BLOCK_SIZE?this.BLOCK_SIZE:l4p.byteLength,X4p=l4p.readString(p4p);this.defineCurrentDataSigns(X4p);this._dataStrFromBytes=U9VV.C4C;this._dataStrFromBytes+=X4p.substring(this._currentDataStartSign.length);this._bytesLoaded+=p4p;this._bytesToLoad=l4p.byteLength;if(this._bytesLoaded<this._bytesToLoad)utils.ThreadManager.addTask(this.loadBytes,this,l4p,function(){return B4p.onComplete();});else this.onComplete();}catch(q4p){console.error(q4p.stack),this.onFileError();}};r0p.prototype.loadBytes=function(u4p){var z4p=this._bytesToLoad-this._bytesLoaded>this.BLOCK_SIZE?this.BLOCK_SIZE:this._bytesToLoad-this._bytesLoaded;u4p=u4p.readString(z4p);this._bytesLoaded+=z4p;this._dataStrFromBytes+=u4p;this.showLoadingProgress(this._bytesLoaded,this._bytesToLoad);return this._bytesLoaded>=this._bytesToLoad;};r0p.prototype.showLoadingProgress=function(D4p,x4p){var N4p=utils.StringUtils.bind(I0p.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(D4p/x4p*U9VV.o0C).toFixed(U9VV.F8C)+G9VV.o2B);I0p.preloader(!U9VV.F8C,I0p.model._labels.Labels.MESSAGE_LOADING,N4p);};r0p.prototype.onComplete=function(){I0p.preloader(!U9VV.O8C);this._isFileLoaded=!U9VV.F8C;this.processStringFromBytes(this._dataStrFromBytes);};r0p.prototype.setConnected=function(){U9VV.x4C!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=U9VV.x4C);};r0p.prototype.processStringFromBytes=function(K4p){K4p=utils.StringUtils.trimLeft(K4p);this.parseChunk(K4p);};r0p.prototype.onTick=function(){var Q5f=U9VV;var R0C=196;this._timerCount++;if(Q5f.F8C<this._bytesLoaded||this._isFileLoaded||this._isFileFailed)utils.fmClearInterval(this._timer),this._timerCount=Q5f.F8C;else{var s4p=this._timerCount/Q5f.L8C;this._isConnected?(R0C<s4p&&(s4p=R0C),s4p=utils.NumberFormatter.format(s4p/Q5f.M8C,new I0p.model.format.vo.FormatValueObject(),!Q5f.O8C,!Q5f.O8C,Q5f.O8C)+G9VV.o2B):s4p=utils.StringUtils.bind(I0p.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(s4p,new I0p.model.format.vo.FormatValueObject(),!Q5f.O8C,!Q5f.O8C,Q5f.O8C));I0p.preloader(!Q5f.F8C,I0p.model._labels.Labels.MESSAGE_LOADING_DATA,s4p);}};r0p.prototype.onFileError=function(){var A5f=U9VV;utils.fmClearInterval(this._timer);I0p.preloader(!A5f.O8C);!A5f.O8C==this._isFileFailed&&(this._isFileFailed=!A5f.F8C,I0p.uialert(utils.StringUtils.bind(I0p.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,A5f.C4C),I0p.model._labels.Labels.ERROR,I0p.AlertType.ERROR));A5f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=A5f.x4C);this.clear();};r0p.prototype.parseChunk=function(F4p){var R5f=U9VV;this._isStarted=!R5f.F8C;this.setConnected();this.appendData(F4p);!R5f.O8C==this._isHeaderParsed&&R5f.O8C<this._data.length&&(this._data.shift(),this.parseHeader(this._data.shift()),this._isHeaderParsed=!R5f.F8C,this.parseAllDataRows(),this.onDataParsed());};r0p.prototype.appendData=function(O4p){var h5f=U9VV;void h5f.F8C!==this._lastRow&&h5f.F8C<this._lastRow.length&&(O4p=utils.StringUtils.concat(this._lastRow,O4p));O4p=h5f.F8C<=O4p.indexOf(this.RECORDSET_DELIMITER)?O4p.split(this.RECORDSET_DELIMITER):[];for(var M4p=h5f.F8C;M4p<O4p.length;M4p++)this._data.push(O4p[M4p]);!h5f.F8C!=this._isFileLoaded&&(this._lastRow=this._data.pop(),this._lastRow=this._lastRow==this._currentDataStopSign?this._data.pop():this._lastRow);};r0p.prototype.parseHeader=function(j4p){var a5f=U9VV;j4p=m0p.CSVLoader.splitRowWithMeta(j4p,this.FIELD_DELIMITER);this._columnNames=[];for(var b4p=a5f.F8C;b4p<j4p.length;b4p++){var g4p=j4p[b4p],o4p={};if(a5f.F8C<j4p[b4p].length&&-a5f.O8C<j4p[b4p].indexOf(v9VV.w7C)){var n4p=j4p[b4p].substr(j4p[b4p].indexOf(v9VV.t7C)+a5f.O8C,j4p[b4p].length);if(a5f.F8C<n4p.length){g4p=j4p[b4p].substring(a5f.F8C,j4p[b4p].indexOf(v9VV.t7C));try{o4p=JSON.parse(n4p);}catch(t4p){console.error(G9VV.N7B+j4p[b4p].substring(a5f.F8C,j4p[b4p].indexOf(v9VV.t7C))+G9VV.D7B+n4p),console.error(t4p.stack);}}}g4p=this.getColumnName(g4p);if(utils.nullOrUndefined(o4p.caption)||a5f.C4C==o4p.caption.length)o4p.caption=this.getColumnCaption(g4p);this._columnType[b4p]=o4p.type;this._columnNames.push(g4p);this._cube.structure_.addDataField(o4p,g4p);}};r0p.prototype.getColumnCaption=function(L4p){var c4p=L4p.split(m0p.Consts.ALIAS_DELIMITER);if(U9VV.O8C<c4p.length)return c4p[U9VV.O8C];this.hasParentHierarchy(L4p)&&(c4p=L4p.split(v9VV.t7C));return c4p[c4p.length-U9VV.O8C];};r0p.prototype.hasParentHierarchy=function(a4p){var n5f=U9VV;v9VV.D7C==a4p.charAt(n5f.F8C)&&(a4p=a4p.substr(n5f.O8C));return n5f.O8C<a4p.split(v9VV.t7C).length&&-n5f.O8C<this._columnNames.indexOf(a4p.split(v9VV.t7C)[n5f.F8C].trim());};r0p.prototype.getColumnName=function(e4p){var g5f=U9VV;e4p=e4p.trim().split(m0p.Consts.ALIAS_DELIMITER)[g5f.F8C];e4p=this.removeColumnFlags(e4p);e4p=this.decodeChars(e4p);if(-g5f.O8C<this._columnNames.indexOf(e4p)){for(var R4p=g5f.O8C,h4p=e4p;-g5f.O8C<this._columnNames.indexOf(h4p);)h4p=e4p+R4p,R4p++;e4p=h4p;}return e4p;};r0p.prototype.removeColumnFlags=function(A4p){return A4p.replace(G9VV.x7B,U9VV.C4C);};r0p.prototype.parseAllDataRows=function(){for(I0p.preloader(!U9VV.F8C,I0p.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(I0p.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this._data.length.toFixed(U9VV.F8C))));this._rowIdx<this._data.length;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);};r0p.prototype.parseDataRows=function(){var O5f=U9VV;var k4p=utils.getTimer(),Q4p=this._rowIdx+this.BLOCK_SIZE;for(Q4p>this._data.length&&(Q4p=this._data.length);this._rowIdx<Q4p;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);this.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-k4p,this.BLOCK_SIZE);v9VV.N6C<utils.getTimer()-this._preloaderTime&&this._isFileLoaded&&(k4p=I0p.model._labels.Labels.MESSAGE_ANALYZING_DATA,Q4p=(this._rowIdx/this._data.length*O5f.o0C).toFixed(O5f.F8C),Q4p=utils.StringUtils.bind(I0p.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this._rowIdx.toFixed(O5f.F8C)),utils.NumberFormatter.formatThousands(this._data.length.toFixed(O5f.F8C)),Q4p),I0p.preloader(!O5f.F8C,k4p,Q4p),this._preloaderTime=utils.getTimer());return this._isFileLoaded&&this._rowIdx>=this._data.length;};r0p.prototype.parseDataRow=function(f4p){if(!utils.nullOrEmpty(f4p)&&void U9VV.F8C!==this._columnNames&&f4p!=this._currentDataStopSign){if(f4p.split(this.FIELD_DELIMITER).length<this._columnNames.length)for(var i4p=f4p.split(this.FIELD_DELIMITER).length;i4p<this._columnNames.length;i4p++)f4p=f4p.concat(this.FIELD_DELIMITER);var J4p=[],E4p=[];f4p=f4p.split(this.FIELD_DELIMITER);for(i4p=U9VV.F8C;i4p<f4p.length;i4p++)this.parseDataValue(f4p[i4p],i4p,J4p,E4p);this._cube.localDataStorage.insert(J4p,E4p);}};r0p.prototype.parseDataValue=function(y4p,Z4p,I4p,T4p){var x5f=U9VV;var S4p=!x5f.F8C;if(x5f.x4C!=this._columnNames[Z4p]){if(this._columnType[Z4p]==T0p.types.DataFieldType.STRING||this._columnType[Z4p]==T0p.types.DataFieldType.WEEKDAY||this._columnType[Z4p]==T0p.types.DataFieldType.MONTH){if(v9VV.g9Q==y4p.charAt(x5f.F8C)){var H4p=parseInt(y4p.substring(x5f.O8C));if(!x5f.O8C==isNaN(H4p)){var d4p=this._cube.structure_.getDataField(this._columnNames[Z4p]),H4p=d4p.members.getItemAt(H4p+x5f.O8C);x5f.x4C!=H4p&&(y4p=H4p.caption==I0p.model._labels.Labels.MEMBER_BLANK?x5f.C4C:H4p.caption,S4p=!x5f.O8C);}}}else if(this._columnType[Z4p]==T0p.types.DataFieldType.LEVEL)v9VV.g9Q==y4p.charAt(x5f.F8C)&&(H4p=parseInt(y4p.substring(x5f.O8C)),!x5f.O8C==isNaN(H4p)&&(d4p=this._cube.structure_.getDataField(this._columnNames[Z4p]),x5f.x4C==d4p.members&&(d4p=this._cube.structure_.getDataField(this._columnNames[Z4p]).hierarchy),H4p=d4p.members.getItemAt(H4p+x5f.O8C),x5f.x4C!=H4p&&(y4p=H4p.caption==I0p.model._labels.Labels.MEMBER_BLANK?x5f.C4C:H4p.caption,S4p=!x5f.O8C)));else if(this._columnType[Z4p]==T0p.types.DataFieldType.DATE||this._columnType[Z4p]==T0p.types.DataFieldType.DATE_STRING||this._columnType[Z4p]==T0p.types.DataFieldType.HIERARCHICAL_DATE||this._columnType[Z4p]==T0p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)y4p=v9VV.N6C*parseInt(y4p),S4p=!x5f.O8C;!x5f.F8C==S4p&&(y4p=this.decodeChars(y4p));this._cube.localDataStorage.addMember(this._columnNames[Z4p],y4p,this._columnType[Z4p],I4p,T4p);}};r0p.prototype.decodeChars=function(m4p){return m4p.replace(this.regDelimiter,v9VV.k6C).replace(this.regQuote,v9VV.U9Q).replace(this.regNewline,v9VV.m6C);};r0p.prototype.onDataParsed=function(){I0p.preloader(!U9VV.O8C);this._isHeaderParsed?this.successHandler():(I0p.uialert(I0p.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,I0p.model._labels.Labels.ERROR,I0p.AlertType.ALERT),this.errorHandler(),this._errorHandler=U9VV.x4C);this.clear();};r0p.prototype.clear=function(){var z5f=U9VV;this._data=[];this._currentDataStopSign=this._currentDataStartSign=z5f.C4C;this._bytesLoaded=z5f.F8C;this._isConnected=!z5f.O8C;this._columnType=[];this._hasSizeHeader=this._isFileFailed=this._isFileLoaded=this._isHeaderParsed=!z5f.O8C;this._lastRow=z5f.C4C;this._rowIdx=z5f.F8C;this.BLOCK_SIZE=z5f.o0C;utils.fmClearInterval(this._timer);};r0p.prototype.successHandler=function(){U9VV.x4C!=this._successHandler&&this._successHandler();};r0p.prototype.errorHandler=function(){U9VV.x4C!=this._errorHandler&&this._errorHandler();};function r0p(){var X5f=v9VV;var p5f=U9VV;var A7B="g";var e7B="--\x3e";this._embedded=!p5f.O8C;this._dataOffset=p5f.F8C;this.FIELD_DELIMITER=X5f.k6C;this.RECORDSET_DELIMITER=X5f.m6C;this._cube=T0p.Cube.getInstance();this._isStarted=!p5f.O8C;this._embeddedDataStartSign=X5f.S8B;this._embeddedDataStopSign=e7B;this._embeddedDataJSONStartSign=X5f.d8B;this._embeddedDataJSONStopSign=G9VV.h7B;this._currentDataStopSign=this._currentDataStartSign=p5f.C4C;this._preloaderTime=p5f.F8C;this.regDelimiter=RegExp(G9VV.R7B,A7B);this.regQuote=RegExp(G9VV.Q7B,A7B);this.regNewline=RegExp(W9VV.k7B,A7B);}r0p.prototype.loadDimensions=function(w4p){};r0p.prototype.loadHierarchies=function(r4p){};r0p.prototype.loadLevels=function(C4p){};r0p.prototype.loadMeasures=function(P4p){};r0p.prototype.loadMembers=function(U2p,v2p,G2p){};r0p.prototype.loadMemberChildren=function(W2p,V2p,l2p,p2p){};r0p.prototype.loadMemberDescendants=function(X2p,B2p,Y2p,q2p){};r0p.prototype.searchMembers=function(u2p,z2p,N2p,D2p){};r0p.prototype.cancel=function(){this.connectedHandler=this.errorHandler=this.successHandler=U9VV.x4C;};return r0p;}();m0p.CSVEmbeddedLoader=w0p;}(T0p.csv||(T0p.csv={})));}(I0p.data_||(I0p.data_={})));}(pivot||(pivot={})));(function(x2p){(function(K2p){(function(F2p){var O2p=function(){M2p.prototype.getData=function(b2p){this._callback=b2p;x2p.preloader(!U9VV.F8C,x2p.model._labels.Labels.MESSAGE_SAVING);this.preprocessHeader();this.composeData();};M2p.prototype.preprocessHeader=function(){this._allHierarchies=K2p.Cube.getInstance().structure_.allHierarchies();this._columnsList=[];var j2p;for(this._colIdx=U9VV.F8C;this._colIdx<this._allHierarchies.length;){j2p=this._allHierarchies.getItemAt(this._colIdx);var g2p=K2p.Cube.getInstance().structure_.hierarchyToMeasure(j2p.uniqueName).type;g2p!=K2p.types.MeasureType.COUNT&&g2p!=K2p.types.MeasureType.DATE?this.processMeasureColumn(K2p.Cube.getInstance().structure_.hierarchyToMeasure(j2p.uniqueName)):this.processHierarchyColumn(j2p);this._colIdx++;}};M2p.prototype.composeData=function(){var o2p=this;this._rowIdx=U9VV.F8C;this._data=U9VV.C4C;this._facts=K2p.Cube.getInstance().localDataStorage.getFacts();this._tuples=K2p.Cube.getInstance().localDataStorage.getTuples();utils.ThreadManager.addTask(this.composeLine,this,U9VV.x4C,function(){return o2p.onDataCreated();});};M2p.prototype.composeLine=function(){var n2p=utils.getTimer();for(this._colIdxDifference=this._colIdx=U9VV.F8C;this._rowIdx<this._tuples.length;){for(;this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length;)this.addMember(this.composeMember()),this._colIdx++;this._rowIdx++;this._data+=v9VV.m6C;this._colIdxDifference=this._colIdx=U9VV.F8C;if(U9VV.o0C<utils.getTimer()-n2p)break;}this.showSavingProgress(this._rowIdx,this._tuples.length);return this._rowIdx>=this._tuples.length;};M2p.prototype.composeMember=function(){var r6f=U9VV;var t2p=this._columnsList[this._colIdx].type,c2p;t2p!=K2p.types.DataFieldType.DATE&&t2p!=K2p.types.DataFieldType.DATE_STRING&&t2p!=K2p.types.DataFieldType.LEVEL&&t2p!=K2p.types.DataFieldType.HIERARCHICAL_DATE&&t2p!=K2p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&t2p!=K2p.types.DataFieldType.TIME&&t2p!=K2p.types.DataFieldType.DATETIME&&(c2p=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption);if(t2p==K2p.types.DataFieldType.NUMBER)return r6f.x4C!=c2p?c2p.toString():r6f.C4C;if(t2p!=K2p.types.DataFieldType.STRING&&t2p!=K2p.types.DataFieldType.WEEKDAY&&t2p!=K2p.types.DataFieldType.MONTH){if(t2p==K2p.types.DataFieldType.LEVEL){t2p=this._allHierarchies.getItem(this._columnsList[this._colIdx].hierarchy);c2p=t2p.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;for(var L2p=this._colIdx,a2p=r6f.F8C;a2p<t2p.levels_.length-r6f.M8C;a2p++)this.addMember(this.composeStringData(c2p,L2p)),this._colIdx++,c2p=r6f.x4C==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]||r6f.C4C==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]+r6f.C4C?r6f.C4C:t2p.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;return this.composeStringData(c2p,L2p);}if(t2p==K2p.types.DataFieldType.DATE_STRING)return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/v9VV.N6C+r6f.C4C;if(t2p==K2p.types.DataFieldType.DATE)return c2p=r6f.C4C,t2p=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+G9VV.k5B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),c2p+=t2p.caption+r6f.L2C,this._colIdxDifference++,t2p=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+G9VV.i5B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),c2p+=t2p.caption+r6f.L2C,this._colIdxDifference++,t2p=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+G9VV.J5B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),c2p+=t2p.caption,new Date(c2p).getTime()/v9VV.N6C+Math.abs(r6f.Y0C*new Date().getTimezoneOffset())+r6f.C4C;if(t2p==K2p.types.DataFieldType.HIERARCHICAL_DATE||t2p==K2p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)return this.composeHierarchicalDateData(t2p);if(t2p==K2p.types.DataFieldType.TIME||t2p==K2p.types.DataFieldType.DATETIME)return this._facts[this._rowIdx][this._colIdx+this._colIdxDifference]+r6f.C4C;}return this.composeStringData(c2p);};function M2p(){this.NaN=W9VV.f7B;this._embeddedJSONDataStart=v9VV.d8B;this._embeddedJSONDataFinish=G9VV.h7B;}M2p.prototype.addMember=function(e2p){this._data+=e2p==this.NaN||e2p==x2p.model._labels.Labels.MEMBER_BLANK?U9VV.C4C:e2p;this._data+=this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length-U9VV.O8C?v9VV.k6C:U9VV.C4C;};M2p.prototype.composeStringData=function(h2p,R2p){void U9VV.F8C===R2p&&(R2p=this._colIdx);if(U9VV.C4C==h2p)return h2p;this._columnsList[R2p].members.keyExists(h2p)||this._columnsList[R2p].members.addItem(h2p,this._columnsList[R2p].members.length);return this.encodeChars(h2p);};M2p.prototype.encodeChars=function(A2p){return A2p.replace(/,/g,G9VV.R7B).replace(/\"/g,G9VV.Q7B).replace(/\n/g,W9VV.k7B);};M2p.prototype.composeHierarchicalDateData=function(Q2p){this._colIdxDifference+=U9VV.M8C;this._colIdxDifference=Q2p==K2p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS?this._colIdxDifference+U9VV.O8C:this._colIdxDifference;return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/v9VV.N6C+U9VV.C4C;};M2p.prototype.onDataCreated=function(){x2p.preloader(!U9VV.O8C);U9VV.x4C!=this._callback&&this._callback(this.getResult());};M2p.prototype.processHierarchyColumn=function(k2p){var f2p=this.getHierarchyType(k2p);f2p==K2p.types.DataFieldType.LEVEL?this.processLevelsColumn(k2p):f2p==K2p.types.DataFieldType.DATE?(this._columnsList.push(this.createColumn(f2p,k2p.dimension.uniqueName,k2p.dimension.caption)),this._colIdx+=U9VV.M8C):this._columnsList.push(this.createColumn(f2p,k2p.uniqueName,k2p.caption));};M2p.prototype.getResult=function(){var k6f=v9VV;var d7B=', "caption": "';var y7B=', "parent": "';var Z7B=', "level": "';var H7B=', "hierarchy": "';var E7B='"type": "';var J7B=":{";var i7B="\n___csv___WDR___";for(var J2p=this._embeddedJSONDataStart+i7B+x2p.Pivot.BUILD_VERSION+k6f.m6C,i2p=U9VV.F8C;i2p<this._columnsList.length;i2p++)J2p+=this._columnsList[i2p].uniqueName,J2p+=J7B,J2p+=E7B+this._columnsList[i2p].type+k6f.U9Q,this._columnsList[i2p].isLevel?(J2p+=H7B+this._columnsList[i2p].hierarchy+k6f.U9Q,J2p+=Z7B+this._columnsList[i2p].uniqueName+k6f.U9Q,utils.nullOrUndefined(this._columnsList[i2p].parent)||(J2p+=y7B+this._columnsList[i2p].parent+k6f.U9Q)):this._columnsList[i2p].uniqueName!=this._columnsList[i2p].caption&&(J2p+=d7B+this._columnsList[i2p].caption+k6f.U9Q),J2p+=k6f.C7C,J2p+=i2p<this._columnsList.length-U9VV.O8C?k6f.k6C:U9VV.C4C;return J2p+k6f.m6C+this._data+this._embeddedJSONDataFinish;};M2p.prototype.processMeasureColumn=function(E2p){this._columnsList.push(this.createColumn(K2p.types.MeasureType.toDataFieldType(E2p.type),E2p.uniqueName,E2p.originalCaption,!U9VV.F8C));};M2p.prototype.processLevelsColumn=function(H2p){var A6f=U9VV;var I2p=H2p.uniqueName;H2p=H2p.levels_;for(var Z2p,d2p,y2p=A6f.O8C;y2p<H2p.length;y2p++){d2p=y2p;Z2p=H2p.getItem(H2p.getKeyAt(y2p));var S2p;A6f.O8C<d2p&&(S2p=H2p.getItem(H2p.getKeyAt(d2p-A6f.O8C)).uniqueName);Z2p=this.createColumn(K2p.types.DataFieldType.LEVEL,Z2p.uniqueName,Z2p.caption);Z2p.isLevel=!A6f.F8C;Z2p.hierarchy=I2p;utils.nullOrUndefined(S2p)||(Z2p.parent=S2p);this._columnsList.push(Z2p);}};M2p.prototype.getHierarchyType=function(T2p){var h6f=U9VV;if(T2p.dimension.type.toString()==K2p.types.DataFieldType.DATE_STRING)return K2p.types.DataFieldType.DATE_STRING;var m2p=K2p.types.DataFieldType.typeName(T2p.type);h6f.M8C<T2p.levels_.length&&(m2p=h6f.j8C==T2p.levels_.length&&T2p.levels_.getItemAt(h6f.O8C).uniqueName==T2p.uniqueName+G9VV.k5B?K2p.types.DataFieldType.HIERARCHICAL_DATE:h6f.g8C==T2p.levels_.length&&T2p.levels_.getItemAt(h6f.O8C).uniqueName==T2p.uniqueName+G9VV.k5B?K2p.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:K2p.types.DataFieldType.LEVEL);return m2p;};M2p.prototype.showSavingProgress=function(r2p,C2p){var w2p=utils.StringUtils.bind(x2p.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(r2p/C2p*U9VV.o0C).toFixed(U9VV.F8C)+G9VV.o2B);x2p.preloader(!U9VV.F8C,x2p.model._labels.Labels.MESSAGE_SAVING,w2p);};M2p.prototype.createColumn=function(v3p,G3p,W3p,U3p){void U9VV.F8C===U3p&&(U3p=!U9VV.O8C);var P2p=new s2p();P2p.type=v3p;P2p.uniqueName=G3p;P2p.caption=W3p;P2p.isMeasure=U3p;return P2p;};return M2p;}();F2p.CSVSaver=O2p;var s2p=function(){var F8f=U9VV;var I7B="isLevel";var S7B="isMeasure";Object.defineProperty(V3p.prototype,v9VV.a1Q,{get:function(){return this._members;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,F8f.W3C,{get:function(){return this._type;},set:function(l3p){this._type=l3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,G9VV.M6B,{get:function(){return this._uniqueName;},set:function(p3p){this._uniqueName=p3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,v9VV.W0B,{get:function(){return this._caption;},set:function(X3p){this._caption=X3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,S7B,{get:function(){return this._isMeasure;},set:function(B3p){this._isMeasure=B3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,I7B,{get:function(){return this._isLevel;},set:function(Y3p){this._isLevel=Y3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,G9VV.U5B,{get:function(){return this._hierarchyUniqueName;},set:function(q3p){this._hierarchyUniqueName=q3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});Object.defineProperty(V3p.prototype,F8f.q2C,{get:function(){return this._parentUniqueName;},set:function(u3p){this._parentUniqueName=u3p;},enumerable:!F8f.F8C,configurable:!F8f.F8C});function V3p(){this._isLevel=!F8f.O8C;this._members=new utils.AssociativeArray();}return V3p;}();F2p.Column=s2p;}(K2p.csv||(K2p.csv={})));}(x2p.data_||(x2p.data_={})));}(pivot||(pivot={})));(function(z3p){(function(N3p){(function(x3p){var D3p=function(s3p){var T7B="Too much records!";__extends(K3p,s3p);K3p.prototype.load=function(O3p,M3p,b3p,j3p,g3p){var n6f=U9VV;this.clear();this.successHandler=M3p;this.errorHandler=b3p;this.connectedHandler=j3p;this.cancelledHandler=g3p;!n6f.F8C===O3p.browseForFile?this.browseFile():void n6f.F8C!==O3p.filename&&n6f.C4C!=O3p.filename&&v9VV.S5C!=O3p.filename.substr(-n6f.M8C)?s3p.prototype.load.call(this,O3p,M3p,b3p,j3p,g3p):this.addData(O3p.data);};K3p.prototype.onFileProgress=function(o3p){if(!utils.nullOrUndefined(this.loader))try{if(G9VV.q7B<o3p.loaded-this.bytesLoaded){var n3p=utils.StringUtils.bind(z3p.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands((o3p.loaded/v9VV.N6C).toFixed(U9VV.F8C)),utils.NumberFormatter.formatThousands((o3p.total/v9VV.N6C).toFixed(U9VV.F8C)));z3p.preloader(!U9VV.F8C,z3p.model._labels.Labels.MESSAGE_LOADING_DATA,n3p);}this.bytesLoaded=o3p.loaded;}catch(t3p){console.error(t3p.stack),this.onFileError();}};function K3p(){var F3p=s3p.call(this)||this;F3p.CHUNK_SIZE=G9VV.q7B;F3p.factsCounter=U9VV.F8C;F3p.fileExtensions=[v9VV.m8B,v9VV.T8B];return F3p;}K3p.prototype.onFileComplete=function(){var F6f=U9VV;if(!utils.nullOrUndefined(this.loader)){var c3p=this.loader.response;this.connected=!F6f.F8C;c3p.length>z3p.model.license.Limitations.MAX_JSON?(z3p.uialert(z3p.model.license.LicenseLabels.getLabel(z3p.model.license.LicenseLabels.betaversion),z3p.model.license.LicenseLabels.getLabel(z3p.model.license.LicenseLabels.tooLarge)),z3p.preloader(!F6f.O8C),F6f.x4C!=this.errorHandler&&(this.errorHandler(),this.errorHandler=F6f.x4C),this.clear()):(this.isFileLoaded=!F6f.F8C,this.parseChunk(c3p));}};K3p.prototype.parseChunk=function(a3p){try{var L3p=JSON.parse(a3p);utils.nullOrUndefined(L3p.items)||(L3p=L3p.items);if(utils.nullOrUndefined(L3p.length)){this.invalidFormat();return;}}catch(e3p){this.invalidFormat();return;}z3p.preloader(!U9VV.O8C);this.addData(L3p);};K3p.prototype.addData=function(h3p){var x6f=U9VV;utils.nullOrUndefined(h3p.items)||(h3p=h3p.items);if(!(utils.nullOrUndefined(h3p)||x6f.O8C>h3p.length))if(h3p.toString().length>z3p.model.license.Limitations.MAX_JSON)z3p.uialert(T7B,v9VV.S5Q);else{this.setConnected();var R3p=!x6f.O8C,A3p=h3p[x6f.F8C]&&h3p[x6f.F8C]instanceof Array;A3p?this.parseHeader(h3p[x6f.F8C].toString(),h3p[x6f.O8C].toString()):R3p=this.cube_.structure_.addDataStructure(h3p[x6f.F8C]);this.data=h3p.slice();this.factsCounter=x6f.F8C;(R3p||A3p)&&this.data.shift();this.parseAllDataRows();this.onParseComplete();}};K3p.prototype.updateData=function(Q3p){var N6f=U9VV;if(!(utils.nullOrUndefined(Q3p)||N6f.O8C>Q3p.length))if(Q3p.toString().length>z3p.model.license.Limitations.MAX_JSON)z3p.uialert(T7B,v9VV.S5Q);else{this.cube_.localDataStorage.clearUpdates();for(var f3p=Q3p[N6f.O8C]&&Q3p[N6f.O8C]instanceof Array,k3p=N6f.F8C;k3p<Q3p.length;k3p++)f3p?this.cube_.localDataStorage.insertArray(Q3p[k3p],!N6f.F8C):this.cube_.localDataStorage.insertObject(Q3p[k3p],!N6f.F8C);}};K3p.prototype.onParseComplete=function(){z3p.preloader(!U9VV.O8C);this.successHandler();};K3p.prototype.parseDataRow=function(J3p){var u6f=U9VV;var i3p=this.factsCounter;J3p=i3p+this.CHUNK_SIZE;for(var E3p=this.data[u6f.O8C]&&this.data[u6f.O8C]instanceof Array;i3p<J3p;i3p++){if(i3p==this.data.length)return!u6f.F8C;E3p?this.cube_.localDataStorage.insertArray(this.data[i3p]):this.cube_.localDataStorage.insertObject(this.data[i3p]);this.factsCounter++;}J3p=Math.round(this.factsCounter/this.data.length*u6f.o0C);u6f.o0C<J3p&&(J3p=u6f.o0C);z3p.preloader(!u6f.F8C,z3p.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(z3p.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.factsCounter.toString()),utils.NumberFormatter.formatThousands(this.data.length.toString()),J3p.toString()));return!u6f.O8C;};K3p.prototype.parseAllDataRows=function(){var q6f=U9VV;z3p.preloader(!q6f.F8C,z3p.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(z3p.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(q6f.F8C))));for(var H3p=this.data[q6f.O8C]&&this.data[q6f.O8C]instanceof Array;this.factsCounter<this.data.length;this.factsCounter++)H3p?this.cube_.localDataStorage.insertArray(this.data[this.factsCounter]):this.cube_.localDataStorage.insertObject(this.data[this.factsCounter]);};K3p.prototype.invalidFormat=function(){z3p.preloader(!U9VV.O8C);z3p.uialert(z3p.model._labels.Labels.MESSAGE_INVALID_JSON_DATA,z3p.model._labels.Labels.ERROR);this.errorHandler();this.stopTimer();};return K3p;}(N3p.csv.CSVLoader);x3p.JSONLoader=D3p;}(N3p.json||(N3p.json={})));}(z3p.data_||(z3p.data_={})));}(pivot||(pivot={})));(function(Z3p){(function(y3p){(function(S3p){var d3p=function(){var m7B="csv";I3p.valid=function(T3p){return T3p==I3p.JSON||T3p==I3p.CSV||T3p==I3p.EMPTY;};I3p.CSV=m7B;function I3p(){}I3p.JSON=v9VV.n6C;I3p.EMPTY=U9VV.C4C;return I3p;}();S3p.DataSourceType=d3p;}(y3p.consts||(y3p.consts={})));}(Z3p.data_||(Z3p.data_={})));}(pivot||(pivot={})));(function(m3p){(function(w3p){(function(C3p){var r3p=function(){P3p.TOP=U9VV.b2C;P3p.BOTTOM=U9VV.g2C;function P3p(){}P3p.NONE=U9VV.n2C;return P3p;}();C3p.FilterType=r3p;}(w3p.consts||(w3p.consts={})));}(m3p.data_||(m3p.data_={})));}(pivot||(pivot={})));(function(U6p){(function(v6p){(function(W6p){var G6p=function(){var C7B="numericRange";var w7B="unsorted";V6p.isValid=function(l6p){return l6p==V6p.UNSORTED||l6p==V6p.ASC||l6p==V6p.DESC;};V6p.UNSORTED=w7B;function V6p(){}V6p.ASC=G9VV.r6B;V6p.DESC=W9VV.r7B;V6p.NUMERIC_RANGE=C7B;return V6p;}();W6p.SortType=G6p;}(v6p.consts||(v6p.consts={})));}(U6p.data_||(U6p.data_={})));}(pivot||(pivot={})));(function(p6p){(function(X6p){(function(Y6p){var B6p=function(){q6p.ROWS_AXIS=v9VV.M8Q;function q6p(){}q6p.COLUMNS_AXIS=v9VV.b8Q;q6p.PAGES_AXIS=G9VV.Z3B;return q6p;}();Y6p.AxisName=B6p;}(X6p.consts||(X6p.consts={})));}(p6p.data_||(p6p.data_={})));}(pivot||(pivot={})));(function(u6p){(function(z6p){(function(D6p){var N6p=function(){var Y8f=U9VV;x6p.MD_DIMTYPE_UNKNOWN=Y8f.F8C;function x6p(){}x6p.MD_DIMTYPE_TIME=Y8f.O8C;x6p.MD_DIMTYPE_MEASURE=Y8f.M8C;x6p.MD_DIMTYPE_OTHER=Y8f.b8C;return x6p;}();D6p.DimensionType=N6p;}(z6p.types||(z6p.types={})));}(u6p.data_||(u6p.data_={})));}(pivot||(pivot={})));(function(K6p){(function(s6p){(function(F6p){var O6p=function(){M6p.fromDataFieldType=function(j6p){var b6p=M6p.DEFAULT;switch(j6p){case F6p.DataFieldType.NUMBER:b6p=M6p.MEASURE;break;case F6p.DataFieldType.DATE:b6p=M6p.DATE;}return b6p;};M6p.toDataFieldType=function(o6p){var g6p=F6p.DataFieldType.STRING;switch(o6p){case M6p.MEASURE:g6p=F6p.DataFieldType.NUMBER;break;case M6p.DATE:g6p=F6p.DataFieldType.DATE;}return g6p;};M6p.DEFAULT=U9VV.F8C;M6p.DATE=U9VV.O8C;M6p.MEASURE=U9VV.M8C;function M6p(){}return M6p;}();F6p.HierarchyType=O6p;}(s6p.types||(s6p.types={})));}(K6p.data_||(K6p.data_={})));}(pivot||(pivot={})));(function(n6p){(function(t6p){(function(c6p){var L6p=function(){var X8f=U9VV;a6p.fromColumnType=function(e6p){switch(e6p){case X8f.h8C:return a6p.TIME;case X8f.A8C:return a6p.DATETIME;case X8f.b8C:return a6p.BOOLEAN;case X8f.e8C:return a6p.NUMBER;}return a6p.COUNT;};a6p.fromDataType=function(R6p){var U9Y="timestamp";var h6p=a6p.COUNT;switch(R6p){case X8f.x2C:h6p=a6p.NUMBER;break;case X8f.K2C:h6p=a6p.STRING;break;case v9VV.k5C:h6p=a6p.BOOLEAN;break;case W9VV.P7B:h6p=a6p.DATE;break;case U9Y:h6p=a6p.TIME;break;case W9VV.v9Y:h6p=a6p.COUNT;}return h6p;};function a6p(){}a6p.toDataFieldType=function(A6p){switch(A6p){case a6p.STRING:return c6p.DataFieldType.STRING;case a6p.BOOLEAN:return c6p.DataFieldType.BOOLEAN;case a6p.DATE:return c6p.DataFieldType.DATE;case a6p.DATETIME:return c6p.DataFieldType.DATETIME;case a6p.TIME:return c6p.DataFieldType.TIME;}return c6p.DataFieldType.NUMBER;};a6p.NUMBER=X8f.O8C;a6p.STRING=X8f.M8C;a6p.BOOLEAN=X8f.b8C;a6p.DATE=X8f.j8C;a6p.TIME=X8f.g8C;a6p.DATETIME=X8f.o8C;a6p.COUNT=X8f.n8C;return a6p;}();c6p.MeasureType=L6p;}(t6p.types||(t6p.types={})));}(n6p.data_||(n6p.data_={})));}(pivot||(pivot={})));(function(Q6p){(function(k6p){(function(i6p){var f6p=function(){var p8f=U9VV;J6p.ALL=p8f.F8C;J6p.STRING=p8f.O8C;J6p.NUMBER=p8f.M8C;J6p.BOOLEAN=p8f.b8C;J6p.DATE=p8f.j8C;J6p.TIME=p8f.g8C;J6p.YEAR=p8f.o8C;J6p.HALFYEAR=p8f.n8C;J6p.QUARTER=p8f.t8C;J6p.MONTH=p8f.c8C;J6p.WEEK=p8f.L8C;J6p.WEEKDAY=p8f.a8C;J6p.DAY=p8f.e8C;J6p.HOUR=p8f.h8C;J6p.MINUTE=p8f.R8C;J6p.SECOND=p8f.A8C;function J6p(){}J6p.MILLISECOND=p8f.Q8C;J6p.TIME_DATE=p8f.k8C;return J6p;}();i6p.LevelType=f6p;}(k6p.types||(k6p.types={})));}(Q6p.data_||(Q6p.data_={})));}(pivot||(pivot={})));(function(E6p){(function(H6p){(function(y6p){var Z6p=function(){var X9Y="datetime";var p9Y="time";var l9Y="year/quarter/month/day";var V9Y="year/month/day";var W9Y="date string";var G9Y="weekday";d6p.typeName=function(S6p){return d6p.allStrings[S6p];};d6p.typeNum=function(I6p){return d6p.allStrings.indexOf(I6p);};d6p.valid=function(T6p){return-U9VV.O8C<d6p.allStrings.indexOf(T6p);};d6p.typeFromValue=function(m6p){return U9VV.C4C===m6p?d6p.STRING:U9VV.x2C!=typeof m6p&&isNaN(Number(m6p))?U9VV.F8C<Date.parse(m6p)?utils.detectBrowser().isChrome&&!m6p.match(v9VV.h7C)?d6p.STRING:d6p.DATE:d6p.STRING:d6p.NUMBER;};d6p.STRING=U9VV.K2C;d6p.NUMBER=U9VV.x2C;d6p.BOOLEAN=v9VV.k5C;d6p.LEVEL=G9VV.V5B;d6p.MONTH=G9VV.A6B;d6p.WEEKDAY=G9Y;d6p.DATE=W9VV.P7B;function d6p(){}d6p.DATE_STRING=W9Y;d6p.HIERARCHICAL_DATE=V9Y;d6p.HIERARCHICAL_DATE_WITH_QUARTERS=l9Y;d6p.TIME=p9Y;d6p.DATETIME=X9Y;d6p.ID=U9VV.G2C;d6p.DELETE=v9VV.e1B;d6p.HIDDEN=G9VV.b5B;d6p.allStrings=[d6p.NUMBER,d6p.STRING,d6p.BOOLEAN,d6p.LEVEL,d6p.MONTH,d6p.WEEKDAY,d6p.DATE,d6p.DATE_STRING,d6p.HIERARCHICAL_DATE,d6p.HIERARCHICAL_DATE_WITH_QUARTERS,d6p.TIME,d6p.DATETIME,d6p.ID,d6p.DELETE,d6p.HIDDEN];return d6p;}();y6p.DataFieldType=Z6p;}(H6p.types||(H6p.types={})));}(E6p.data_||(E6p.data_={})));}(pivot||(pivot={})));(function(w6p){(function(r6p){(function(P6p){var C6p=function(){var F9Y="%difference";var s9Y="difference";var K9Y="index";var x9Y="product";var D9Y="percent of column";var N9Y="percentofrow";var z9Y="percentofcolumn";var u9Y="average";var q9Y="distinct count";var Y9Y="distinctcount";U5p.aggregationCaption=function(v5p){return v5p==U5p.SUM?w6p.model._labels.Labels.SUM_CAPTION:v5p==U5p.COUNT?w6p.model._labels.Labels.COUNT_CAPTION:v5p==U5p.DISTINCT_COUNT||v5p==U5p.DISTINCT_COUNT_DEPRECATED?w6p.model._labels.Labels.DISTINCT_COUNT_CAPTION:v5p==U5p.AVERAGE?w6p.model._labels.Labels.AVERAGE_CAPTION:v5p==U5p.PRODUCT?w6p.model._labels.Labels.PRODUCT_CAPTION:v5p==U5p.MIN?w6p.model._labels.Labels.MIN_CAPTION:v5p==U5p.MAX?w6p.model._labels.Labels.MAX_CAPTION:v5p==U5p.PERCENT?w6p.model._labels.Labels.PERCENT_CAPTION:v5p==U5p.PERCENT_COLUMN||v5p==U5p.PERCENT_COLUMN_DEPRECATED?w6p.model._labels.Labels.PERCENT_COLUMN_CAPTION:v5p==U5p.PERCENT_ROW?w6p.model._labels.Labels.PERCENT_ROW_CAPTION:v5p==U5p.INDEX?w6p.model._labels.Labels.INDEX_CAPTION:v5p==U5p.DIFFERENCE?w6p.model._labels.Labels.DIFFERENCE_CAPTION:v5p==U5p.PERCENT_DIFFERENCE?w6p.model._labels.Labels.PERCENT_DIFFERENCE_CAPTION:v5p==U5p.NONE?w6p.model._labels.Labels.NONE_CAPTION:v5p;};U5p.aggregationCaptions=function(G5p){void U9VV.F8C===G5p&&(G5p=U9VV.x4C);var V5p=[];G5p=G5p?G5p:U5p.ALL_AGGREGATIONS;for(var W5p=U9VV.F8C;W5p<G5p.length;W5p++)V5p.push(U5p.aggregationCaption(G5p[W5p]));return V5p;};U5p.aggregationTotalCaptions=function(l5p){var B9Y="{0}";void U9VV.F8C===l5p&&(l5p=U9VV.x4C);var X5p=[];l5p=l5p?l5p:U5p.ALL_AGGREGATIONS;for(var p5p=U9VV.F8C;p5p<l5p.length;p5p++)l5p[p5p]==U5p.SUM&&X5p.push(w6p.model._labels.Labels.SUM_TOTAL_CAPTION),l5p[p5p]==U5p.COUNT&&X5p.push(w6p.model._labels.Labels.COUNT_TOTAL_CAPTION),l5p[p5p]!=U5p.DISTINCT_COUNT&&l5p[p5p]!=U5p.DISTINCT_COUNT_DEPRECATED||X5p.push(w6p.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION),l5p[p5p]==U5p.AVERAGE&&X5p.push(w6p.model._labels.Labels.AVERAGE_TOTAL_CAPTION),l5p[p5p]==U5p.PRODUCT&&X5p.push(w6p.model._labels.Labels.PRODUCT_TOTAL_CAPTION),l5p[p5p]==U5p.MIN&&X5p.push(w6p.model._labels.Labels.MIN_TOTAL_CAPTION),l5p[p5p]==U5p.MAX&&X5p.push(w6p.model._labels.Labels.MAX_TOTAL_CAPTION),l5p[p5p]==U5p.PERCENT&&X5p.push(w6p.model._labels.Labels.PERCENT_TOTAL_CAPTION),l5p[p5p]!=U5p.PERCENT_COLUMN&&l5p[p5p]!=U5p.PERCENT_COLUMN_DEPRECATED||X5p.push(w6p.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION),l5p[p5p]==U5p.PERCENT_ROW&&X5p.push(w6p.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION),l5p[p5p]==U5p.INDEX&&X5p.push(w6p.model._labels.Labels.INDEX_TOTAL_CAPTION),l5p[p5p]==U5p.DIFFERENCE&&X5p.push(w6p.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION),l5p[p5p]==U5p.PERCENT_DIFFERENCE&&X5p.push(w6p.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION),l5p[p5p]==U5p.NONE&&X5p.push(B9Y);return X5p;};function U5p(){}U5p.validType=function(B5p){return-U9VV.O8C!=U5p.ALL_AGGREGATIONS.indexOf(B5p)||B5p==U5p.NONE;};U5p.validForDateTimeFormatting=function(Y5p){return-U9VV.O8C!=U5p.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING.indexOf(Y5p)||Y5p==U5p.NONE;};U5p.deprecatedType=function(q5p){return q5p==U5p.DISTINCT_COUNT_DEPRECATED||q5p==U5p.PERCENT_COLUMN_DEPRECATED;};U5p.fromDeprecatedToValid=function(u5p){switch(u5p){case U5p.DISTINCT_COUNT_DEPRECATED:return U5p.DISTINCT_COUNT;case U5p.PERCENT_COLUMN_DEPRECATED:return U5p.PERCENT_COLUMN;default:return U9VV.C4C;}};U5p.SUM=v9VV.t9Q;U5p.COUNT=W9VV.v9Y;U5p.DISTINCT_COUNT=Y9Y;U5p.DISTINCT_COUNT_DEPRECATED=q9Y;U5p.AVERAGE=u9Y;U5p.PERCENT=G9VV.g2B;U5p.PERCENT_COLUMN=z9Y;U5p.PERCENT_ROW=N9Y;U5p.PERCENT_COLUMN_DEPRECATED=D9Y;U5p.PRODUCT=x9Y;U5p.INDEX=K9Y;U5p.MIN=v9VV.o9Q;U5p.MAX=v9VV.n9Q;U5p.NONE=U9VV.n2C;U5p.DIFFERENCE=s9Y;U5p.PERCENT_DIFFERENCE=F9Y;U5p.ALL_AGGREGATIONS=[U5p.SUM,U5p.COUNT,U5p.DISTINCT_COUNT,U5p.AVERAGE,U5p.PRODUCT,U5p.MIN,U5p.MAX,U5p.PERCENT,U5p.PERCENT_COLUMN,U5p.PERCENT_ROW,U5p.INDEX,U5p.DIFFERENCE,U5p.PERCENT_DIFFERENCE];U5p.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING=[U5p.SUM,U5p.AVERAGE,U5p.PRODUCT,U5p.MIN,U5p.MAX];return U5p;}();P6p.AggregationName=C6p;}(r6p.consts||(r6p.consts={})));}(w6p.data_||(w6p.data_={})));}(pivot||(pivot={})));(function(z5p){(function(N5p){(function(x5p){var D5p=function(){var r1f=W9VV;var m1f=v9VV;var h9Y="updatepercent";var e9Y="updatedifference";var L9Y="!isnan";var c9Y="isnan";var t9Y="abs";var n9Y="or";var o9Y=">=";var g9Y="<=";K5p.ADD=m1f.D7C;K5p.SUBTRACT=U9VV.L2C;function K5p(){}K5p.MULTIPLY=m1f.j9Q;K5p.DIVIDE=m1f.l5C;K5p.POWER=m1f.g9Q;K5p.LESS=r1f.O9Y;K5p.GREATER=r1f.M9Y;K5p.EQUAL=m1f.h6C;K5p.EQUAL_2=r1f.b9Y;K5p.NOT_EQUAL=r1f.j9Y;K5p.LESS_OR_EQUAL=g9Y;K5p.GREATER_OR_EQUAL=o9Y;K5p.OR=n9Y;K5p.AND=m1f.B8B;K5p.IF=m1f.R1B;K5p.ABS=t9Y;K5p.MIN=m1f.o9Q;K5p.MAX=m1f.n9Q;K5p.BLANK=c9Y;K5p.NOT_BLANK=L9Y;K5p.VALUE=r1f.a9Y;K5p.UPDATE_DIFFERENCE=e9Y;K5p.UPDATE_PERCENT=h9Y;return K5p;}();x5p.FunctionName=D5p;}(N5p.consts||(N5p.consts={})));}(z5p.data_||(z5p.data_={})));}(pivot||(pivot={})));(function(s5p){(function(F5p){(function(M5p){var O5p=function(){var i9Y="drillDownTo";var f9Y="drillDown";var k9Y="drillUp";var Q9Y="collapse";var A9Y="expand";var R9Y="select";b5p.SELECT=R9Y;function b5p(){}b5p.EXPAND=A9Y;b5p.COLLAPSE=Q9Y;b5p.DRILL_UP=k9Y;b5p.DRILL_DOWN=f9Y;b5p.DRILL_DOWN_TO=i9Y;b5p.DRILL_THROUGH=G9VV.P0B;b5p.FILTER=G9VV.f6B;b5p.SEARCH=G9VV.n3B;return b5p;}();M5p.QueryType=O5p;}(F5p.consts||(F5p.consts={})));}(s5p.data_||(s5p.data_={})));}(pivot||(pivot={})));(function(j5p){(function(g5p){(function(n5p){var o5p=function(){var J9Y=0.001122334400556678;t5p.DIVIDE_BY_ZERO=J9Y;function t5p(){}return t5p;}();n5p.DataConsts=o5p;}(g5p.consts||(g5p.consts={})));}(j5p.data_||(j5p.data_={})));}(pivot||(pivot={})));(function(c5p){(function(L5p){(function(a5p){var e5p=function(){var d1f=U9VV;var H9Y="isDemo";var E9Y="dataSourceType";Object.defineProperty(h5p.prototype,E9Y,{get:function(){return this._dataSourceType;},set:function(R5p){this._dataSourceType=R5p.toLowerCase();},enumerable:!d1f.F8C,configurable:!d1f.F8C});h5p.prototype.isEqual=function(A5p){return A5p&&this.dataSourceType==A5p.dataSourceType;};Object.defineProperty(h5p.prototype,G9VV.Y6B,{get:function(){return this._dataSourceType==L5p.consts.DataSourceType.EMPTY;},set:function(Q5p){},enumerable:!d1f.F8C,configurable:!d1f.F8C});Object.defineProperty(h5p.prototype,H9Y,{get:function(){var Z9Y="this";return this._dataSourceType==L5p.consts.DataSourceType.CSV&&Z9Y==this.filename;},enumerable:!d1f.F8C,configurable:!d1f.F8C});Object.defineProperty(h5p.prototype,W9VV.y9Y,{get:function(){return!d1f.O8C;},set:function(k5p){},enumerable:!d1f.F8C,configurable:!d1f.F8C});h5p.fromObject=function(f5p){if(void d1f.F8C==f5p)return new h5p();utils.nullOrUndefined(f5p.connectionInfo)||(f5p=f5p.connectionInfo);f5p instanceof h5p||f5p instanceof a5p.CSVConnectionInfo||f5p instanceof a5p.JSONConnectionInfo||(f5p=h5p.toPlainObject(f5p));utils.nullOrUndefined(f5p.dataSourceType)||(f5p.dataSourceType=f5p.dataSourceType.toLowerCase());if(!utils.nullOrUndefined(f5p.filename)&&utils.nullOrUndefined(f5p.dataSourceType)){var i5p=f5p.filename.split(v9VV.I5C)[d1f.F8C].toLowerCase();G9VV.Y7B==i5p.substr(-d1f.j8C)?f5p.dataSourceType=L5p.consts.DataSourceType.CSV:v9VV.T8B==i5p.substr(-d1f.g8C)||v9VV.m8B==i5p.substr(-d1f.b8C)?f5p.dataSourceType=L5p.consts.DataSourceType.JSON:f5p.dataSourceType=L5p.consts.DataSourceType.CSV;}!utils.nullOrUndefined(f5p.data)&&f5p.data instanceof Array&&(f5p.dataSourceType=L5p.consts.DataSourceType.JSON,f5p.data=f5p.data.slice());switch(f5p.dataSourceType){case L5p.consts.DataSourceType.CSV:return a5p.CSVConnectionInfo.fromObject(f5p);case L5p.consts.DataSourceType.JSON:return a5p.JSONConnectionInfo.fromObject(f5p);default:return new h5p();}};function h5p(){this._dataSourceType=L5p.consts.DataSourceType.EMPTY;this.isUpdateData=!d1f.O8C;}h5p.toPlainObject=function(J5p){var E5p={};d1f.x4C!=J5p.dataSourceType&&(E5p.dataSourceType=J5p.dataSourceType);d1f.x4C!=J5p.filename&&(E5p.filename=J5p.filename);d1f.x4C!=J5p.requestHeader&&(E5p.requestHeader=J5p.requestHeader);d1f.x4C!=J5p.browseForFile&&(E5p.browseForFile=J5p.browseForFile);d1f.x4C!=J5p.fieldSeparator&&(E5p.fieldSeparator=J5p.fieldSeparator);d1f.x4C!=J5p.recordsetDelimiter&&(E5p.recordsetDelimiter=J5p.recordsetDelimiter);d1f.x4C!=J5p.ignoreQuotedLineBreaks&&(E5p.ignoreQuotedLineBreaks=J5p.ignoreQuotedLineBreaks);d1f.x4C!=J5p.embedded&&(E5p.embedded=J5p.embedded);d1f.x4C!=J5p.embeddedDataOffset&&(E5p.embeddedDataOffset=J5p.embeddedDataOffset);d1f.x4C!=J5p.embeddedDataToLoad&&(E5p.embeddedDataToLoad=J5p.embeddedDataToLoad);d1f.x4C!=J5p.data&&(E5p.data=J5p.data);d1f.x4C!=J5p.checkUpdates&&(E5p.checkUpdates=J5p.checkUpdates);d1f.x4C!=J5p.url&&(E5p.url=J5p.url);d1f.x4C!=J5p.hash&&(E5p.hash=J5p.hash);d1f.x4C!=J5p.username&&(E5p.username=J5p.username);d1f.x4C!=J5p.password&&(E5p.password=J5p.password);d1f.x4C!=J5p.dataSource&&(J5p=J5p.dataSource,d1f.x4C!=J5p.dataSourceType&&(E5p.dataSourceType=J5p.dataSourceType),d1f.x4C!=J5p.filename&&(E5p.filename=J5p.filename),d1f.x4C!=J5p.browseForFile&&(E5p.browseForFile=J5p.browseForFile),d1f.x4C!=J5p.fieldSeparator&&(E5p.fieldSeparator=J5p.fieldSeparator),d1f.x4C!=J5p.recordsetDelimiter&&(E5p.recordsetDelimiter=J5p.recordsetDelimiter),d1f.x4C!=J5p.ignoreQuotedLineBreaks&&(E5p.ignoreQuotedLineBreaks=J5p.ignoreQuotedLineBreaks),d1f.x4C!=J5p.embedded&&(E5p.embedded=J5p.embedded),d1f.x4C!=J5p.embeddedDataOffset&&(E5p.embeddedDataOffset=J5p.embeddedDataOffset),d1f.x4C!=J5p.embeddedDataToLoad&&(E5p.embeddedDataToLoad=J5p.embeddedDataToLoad),d1f.x4C!=J5p.isOCSV2Data&&(E5p.isOCSV2Data=J5p.isOCSV2Data),d1f.x4C!=J5p.data&&(E5p.data=J5p.data),d1f.x4C!=J5p.url&&(E5p.url=J5p.url),J5p=J5p.credentials,d1f.x4C!=J5p&&(d1f.x4C!=J5p.hash&&(E5p.hash=J5p.hash),d1f.x4C!=J5p.username&&(E5p.username=J5p.username),d1f.x4C!=J5p.password&&(E5p.password=J5p.password)));return E5p;};h5p.prototype.toObject=function(H5p){H5p={};this.dataSourceType!=L5p.consts.DataSourceType.EMPTY&&(H5p.dataSourceType=this.dataSourceType);return H5p;};return h5p;}();a5p.ConnectionInfo=e5p;}(L5p.vo||(L5p.vo={})));}(c5p.data_||(c5p.data_={})));}(pivot||(pivot={})));(function(Z5p){(function(y5p){(function(d5p){var S5p=function(I5p){__extends(T5p,I5p);function T5p(){var m5p=U9VV.x4C!==I5p&&I5p.apply(this,arguments)||this;m5p.browseForFile=!U9VV.O8C;m5p.requestHeader=U9VV.x4C;return m5p;}T5p.prototype.isEqual=function(w5p){return I5p.prototype.isEqual.call(this,w5p)&&this.filename==w5p.filename&&!U9VV.O8C==this.browseForFile&&!U9VV.O8C==w5p.browseForFile;};return T5p;}(d5p.ConnectionInfo);d5p.FileConnectionInfo=S5p;}(y5p.vo||(y5p.vo={})));}(Z5p.data_||(Z5p.data_={})));}(pivot||(pivot={})));(function(r5p){(function(C5p){(function(P5p){var U7p=function(G7p){var Z1f=U9VV;__extends(v7p,G7p);Object.defineProperty(v7p.prototype,G9VV.Y6B,{get:function(){return utils.nullOrEmpty(this.filename)&&(Z1f.x4C==this.browseForFile||!Z1f.O8C==this.browseForFile)&&utils.nullOrUndefined(this.data);},set:function(V7p){},enumerable:!Z1f.F8C,configurable:!Z1f.F8C});function v7p(){var W7p=G7p.call(this)||this;W7p.checkUpdates=!Z1f.O8C;W7p.dataSourceType=C5p.consts.DataSourceType.JSON;return W7p;}Object.defineProperty(v7p.prototype,W9VV.y9Y,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(l7p){},enumerable:!Z1f.F8C,configurable:!Z1f.F8C});v7p.prototype.isEqual=function(p7p){return p7p==this?!Z1f.F8C:G7p.prototype.isEqual.call(this,p7p)&&utils.nullOrUndefined(p7p.data);};v7p.fromObject=function(X7p){var B7p=new v7p();void Z1f.F8C!==X7p.browseForFile&&(B7p.browseForFile=X7p.browseForFile);void Z1f.F8C!==X7p.filename&&Z1f.C4C!=X7p.filename&&(B7p.filename=X7p.filename);void Z1f.F8C!==X7p.data&&(B7p.data=X7p.data);void Z1f.F8C!==X7p.checkUpdates&&(B7p.checkUpdates=X7p.checkUpdates);void Z1f.F8C!==X7p.requestHeader&&(B7p.requestHeader=X7p.requestHeader);return B7p;};v7p.prototype.toObject=function(q7p){void Z1f.F8C===q7p&&(q7p=!Z1f.O8C);var Y7p={};Y7p.dataSourceType=this.dataSourceType;if(q7p||this.browseForFile)Y7p.browseForFile=this.browseForFile;this.filename&&(Y7p.filename=this.filename);utils.nullOrUndefined(this.data)||(Y7p.data=this.data);return Y7p;};return v7p;}(P5p.FileConnectionInfo);P5p.JSONConnectionInfo=U7p;}(C5p.vo||(C5p.vo={})));}(r5p.data_||(r5p.data_={})));}(pivot||(pivot={})));(function(u7p){(function(z7p){(function(N7p){var D7p=function(K7p){var J1f=U9VV;__extends(x7p,K7p);function x7p(){var s7p=K7p.call(this)||this;s7p.recordsetDelimiter=v9VV.m6C;s7p.ignoreQuotedLineBreaks=!J1f.F8C;s7p.embedded=!J1f.O8C;s7p.embeddedDataOffset=J1f.F8C;s7p.dataSourceType=z7p.consts.DataSourceType.CSV;return s7p;}Object.defineProperty(x7p.prototype,G9VV.Y6B,{get:function(){return utils.nullOrEmpty(this.filename)&&(J1f.x4C==this.browseForFile||!J1f.O8C==this.browseForFile)&&(J1f.x4C==this.embedded||!J1f.O8C==this.embedded);},set:function(F7p){},enumerable:!J1f.F8C,configurable:!J1f.F8C});Object.defineProperty(x7p.prototype,W9VV.y9Y,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(O7p){},enumerable:!J1f.F8C,configurable:!J1f.F8C});x7p.prototype.isEqual=function(M7p){return K7p.prototype.isEqual.call(this,M7p)&&!J1f.O8C==this.embedded&&!J1f.O8C==M7p.embedded;};x7p.fromObject=function(b7p){var j7p=new x7p();void J1f.F8C!==b7p.browseForFile&&(j7p.browseForFile=b7p.browseForFile);void J1f.F8C!==b7p.filename&&J1f.C4C!=b7p.filename&&(j7p.filename=b7p.filename);void J1f.F8C!==b7p.fieldSeparator&&(j7p.fieldSeparator=b7p.fieldSeparator);void J1f.F8C!==b7p.recordsetDelimiter&&(j7p.recordsetDelimiter=b7p.recordsetDelimiter);void J1f.F8C!==b7p.ignoreQuotedLineBreaks&&(j7p.ignoreQuotedLineBreaks=b7p.ignoreQuotedLineBreaks);void J1f.F8C!==b7p.embedded&&(j7p.embedded=b7p.embedded);void J1f.F8C!==b7p.embeddedDataOffset&&(j7p.embeddedDataOffset=b7p.embeddedDataOffset);void J1f.F8C!==b7p.embeddedDataToLoad&&(j7p.embeddedDataToLoad=b7p.embeddedDataToLoad);void J1f.F8C!==b7p.requestHeader&&(j7p.requestHeader=b7p.requestHeader);return j7p;};x7p.prototype.toObject=function(o7p){void J1f.F8C===o7p&&(o7p=!J1f.O8C);var g7p={};g7p.dataSourceType=this.dataSourceType;if(o7p||this.browseForFile&&!this.embedded)g7p.browseForFile=this.browseForFile;this.filename&&(g7p.filename=this.filename);this.fieldSeparator&&(g7p.fieldSeparator=this.fieldSeparator);this.recordsetDelimiter&&v9VV.m6C!=this.recordsetDelimiter&&(g7p.recordsetDelimiter=this.recordsetDelimiter);if(o7p||!J1f.O8C==this.ignoreQuotedLineBreaks)g7p.ignoreQuotedLineBreaks=this.ignoreQuotedLineBreaks;this.embedded&&(g7p.embedded=this.embedded);return g7p;};return x7p;}(N7p.FileConnectionInfo);N7p.CSVConnectionInfo=D7p;}(z7p.vo||(z7p.vo={})));}(u7p.data_||(u7p.data_={})));}(pivot||(pivot={})));(function(n7p){(function(t7p){var c7p=function(a7p){var b5x=U9VV;var l1Y="gridHeight";var V1Y="gridWidth";var T9Y="stageHeight";var I9Y="stageWidth";var d9Y="toolbarHeight";__extends(L7p,a7p);Object.defineProperty(L7p.prototype,d9Y,{get:function(){var S9Y="wdr-toolbar-wrapper";if(this.toolbar){var m7p=uicontrols.UIElement.convert(document.getElementById(S9Y));return b5x.x4C==m7p?b5x.F8C:m7p.height;}return b5x.F8C;},enumerable:!b5x.F8C,configurable:!b5x.F8C});Object.defineProperty(L7p,I9Y,{get:function(){var w7p=L7p.stage.container.borderWidth;return L7p.stage.parentContainer.getWidth(utils.isFullscreen())-w7p.left-w7p.right;},enumerable:!b5x.F8C,configurable:!b5x.F8C});Object.defineProperty(L7p,T9Y,{get:function(){var r7p=L7p.stage.container.borderWidth;return L7p.stage.parentContainer.getHeight(utils.isFullscreen())-r7p.top-r7p.bottom;},enumerable:!b5x.F8C,configurable:!b5x.F8C});function L7p(k7p,h7p){var W1Y="MSFullscreenChange";var G1Y="webkitfullscreenchange";var v1Y="mozfullscreenchange";var U1Y="fullscreenchange";var C9Y=/\d+(?=px|%)/;var r9Y="500px";var w9Y="100%";var m9Y="wdr-pivot-view";var e7p=a7p.call(this)||this;e7p.isUIReady=!b5x.O8C;e7p.model_=n7p.model.PivotModel.getInstance();e7p.width=b5x.F8C;e7p.height=b5x.F8C;e7p.lastWidth=b5x.F8C;e7p.lastHeight=b5x.F8C;e7p.delayedDraws=[];e7p.notReadyCount=b5x.F8C;e7p.drawn=!b5x.O8C;e7p.drillthroughClosedHandler=function(){return e7p.onDrillThroughClosed();};e7p.isFocused=!b5x.F8C;e7p.setId(m9Y);b5x.x4C!=e7p.parentContainer&&e7p.parentContainer.dispose();k7p.empty();e7p.parentContainer=k7p;L7p.stage=e7p;var R7p=h7p.width?b5x.x2C===typeof h7p.width?h7p.width+b5x.y4C:-b5x.O8C<h7p.width.indexOf(b5x.y4C)||h7p.width.indexOf(G9VV.o2B)==h7p.width.length-b5x.O8C?h7p.width:h7p.width+b5x.y4C:w9Y,A7p=h7p.height?b5x.x2C===typeof h7p.height?h7p.height+b5x.y4C:-b5x.O8C<h7p.height.indexOf(b5x.y4C)||h7p.height.indexOf(G9VV.o2B)==h7p.height.length-b5x.O8C?h7p.height:h7p.height+b5x.y4C:r9Y,Q7p=C9Y,R7p=R7p.match(Q7p)?R7p:w9Y,A7p=A7p.match(Q7p)?A7p:r9Y;e7p.parentContainer.css(b5x.s2C,R7p);e7p.parentContainer.css(b5x.O2C,A7p);e7p.container.css(b5x.s2C,R7p);e7p.container.css(b5x.O2C,A7p);e7p.parentContainer.append(e7p.container);e7p.container.requestAnimationFrame(function(){var P9Y="html5";e7p.toolbar=h7p.toolbar?new WebDataRocksToolbar(e7p.parentContainer.element,n7p.Pivot.instance.api,P9Y,R7p,n7p.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar):b5x.x4C;n7p.model.JavaScriptHandlers.getInstance().dispatch(new n7p.model.APIEvent(n7p.model.JavaScriptHandlers.BEFORE_TOOLBAR_CREATED,e7p.toolbar));e7p.toolbar&&b5x.x4C!=e7p.toolbar.create&&e7p.toolbar.create();e7p.setControls();e7p.draw();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.LOADING_REPORT_FILE,function(){return e7p.onLoadingReportFile();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.EMPTY_SLICE,function(){return e7p.onEmptySlice();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.LOADING_DATA,function(){return e7p.onLoadingData();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.RUNNING_QUERY,function(){return e7p.onBeforeDataQuery();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.QUERY_COMPLETE,function(){return e7p.onDataQueryComplete();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.REPORT_COMPLETE,function(){return e7p.onReportComplete();});e7p.model_.state_.addEventListener(n7p.model._state.StateEvent.LOCALIZATION_LOADED,function(){return e7p.onLocalizationLoaded();});e7p.model_.addEventListener(n7p.PivotEvent.EXPORT,function(f7p){return e7p.onExport(f7p);});e7p.model_.addEventListener(n7p.PivotEvent.PRINT,function(){return e7p.onPrint();});e7p.model_.addEventListener(t7p.ViewEvent.CALCULATED_VIEW_OPEN,function(i7p){return e7p.onOpenCalculatedView(i7p);});e7p.model_.addEventListener(t7p.ViewEvent.CONTEXT_MENU_OPEN,function(J7p){return e7p.onOpenContextMenu(J7p);});e7p.addEventListener(t7p.ViewEvent.AFTER_GRID_DRAW,function(){return e7p.onAfterGridDraw();});utils.fmdocument.addEventListener(U1Y,function(E7p){return e7p.onDocumentFullScreen(E7p);},!b5x.O8C);utils.fmdocument.addEventListener(v1Y,function(H7p){return e7p.onDocumentFullScreen(H7p);},!b5x.O8C);utils.fmdocument.addEventListener(G1Y,function(Z7p){return e7p.onDocumentFullScreen(Z7p);},!b5x.O8C);utils.fmdocument.addEventListener(W1Y,function(y7p){return e7p.onDocumentFullScreen(y7p);},!b5x.O8C);e7p.parentContainer.addEventListener(U1Y,function(d7p){return e7p.onFullScreen(d7p);},!b5x.O8C);e7p.parentContainer.addEventListener(v1Y,function(S7p){return e7p.onFullScreen(S7p);},!b5x.O8C);e7p.parentContainer.addEventListener(G1Y,function(I7p){return e7p.onFullScreen(I7p);},!b5x.O8C);e7p.parentContainer.addEventListener(W1Y,function(T7p){return e7p.onFullScreen(T7p);},!b5x.O8C);return e7p;}Object.defineProperty(L7p,V1Y,{get:function(){return L7p.stageWidth;},enumerable:!b5x.F8C,configurable:!b5x.F8C});Object.defineProperty(L7p,l1Y,{get:function(){return L7p.stage.pivotHeight();},enumerable:!b5x.F8C,configurable:!b5x.F8C});L7p.prototype.pivotHeight=function(){return L7p.stageHeight-L7p.stage.toolbarHeight;};L7p.prototype.draw=function(C7p){var X1Y="document.visibilityState:";var p1Y="Flexmonster:\nPivot cannot be drawn.";var P7p=this;void b5x.F8C===C7p&&(C7p=!b5x.O8C);this.clearDelays();if(this.drawn||this.isUIReady){var U90=this.container.requestAnimationFrame(function(v90){P7p.clearDelays();P7p._draw(C7p);});this.delayedDraws.push(U90);}else b5x.m0C>this.notReadyCount++?this.notReadyTimeout=utils.fmSetTimeout(function(){P7p.draw(C7p);},b5x.L8C):this.parentContainer.visible&&(console.error(p1Y),console.error(X1Y,document.visibilityState),G9VV.b5B!=document.visibilityState&&alert(p1Y));};L7p.prototype.clearDelays=function(){for(;b5x.F8C<this.delayedDraws.length;)this.container.cancelAnimationFrame(this.delayedDraws.pop());this.delayedDraws=[];utils.fmClearTimeout(this.notReadyTimeout);utils.fmClearTimeout(this.renderCompleteTimeout);};L7p.prototype.updateContainerSize=function(){if(!this.parentContainer)return!b5x.O8C;var V90=utils.isFullscreen(),W90=this.parentContainer.getWidth();V90&&(W90=window.screen.width);var G90=this.parentContainer.getHeight();V90&&(G90=window.screen.height);G90-=this.toolbarHeight;if(this.lastWidth!==W90||this.lastHeight!==G90)this.container.css(b5x.s2C,W90+b5x.y4C),this.container.css(b5x.O2C,G90+b5x.y4C);return this.lastWidth!==W90||this.lastHeight!==G90;};L7p.prototype.onWindowResize=function(l90){this.toolbar&&b5x.x4C!=this.toolbar.applyToolbarLayoutClasses&&this.toolbar.applyToolbarLayoutClasses();this.draw(!b5x.F8C);};L7p.prototype.onLoadingReportFile=function(){this.model_.state_.reportType==n7p.model._state.ReportType.INIT&&this.drawEmptyView();};L7p.prototype.onEmptySlice=function(){this.draw();};L7p.prototype.onLoadingData=function(){this.model_.state_.reportType!=n7p.model._state.ReportType.UPDATE_DATA&&this.model_.state_.reportType!=n7p.model._state.ReportType.CONNECT_TO&&this.drawEmptyView();};L7p.prototype.onBeforeDataQuery=function(){};L7p.prototype.onDataQueryComplete=function(){this.model_.state_.reportType!=n7p.model._state.ReportType.INIT&&this.model_.state_.reportType!=n7p.model._state.ReportType.LOAD&&this.draw();};L7p.prototype.onLocalizationLoaded=function(){b5x.x4C!=this.toolbar&&this.toolbar.updateLabels(n7p.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar);};L7p.prototype.onReportComplete=function(){this.model_.state_.reportType==n7p.model._state.ReportType.CLEAR?this.drawEmptyView():this.parentContainer&&this.draw();};L7p.prototype.onDocumentFullScreen=function(p90){this.handleFullScreen();};L7p.prototype.onFullScreen=function(X90){X90.stopPropagation();this.handleFullScreen();};L7p.prototype.handleFullScreen=function(){var Y90=this,B90=utils.isFullscreen();b5x.x4C!=n7p.model.JavaScriptHandlers.jsFullScreenHandler&&n7p.model.JavaScriptHandlers.jsFullScreenHandler.call(b5x.x4C,B90);B90=this.container.requestAnimationFrame(function(){Y90.updateContainerSize()&&Y90.draw(!b5x.F8C);});this.delayedDraws.push(B90);};L7p.prototype.setControls=function(){var Y1Y="wdr-credits";var B1Y='<a href="https://webdatarocks.com/?r=wdr" target="_blank">WebDataRocks.com</a>';var q90=this;this.toolbar&&(this.container.height-=this.toolbarHeight);this.gridView=new t7p.grid.GridView();this.gridView.addEventListener(t7p.ViewEvent.FILTER_OPEN,function(z90){return q90.onFilterOpenGrid(z90);});this.gridView.addEventListener(t7p.ViewEvent.DRILL_THROUGH_OPEN,function(N90){return q90.onDrillThroughOpen(N90);});this.addChild(this.gridView);this.fieldsView=new t7p.config.FieldsView();this.fieldsView.addEventListener(events._Event.OPENED,function(D90){return q90.onWindowOpenClose(D90);});this.fieldsView.addEventListener(events._Event.CLOSED,function(x90){return q90.onWindowOpenClose(x90);});this.fieldsView.addEventListener(t7p.config.FieldsView.EVENT_OPEN,function(K90){return q90.onFieldsViewOpen(K90);});this.fieldsView.addEventListener(t7p.config.FieldsView.EVENT_APPLY_SLICE,function(s90){return q90.onFieldsViewApplySlice(s90);});this.addChild(this.fieldsView);var u90=new uicontrols.UILabel();u90.html(B1Y);u90.addClass(Y1Y);this.addChild(u90);utils.fmdocument.addEventListener(v9VV.F1Q,function(F90){return q90.onKeyDown(F90);});this.container.attr(W9VV.q1Y,b5x.F8C);this.container.addEventListener(b5x.X3C,function(O90){q90.isFocused=!b5x.F8C;});this.container.addEventListener(b5x.B3C,function(M90){q90.isFocused=!b5x.O8C;});this._resizeListener=new utils.ResizeListener(this.parentContainer.parent);this._resizeListener.addEventListener(events._Event.RESIZE,function(b90){return q90.onWindowResize(b90);});this.isUIReady=!b5x.F8C;};L7p.prototype._draw=function(j90){void b5x.F8C===j90&&(j90=!b5x.O8C);b5x.x4C!=this.model_&&(this.drawn=!b5x.F8C,this.updateContainerSize(),b5x.x4C!=this.filterView&&this.filterView.draw(),utils.nullOrUndefined(this.model_.state_.connectionInfo_)||this.model_.state_.connectionInfo_.isEmpty||!n7p.model._options.OptionsManager.configuratorButton?this.fieldsView.hide():this.fieldsView.show(),j90||n7p.model._options.OptionsManager.configuratorActive||t7p.calculated.CalculatedView.addingMeasureFlag||(n7p.model._options.OptionsManager.configuratorOpened=!b5x.O8C),b5x.x4C!=this.model_.cube_.slice_&&this.model_.cube_.slice_.isEmpty&&(n7p.model._options.OptionsManager.configuratorOpened=!b5x.F8C),n7p.model._options.OptionsManager.configuratorOpened&&b5x.x4C!=this.model_.state_.connectionInfo_&&!this.model_.state_.connectionInfo_.isEmpty?this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType):this.fieldsView.close(),this.drawGrid(j90),b5x.x4C!=this.drillThroughView&&this.drillThroughView.isVisible()&&(n7p.model._options.OptionsManager.flatView?this.drillThroughView.close():this.drillThroughView.redraw()),this.lastWidth=this.getWidth(),this.lastHeight=this.getHeight());};L7p.prototype.drawEmptyView=function(){this.drawGrid(!b5x.O8C,!b5x.F8C);utils.nullOrUndefined(this.fieldsView)||this.fieldsView.close();};L7p.prototype.drawGrid=function(g90,o90){void b5x.F8C===g90&&(g90=!b5x.O8C);void b5x.F8C===o90&&(o90=!b5x.O8C);b5x.x4C!=this.gridView&&(g90||b5x.x4C==this.filterView||this.filterView.close(),this.gridView.dataProvider=o90?b5x.x4C:this.model_.dataProvider_=n7p.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.gridView.container.css(b5x.b2C,b5x.C4C).css(b5x.M2C,b5x.C4C).css(b5x.j2C,b5x.C4C).css(b5x.g2C,b5x.C4C),this.gridView.container.css(b5x.F3C,b5x.O3C),this.gridView.show(),this.gridView.container.css(b5x.O2C,L7p.gridHeight+b5x.y4C),this.gridView.container.css(b5x.s2C,L7p.stageWidth+b5x.y4C),g90||this.model_.cube_.connectionInfo_&&this.model_.cube_.connectionInfo_.isUpdateData||this.gridView.clearSizes(),this.gridView.draw(),n7p.model._options.OptionsManager.flatView&&this.fieldsView.isOpen&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType));};L7p.prototype.onDrillThroughOpen=function(n90){b5x.x4C==this.drillThroughView&&this.addDrillThroughView();this.drillThroughView.addEventListener(t7p.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);var t90=this.model_.cube_.structure_.findMeasure(n90.data.measure);this.drillThroughView.openView(this.model_.dataProvider_,this.model_.cube_.slice_,n90.data.columnTuple,n90.data.rowTuple,t90);};L7p.prototype.onDrillThroughClosed=function(){this.drillThroughView.removeEventListener(t7p.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);this.model_.cube_.refresh();};L7p.prototype.openFieldsList=function(){b5x.x4C!=this.model_.state_.connectionInfo_&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType);};L7p.prototype.onFieldsViewApplySlice=function(c90){n7p.Pivot.instance.runQuery(c90.data);};L7p.prototype.onFilterOpenGrid=function(L90){b5x.x4C==this.filterView&&this.addFilterView();this.onFilterOpen(L90);};L7p.prototype.onFilterOpen=function(a90){var e90={hierarchy:n7p.data_._structure.GenericHierarchy.toObject(a90.hierarchy)};n7p.model.JavaScriptHandlers.getInstance().dispatch(new n7p.model.APIEvent(n7p.model.JavaScriptHandlers.FILTER_OPEN,e90));this.openFilter(a90.hierarchy);};L7p.prototype.openFilter=function(h90){b5x.x4C==this.filterView&&this.addFilterView();this.filterView.openView(h90);};L7p.prototype.closeFieldsList=function(){this.fieldsView.close();};L7p.prototype.onFieldsViewOpen=function(R90){this.openFieldsList();};L7p.prototype.onWindowOpenClose=function(A90){};L7p.prototype.onKeyDown=function(Q90){var F0C=73;this.isFocused&&(F0C===Q90.keyCode&&Q90.ctrlKey&&Q90.altKey&&this.showLicenseInfo(),b5x.S8C===Q90.keyCode&&(b5x.x4C!=this.filterView&&this.filterView.close(),b5x.x4C!=this.drillThroughView&&this.drillThroughView.close(),b5x.x4C!=this.calculatedView&&this.calculatedView.isVisible()?this.calculatedView.close():this.fieldsView.close()));};L7p.prototype.onExport=function(k90){this.drillThroughView&&this.drillThroughView.isVisible()?this.drillThroughView.exportTo(k90.exportType,k90.exportOptions,k90.callbackHandler):this.gridView.exportTo(k90.exportType,k90.exportOptions,k90.callbackHandler);};L7p.prototype.onPrint=function(){this.gridView.print();};L7p.prototype.showLicenseInfo=function(){var z1Y=") <br/><br/>";var u1Y=" (build ";var q0C=61;var f90=new Date(parseFloat(n7p.Pivot.BUILD_DATE)/q0C),f90=n7p.Pivot.BUILD_VERSION+u1Y+utils.StringUtils.toDateTime(f90.getTime())+z1Y,f90=f90+n7p.model.license.LicenseLabels.getLabel(n7p.model.license.LicenseLabels.info);n7p.uialert(f90,n7p.model.license.LicenseLabels.getLabel(n7p.model.license.LicenseLabels.componentInfo),n7p.AlertType.INFO);};L7p.prototype.getCell=function(i90,J90){return this.gridView.getCell(i90,J90);};L7p.prototype.getSelectedCell=function(){return this.gridView.getSelectedCell();};L7p.prototype.setSelectedCell=function(E90,H90){this.gridView.setSelectedCell(E90,H90);};L7p.prototype.removeSelection=function(){this.gridView.removeSelection();};L7p.prototype.onOpenCalculatedView=function(Z90){b5x.x4C==this.calculatedView&&this.addCalculatedView();this.calculatedView.openView(Z90.data?Z90.data.measureName:b5x.C4C);};L7p.prototype.onOpenContextMenu=function(y90){b5x.x4C==this.contextMenu&&this.addContextMenu();this.contextMenu.showWith(this.container,y90.data.menuItems,y90.data.coords);};L7p.prototype.onAfterGridDraw=function(){var d90=this;b5x.F8C==this.delayedDraws.length&&(this.renderCompleteTimeout=utils.fmSetTimeout(function(){d90.dispatchWith(t7p.ViewEvent.RENDER_COMPLETE);},b5x.O8C));};L7p.prototype.addCalculatedView=function(){this.calculatedView=new t7p.calculated.CalculatedView();this.addChild(this.calculatedView);};L7p.prototype.addDrillThroughView=function(){this.drillThroughView=new t7p.grid.DrillThroughView();this.addChild(this.drillThroughView);};L7p.prototype.addFilterView=function(){var S90=this;this.filterView=new t7p.filter.FilterView();this.filterView.addEventListener(events._Event.OPENED,function(I90){return S90.onWindowOpenClose(I90);});this.filterView.addEventListener(events._Event.CLOSED,function(T90){return S90.onWindowOpenClose(T90);});this.addChild(this.filterView);};L7p.prototype.getToolbar=function(){return this.toolbar;};L7p.prototype.addContextMenu=function(){this.contextMenu=new t7p.ContextMenuView();this.contextMenu.hide();this.addChild(this.contextMenu);};L7p.prototype.dispose=function(){this.model_=b5x.x4C;this.gridView.dispose();this.container.dispose();this.parentContainer.dispose();t7p.AlertView.dispose();t7p.filter.FilterModel.dispose();t7p.PreloaderView.dispose();uicontrols.dragndrop.DragManager.dispose();L7p.stage=b5x.x4C;this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=b5x.x4C);};return L7p;}(uicontrols.containers.UIContainer);t7p.PivotView=c7p;}(n7p._view||(n7p._view={})));}(pivot||(pivot={})));(function(m90){(function(w90){var r90=function(){var H0C=250;C90.prototype.show=function(P90,v10,G10,U10,W10){var R1f=U9VV;var V10=this;void R1f.F8C===U10&&(U10=!R1f.F8C);void R1f.F8C===W10&&(W10=!R1f.O8C);P90?(W10&&this.showImmediately(P90,v10,G10,U10),!R1f.O8C==this._show?(this._show=P90,this._message=v10,this._details=G10,this._transparent=U10,this._timer=utils.fmSetTimeout(function(){return V10.timerHandler();},C90.DELAY)):R1f.F8C==this._timer?this.showImmediately(P90,v10,G10,U10):(this._show=P90,this._message=v10,this._details=G10,this._transparent=U10)):(W10&&this.showImmediately(P90,v10,G10,U10),!R1f.F8C==this._show&&(this._show=P90,this._timer=utils.fmSetTimeout(function(){return V10.timerHandler();},C90.DELAY)));};C90.prototype.showImmediately=function(l10,p10,X10,B10){this.resetTimer();this.preloaderFunction(l10,p10,X10,B10);};C90.prototype.timerHandler=function(){this.resetTimer();this.preloaderFunction(this._show,this._message,this._details,this._transparent);};C90.prototype.resetTimer=function(){utils.fmClearTimeout(this._timer);this._timer=U9VV.F8C;};C90.prototype.preloaderFunction=function(Y10,q10,u10,z10){w90.PreloaderView.getInstance()&&w90.PreloaderView.getInstance().openView(Y10,q10,u10,z10);};function C90(){var e1f=U9VV;this._timer=e1f.F8C;this._show=!e1f.O8C;this._details=this._message=e1f.C4C;this._transparent=!e1f.O8C;}C90.getInstance=function(){U9VV.x4C==C90._instance&&(C90._instance=new C90());return C90._instance;};C90.dispose=function(){C90._instance=U9VV.x4C;};C90.DELAY=H0C;return C90;}();w90.Preloader=r90;}(m90._view||(m90._view={})));}(pivot||(pivot={})));(function(N10){(function(D10){var x10=function(s10){__extends(K10,s10);K10.prototype.openView=function(O10,M10,b10,j10){var c1f=U9VV;void c1f.F8C===O10&&(O10=!c1f.F8C);void c1f.F8C===M10&&(M10=c1f.C4C);void c1f.F8C===b10&&(b10=c1f.C4C);void c1f.F8C===j10&&(j10=!c1f.F8C);this._message=M10;this._details=b10;this._transparent=j10;O10?this.open():this.close();};K10.prototype.open=function(){s10.prototype.open.call(this);this.draw();};function K10(){var N1Y="wdr-preloader-view";var F10=this;if(U9VV.x4C!=K10._instance)throw Error(v9VV.D5C);F10=s10.call(this,D10.PivotView.stage.container)||this;F10.setId(N1Y);F10.setControls();return F10;}K10.prototype.setControls=function(){var s1Y="wdr-details-label";var K1Y="wdr-message-label";var x1Y="wdr-spinner";var D1Y="wdr-overlay-preloader";this.overlay.addClass(D1Y);this.overlay.removeEventListener(U9VV.H2C,this._overlayClickHandler);this._imgSpinner=new uicontrols.UIComponentBase(U9VV.r4C);this._imgSpinner.setId(x1Y);this.addChild(this._imgSpinner);this._txtMessage=new uicontrols.UILabel();this._txtMessage.setId(K1Y);this.addChild(this._txtMessage);this._txtDetails=new uicontrols.UILabel();this._txtDetails.setId(s1Y);this.addChild(this._txtDetails);this.hide();D10.PivotView.stage.addChild(this);};K10.prototype.draw=function(){this.overlay.setOpaque(!this._transparent);this.setMessage(this._message);this.setDetails(this._details);this.validate();};K10.prototype.setMessage=function(g10){this._txtMessage.setLabel(g10);};K10.prototype.setDetails=function(o10){this._txtDetails.setLabel(o10);};K10.prototype.close=function(){s10.prototype.close.call(this);this.clear();};K10.prototype.clear=function(){this.setMessage(U9VV.C4C);this.setMessage(U9VV.C4C);};K10.getInstance=function(){if(U9VV.x4C==D10.PivotView.stage)return U9VV.x4C;U9VV.x4C==K10._instance&&(K10._instance=new K10());return K10._instance;};K10.dispose=function(){K10._instance=U9VV.x4C;};return K10;}(uicontrols.containers.UIPopup);D10.PreloaderView=x10;}(N10._view||(N10._view={})));}(pivot||(pivot={})));(function(n10){(function(t10){var c10=function(a10){__extends(L10,a10);L10.prototype.showWith=function(R10,k10,Q10){var M1f=U9VV;var A10=this;M1f.F8C!=k10.length&&(this.setData(k10),this.show(),R10=R10.getOffset(),Q10.top-=R10.top+M1f.g8C,Q10.left-=R10.left+M1f.g8C,this.container.offset(Q10),this.container.addEventListener(M1f.m4C,function(){return A10.hide();}),utils.browserVersion().isMobile?t10.PivotView.stage.container.addEventListener(M1f.i4C,function(f10){return A10.onStageMouseDown(f10);}):t10.PivotView.stage.container.addEventListener(M1f.f4C,function(i10){return A10.onStageMouseDown(i10);}));};L10.prototype.onStageMouseDown=function(J10){var F1Y="#wdr-context-menu";U9VV.x4C==uicontrols.UIElement.convert(J10.target).closest(F1Y)&&this.hide();};L10.prototype.setData=function(Z10){for(var H10=[],E10=U9VV.F8C;E10<Z10.length;E10++)H10.push(Z10[E10]);this.list.setDataProvider(H10);};L10.prototype.onListChange=function(y10){U9VV.x4C!=y10.data.selectedItem.handler&&y10.data.selectedItem.handler(y10.data.selectedItem.data);this.hide();};L10.prototype.itemRendererFactory=function(S10,I10){var d10=new uicontrols.renderers.SelectItemRenderer();d10.setData(S10);d10.setIndex(I10);return d10;};function L10(){var O1Y="wdr-context-menu";var e10=a10.call(this)||this;e10.setId(O1Y);e10.list=new uicontrols.lists.UIList();e10.list.setItemRendererFactory(e10.itemRendererFactory);e10.list.setLabelField(v9VV.W0B);e10.list.addEventListener(events._Event.CHANGE,function(h10){return e10.onListChange(h10);});e10.addChild(e10.list);e10.container.disableSelection();return e10;}return L10;}(uicontrols.containers.UIBorderContainer);t10.ContextMenuView=c10;}(n10._view||(n10._view={})));}(pivot||(pivot={})));(function(T10){(function(m10){(function(w10){var r10=function(P10){var x1f=U9VV;var c1Y="gridColumnCount";var t1Y="gridRowCount";var n1Y="gridLayout";var o1Y="isDrillThroughAvailable";__extends(C10,P10);C10.prototype.dispose=function(){this._model=this.dataProvider=x1f.x4C;this.gridLayout&&this.gridLayout.dispose();this._gridLayout=x1f.x4C;};function C10(){var b1Y="contextmenu";var M1Y="wdr-grid-view";var U80=P10.call(this)||this;U80.START_TABLE_ROW=x1f.F8C;U80.START_HEADERS_ROW=x1f.F8C;U80.START_HEADERS_COLUMN=x1f.F8C;U80.FIRST_DATA_ROW=x1f.F8C;U80.FIRST_DATA_COLUMN=x1f.F8C;U80._model=T10.model.PivotModel.getInstance();U80.conditions=[];U80.setId(M1Y);utils.browserVersion().isMobile?new uicontrols._utils.LongPressListener(U80.container).listen(function(v80,G80){return U80.onLongPress(v80,G80);}):utils.fmdocument.addEventListener(b1Y,function(W80){return U80.onContextMenu(W80);});return U80;}C10.prototype.createCompactLayout=function(){var l80=this,V80=new w10.sheet.CompactGridLayout();V80.id=W9VV.j1Y;V80.getDataFunction=function(p80,X80){return l80.getData(p80,X80);};V80.addEventListener(w10.GridEvent.MOUSE_CLICK,function(B80){return l80.onGridClick(B80);});V80.addEventListener(w10.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(Y80){return l80.onGridSingleDoubleClick(Y80);});V80.addEventListener(w10.GridEvent.FILTER_CLICK,function(q80){return l80.onFilterClick(q80);});V80.addEventListener(w10.GridEvent.RESIZE_COLUMN,function(u80){return l80.onResizeColumn(u80);});V80.addEventListener(w10.GridEvent.RESIZE_ROW,function(z80){return l80.onResizeRow(z80);});this.container.append(V80);return V80;};C10.prototype.createClassicLayout=function(){var D80=this,N80=new w10.sheet.classic.ClassicGridLayout();N80.id=W9VV.j1Y;N80.getDataFunction=function(x80,K80){return D80.getData(x80,K80);};N80.addEventListener(w10.GridEvent.MOUSE_CLICK,function(s80){return D80.onGridClick(s80);});N80.addEventListener(w10.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(F80){return D80.onGridSingleDoubleClick(F80);});N80.addEventListener(w10.GridEvent.FILTER_CLICK,function(O80){return D80.onFilterClick(O80);});N80.addEventListener(w10.GridEvent.RESIZE_COLUMN,function(M80){return D80.onResizeColumn(M80);});N80.addEventListener(w10.GridEvent.RESIZE_ROW,function(b80){return D80.onResizeRow(b80);});this.container.append(N80);return N80;};C10.prototype.createFlatLayout=function(){var g80=this,j80=new w10.sheet.flat.FlatGridLayout();j80.id=W9VV.j1Y;j80.getDataFunction=function(o80,n80){return g80.getData(o80,n80);};j80.addEventListener(w10.GridEvent.MOUSE_CLICK,function(t80){return g80.onGridClick(t80);});j80.addEventListener(w10.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(c80){return g80.onGridSingleDoubleClick(c80);});j80.addEventListener(w10.GridEvent.FILTER_CLICK,function(L80){return g80.onFilterClick(L80);});j80.addEventListener(w10.GridEvent.RESIZE_COLUMN,function(a80){return g80.onResizeColumn(a80);});j80.addEventListener(w10.GridEvent.RESIZE_ROW,function(e80){return g80.onResizeRow(e80);});this.container.append(j80);return j80;};C10.prototype.getCurrentLayout=function(){if(T10.model._options.OptionsManager.classicView){if(this.gridLayout&&this.gridLayout.type==w10.sheet.classic.ClassicGridLayout.TYPE)return this.gridLayout;x1f.x4C!=this.gridLayout&&this.gridLayout.removeFromParent(!x1f.F8C);return this.createClassicLayout();}if(T10.model._options.OptionsManager.flatView){if(this.gridLayout&&this.gridLayout.type==w10.sheet.flat.FlatGridLayout.TYPE)return this.gridLayout;x1f.x4C!=this.gridLayout&&this.gridLayout.removeFromParent(!x1f.F8C);return this.createFlatLayout();}if(this.gridLayout&&this.gridLayout.type==w10.sheet.CompactGridLayout.TYPE)return this.gridLayout;x1f.x4C!=this.gridLayout&&this.gridLayout.removeFromParent(!x1f.F8C);return this.createCompactLayout();};C10.prototype.draw=function(){this._gridLayout=this.getCurrentLayout();if(x1f.x4C!=this.gridLayout){this.gridLayout.smoothTimeout=this._model.state_.updateActive?x1f.o0C:v9VV.N6C;if(this.dataProvider&&this.dataProvider.dataLoaded&&!this.dataProvider.isEmpty){this.gridLayout.clearData();this.START_HEADERS_ROW=this.START_HEADERS_COLUMN=this.START_TABLE_ROW=x1f.F8C;var h80,k80,A80,f80,Q80=this.dataProvider.columnMaxDepth,R80=T10.model._options.OptionsManager.classicView?x1f.F8C<this.dataProvider.rowsOnly.length?x1f.O8C:x1f.F8C:this.dataProvider.rowCount;R80>=Q80+x1f.O8C?(h80=x1f.F8C,k80=h80+R80,A80=h80+(R80-Q80)-x1f.O8C):(A80=x1f.F8C,h80=x1f.F8C<this.dataProvider.columnCount?A80+(Q80-R80)+x1f.O8C:A80,x1f.F8C==this.dataProvider.columnsOnly.length&&x1f.F8C==this.dataProvider.rowsOnly.length&&(h80+=x1f.O8C),k80=h80+R80);f80=A80;this.START_TABLE_ROW=Math.min(h80,f80);this.START_HEADERS_ROW=f80;this.START_HEADERS_COLUMN=x1f.F8C;this.FIRST_DATA_ROW=k80;this.FIRST_DATA_COLUMN=this.isFlatTable?x1f.F8C:T10.model._options.OptionsManager.classicView?this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures?this.dataProvider.rowLevels.length+x1f.O8C:this.dataProvider.rowLevels.length:x1f.F8C==this.dataProvider.rows.length?x1f.F8C:x1f.O8C;T10.model._options.OptionsManager.showHierarchyCaptions||(this.START_HEADERS_ROW=x1f.O8C==R80&&x1f.F8C==this.dataProvider.columnCount?x1f.F8C:-x1f.O8C,this.FIRST_DATA_ROW=Q80);this.isFlatTable&&x1f.k2C==T10.model._options.OptionsManager.showGrandTotals&&x1f.b2C==T10.model._options.OptionsManager.grandTotalsPosition&&this.FIRST_DATA_ROW++;this.gridLayout.setDataSize(this.dataProvider.extendedDataHeight+(this.isFlatTable&&x1f.k2C==T10.model._options.OptionsManager.showGrandTotals&&x1f.g2C==T10.model._options.OptionsManager.grandTotalsPosition?x1f.O8C:x1f.F8C),this.dataProvider.extendedDataWidth);this.gridLayout.freezeColumns(this.FIRST_DATA_COLUMN);this.gridLayout.freezeRows(this.FIRST_DATA_ROW);this.gridLayout instanceof w10.sheet.CompactGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-x1f.O8C,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));this.gridLayout instanceof w10.sheet.classic.ClassicGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-x1f.O8C,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));(x1f.O8C<this.dataProvider.columns.length||!this.dataProvider.columnAxis.hasMeasures)&&T10.model._options.OptionsManager.showHierarchyCaptions&&this.addFilterCell(A80,this.FIRST_DATA_COLUMN,T10.data_.consts.AxisName.COLUMNS_AXIS);(x1f.O8C<this.dataProvider.rows.length||!this.dataProvider.rowAxis.hasMeasures)&&T10.model._options.OptionsManager.showHierarchyCaptions&&(T10.model._options.OptionsManager.classicView?this._addFilterCell(h80,x1f.F8C):this.addFilterCell(h80,x1f.F8C,T10.data_.consts.AxisName.ROWS_AXIS));this.resizeColumnsByIdx();this.resizeHeaderColumns();this.resizeColumns();this.resizeRowsByIdx();this.resizeHeaderRows();this.resizeRows();}else this.gridLayout.clearAll();this.conditions=T10.model.condition.ConditionManager.conditions.toArray();this.gridLayout.resize(m10.PivotView.gridWidth,m10.PivotView.gridHeight);this.gridLayout.draw();}};C10.prototype.clearSizes=function(){x1f.x4C!=this.gridLayout&&(this.gridLayout.clearColSizes(x1f.F8C),this.gridLayout.clearRowSizes(x1f.F8C));};C10.prototype.getData=function(i80,S80,Z80){void x1f.F8C===Z80&&(Z80=!x1f.O8C);if(x1f.x4C==this.dataProvider||!this.dataProvider.dataLoaded||i80<this.START_HEADERS_ROW||S80<this.START_HEADERS_COLUMN)return x1f.x4C;var J80=i80-this.FIRST_DATA_ROW,E80=S80-this.FIRST_DATA_COLUMN;if((J80>this.dataProvider.extendedDataHeight-x1f.O8C||E80>this.dataProvider.extendedDataWidth-x1f.O8C)&&!(this.isFlatTable&&x1f.k2C==T10.model._options.OptionsManager.showGrandTotals&&x1f.g2C==T10.model._options.OptionsManager.grandTotalsPosition&&J80==this.dataProvider.extendedDataHeight&&E80<=this.dataProvider.extendedDataWidth-x1f.O8C))return x1f.x4C;var H80=this.dataProvider.getRowTuple(J80,!x1f.F8C),y80=this.dataProvider.getColumnTuple(E80,!x1f.F8C);if(x1f.x4C==H80&&x1f.x4C==y80)return x1f.x4C;var d80=this.dataProvider.getMeasure(J80,E80);if(this.isFlatTable&&x1f.k2C==T10.model._options.OptionsManager.showGrandTotals&&x1f.b2C==T10.model._options.OptionsManager.grandTotalsPosition&&(T10.model._options.OptionsManager.showHierarchyCaptions&&x1f.O8C==i80||!T10.model._options.OptionsManager.showHierarchyCaptions&&x1f.F8C==i80)||this.isFlatTable&&x1f.k2C==T10.model._options.OptionsManager.showGrandTotals&&x1f.g2C==T10.model._options.OptionsManager.grandTotalsPosition&&(T10.model._options.OptionsManager.showHierarchyCaptions&&i80==this.dataProvider.extendedDataHeight+x1f.O8C||!T10.model._options.OptionsManager.showHierarchyCaptions&&i80==this.dataProvider.extendedDataHeight))return this.getFlatGrandTotal(H80,y80,d80);if(x1f.x4C==H80)return Z80=x1f.O8C==(T10.model._options.OptionsManager.classicView?x1f.O8C:this.dataProvider.rowsOnly.length)&&x1f.F8C==this.dataProvider.columnCount?i80-this.START_HEADERS_ROW:i80-this.START_HEADERS_ROW-x1f.O8C,x1f.F8C==this.dataProvider.rowsOnly.length&&x1f.F8C==this.dataProvider.columnsOnly.length&&(Z80=i80-this.START_HEADERS_ROW),i80=this.dataProvider.getColumnDepth(E80),this.getColumnCell(y80,d80,i80,Z80,S80);E80=this.dataProvider.getRowDepth(J80);J80=this.dataProvider.getRowType(J80);return x1f.x4C==y80?T10.model._options.OptionsManager.classicView?this._getRowCell(H80,d80,E80,S80,J80):this.getRowCell(H80,d80,E80):this.getDataCell(H80,y80,d80,i80,S80,Z80,E80,J80);};C10.prototype.getDataCell=function(C80,P80,T80,V00,W00,v00,m80,U00){var c2f=v9VV;var t2f=G9VV;void x1f.F8C===v00&&(v00=!x1f.O8C);void x1f.F8C===m80&&(m80=NaN);void x1f.F8C===U00&&(U00=-x1f.O8C);if(x1f.x4C==T80)return x1f.x4C;var w80=T80.getFormat().clone();if(T80.aggregation==T10.data_.consts.AggregationName.PERCENT||T80.aggregation==T10.data_.consts.AggregationName.PERCENT_COLUMN||T80.aggregation==T10.data_.consts.AggregationName.PERCENT_ROW||T80.aggregation==T10.data_.consts.AggregationName.PERCENT_DIFFERENCE)w80.currencySymbol=t2f.o2B,w80.currencySymbolAlign=x1f.j2C;var I80=new w10.vo.GridCell();I80.isValue=!x1f.F8C;I80.columnTuple=P80;I80.measure=T80;I80.hierarchy=this._model.cube_.structure_.measureToHierarchy(T80.uniqueName);I80.rowTuple=C80;T10.model._options.OptionsManager.classicView?x1f.F8C==C80.length?I80.level=x1f.F8C:(m80=this.getLevelIdxByTuple(C80),-x1f.O8C<m80&&(I80.level=m80)):T10.model._options.OptionsManager.flatView||(I80.level=m80);m80=this.dataProvider.getValue(C80,P80,T80);I80.value=m80;if(this.isFlatTable){w80=T80.getFormat(!x1f.F8C).clone();if(T80.type==T10.data_.types.MeasureType.COUNT){var r80=this.dataProvider.getColumnHierarchy(P80).members.getItemAt(m80);x1f.x4C!=r80&&(I80.member=r80,I80.label=r80.caption);}else T80.type==T10.data_.types.MeasureType.NUMBER?x1f.K2C===typeof m80?I80.label=m80:(I80.label=utils.NumberFormatter.format(m80,w80),I80.numeric=!x1f.F8C):T80.type==T10.data_.types.MeasureType.DATE?I80.label=utils.StringUtils.toDate(m80,T10.model._options.OptionsManager.datePattern):T80.type==T10.data_.types.MeasureType.TIME?isNaN(m80)||(I80.label=utils.StringUtils.toTime(m80)):T80.type!=T10.data_.types.MeasureType.DATETIME||isNaN(m80)||(I80.label=utils.StringUtils.toDateTime(m80,T10.model._options.OptionsManager.dateTimePattern));I80.recordId=this.dataProvider.getRecordId(C80,P80,T80);}else T80.type==T10.data_.types.MeasureType.NUMBER||T80.type==T10.data_.types.MeasureType.COUNT?x1f.K2C===typeof m80?I80.label=m80:(I80.label=utils.NumberFormatter.format(m80,w80),I80.numeric=!x1f.F8C):T80.type==T10.data_.types.MeasureType.DATE?I80.label=T10.data_.consts.AggregationName.validForDateTimeFormatting(T80.aggregation)?utils.StringUtils.toDate(I80.value,T10.model._options.OptionsManager.datePattern):utils.NumberFormatter.format(m80,w80):T80.type==T10.data_.types.MeasureType.TIME?isNaN(m80)||(I80.label=T10.data_.consts.AggregationName.validForDateTimeFormatting(T80.aggregation)?utils.StringUtils.toTime(m80):utils.NumberFormatter.format(m80,w80)):T80.type==T10.data_.types.MeasureType.DATETIME?isNaN(I80.value)||(I80.label=T10.data_.consts.AggregationName.validForDateTimeFormatting(T80.aggregation)?utils.StringUtils.toDateTime(m80,T10.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(m80,w80)):I80.label=m80;if(v00)return I80;v00=!x1f.O8C;if(this.dataProvider.rowCount>C80.length||this.dataProvider.columnCount>P80.length){v00=!x1f.F8C;I80.isTotalRow=this.dataProvider.rowCount>C80.length;I80.isTotalColumn=this.dataProvider.columnCount>P80.length;if(x1f.k2C!=T10.model._options.OptionsManager.showTotals){r80=this.dataProvider.measureDepth;if(x1f.F8C!=C80.length&&(this.dataProvider.isRowExpanded(C80)||this.dataProvider.isRowExpanded(C80,T80))&&(t2f.N4B==T10.model._options.OptionsManager.showTotals||c2f.b8Q==T10.model._options.OptionsManager.showTotals)||x1f.F8C!=P80.length&&(this.dataProvider.isColumnExpanded(P80)||this.dataProvider.isColumnExpanded(P80,T80))&&(t2f.N4B==T10.model._options.OptionsManager.showTotals||c2f.M8Q==T10.model._options.OptionsManager.showTotals))return x1f.x4C;if(x1f.F8C==r80&&x1f.O8C<this.dataProvider.measures.length)if(this.dataProvider.rowAxis.hasMeasures&&(t2f.N4B==T10.model._options.OptionsManager.showTotals||c2f.b8Q==T10.model._options.OptionsManager.showTotals)){if(V00<(x1f.k2C==T10.model._options.OptionsManager.showGrandTotals||c2f.b8Q==T10.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight-this.dataProvider.measures.length:this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight)&&this.dataProvider.isRowExpanded(C80,T80))return x1f.x4C;}else if(this.dataProvider.columnAxis.hasMeasures&&(t2f.N4B==T10.model._options.OptionsManager.showTotals||c2f.M8Q==T10.model._options.OptionsManager.showTotals)&&W00<(x1f.k2C==T10.model._options.OptionsManager.showGrandTotals||c2f.M8Q==T10.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth)&&this.dataProvider.isColumnExpanded(P80,T80))return x1f.x4C;}I80.isGrandTotalRow=x1f.F8C==C80.length;I80.isGrandTotalColumn=x1f.F8C==P80.length;I80.isClassicTotalRow=I80.isTotalRow&&x1f.M8C==U00&&!I80.isGrandTotalRow;}x1f.C4C!=w80.textAlign&&I80.customize({"text-align":w80.textAlign});if(x1f.F8C<this.conditions.length&&I80.measure)for(U00=x1f.F8C;U00<this.conditions.length;U00++)if(w80=this.conditions[U00],!(w80.row!=V00&&-x1f.O8C!=w80.row||w80.column!=W00&&-x1f.O8C!=w80.column||w80.measure!=T80.uniqueName&&x1f.C4C!=w80.measure&&w80.measure!=T80.uniqueName||w80.isTotal!==v00&&void x1f.F8C!==w80.isTotal||x1f.C4C!=w80.hierarchy&&!this.checkHierarchyCondition(C80,P80,w80.hierarchy,w80.member)))if(r80=w80.params.slice(x1f.F8C),w80.isUpdate){if(this._model.state_.updateActive){var G00=this.dataProvider.getUpdatedValue(C80,P80,T80);G00&&(-x1f.O8C<w80.formula.toLowerCase().indexOf(T10.data_.consts.FunctionName.UPDATE_DIFFERENCE)?m80=G00.difference:-x1f.O8C<w80.formula.toLowerCase().indexOf(T10.data_.consts.FunctionName.UPDATE_PERCENT)&&(m80=x1f.o0C*G00.percent),r80=this.dataProvider.calculate(C80,P80,r80,m80),x1f.x4C!=r80&&I80.customizeWithClass(r80));}}else r80=this.dataProvider.calculate(C80,P80,r80,m80),!x1f.F8C!=r80&&c2f.W9Q!=r80||x1f.x4C==w80.format?x1f.x4C!=r80&&!x1f.O8C!=r80&&I80.customizeWithClass(r80):(I80.customize(w80.format.toCSSObject()),I80.conditions.push(w80.id)),I80.showTooltip=!x1f.F8C;return I80;};C10.prototype.getFlatGrandTotal=function(q00,u00,p00){if(x1f.x4C==p00)return x1f.x4C;var l00=new w10.vo.GridCell();l00.isValue=!x1f.F8C;l00.columnTuple=u00;l00.measure=p00;l00.hierarchy=this._model.cube_.structure_.measureToHierarchy(p00.uniqueName);l00.rowTuple=q00;if(p00.type==T10.data_.types.MeasureType.NUMBER||p00.type==T10.data_.types.MeasureType.TIME||p00.type==T10.data_.types.MeasureType.DATETIME){var X00=p00.getFormat().clone();if(p00.aggregation==T10.data_.consts.AggregationName.PERCENT||p00.aggregation==T10.data_.consts.AggregationName.PERCENT_COLUMN||p00.aggregation==T10.data_.consts.AggregationName.PERCENT_ROW||p00.aggregation==T10.data_.consts.AggregationName.PERCENT_DIFFERENCE||p00.calculated&&-x1f.O8C<p00.formula.indexOf(G9VV.g2B))X00.currencySymbol=G9VV.o2B,X00.currencySymbolAlign=x1f.j2C;l00.value=this.dataProvider.getValue(x1f.x4C,x1f.x4C,p00);p00.type==T10.data_.types.MeasureType.NUMBER?(l00.label=utils.NumberFormatter.format(l00.value,X00),l00.numeric=!x1f.F8C):p00.type==T10.data_.types.MeasureType.TIME?isNaN(l00.value)||(l00.label=T10.data_.consts.AggregationName.validForDateTimeFormatting(p00.aggregation)?utils.StringUtils.toTime(l00.value):utils.NumberFormatter.format(l00.value,X00)):p00.type!=T10.data_.types.MeasureType.DATETIME||isNaN(l00.value)||(l00.label=T10.data_.consts.AggregationName.validForDateTimeFormatting(p00.aggregation)?utils.StringUtils.toDateTime(l00.value,T10.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(l00.value,X00));l00.isGrandTotalRow=!x1f.F8C;x1f.C4C!=X00.textAlign&&l00.customize({"text-align":X00.textAlign});if(x1f.F8C<this.conditions.length)for(X00=x1f.F8C;X00<this.conditions.length;X00++){var B00=this.conditions[X00],N00=B00.params.slice(x1f.F8C);if(B00.measure==p00.uniqueName&&B00.isUpdate&&this._model.state_.updateActive){var Y00=this.dataProvider.getUpdatedValue(q00,u00,p00);if(Y00){var z00;-x1f.O8C<B00.formula.toLowerCase().indexOf(T10.data_.consts.FunctionName.UPDATE_DIFFERENCE)?z00=Y00.difference:-x1f.O8C<B00.formula.toLowerCase().indexOf(T10.data_.consts.FunctionName.UPDATE_PERCENT)&&(z00=x1f.o0C*Y00.percent);B00=this.dataProvider.calculate(q00,u00,N00,z00);x1f.x4C!=B00&&l00.customizeWithClass(B00);}}}}return l00;};C10.prototype.checkHierarchyCondition=function(K00,D00,x00,F00){var s00=this.dataProvider.columns.indexOf(x00);if(-x1f.O8C<s00){if(s00<D00.length)return K00=this.dataProvider.columns.getItem(x00),D00[s00]&&K00.members.getItemAt(D00[s00]).uniqueName==F00;}else if(D00=this.dataProvider.rows.indexOf(x00),-x1f.O8C<D00&&D00<K00.length)return x00=this.dataProvider.rows.getItem(x00),K00[D00]&&x00.members.getItemAt(K00[D00]).uniqueName==F00;return!x1f.O8C;};C10.prototype.getColumnCell=function(O00,M00,b00,j00,g00){return this.isFlatTable?this._getFlatTableColumnCell(O00,M00,b00,j00):this._getColumnCell(O00,M00,b00,j00,g00);};C10.prototype._getColumnCell=function(t00,L00,A00,n00,o00){if(x1f.F8C==t00.length){if(this.dataProvider.rowAxis.hasMeasures&&n00==this.dataProvider.columnMaxDepth-x1f.O8C)return this.getGrandTotalCell(L00,T10.data_.consts.AxisName.COLUMNS_AXIS);t00=this.dataProvider.extendedDataWidth-this.dataProvider.measures.length+x1f.O8C;if(this.dataProvider.columnAxis.hasMeasures&&n00==this.dataProvider.columnMaxDepth-x1f.O8C&&o00>=t00&&x1f.O8C==this.dataProvider.measures.length)return this.getGrandTotalCell(L00,T10.data_.consts.AxisName.COLUMNS_AXIS);t00=x1f.k2C==T10.model._options.OptionsManager.showGrandTotals||v9VV.M8Q==T10.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth;return this.dataProvider.columnAxis.hasMeasures&&x1f.F8C==n00&&o00>=t00&&x1f.O8C<this.dataProvider.columnMaxDepth?o00==t00?(o00=this.getHeaderCell(),o00.label=T10.model._labels.Labels.GRID_TOTALS,o00):this.getEmptyHeaderCell():this.dataProvider.columnAxis.hasMeasures&&x1f.F8C==n00&&x1f.O8C<this.dataProvider.columnMaxDepth?this.getGrandTotalCell(L00,T10.data_.consts.AxisName.COLUMNS_AXIS):this.dataProvider.columnAxis.hasMeasures&&n00==this.dataProvider.columnMaxDepth-x1f.O8C?o00>=t00||x1f.O8C==this.dataProvider.columnAxis.hierarchies.length?this.getGrandTotalCell(L00,T10.data_.consts.AxisName.COLUMNS_AXIS):this.getHeaderCell():this.dataProvider.columnAxis.hasMeasures&&x1f.F8C<n00&&o00<=t00?this.getHeaderCell():x1f.F8C<=n00?this.getEmptyHeaderCell():x1f.x4C;}var e00=this.dataProvider.columnAxis.hasMeasures&&(t00.length>this.dataProvider.measuresPosition||x1f.F8C==this.dataProvider.measuresPosition)?t00.length:t00.length-x1f.O8C,R00=this.dataProvider.columns.getItemAt(e00);this.dataProvider.columnAxis.hasMeasures&&e00>this.dataProvider.measuresPosition&&(x1f.O8C==this.dataProvider.measures.length?e00--:A00++);if(A00>n00)return x1f.F8C<=n00?this.getEmptyHeaderCell():x1f.x4C;o00=new w10.vo.GridCell();o00.isColumnHeader=!x1f.F8C;o00.measure=this.dataProvider.columnAxis.hasMeasures&&(x1f.O8C<this.dataProvider.measures.length||T10.model._options.OptionsManager.showExtraTotalLabels)?L00:x1f.x4C;var h00=!x1f.O8C,c00=R00.members.getItemAt(t00[t00.length-x1f.O8C]),a00=this.dataProvider.measureDepth;if(this.dataProvider.columnAxis.hasMeasures&&x1f.O8C<this.dataProvider.measures.length&&n00==a00-x1f.O8C||this.dataProvider.columnAxis.hasMeasures&&T10.model._options.OptionsManager.showExtraTotalLabels&&n00==a00-x1f.O8C&&x1f.O8C!=a00||this.dataProvider.columnAxis.hasMeasures&&T10.model._options.OptionsManager.showExtraTotalLabels&&n00==a00&&x1f.O8C==a00&&x1f.M8C>this.dataProvider.measures.length)o00.label=L00.caption,o00.isMeasureHeader=!x1f.F8C,c00=x1f.x4C;else{if(this.dataProvider.columnAxis.hasMeasures&&x1f.F8C<this.dataProvider.measures.indexOf(L00.uniqueName)&&n00<a00)return this.getEmptyHeaderCell();A00<n00?e00==n00?(h00=t00.length-x1f.O8C!=this.dataProvider.columnCount-x1f.O8C&&!c00.isAll,o00.label=c00.caption):(o00.label=this.dataProvider.columnMaxDepth-x1f.O8C==n00&&T10.model._options.OptionsManager.showExtraTotalLabels?x1f.x4C!=L00?L00.caption:T10.model._labels.Labels.GRID_TOTAL:x1f.C4C,c00=x1f.x4C):(h00=t00.length-x1f.O8C!=this.dataProvider.columnCount-x1f.O8C&&!c00.isAll,o00.label=c00.caption,this.dataProvider.columnAxis.hasMeasures&&n00<a00&&(o00.measure=L00=x1f.x4C));}n00=x1f.x4C==c00?!x1f.O8C:this.dataProvider.isColumnDrilledDown(t00,c00,L00);c00&&(x1f.O8C!=c00.children.length||c00.children.getItemAt(x1f.F8C).caption!=T10.model._labels.Labels.MEMBER_BLANK&&c00.children.getItemAt(x1f.F8C).caption!=T10.model._labels.Labels.INVALID_DATE)&&!c00.isAll&&c00.hierarchy_.isHierarchy&&!c00.level.isLast&&(h00||T10.model._options.OptionsManager.showHierarchies?n00?o00.drilledDown=!x1f.F8C:o00.drilledUp=!x1f.F8C:n00?o00.expanded=!x1f.F8C:o00.collapsed=!x1f.F8C);h00&&!n00&&(this.dataProvider.isColumnExpanded(t00,L00)?o00.expanded=!x1f.F8C:o00.collapsed=!x1f.F8C);x1f.k2C!=T10.model._options.OptionsManager.sorting&&v9VV.b8Q!=T10.model._options.OptionsManager.sorting||x1f.C4C==o00.label||(o00.sortable=!x1f.F8C,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=t00.toString()||x1f.x4C!=L00&&this.dataProvider.columnSortMeasure.uniqueName!=L00.uniqueName||(this.dataProvider.columnSortType==T10.data_.consts.SortType.DESC?o00.sortedDesc=!x1f.F8C:this.dataProvider.columnSortType==T10.data_.consts.SortType.ASC&&(o00.sortedAsc=!x1f.F8C)));o00.isTotalColumn=this.dataProvider.columnCount>t00.length;o00.tuple=t00;o00.url=void x1f.F8C;o00.hierarchy=R00;o00.member=c00;return o00;};C10.prototype._getFlatTableColumnCell=function(k00,i00,Q00,f00){f00=this.dataProvider.getColumnHierarchy(k00);if(x1f.x4C==f00){if(x1f.x4C==i00)return x1f.x4C;Q00=new w10.vo.GridCell();Q00.isColumnHeader=!x1f.F8C;Q00.label=i00.caption;return Q00;}Q00=new w10.vo.GridCell();Q00.isColumnHeader=!x1f.F8C;Q00.isFilterHeader=!x1f.F8C;Q00.hasHierarchyName=f00.filterEnabled;Q00.filtered=f00.hasFilter();Q00.label=f00.caption;Q00.tuple=k00;Q00.hierarchy=f00;Q00.member=x1f.x4C;Q00.measure=i00;Q00.draggable=!x1f.F8C;if(x1f.k2C==T10.model._options.OptionsManager.sorting||v9VV.b8Q==T10.model._options.OptionsManager.sorting)Q00.sortable=!x1f.F8C,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=k00.toString()||this.dataProvider.columnSortMeasure!=i00&&x1f.x4C!=i00||(k00=this.dataProvider.columnSortType,k00==T10.data_.consts.SortType.DESC?Q00.sortedDesc=!x1f.F8C:k00==T10.data_.consts.SortType.ASC&&(Q00.sortedAsc=!x1f.F8C));return Q00;};C10.prototype.getHeaderCell=function(){var J00=new w10.vo.GridCell();J00.isColumnHeader=!x1f.F8C;return J00;};C10.prototype.getEmptyHeaderCell=function(){var E00=this.getHeaderCell();E00.isEmpty=!x1f.F8C;return E00;};C10.prototype.getGrandTotalCell=function(Z00,y00){var H00=new w10.vo.GridCell();H00.label=x1f.x4C==Z00?T10.model._labels.Labels.GRID_GRAND_TOTAL:Z00.grandTotalCaption;H00.isMeasureHeader=x1f.x4C!=Z00;if(y00==T10.data_.consts.AxisName.COLUMNS_AXIS){H00.isColumnHeader=!x1f.F8C;H00.isTotalColumn=H00.isGrandTotalColumn=!x1f.F8C;if(x1f.k2C==T10.model._options.OptionsManager.sorting||v9VV.b8Q==T10.model._options.OptionsManager.sorting)H00.sortable=!x1f.F8C,!this.dataProvider.columnSortTuple||x1f.C4C!=this.dataProvider.columnSortTuple.toString()||this.dataProvider.columnSortMeasure!=Z00&&x1f.x4C!=Z00||(this.dataProvider.columnSortType==T10.data_.consts.SortType.DESC?H00.sortedDesc=!x1f.F8C:this.dataProvider.columnSortType==T10.data_.consts.SortType.ASC&&(H00.sortedAsc=!x1f.F8C));this.dataProvider.columnAxis.hasMeasures?H00.measure=Z00:H00.label=T10.model._labels.Labels.GRID_GRAND_TOTAL;}else{H00.isRowHeader=!x1f.F8C;H00.isTotalRow=H00.isGrandTotalRow=!x1f.F8C;if(x1f.k2C==T10.model._options.OptionsManager.sorting||v9VV.M8Q==T10.model._options.OptionsManager.sorting)H00.sortable=!x1f.F8C,!this.dataProvider.rowSortTuple||x1f.C4C!=this.dataProvider.rowSortTuple.toString()||this.dataProvider.rowSortMeasure!=Z00&&x1f.x4C!=Z00||(this.dataProvider.rowSortType==T10.data_.consts.SortType.DESC?H00.sortedDesc=!x1f.F8C:this.dataProvider.rowSortType==T10.data_.consts.SortType.ASC&&(H00.sortedAsc=!x1f.F8C));this.dataProvider.rowAxis.hasMeasures?H00.measure=Z00:H00.label=T10.model._labels.Labels.GRID_GRAND_TOTAL;H00.level=x1f.F8C;}H00.tuple=[];return H00;};C10.prototype.getRowCell=function(I00,T00,m00){if(x1f.F8C==I00.length)return this.getGrandTotalCell(T00,T10.data_.consts.AxisName.ROWS_AXIS);var w00=this.dataProvider.rowAxis.hasMeasures&&I00.length>this.dataProvider.measuresPosition?I00.length:I00.length-x1f.O8C,S00=I00[I00.length-x1f.O8C],r00=this.dataProvider.rows.getItemAt(w00),d00=new w10.vo.GridCell();d00.isRowHeader=!x1f.F8C;var C00=!x1f.O8C,S00=r00.members.getItemAt(S00);d00.level=m00;x1f.x4C!=T00&&this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures&&w00<=this.dataProvider.measuresPosition?(d00.label=T00.caption,S00=x1f.x4C):S00&&(d00.label=S00.caption,C00=I00.length!=this.dataProvider.rowCount&&!S00.isAll);m00=x1f.x4C==S00?!x1f.O8C:this.dataProvider.isRowDrilledDown(I00,S00,T00);S00&&!S00.isAll&&S00.hierarchy_.isHierarchy&&!S00.isLeaf&&(x1f.O8C!=S00.children.length||S00.children.getItemAt(x1f.F8C).caption!=T10.model._labels.Labels.MEMBER_BLANK&&S00.children.getItemAt(x1f.F8C).caption!=T10.model._labels.Labels.INVALID_DATE)&&(T10.model._options.OptionsManager.showHierarchies?m00?d00.drilledDown=!x1f.F8C:d00.drilledUp=!x1f.F8C:m00?d00.expanded=!x1f.F8C:d00.collapsed=!x1f.F8C);C00&&!m00&&(this.dataProvider.isRowExpanded(I00,T00)?d00.expanded=!x1f.F8C:d00.collapsed=!x1f.F8C);if(x1f.k2C==T10.model._options.OptionsManager.sorting||v9VV.M8Q==T10.model._options.OptionsManager.sorting)d00.sortable=!x1f.F8C,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==I00.toString()&&this.dataProvider.rowSortMeasure==T00&&(this.dataProvider.rowSortType==T10.data_.consts.SortType.DESC?d00.sortedDesc=!x1f.F8C:this.dataProvider.rowSortType==T10.data_.consts.SortType.ASC&&(d00.sortedAsc=!x1f.F8C));d00.isTotalRow=this.dataProvider.rowCount>I00.length;d00.tuple=I00;d00.url=void x1f.F8C;d00.hierarchy=r00;d00.member=S00;d00.measure=this.dataProvider.rowAxis.hasMeasures&&x1f.O8C<this.dataProvider.measures.length?T00:x1f.x4C;return d00;};C10.prototype._getRowCell=function(p40,l40,q40,W40,X40){if(x1f.F8C==p40.length){if(x1f.F8C==W40)return this.getGrandTotalCell(l40,T10.data_.consts.AxisName.ROWS_AXIS);var P00=new w10.vo.GridCell();P00.isRowHeader=!x1f.F8C;P00.isTotalRow=P00.isGrandTotalRow=!x1f.F8C;P00.isEmpty=!x1f.F8C;P00.level=q40;return P00;}for(var Y40=W40,D40,P00=this.dataProvider.rowLevels[W40],B40,u40,v40=x1f.F8C;v40<this.dataProvider.rowsOnly.length;v40++){var V40=this.dataProvider.rowsOnly.getItemAt(v40);B40=V40.findLevel(P00);if(x1f.x4C!=B40){D40=V40;Y40=v40;break;}}v40=x1f.x4C==p40[Y40]?x1f.F8C:p40[Y40];P00=new w10.vo.GridCell();P00.isRowHeader=!x1f.F8C;P00.isTotalRow=this.dataProvider.rowCount>p40.length;P00.isClassicTotalRow=P00.isTotalRow&&x1f.M8C==X40;B40=!x1f.O8C;q40>W40&&(B40=!x1f.F8C);q40>W40&&x1f.M8C==X40&&(B40=!x1f.F8C);q40+x1f.O8C<W40&&x1f.M8C==X40&&(B40=!x1f.F8C);P00.level=Math.min(p40.length-x1f.O8C,W40);var G40=p40.slice(x1f.F8C),V40=!x1f.O8C;if(W40==this.dataProvider.rowLevels.length)P00.label=l40.caption,V40=!x1f.F8C;else{var N40=!x1f.O8C,G40=x1f.x4C==l40?x1f.F8C:this.dataProvider.measures.indexOf(l40.uniqueName),U40=D40.members.getItemAt(v40);u40=this.dataProvider.rowLevels.indexOf(U40.level.uniqueName)-W40;var x40=x1f.x4C!=U40&&x1f.M8C!=X40;if(x1f.F8C>u40)if(U40.isAll)V40=!x1f.F8C;else return P00;else if(x1f.F8C<u40)for(v40=x1f.F8C;v40<u40;v40++)U40=U40.parent;U40&&(v40=this.dataProvider.rowLevels.indexOf(U40.level.uniqueName),-x1f.O8C<v40&&(P00.level=v40));P00.member=U40;if(x1f.M8C==X40)U40&&q40==W40&&(P00.label=this.dataProvider.rowAxis.hasMeasures&&x1f.O8C<this.dataProvider.measures.length?U40.caption+x1f.s4C+l40.caption:U40.caption+x1f.s4C+T10.model._labels.Labels.GRID_TOTAL,V40=!x1f.F8C);else{if(x1f.F8C>u40)return utils.nullOrEmpty(P00.label)&&(P00.isEmpty=!x1f.F8C),v40=this.getLevelIdxByTuple(p40),-x1f.O8C<v40&&(P00.level=v40),P00;x1f.F8C<G40&&(U40=x1f.x4C);U40&&x1f.F8C!=U40.ordinal&&(P00.label=U40.caption);N40=x1f.O8C==X40&&Y40<this.dataProvider.rowsOnly.length-x1f.O8C&&x1f.F8C==G40;}G40=p40.slice(x1f.F8C,Y40+x1f.O8C);if(x40&&U40){G40[Y40]=U40.ordinal;var z40=this.dataProvider.isRowDrilledDown(G40,U40,l40);U40.isAll||!U40.hierarchy_.isHierarchy||U40.isLeaf||x1f.M8C==X40||x1f.O8C==U40.children.length&&(U40.children.getItemAt(x1f.F8C).caption==T10.model._labels.Labels.MEMBER_BLANK||U40.children.getItemAt(x1f.F8C).caption==T10.model._labels.Labels.INVALID_DATE)||(T10.model._options.OptionsManager.showHierarchies?z40?P00.drilledDown=!x1f.F8C:P00.drilledUp=!x1f.F8C:z40?P00.expanded=!x1f.F8C:P00.collapsed=!x1f.F8C);}N40&&!z40&&(this.dataProvider.isRowExpanded(G40,l40)?P00.expanded=!x1f.F8C:P00.collapsed=!x1f.F8C);}if(B40)P00.label=x1f.C4C,P00.sortedAsc=P00.sortedDesc=P00.collapsed=P00.expanded=P00.drilledDown=P00.drilledUp=!x1f.O8C;else if(P00.tuple=G40,P00.url=void x1f.F8C,P00.hierarchy=D40,P00.measure=l40,x1f.k2C==T10.model._options.OptionsManager.sorting||v9VV.M8Q==T10.model._options.OptionsManager.sorting)P00.sortable=!x1f.F8C,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==G40.toString()&&this.dataProvider.rowSortMeasure==l40&&(this.dataProvider.rowSortType==T10.data_.consts.SortType.DESC?P00.sortedDesc=!x1f.F8C:this.dataProvider.rowSortType==T10.data_.consts.SortType.ASC&&(P00.sortedAsc=!x1f.F8C));V40&&(v40=this.getLevelIdxByTuple(p40),-x1f.O8C<v40&&(P00.level=v40));utils.nullOrEmpty(P00.label)&&(P00.isEmpty=!x1f.F8C,P00.isExpandedArea=x1f.M8C==X40&&U40&&W40-x1f.O8C>q40?!x1f.O8C:!x1f.F8C);return P00;};C10.prototype.getLevelIdxByTuple=function(K40){return(K40=this.dataProvider.getRowHierarchy(K40).members.getItemAt(K40[K40.length-x1f.O8C]))?this.dataProvider.rowLevels.indexOf(K40.level.uniqueName):-x1f.O8C;};C10.prototype.onGridClick=function(s40){utils.nullOrUndefined(s40.cell)||!s40.cell.isColumnHeader&&!s40.cell.isRowHeader||(s40.cell.activeElementType==w10.vo.GridCellElementType.DRILL?this.drill(s40.cell):s40.cell.activeElementType==w10.vo.GridCellElementType.LINK&&s40.cell.isLink||(utils.nullOrUndefined(s40.cell.member)||s40.cell.activeElementType==w10.vo.GridCellElementType.RIGHT_ICON?s40.cell.activeElementType==w10.vo.GridCellElementType.RIGHT_ICON&&(s40.cell.isColumnHeader&&this.sortColumn(s40.cell),s40.cell.isRowHeader&&this.sortRow(s40.cell)):T10.model._options.OptionsManager.showHierarchies||s40.cell.member.isLeaf?this.expandCollapse(s40.cell):this.drill(s40.cell)));};C10.prototype.onFilterClick=function(F40){T10.model._options.OptionsManager.showFilter&&this.dispatch(new m10.FilterOpenEvent(F40.hierarchy));};C10.prototype.drill=function(O40){if(O40.drilledUp||O40.drilledDown||O40.expanded||O40.collapsed){var b40=O40.tuple,j40=T10.model._options.OptionsManager.classicView?x1f.x4C:O40.measure,M40=O40.member;if(x1f.x4C!=M40&&!M40.isAll&&!M40.isLeaf){var g40;O40.isRowHeader?(O40=T10.data_.consts.AxisName.ROWS_AXIS,g40=this.dataProvider.isRowDrilledDown(b40,M40,j40)):(O40=T10.data_.consts.AxisName.COLUMNS_AXIS,g40=this.dataProvider.isColumnDrilledDown(b40,M40,j40));g40?this.dataProvider.drillUp(b40,M40,O40,j40):this.dataProvider.drillDown(b40,M40,O40,j40);}}};C10.prototype.expandCollapse=function(o40){if(o40.expanded||o40.collapsed){var t40=o40.tuple,n40=o40.isColumnHeader?T10.data_.consts.AxisName.COLUMNS_AXIS:T10.data_.consts.AxisName.ROWS_AXIS,c40=T10.model._options.OptionsManager.classicView&&n40==T10.data_.consts.AxisName.ROWS_AXIS?x1f.x4C:o40.measure;o40.expanded?(this.gridLayout.clearData(),this.dataProvider.collapse(t40,n40,c40)):o40.collapsed&&(this.gridLayout.clearData(),this.dataProvider.expand(t40,n40,c40));o40.isColumnHeader?this.gridLayout.clearColSizes(o40.colIdx+x1f.O8C):this.gridLayout.clearRowSizes(o40.rowIdx+x1f.O8C);}};C10.prototype.onGridSingleDoubleClick=function(L40){L40.isSingleClick?this.singleClick(L40.cell):(this.isDrillThroughAvailable&&T10.model._options.OptionsManager.drillThrough&&!this.isFlatTable&&this.drillThrough(L40.cell),this.doubleClick(L40.cell));};C10.prototype.drillThrough=function(a40){a40.isValue&&!a40.measure.calculated&&this.dispatchWith(m10.ViewEvent.DRILL_THROUGH_OPEN,this,{measure:a40.measure.uniqueName,columnTuple:a40.columnTuple,rowTuple:a40.rowTuple});};C10.prototype.singleClick=function(e40){var h40=e40.toObject();this.setCoordsToCell(h40,e40.colIdx,e40.rowIdx);T10.model.JavaScriptHandlers.getInstance().dispatch(new T10.model.APIEvent(T10.model.JavaScriptHandlers.CELL_CLICK,h40));};C10.prototype.doubleClick=function(R40){var A40=R40.toObject();this.setCoordsToCell(A40,R40.colIdx,R40.rowIdx);T10.model.JavaScriptHandlers.getInstance().dispatch(new T10.model.APIEvent(T10.model.JavaScriptHandlers.CELL_DOUBLE_CLICK,A40));};C10.prototype.setCoordsToCell=function(Q40,k40,f40){Q40.x=this.gridLayout.coords.getRelativeColX(k40,this.gridLayout.isSmooth);Q40.y=this.gridLayout.coords.getRelativeRowY(f40,this.gridLayout.isSmooth);Q40.width=this.gridLayout.coords.getColWidth(k40);Q40.height=this.gridLayout.coords.getRowHeight(f40);};C10.prototype.sortRow=function(H40,J40){void x1f.F8C===J40&&(J40=x1f.C4C);var E40=H40.tuple,i40=H40.measure;x1f.x4C==i40&&(i40=this.dataProvider.measures.getItemAt(x1f.F8C));this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==E40.toString()&&this.dataProvider.rowSortMeasure==i40?this.dataProvider.rowSortType=this.dataProvider.rowSortType==T10.data_.consts.SortType.DESC?T10.data_.consts.SortType.ASC:T10.data_.consts.SortType.DESC:(this.dataProvider.rowSortType=T10.data_.consts.SortType.DESC,this.dataProvider.rowSortTuple=E40,this.dataProvider.rowSortMeasure=i40);x1f.C4C!=J40&&(this.dataProvider.rowSortType=J40);this.dataProvider.sort();this.gridLayout.clearColSizes(x1f.F8C);this.draw();};C10.prototype.sortColumn=function(S40,y40){void x1f.F8C===y40&&(y40=x1f.C4C);var d40=S40.tuple,Z40=S40.measure;x1f.x4C==Z40&&(Z40=this.dataProvider.measures.getItemAt(x1f.F8C));d40&&this.dataProvider.columnSortTuple&&this.dataProvider.columnSortTuple.toString()==d40.toString()&&this.dataProvider.columnSortMeasure==Z40?this.dataProvider.columnSortType=this.dataProvider.columnSortType==T10.data_.consts.SortType.DESC?T10.data_.consts.SortType.ASC:T10.data_.consts.SortType.DESC:(this.dataProvider.columnSortType=Z40.type==T10.data_.types.MeasureType.COUNT?T10.data_.consts.SortType.ASC:T10.data_.consts.SortType.DESC,this.dataProvider.columnSortTuple=d40,this.dataProvider.columnSortMeasure=Z40);x1f.C4C!=y40&&(this.dataProvider.columnSortType=y40);this.dataProvider.sort();this.gridLayout.clearRowSizes(x1f.F8C);this.draw();};C10.prototype.clearColumnSorting=function(){this.dataProvider.columnSortType=T10.data_.consts.SortType.UNSORTED;this.dataProvider.columnSortTuple=x1f.x4C;this.dataProvider.columnSortMeasure=x1f.x4C;this._model.cube_.clearSortValues(this.dataProvider.rowAxis);this.dataProvider.sort();this.gridLayout.clearRowSizes(x1f.F8C);this.draw();};C10.prototype.clearRowSorting=function(){this.dataProvider.rowSortType=T10.data_.consts.SortType.UNSORTED;this.dataProvider.rowSortTuple=x1f.x4C;this.dataProvider.rowSortMeasure=x1f.x4C;this._model.cube_.clearSortValues(this.dataProvider.columnAxis);this.dataProvider.sort();this.gridLayout.clearColSizes(x1f.F8C);this.draw();};C10.prototype.onLongPress=function(m40,T40){var I40=this.gridLayout.getCellByElement(m40.target);x1f.x4C==I40||utils.nullOrEmpty(I40.label)&&isNaN(I40.value)||(this.showContextMenu(I40,{left:T40.clientX,top:T40.clientY}),this.gridLayout.deselect());};C10.prototype.onContextMenu=function(r40){var w40=this.gridLayout.selectedCell||this.gridLayout.getCellByElement(r40.target);x1f.x4C==w40||utils.nullOrEmpty(w40.label)&&isNaN(w40.value)||(r40.preventDefault(),this.showContextMenu(w40,{left:r40.clientX,top:r40.clientY}),this.gridLayout.deselect());};C10.prototype.showContextMenu=function(C40,v20){var U20=this;if(x1f.x4C!=C40){var P40=[];!C40.isValue||isNaN(C40.value)||this.isFlatTable||C40.measure.calculated||!T10.model._options.OptionsManager.drillThrough||P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_DRILL_THROUGH,handler:function(){U20.drillThrough(C40);}});C40.isFilterHeader&&T10.model._options.OptionsManager.showFilter&&P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_OPEN_FILTER,handler:function(){U20.dispatch(new m10.FilterOpenEvent(C40.hierarchy));}});if(C40.isRowHeader||C40.isColumnHeader)C40.expanded&&P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_COLLAPSE,handler:function(){U20.expandCollapse(C40);}}),C40.collapsed&&P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_EXPAND,handler:function(){U20.expandCollapse(C40);}});C40.isRowHeader&&!C40.isFilterHeader&&(C40.sortedDesc||P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_SORT_ROW_DESC,handler:function(){U20.sortRow(C40,T10.data_.consts.SortType.DESC);}}),C40.sortedAsc||P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_SORT_ROW_ASC,handler:function(){U20.sortRow(C40,T10.data_.consts.SortType.ASC);}}),(C40.sortedAsc||C40.sortedDesc)&&P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){U20.clearRowSorting();}}));C40.isColumnHeader&&!C40.isFilterHeader&&(C40.sortedDesc||P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_DESC,handler:function(){U20.sortColumn(C40,T10.data_.consts.SortType.DESC);}}),C40.sortedAsc||P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_ASC,handler:function(){U20.sortColumn(C40,T10.data_.consts.SortType.ASC);}}),(C40.sortedAsc||C40.sortedDesc)&&P40.push({caption:T10.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){U20.clearColumnSorting();}}));x1f.F8C<P40.length&&this._model.dispatchWith(m10.ViewEvent.CONTEXT_MENU_OPEN,this,{menuItems:P40,coords:v20});}};C10.prototype.addFilterCell=function(X20,B20,Y20){for(var p20=Y20==T10.data_.consts.AxisName.COLUMNS_AXIS?this.dataProvider.columnsOnly:this.dataProvider.rowsOnly,G20,l20=x1f.F8C,W20=x1f.F8C;W20<p20.length;W20++){var V20=p20.getItemAt(W20);V20.isMeasures||(G20=new w10.vo.GridCell(),G20.label=V20.caption,G20.isFilterHeader=!x1f.F8C,G20.draggable=!x1f.F8C,G20.hasHierarchyName=!x1f.F8C,G20.filtered=V20.hasFilter(),G20.level=l20,G20.hierarchy=V20,Y20==T10.data_.consts.AxisName.COLUMNS_AXIS?(G20.isFrozen=!this.isFlatTable,this.gridLayout.dataProvider.setDataFrozen(X20,B20+W20,G20)):(G20.isRowHeader=!x1f.F8C,this.gridLayout.dataProvider.setDataFrozen(X20+l20,B20,G20),l20++));}};C10.prototype._addFilterCell=function(F20,O20){for(var K20=this.dataProvider.rowsOnly,q20,u20=x1f.F8C,x20=this.dataProvider.rowAxis.hasMeasures&&x1f.O8C<this.dataProvider.measures.length?this.FIRST_DATA_COLUMN-x1f.O8C:this.FIRST_DATA_COLUMN,N20=x1f.F8C;N20<K20.length;N20++){var z20=K20.getItemAt(N20),s20;q20=new w10.vo.GridCell();q20.label=z20.caption;q20.isFilterHeader=!x1f.F8C;q20.draggable=!x1f.F8C;q20.hasHierarchyName=!x1f.F8C;q20.filtered=z20.hasFilter();q20.hierarchy=z20;this.gridLayout.dataProvider.setDataFrozen(F20,O20+u20,q20);u20++;if(x1f.M8C<z20.levels_.length)for(var D20=x1f.M8C;D20<z20.levels_.length&&!(s20=z20.levels_.getItemAt(D20),-x1f.O8C!=this.dataProvider.rowLevels.indexOf(s20.uniqueName)&&(q20=new w10.vo.GridCell(),q20.label=s20.caption,q20.isRowHeader=!x1f.F8C,q20.hasHierarchyName=!x1f.F8C,this.gridLayout.dataProvider.setDataFrozen(F20,O20+u20,q20),u20++),u20>=x20);D20++);if(u20>=x20)break;}};Object.defineProperty(C10.prototype,W9VV.g1Y,{get:function(){return T10.model._options.OptionsManager.flatView;},enumerable:!x1f.F8C,configurable:!x1f.F8C});Object.defineProperty(C10.prototype,o1Y,{get:function(){return!T10.model._options.OptionsManager.flatView;},enumerable:!x1f.F8C,configurable:!x1f.F8C});Object.defineProperty(C10.prototype,n1Y,{get:function(){return this._gridLayout;},enumerable:!x1f.F8C,configurable:!x1f.F8C});C10.prototype.exportTo=function(M20,b20,j20){M20==T10.model._export.ExportType.HTML&&T10.model._export.ExportHTML.run(this,b20,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);M20==T10.model._export.ExportType.PDF&&T10.model._export.ExportPDF.run(this,b20,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);M20==T10.model._export.ExportType.EXCEL&&T10.model._export.ExportXLS.run(this,b20,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);};C10.prototype.print=function(){T10.model.printing.PrintingManager.getInstance().run(this,this.dataProvider);};C10.prototype.getCell=function(n20,t20){var g20=this.gridLayout.getCell(n20,t20,!x1f.F8C,!x1f.F8C);if(x1f.x4C==g20){g20=new w10.vo.GridCell();g20.rowIdx=n20;g20.colIdx=t20;var o20=this.getData(n20,t20,!x1f.F8C);g20.value=o20?o20.value:NaN;isNaN(g20.value)||(g20.label=utils.NumberFormatter.format(g20.value));}-x1f.O8C==g20.rowIdx&&(g20.rowIdx=n20);-x1f.O8C==g20.colIdx&&(g20.colIdx=t20);o20=g20.toObject();this.setCoordsToCell(o20,g20.colIdx,g20.rowIdx);return o20;};C10.prototype.getSelectedCell=function(){if(x1f.x4C==this.gridLayout.selectedCell)return x1f.x4C;var c20=this.gridLayout.selectedCell.toObject();this.setCoordsToCell(c20,this.gridLayout.selectedCell.colIdx,this.gridLayout.selectedCell.rowIdx);return c20;};C10.prototype.setSelectedCell=function(L20,a20){this.gridLayout.select(L20,a20,L20,a20);};C10.prototype.removeSelection=function(){this.gridLayout.deselect();};Object.defineProperty(C10.prototype,t1Y,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataHeight+this.FIRST_DATA_ROW:x1f.F8C;},enumerable:!x1f.F8C,configurable:!x1f.F8C});Object.defineProperty(C10.prototype,c1Y,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataWidth+this.FIRST_DATA_COLUMN:x1f.F8C;},enumerable:!x1f.F8C,configurable:!x1f.F8C});C10.prototype.onResizeColumn=function(e20){this._onResizeColumn(e20.data.colIdx,e20.data.width);};C10.prototype.onResizeRow=function(h20){this._onResizeRow(h20.data.rowIdx,h20.data.height);};C10.prototype._onResizeColumn=function(R20,Q20){if(R20<this.FIRST_DATA_COLUMN)x1f.F8C<Q20?T10.model.sizes.SizesManager.columnHeaderSizes[R20]=Q20:delete T10.model.sizes.SizesManager.columnHeaderSizes[R20];else{var A20=this.dataProvider.getColumnTuple(R20-this.FIRST_DATA_COLUMN,!x1f.F8C);if(x1f.x4C!=A20){var k20=this.dataProvider.getColumnMeasureIndex(R20-this.FIRST_DATA_COLUMN);this.dataProvider.columnAxis.hasMeasures&&A20.push(k20);x1f.F8C<Q20?T10.model.sizes.SizesManager.columnSizes[A20.join(v9VV.k6C)]=Q20:delete T10.model.sizes.SizesManager.columnSizes[A20.join(v9VV.k6C)];}}};C10.prototype.resizeColumnsByIdx=function(){var J20=T10.model.sizes.SizesManager.columnSizesByIdx;T10.model.sizes.SizesManager.columnSizesByIdx={};var f20=[],E20;for(E20 in J20)if(J20[E20]){var H20=parseInt(E20);f20[H20]=J20[E20];}for(var i20 in f20)this.gridLayout.resizeColumn(parseInt(i20),f20[i20]),this._onResizeColumn(parseInt(i20),f20[i20]);};C10.prototype.resizeHeaderColumns=function(){var Z20=T10.model.sizes.SizesManager.columnHeaderSizes,y20=[],d20;for(d20 in Z20)Z20[d20]&&(y20[d20]=Z20[d20]);for(var S20 in y20)Z20=parseInt(S20),Z20<this.FIRST_DATA_COLUMN&&this.gridLayout.resizeColumn(Z20,y20[Z20]);};C10.prototype.resizeColumns=function(){var m20=T10.model.sizes.SizesManager.columnSizes,w20=[],T20;for(T20 in m20)if(m20[T20]){var I20=x1f.C4C==T20?[]:T20.split(v9VV.k6C),I20=this.dataProvider.getColumnTupleIndex(I20);-x1f.O8C!=I20&&(I20+=this.FIRST_DATA_COLUMN,w20[I20]=m20[T20]);}for(var r20 in w20)this.gridLayout.resizeColumn(parseInt(r20),w20[r20]);};C10.prototype.resizeRowsByIdx=function(){var U30=T10.model.sizes.SizesManager.rowSizesByIdx;T10.model.sizes.SizesManager.rowSizesByIdx={};var C20=[],v30;for(v30 in U30)if(U30[v30]){var G30=parseInt(v30);C20[G30]=U30[v30];}for(var P20 in C20)this.gridLayout.resizeRow(parseInt(P20),C20[P20]),this._onResizeRow(parseInt(P20),C20[P20]);};C10.prototype.resizeHeaderRows=function(){T10.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;var W30=T10.model.sizes.SizesManager.rowHeaderSizes,V30=[],l30;for(l30 in W30)if(W30[l30]){var X30=parseInt(l30)+this.START_TABLE_ROW;V30[X30]=W30[l30];}for(var p30 in V30)parseInt(p30)<this.FIRST_DATA_ROW&&this.gridLayout.resizeRow(parseInt(p30),V30[p30]);};C10.prototype.resizeRows=function(){var q30=T10.model.sizes.SizesManager.rowSizes,u30=[],Y30;for(Y30 in q30)if(q30[Y30]){var B30=x1f.C4C==Y30?[]:Y30.split(v9VV.k6C),B30=this.dataProvider.getRowTupleIndex(B30);-x1f.O8C!=B30&&(B30+=this.FIRST_DATA_ROW,u30[B30]=q30[Y30]);}for(var z30 in u30)this.gridLayout.resizeRow(parseInt(z30),u30[z30]);};C10.prototype._onResizeRow=function(N30,D30){T10.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;if(N30<this.START_TABLE_ROW)x1f.F8C<D30?T10.model.sizes.SizesManager.rowFilterSizes[N30]=D30:delete T10.model.sizes.SizesManager.rowFilterSizes[N30];else if(N30<this.FIRST_DATA_ROW)x1f.F8C<D30?T10.model.sizes.SizesManager.rowHeaderSizes[N30-this.START_TABLE_ROW]=D30:delete T10.model.sizes.SizesManager.rowHeaderSizes[N30-this.START_TABLE_ROW];else{var x30=this.dataProvider.getRowTuple(N30-this.FIRST_DATA_ROW,!x1f.F8C);if(x1f.x4C!=x30){var K30=this.dataProvider.getRowMeasureIndex(N30-this.FIRST_DATA_ROW);this.dataProvider.rowAxis.hasMeasures&&x30.push(K30);x1f.F8C<D30?T10.model.sizes.SizesManager.rowSizes[x30.join(v9VV.k6C)]=D30:delete T10.model.sizes.SizesManager.rowSizes[x30.join(v9VV.k6C)];}}};return C10;}(uicontrols.containers.UIContainer);w10.GridView=r10;}(m10.grid||(m10.grid={})));}(T10._view||(T10._view={})));}(pivot||(pivot={})));(function(s30){(function(F30){(function(b30){var M30=function(){var y1Y="resize_r";var Z1Y="resize_c";var H1Y="filter_click";var E1Y="long";var J1Y="dthclosed";var i1Y="shrink";var f1Y="hresizing";var k1Y="hresized";var Q1Y="mleave";var A1Y="mmove";var R1Y="mdown";var h1Y="mup";var e1Y="singledoubleclick";var L1Y="mclick";j30.MOUSE_CLICK=L1Y;j30.MOUSE_DOUBLE_CLICK=W9VV.a1Y;j30.MOUSE_SINGLE_DOUBLE_CLICK=e1Y;j30.MOUSE_UP=h1Y;j30.MOUSE_DOWN=R1Y;j30.MOUSE_MOVE=A1Y;j30.MOUSE_LEAVE=Q1Y;j30.HEADER_RESIZED=k1Y;j30.HEADER_RESIZING=f1Y;j30.SHRINK_TO_FIT=i1Y;j30.DRILLTHROUGH_CLOSED=J1Y;j30.LONG_PRESS=E1Y;j30.FILTER_CLICK=H1Y;function j30(){}j30.RESIZE_COLUMN=Z1Y;j30.RESIZE_ROW=y1Y;return j30;}();b30.GridEvent=M30;var O30=function(g30){__extends(o30,g30);function o30(c30,t30){void U9VV.F8C===t30&&(t30=U9VV.x4C);var n30=g30.call(this,M30.MOUSE_CLICK)||this;n30.cell=c30;n30.element=t30;return n30;}return o30;}(events._Event);b30.GridClickEvent=O30;O30=function(L30){__extends(a30,L30);function a30(h30){var e30=L30.call(this,M30.MOUSE_DOUBLE_CLICK)||this;e30.cell=h30;return e30;}return a30;}(events._Event);b30.GridDoubleClickEvent=O30;O30=function(R30){__extends(A30,R30);function A30(f30,i30,k30){void U9VV.F8C===k30&&(k30=U9VV.x4C);var Q30=R30.call(this,M30.MOUSE_SINGLE_DOUBLE_CLICK)||this;Q30.cell=f30;Q30.isSingleClick=i30;Q30.element=k30;return Q30;}return A30;}(events._Event);b30.GridSingleDoubleClickEvent=O30;O30=function(J30){__extends(E30,J30);function E30(Z30){var H30=J30.call(this,M30.MOUSE_DOWN)||this;H30.cell=Z30;return H30;}return E30;}(events._Event);b30.GridMouseDownEvent=O30;O30=function(y30){__extends(d30,y30);function d30(I30){var S30=y30.call(this,M30.MOUSE_MOVE)||this;S30.cell=I30;return S30;}return d30;}(events._Event);b30.GridMouseMoveEvent=O30;O30=function(T30){__extends(m30,T30);function m30(r30){var w30=T30.call(this,M30.MOUSE_UP)||this;w30.cell=r30;return w30;}return m30;}(events._Event);b30.GridMouseUpEvent=O30;O30=function(C30){__extends(P30,C30);function P30(v60,G60){var U60=C30.call(this,M30.LONG_PRESS)||this;U60.cell=v60;U60.coords=G60;return U60;}return P30;}(events._Event);b30.GridLongPressEvent=O30;O30=function(W60){__extends(V60,W60);function V60(X60,B60,p60){void U9VV.F8C===p60&&(p60=U9VV.x4C);var l60=W60.call(this,M30.FILTER_CLICK)||this;l60.hierarchy=X60;l60.cell=B60;l60.element=p60;return l60;}return V60;}(events._Event);b30.FilterClickEvent=O30;}(F30.grid||(F30.grid={})));}(s30._view||(s30._view={})));}(pivot||(pivot={})));(function(Y60){(function(q60){(function(z60){var u60=function(){N60.validate=function(D60){return D60==N60.COMPACT||D60==N60.CLASSIC||D60==N60.FLAT?D60:N60.COMPACT;};N60.COMPACT=W9VV.d1Y;N60.CLASSIC=W9VV.S1Y;N60.FLAT=G9VV.F6B;function N60(){}return N60;}();z60.GridType=u60;}(q60.grid||(q60.grid={})));}(Y60._view||(Y60._view={})));}(pivot||(pivot={})));(function(x60){(function(K60){var s60=function(O60){var l8Y="wdr-circle";__extends(F60,O60);F60.getInstance=function(){U9VV.x4C==F60._instance&&(F60._instance=new F60());return F60._instance;};F60.dispose=function(){F60._instance=U9VV.x4C;};F60.prototype.setControls=function(){var r1Y="wdr-alert-icon";var w1Y="wdr-ui-btns-row";var T1Y="wdr-content";var I1Y="wdr-overlay-alert";this.overlay.addClass(I1Y);this._buttons=[];var b60=new uicontrols.UIComponentBase(U9VV.r4C,T1Y);this.addChild(b60);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(W9VV.m1Y);b60.addChild(this._txtTitle);this._txtMessage=new uicontrols.UILabel();b60.addChild(this._txtMessage);this._toolbar=new uicontrols.UIComponentBase(U9VV.r4C,w1Y);b60.addChild(this._toolbar);this._icon=new uicontrols.UIComponentBase(U9VV.r4C,r1Y);this.addChild(this._icon);};F60.prototype.openView=function(j60,g60,o60,n60,t60,c60){var p1f=U9VV;void p1f.F8C===j60&&(j60=p1f.C4C);void p1f.F8C===g60&&(g60=p1f.C4C);void p1f.F8C===o60&&(o60=x60.AlertType.ALERT);void p1f.F8C===n60&&(n60=p1f.x4C);void p1f.F8C===t60&&(t60=p1f.x4C);void p1f.F8C===c60&&(c60=!p1f.O8C);this.clear();this.setTitle(g60);this.setMessage(j60);this.setIcon(o60);this.setButtons(n60,t60);K60.PivotView.stage.addChild(this);this.isOpaque=c60;this.open();this.centerPosition();};F60.prototype.clear=function(){var l1f=U9VV;var G8Y="wdr-question";var v8Y="wdr-info";var U8Y="wdr-error";var P1Y="wdr-confirmation";var C1Y="wdr-alert";this.setTitle(l1f.C4C);for(this.setMessage(l1f.C4C);l1f.F8C<this._buttons.length;)this._buttons.pop().removeFromParent();this.container.toggleClass(C1Y,!l1f.O8C);this.container.toggleClass(P1Y,!l1f.O8C);this.container.toggleClass(U8Y,!l1f.O8C);this.container.toggleClass(v8Y,!l1f.O8C);this.container.toggleClass(G8Y,!l1f.O8C);};F60.prototype.setTitle=function(L60){this._txtTitle.setSelectable(!U9VV.O8C);this._txtTitle.setLabel(L60);};function F60(){var W8Y="wdr-alert-view";var M60=this;if(U9VV.x4C!=F60._instance)throw Error(v9VV.D5C);M60=O60.call(this,K60.PivotView.stage.container)||this;M60.setId(W8Y);M60.setControls();return M60;}F60.prototype.setMessage=function(a60){this._txtMessage.setLabel(a60,!U9VV.F8C);};F60.prototype.setButtons=function(e60,A60){var Q60=this;U9VV.x4C==e60&&(e60=[x60.model._labels.Labels.BUTTON_OK]);e60.reverse();U9VV.x4C!=A60&&A60.reverse();this._handlers=A60;for(var h60,R60=U9VV.F8C;R60<e60.length;R60++)h60=new uicontrols.UIButton(),h60.setLabel(e60[R60]),h60.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(k60){return Q60.buttonClickHandler(k60);}),this._buttons.push(h60),this.isPrimary(e60[R60])&&h60.addClass(W9VV.V8Y),this.isPrimary(e60[R60])&&(utils.OSUtil.isMac||utils.OSUtil.isIOS)?this._toolbar.addChild(h60):this.isPrimary(e60[R60])?this._toolbar.container.prepend(h60.container):this._toolbar.addChild(h60);};F60.prototype.isPrimary=function(f60){switch(f60){case x60.model._labels.Labels.BUTTON_OK:case x60.model._labels.Labels.BUTTON_SAVE:case x60.model._labels.Labels.BUTTON_YES:return!U9VV.F8C;}return!U9VV.O8C;};F60.prototype.buttonClickHandler=function(E60){var r9f=U9VV;E60=E60.target;for(var i60=-r9f.O8C,J60=r9f.F8C;J60<this._buttons.length;J60++)if(this._buttons[J60]==E60){i60=J60;break;}if(!(r9f.F8C>i60)&&(this.close(),r9f.x4C!=this._handlers&&r9f.x4C!=this._handlers[i60]))this._handlers[i60]();};F60.prototype.setIcon=function(H60){this._icon.container.removeAllChildren();H60==x60.AlertType.ALERT?this._icon.container.addChild(this.createIconAlert()):H60==x60.AlertType.CONFIRMATION?this._icon.container.addChild(this.createIconConfirmation()):H60==x60.AlertType.ERROR?this._icon.container.addChild(this.createIconError()):H60==x60.AlertType.INFO&&this._icon.container.addChild(this.createIconInfo());};F60.prototype.createIconConfirmation=function(){var p8Y="wdr-ui-icon wdr-icon-notif_confirm";var Z60=new uicontrols.UIElement(U9VV.I2C,l8Y);Z60.addChild(new uicontrols.UIElement(U9VV.I2C,p8Y));return Z60;};F60.prototype.createIconInfo=function(){var X8Y="wdr-ui-icon wdr-icon-notif_info";var y60=new uicontrols.UIElement(U9VV.I2C,l8Y);y60.addChild(new uicontrols.UIElement(U9VV.I2C,X8Y));return y60;};F60.prototype.createIconAlert=function(){var q8Y="wdr-ui-icon wdr-icon-notif_warning";var Y8Y="wdr-triangle";var B8Y="wdr-triangle-wrap";var d60=new uicontrols.UIElement(U9VV.I2C,B8Y);d60.addChild(new uicontrols.UIElement(U9VV.I2C,Y8Y));d60.addChild(new uicontrols.UIElement(U9VV.I2C,q8Y));return d60;};F60.prototype.createIconError=function(){var z8Y="wdr-ui-icon wdr-icon-notif_arrow";var u8Y="wdr-hexagon";var S60=new uicontrols.UIElement(U9VV.I2C,u8Y);S60.addChild(new uicontrols.UIElement(U9VV.I2C,z8Y));return S60;};F60.prototype.close=function(){O60.prototype.close.call(this);this.clear();};F60.prototype.onOverlayClick=function(){this.isOpaque||O60.prototype.onOverlayClick.call(this);};return F60;}(uicontrols.containers.UIPopup);K60.AlertView=s60;}(x60._view||(x60._view={})));}(pivot||(pivot={})));(function(I60){(function(T60){(function(m60){var w60=function(C60){__extends(r60,C60);r60.prototype.setControls=function(){var V2f=W9VV;var s8Y="wdr-grid-container";var x8Y="wdr-details-container";var D8Y="wdr-ui-btn-close";var N8Y="wdr-header-container";var U50=this;this.headerGroup=new uicontrols.containers.UIContainer(N8Y);this.addChild(this.headerGroup);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(V2f.m1Y);this._txtTitle.setSelectable(!U9VV.O8C);this.headerGroup.addChild(this._txtTitle);this._btnClose=new uicontrols.UIButton();this._btnClose.addClass(D8Y);this._btnClose.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return U50.close();});this.headerGroup.addChild(this._btnClose);this.detailsGroup=new uicontrols.containers.UIContainer(x8Y);this.addChild(this.detailsGroup);this._txtRowDetails=new uicontrols.UILabel();this._txtRowDetails.addClass(V2f.K8Y);this.detailsGroup.addChild(this._txtRowDetails);this._txtColDetails=new uicontrols.UILabel();this._txtColDetails.addClass(V2f.K8Y);this.detailsGroup.addChild(this._txtColDetails);this._txtMeasureDetails=new uicontrols.UILabel();this._txtMeasureDetails.addClass(V2f.K8Y);this.detailsGroup.addChild(this._txtMeasureDetails);this.sheetGroup=new uicontrols.containers.UIContainer(s8Y);this.addChild(this.sheetGroup);this.gridLayout=new m60.sheet.flat.FlatGridLayout();this.gridLayout.isDrillThrough=!U9VV.F8C;this.gridLayout.getDataFunction=function(v50,G50){return U50.getData(v50,G50);};this.sheetGroup.container.addChild(this.gridLayout);};r60.prototype.openView=function(l50,W50,p50,X50,B50){var W2f=U9VV;var V50=this;void W2f.F8C===l50&&(l50=W2f.x4C);void W2f.F8C===W50&&(W50=W2f.x4C);void W2f.F8C===p50&&(p50=W2f.x4C);void W2f.F8C===X50&&(X50=W2f.x4C);void W2f.F8C===B50&&(B50=W2f.x4C);this.dataProvider=l50;this.setSlice(W50.clone());this.originalSlice=W50;this.rowTuple=X50;this.columnTuple=p50;this.measure=B50;this.tmpShowHeaders=I60.model._options.OptionsManager.showHeaders;I60.model._options.OptionsManager.showHeaders=!W2f.F8C;this.data=this.dataProvider.drillThrough(this.rowTuple,this.columnTuple,this.measure);this.keys=this.data.shift();I60.model._options.OptionsManager.showDrillThroughConfigurator&&W2f.x4C==this._fieldsView&&(this._fieldsView=new T60.config.FieldsView(),this._fieldsView.modalParent=T60.PivotView.stage.container,this._fieldsView.isForDillThrough=!W2f.F8C,this._fieldsView.containtment=this.gridLayout.element,this._fieldsView.addEventListener(T60.config.FieldsView.EVENT_OPEN,function(){return V50.onFieldsViewOpen();}),this._fieldsView.addEventListener(T60.config.FieldsView.EVENT_APPLY_SLICE,function(Y50){return V50.onFieldsViewApplySlice(Y50);}),this.sheetGroup.addChild(this._fieldsView));this.gridLayout.addEventListener(T60.config.FieldsView.EVENT_APPLY_SLICE,function(q50){return V50.onFieldsViewApplySlice(q50);});this.open();this.redraw();};r60.prototype.onDataLoaded=function(u50){this.data=u50;I60.preloader(!U9VV.O8C);U9VV.x4C!=this.data&&(this.open(),this.redraw());};r60.prototype.setSlice=function(z50){this.slice=z50;};r60.prototype.redraw=function(){var v2f=U9VV;var M0C=80;this._txtTitle.setLabel(I60.model._labels.Labels.DRILL_THROUGH_TITLE);this._txtRowDetails.setLabel(this.getRowDetails(),!v2f.F8C);this._txtColDetails.setLabel(this.getColDetails(),!v2f.F8C);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!v2f.F8C);this.setWidth(T60.PivotView.stageWidth-M0C);var N50=T60.PivotView.stage.container.getHeight(!v2f.F8C)-this.detailsGroup.container.getHeight(!v2f.F8C)-this.headerGroup.container.getHeight(!v2f.F8C)-v2f.I8C-this.container.padding.top-this.container.padding.bottom-v2f.v0C,D50=this.getWidth()-v2f.M8C;this.gridLayout.clearAll();this.gridLayout.resize(D50,N50);this.gridLayout.width=D50;this.gridLayout.height=N50;this.gridLayout.freezeRows(v2f.O8C);this.gridLayout.setDataSize(this.data.length,this.slice.flatten().length);this.gridLayout.draw();this.centerPosition();};r60.prototype.close=function(){C60.prototype.close.call(this);!U9VV.O8C==utils.nullOrUndefined(this.tmpShowHeaders)&&(I60.model._options.OptionsManager.showHeaders=this.tmpShowHeaders);this.dispatchWith(m60.GridEvent.DRILLTHROUGH_CLOSED);};r60.prototype.getData=function(O50,M50){var P4f=U9VV;if(P4f.F8C==O50)return this.getHeaderCell(M50);var K50=new m60.vo.GridCell();K50.isDrillThrough=!P4f.F8C;K50.isValue=!P4f.F8C;var s50;if(P4f.x4C==this.data||P4f.x4C==this.data[O50-P4f.O8C])return P4f.x4C;s50=this.slice.flatten();if(!(M50<this.data[O50-P4f.O8C].length))return P4f.x4C;var x50=s50.getItemAt(M50);if(P4f.x4C==x50)return P4f.x4C;s50=this.keys.indexOf(x50.uniqueName);P4f.M8C<x50.levels_.length&&(s50=this.keys.indexOf(x50.levels_.getKeyAt(x50.levels_.length-P4f.O8C)));var b50=this.getNotNullMemberIdx(O50,s50);K50.hierarchy=x50;K50.label=this.getMemberFullCaption(x50.members.getItemAt(b50));var F50=this.slice.hierarchyToMeasure(x50.uniqueName);if(P4f.x4C==F50)return P4f.x4C;s50=F50.getFormat(!P4f.F8C).clone();this.originalSlice.measures_.keyExists(F50.uniqueName)&&(x50=x50.members.getItemAt(b50),P4f.x4C!=x50&&(K50.value=x50.levelOrdinal,K50.label=F50.type==I60.data_.types.MeasureType.NUMBER?utils.NumberFormatter.format(K50.value,s50):x50.caption));P4f.C4C!=s50.textAlign&&K50.customize({"text-align":s50.textAlign});K50.measure=F50;return K50;};r60.prototype.getNotNullMemberIdx=function(g50,j50){for(;U9VV.x4C==this.data[g50-U9VV.O8C][j50];)j50--;return this.data[g50-U9VV.O8C][j50];};r60.prototype.getMemberFullCaption=function(o50){for(var n50=[];o50&&o50.parent;)n50.unshift(o50.caption),o50=o50.parent;return n50.join(W9VV.F8Y);};r60.prototype.getHeaderCell=function(c50){var w4f=U9VV;var t50=new m60.vo.GridCell();t50.isDrillThrough=!w4f.F8C;t50.isColumnHeader=!w4f.F8C;c50=this.slice.flatten().getItemAt(c50);if(w4f.x4C==c50)return w4f.x4C;t50.label=c50.caption;return t50;};r60.prototype.getRowDetails=function(){var T4f=U9VV;for(var a50,L50=[],e50=T4f.F8C;e50<this.rowTuple.length;e50++){a50=this.originalSlice.rowsOnly.getItemAt(e50);if(T4f.x4C==a50)return T4f.x4C;a50=a50.members.getItemAt(this.rowTuple[e50]);L50.push(a50.caption);}L50=T4f.F8C<L50.length?utils.StringUtils.bind(I60.model._labels.Labels.DRILL_THROUGH_ROW,L50.join(W9VV.O8Y)):T4f.C4C;return L50=L50.replace(/<br\s*[\/]?>/gi,T4f.s4C);};r60.prototype.getColDetails=function(){var S4f=U9VV;for(var R50,h50=[],A50=S4f.F8C;A50<this.columnTuple.length;A50++){R50=this.originalSlice.columnsOnly.getItemAt(A50);if(S4f.x4C==R50)return S4f.x4C;R50=R50.members.getItemAt(this.columnTuple[A50]);h50.push(R50.caption);}h50=S4f.F8C<h50.length?utils.StringUtils.bind(I60.model._labels.Labels.DRILL_THROUGH_COLUMN,h50.join(W9VV.O8Y)):S4f.C4C;return h50=h50.replace(/<br\s*[\/]?>/gi,S4f.s4C);};function r60(){var d4f=U9VV;var M8Y="wdr-drillthrough-view";var P60=C60.call(this,T60.PivotView.stage.container)||this;P60.slice=d4f.x4C;P60.originalSlice=d4f.x4C;P60.columnTuple=d4f.x4C;P60.rowTuple=d4f.x4C;P60.measure=d4f.x4C;P60.START_TABLE_ROW=d4f.F8C;P60.START_HEADERS_ROW=d4f.F8C;P60.START_HEADERS_COLUMN=d4f.F8C;P60.FIRST_DATA_ROW=d4f.F8C;P60.FIRST_DATA_COLUMN=d4f.F8C;P60.setId(M8Y);P60.setControls();return P60;}r60.prototype.getMeasureDetails=function(){var Q50=this.measure.getFormat().clone(),k50=this.dataProvider.getValue(this.rowTuple,this.columnTuple,this.measure),Q50=utils.NumberFormatter.format(k50,Q50),Q50=utils.StringUtils.bind(I60.model._labels.Labels.DRILL_THROUGH_VALUE,this.measure.caption,Q50),Q50=Q50.replace(/<br\s*[\/]?>/gi,U9VV.s4C);this.value=k50;return Q50;};r60.prototype.onFieldsViewOpen=function(){this._fieldsView&&this._fieldsView.open(I60.data_.Cube.getInstance().structure_,this.slice);};r60.prototype.onFieldsViewApplySlice=function(f50){f50=f50.data instanceof I60.data_._structure.Slice?f50.data:I60.data_._structure.Slice.fromObject(I60.model.report.SliceValueObject.fromObject(f50.data),I60.data_.Cube.getInstance().structure_);this.setSlice(f50);this.redraw();};r60.prototype.exportTo=function(E50,H50,i50){var Z4f=U9VV;i50=this.slice?this.slice.flatten().length:this.data[Z4f.F8C]?this.data[Z4f.F8C].length:Z4f.F8C;var J50=this.data?this.data.length+Z4f.O8C:Z4f.F8C;E50==I60.model._export.ExportType.HTML&&I60.model._export.ExportHTML.run(this,H50,i50,J50);E50==I60.model._export.ExportType.PDF&&I60.model._export.ExportPDF.run(this,H50,i50,J50);E50==I60.model._export.ExportType.EXCEL&&I60.model._export.ExportXLS.run(this,H50,i50,J50);};r60.prototype.saveData=function(d50,Z50,y50){var S50=this;this.timer&&this.timer.running&&this.timer.stop();U9VV.x4C==this.timer&&(this.timer=new utils.Timer(v9VV.N6C,U9VV.O8C));this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,function(){return S50.onTimeComplete();});this.timer.start();(Z50=this.getData(d50,Z50))&&Z50.label!=y50&&Z50.value!=y50&&this.dataProvider.save(this.rowTuple,this.columnTuple,Z50.hierarchy,y50,d50-U9VV.O8C);this.draw();};r60.prototype.onTimeComplete=function(){this._txtRowDetails.setLabel(this.getRowDetails(),!U9VV.F8C);this._txtColDetails.setLabel(this.getColDetails(),!U9VV.F8C);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!U9VV.F8C);this.timer.stop();};return r60;}(uicontrols.containers.UIPopup);m60.DrillThroughView=w60;}(T60.grid||(T60.grid={})));}(I60._view||(I60._view={})));}(pivot||(pivot={})));(function(I50){(function(T50){(function(m50){(function(w50){var r50=function(){var i4f=U9VV;var j8Y="isGrandTotal";var b8Y="isTotal";Object.defineProperty(C50.prototype,b8Y,{get:function(){return this.isTotalRow||this.isTotalColumn;},enumerable:!i4f.F8C,configurable:!i4f.F8C});Object.defineProperty(C50.prototype,j8Y,{get:function(){return this.isGrandTotalRow||this.isGrandTotalColumn;},enumerable:!i4f.F8C,configurable:!i4f.F8C});C50.prototype.getDrillLabel=function(){return this.drilledDown||this.drilledUp?this.hierarchy.levels_.getItemAt(this.member.level.num+i4f.O8C).caption:i4f.C4C;};C50.prototype.getLabel=function(){if(i4f.x4C!=C50.customizeCellFunction){var P50=new HtmlNodeWrapper();P50.clear();P50.tag=i4f.r4C;P50.text+=this.label;C50.customizeCellFunction(P50.node,this.toObject());var U70=P50.text,U70=I50.model.XSSCheck.valid(U70)?U70:I50.model.XSSCheck.validate(U70);P50.clear();P50=document.createElement(i4f.r4C);P50.innerHTML=U70;return P50.textContent?P50.textContent.trim():U70;}return this.label;};C50.prototype.customize=function(v70){this.isCustomized=!i4f.F8C;i4f.x4C==this.style&&(this.style=new w50.CellStyle());this.style.addCSS(v70);};C50.prototype.customizeWithClass=function(G70){this.isCustomized=!i4f.F8C;i4f.x4C==this.style&&(this.style=new w50.CellStyle());this.style.addStyle(G70);this.style.addCustomStyle(G70);};C50.prototype.toObject=function(){var g8Y="header";if(this.obj)return this.obj;var W70,p70=I50.model.PivotModel.getInstance(),V70,B70=[];if(!I50.model._options.OptionsManager.flatView&&(V70=this.isColumnHeader&&this.tuple?this.tuple:this.columnTuple))for(var X70=p70.cube_.slice_?p70.cube_.slice_.columnsOnly:new utils.AssociativeArray(),l70=i4f.F8C;l70<V70.length;l70++)W70=X70.getItemAt(l70),W70=W70.members.getItemAt(V70[l70]),B70.push({caption:W70.caption,uniqueName:W70.uniqueName,hierarchyCaption:W70.hierarchy_.caption,hierarchyUniqueName:W70.hierarchy_.uniqueName});X70=[];if(!I50.model._options.OptionsManager.flatView&&(V70=this.isRowHeader&&this.tuple?this.tuple:this.rowTuple))for(p70=p70.cube_.slice_?p70.cube_.slice_.rowsOnly:new utils.AssociativeArray(),l70=i4f.F8C;l70<V70.length;l70++)W70=p70.getItemAt(l70),W70=W70.members.getItemAt(V70[l70]),X70.push({caption:W70.caption,uniqueName:W70.uniqueName,hierarchyCaption:W70.hierarchy_.caption,hierarchyUniqueName:W70.hierarchy_.uniqueName});V70={columnIndex:this.colIdx,columns:B70,label:this.label,measure:this.measure?I50.data_._structure.GenericMeasure.toObject(this.measure):i4f.x4C,hierarchy:this.hierarchy?I50.data_._structure.GenericHierarchy.toObject(this.hierarchy):i4f.x4C,member:this.member?I50.data_._structure.GenericMember.toObject(this.member):i4f.x4C,rowIndex:this.rowIdx,rows:X70,type:this.isColumnHeader||this.isRowHeader||this.isFilterHeader?g8Y:W9VV.a9Y,value:this.value,recordId:this.recordId,isTotal:this.isTotal,isTotalRow:this.isTotalRow,isTotalColumn:this.isTotalColumn,isClassicTotalRow:this.isClassicTotalRow,isGrandTotal:this.isGrandTotal,isGrandTotalRow:this.isGrandTotalRow,isGrandTotalColumn:this.isGrandTotalColumn,isDrillThrough:this.isDrillThrough};isNaN(this.level)||(V70.level=this.level);i4f.F8C<this.conditions.length&&(V70.conditions=this.conditions);return this.obj=V70;};function C50(){this.value=NaN;this.label=i4f.C4C;this.level=NaN;this.sortedDesc=this.sortedAsc=this.sortable=this.drilledDown=this.drilledUp=this.draggable=this.collapsed=this.expanded=this.filtered=this.hasHierarchyName=this.showTooltip=this.isLink=this.isValue=this.isClassicTotalRow=this.isGrandTotalColumn=this.isGrandTotalRow=this.isTotalColumn=this.isTotalRow=this.isMeasureHeader=this.isColumnHeader=this.isRowHeader=this.isFrozen=this.isFilterHeader=this.isCustomized=this.numeric=!i4f.O8C;this.colIdx=this.rowIdx=-i4f.O8C;this.recordId=i4f.x4C;this.isDrillThrough=this.isExpandedArea=this.isEmpty=!i4f.O8C;this.conditions=[];this.url=i4f.C4C;this.isKPIStatus=this.isKPITrend=!i4f.O8C;this.activeElementType=w50.GridCellElementType.BACKGROUND;}C50.customizeCellFunction=i4f.x4C;return C50;}();w50.GridCell=r50;}(m50.vo||(m50.vo={})));}(T50.grid||(T50.grid={})));}(I50._view||(I50._view={})));}(pivot||(pivot={})));(function(Y70){(function(q70){(function(u70){(function(N70){var z70=function(){D70.prototype.addStyle=function(x70){-U9VV.O8C==this.styleNames.indexOf(x70)&&this.styleNames.push(x70);};D70.prototype.addCustomStyle=function(K70){-U9VV.O8C==this.customStyleNames.indexOf(K70)&&this.customStyleNames.push(K70);};D70.prototype.addCSS=function(F70){for(var s70 in F70)this.css[s70]=F70[s70];};function D70(){this.styleNames=[];this.customStyleNames=[];this.css={};}D70.prototype.getClassString=function(){return this.styleNames.join(U9VV.s4C);};D70.prototype.getCustomClassString=function(){return this.customStyleNames.join(U9VV.s4C);};D70.prototype.getStyleString=function(){var O70=U9VV.C4C,M70;for(M70 in this.css)O70+=M70+v9VV.t7C+this.css[M70]+v9VV.F9Q;return O70;};return D70;}();N70.CellStyle=z70;}(u70.vo||(u70.vo={})));}(q70.grid||(q70.grid={})));}(Y70._view||(Y70._view={})));}(pivot||(pivot={})));(function(b70){(function(j70){(function(g70){(function(n70){var o70=function(){var o8Y="Bold";t70.getFontStyle=function(c70){return U9VV.m0C<c70?t70.BOLD:t70.NORMAL;};t70.NORMAL=U9VV.C4C;t70.BOLD=o8Y;function t70(){}return t70;}();n70.FontStylePDFType=o70;o70=function(){var Q8Y="background-color background-image color font-family font-size font-weight text-align padding-top padding-left padding-right padding-bottom border border-top-width border-top-color border-top-style border-bottom-width border-bottom-color border-bottom-style border-left-width border-left-color border-left-style border-right-width border-right-color border-right-style";var c8Y="fill";var t8Y="border-color";var n8Y="background-image";L70.prototype.merge=function(a70){this.color=this.color||a70.color;this.backgroundColor=this.backgroundColor||a70.backgroundColor;this.backgroundImage=this.backgroundImage||a70.backgroundImage;this.borderColor=this.borderColor||a70.borderColor;this.fontSize=this.fontSize||a70.fontSize;this.fontWeight=this.fontWeight||a70.fontWeight;this.textAlign=this.textAlign||a70.textAlign;this.fontFamily=this.fontFamily||a70.fontFamily;this.width=this.width||a70.width;this.maxWidth=this.maxWidth||a70.maxWidth;this.height=this.height||a70.height;this.maxHeight=this.maxHeight||a70.maxHeight;};L70.prototype.clone=function(){var e70=new L70();e70.color=this.color;e70.backgroundColor=this.backgroundColor;e70.backgroundImage=this.backgroundImage;e70.borderColor=this.borderColor;e70.fontSize=this.fontSize;e70.fontWeight=this.fontWeight;e70.textAlign=this.textAlign;e70.fontFamily=this.fontFamily;e70.width=this.width;e70.maxWidth=this.maxWidth;e70.height=this.height;e70.maxHeight=this.maxHeight;return e70;};L70.fromItem=function(R70,h70){var L5K=W9VV;var c5K=G9VV;var t5K=U9VV;void t5K.F8C===h70&&(h70=t5K.x4C);var A70=new L70();if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.W2B)!=R70.css(c5K.W2B))A70.color=R70.css(c5K.W2B);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.F4B)!=R70.css(c5K.F4B))A70.backgroundColor=R70.css(c5K.F4B);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(n8Y)!=R70.css(n8Y))A70.backgroundImage=R70.css(n8Y);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(t8Y)!=R70.css(t8Y))A70.borderColor=R70.css(t8Y);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.b0B)!=R70.css(c5K.b0B))A70.fontSize=parseInt(R70.css(c5K.b0B));if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.M4B)!=R70.css(c5K.M4B))A70.fontWeight=R70.css(c5K.M4B);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c8Y)!=R70.css(c8Y))A70.fill=R70.css(c8Y);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.b4B)!=R70.css(c5K.b4B))A70.textAlign=R70.css(c5K.b4B);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(c5K.M0B)!=R70.css(c5K.M0B))A70.fontFamily=R70.css(c5K.M0B);if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(t5K.s2C)!=R70.css(t5K.s2C))A70.width=parseInt(R70.css(t5K.s2C));if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(L5K.L8Y)!=R70.css(L5K.L8Y))A70.maxWidth=parseInt(R70.css(L5K.L8Y));if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(t5K.O2C)!=R70.css(t5K.O2C))A70.height=parseInt(R70.css(t5K.O2C));if(t5K.x4C==h70||t5K.x4C!=h70&&h70.css(L5K.a8Y)!=R70.css(L5K.a8Y))A70.maxHeight=parseInt(R70.css(L5K.a8Y));return A70;};L70.fromClass=function(Q70,k70,i70){var a5K=U9VV;void a5K.F8C===k70&&(k70=a5K.x4C);void a5K.F8C===i70&&(i70=!a5K.F8C);var f70=new uicontrols.UIElement(a5K.r4C);f70.addClass(Q70).hide();Q70=new uicontrols.UIElement(a5K.r4C);a5K.x4C==k70?j70.PivotView.stage.container.append(f70).append(Q70):k70.append(f70).append(Q70);k70=L70.fromItem(f70,i70?Q70:a5K.x4C);f70.remove();Q70.remove();return k70;};L70.fromString=function(J70){var e5K=U9VV;var H70=new L70(),E70=e5K.F8C;for(J70=J70.replace(/ /g,v9VV.F9Q);-e5K.O8C<(E70=J70.indexOf(v9VV.F9Q));)this.defineStyle(J70.substring(e5K.F8C,E70),H70),J70=J70.substring(E70+e5K.O8C);return H70;};L70.hexToRgb=function(Z70){var R5K=U9VV;var R8Y="rgb(";var h8Y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var e8Y=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;Z70=Z70.replace(e8Y,function(I70,y70,d70,S70){return y70+y70+d70+d70+S70+S70;});Z70=h8Y.exec(Z70);return R5K.x4C==Z70?R5K.C4C:R8Y+parseInt(Z70[R5K.O8C],R5K.Q8C)+v9VV.k6C+parseInt(Z70[R5K.M8C],R5K.Q8C)+v9VV.k6C+parseInt(Z70[R5K.b8C],R5K.Q8C)+v9VV.z9Q;};L70.defineStyle=function(T70,m70){var k5K=G9VV;var Q5K=U9VV;-Q5K.O8C<T70.indexOf(k5K.F4B)?m70.backgroundColor=this.hexToRgb(T70.substring(Q5K.k8C,T70.length)):-Q5K.O8C<T70.indexOf(n8Y)?m70.backgroundImage=T70.substring(Q5K.k8C,T70.length):-Q5K.O8C<T70.indexOf(t8Y)?m70.borderColor=this.hexToRgb(T70.substring(Q5K.h8C,T70.length)):-Q5K.O8C<T70.indexOf(k5K.W2B)?m70.color=this.hexToRgb(T70.substring(Q5K.o8C,T70.length)):-Q5K.O8C<T70.indexOf(k5K.b0B)?m70.fontSize=parseInt(T70.substring(Q5K.L8C,T70.length)):-Q5K.O8C<T70.indexOf(c8Y)?m70.fill=this.hexToRgb(T70.substring(Q5K.g8C,T70.length)):-Q5K.O8C<T70.indexOf(k5K.b4B)?m70.textAlign=T70.substring(Q5K.a8C,T70.length):-Q5K.O8C<T70.indexOf(W9VV.L8Y)?m70.maxWidth=parseInt(T70.substring(Q5K.L8C,T70.length)):-Q5K.O8C<T70.indexOf(W9VV.a8Y)?m70.maxHeight=parseInt(T70.substring(Q5K.a8C,T70.length)):-Q5K.O8C<T70.indexOf(Q5K.s2C)&&(m70.width=parseInt(T70.substring(Q5K.o8C,T70.length)));};L70.fromItemToString=function(U9j,w70,C70){var i5K=U9VV;void i5K.F8C===w70&&(w70=i5K.x4C);void i5K.F8C===C70&&(C70=i5K.x4C);var P70=i5K.C4C;i5K.x4C==w70&&(w70=L70.DEFAULT_CSS_PROPERIES);for(var r70=i5K.F8C;r70<w70.length;r70++)if(i5K.x4C==C70||i5K.x4C!=C70&&U9j.css(w70[r70])!=C70.css(w70[r70]))P70+=w70[r70]+v9VV.t7C+U9j.css(w70[r70])+v9VV.F9Q;return P70;};L70.fromClassToString=function(V9j,W9j,l9j,v9j){var E5K=U9VV;void E5K.F8C===W9j&&(W9j=E5K.x4C);void E5K.F8C===l9j&&(l9j=E5K.x4C);void E5K.F8C===v9j&&(v9j=void E5K.F8C);var G9j=new uicontrols.UIElement(E5K.r4C);G9j.addClass(V9j).hide();void E5K.F8C===v9j&&(v9j=new uicontrols.UIElement(E5K.r4C),v9j.hide());E5K.x4C==W9j?j70.PivotView.stage.container.append(G9j).append(v9j):W9j.append(G9j).append(v9j);V9j=L70.fromItemToString(G9j,l9j,v9j);G9j.remove();E5K.x4C!=v9j&&v9j.remove();return V9j;};L70.parseRGB=function(p9j){var H5K=U9VV;var A8Y="rgb";var B9j=[],X9j=p9j.split(A8Y);H5K.M8C<X9j.length&&(p9j=X9j[H5K.M8C]);p9j=p9j.replace(/[^\d,]/g,H5K.C4C);p9j=p9j.split(v9VV.k6C);for(X9j=H5K.F8C;X9j<p9j.length;X9j++)B9j[X9j]=parseInt(p9j[X9j]);void H5K.F8C==B9j[H5K.b8C]&&(B9j[H5K.b8C]=H5K.O8C);return B9j;};L70.DEFAULT_CSS_PROPERIES=Q8Y.split(U9VV.s4C);function L70(){}return L70;}();n70.StyleValueObject=o70;}(g70.vo||(g70.vo={})));}(j70.grid||(j70.grid={})));}(b70._view||(b70._view={})));}(pivot||(pivot={})));(function(Y9j){(function(q9j){(function(u9j){(function(N9j){var z9j=function(){var s0Y="wdr-icon";var K0Y="wdr-drilled-down";var x0Y="wdr-drilled-up";var N0Y="wdr-collapsed-icon";var z0Y="wdr-collapsed";var u0Y="wdr-expanded-icon";var q0Y="wdr-expanded";var Y0Y="wdr-sort-icon";var B0Y="wdr-h-sort-desc";var X0Y="wdr-h-sort-asc";var p0Y="wdr-h-sort-icon";var l0Y="wdr-h-sort";var V0Y="wdr-v-sort-desc";var W0Y="wdr-v-sort-asc";var G0Y="wdr-v-sort-icon";var v0Y="wdr-v-sort";var U0Y="wdr-link";var P8Y="wdr-hierarchy-link";var C8Y="wdr-grand-total";var r8Y="wdr-total";var w8Y="wdr-filtered-icon";var T8Y="wdr-filter-icon";var I8Y="wdr-page-header-items";var S8Y="wdr-page-header";var d8Y="wdr-filter-header";var y8Y="wdr-measure-header";var Z8Y="wdr-header-r";var H8Y="wdr-header-c";var E8Y="wdr-header";var J8Y="wdr-sheet-header";var i8Y="wdr-empty";var f8Y="wdr-cell";D9j.TITLE=W9VV.k8Y;D9j.CELL=f8Y;D9j.CELL_EMPTY=i8Y;D9j.SHEET_HEADER=J8Y;D9j.HEADER=E8Y;D9j.HEADER_COLUMN=H8Y;D9j.HEADER_ROW=Z8Y;D9j.MEASURE_HEADER=y8Y;D9j.FILTER_HEADER=d8Y;D9j.PAGE_HEADER=S8Y;D9j.PAGE_HEADER_ITEMS=I8Y;D9j.FILTER_ICON=T8Y;D9j.FILTERED=W9VV.m8Y;D9j.FILTERED_ICON=w8Y;D9j.HEADER_DRAGGABLE=U9VV.k4C;D9j.HEADER_DROPPABLE=U9VV.I4C;D9j.TOTAL=r8Y;D9j.GRAND_TOTAL=C8Y;D9j.HIERARCHY=P8Y;D9j.LINK=U0Y;D9j.V_SORT=v0Y;D9j.V_SORT_ICON=G0Y;D9j.V_SORT_ASC=W0Y;D9j.V_SORT_DESC=V0Y;D9j.H_SORT=l0Y;D9j.H_SORT_ICON=p0Y;D9j.H_SORT_ASC=X0Y;D9j.H_SORT_DESC=B0Y;D9j.SORT_ICON=Y0Y;D9j.EXPANDED=q0Y;D9j.EXPANDED_ICON=u0Y;D9j.COLLAPSED=z0Y;D9j.COLLAPSED_ICON=N0Y;D9j.LEVEL=W9VV.D0Y;D9j.DRILLED_UP=x0Y;function D9j(){}D9j.DRILLED_DOWN=K0Y;D9j.ICON=s0Y;return D9j;}();N9j.GridStyleName=z9j;}(u9j.vo||(u9j.vo={})));}(q9j.grid||(q9j.grid={})));}(Y9j._view||(Y9j._view={})));}(pivot||(pivot={})));(function(x9j){(function(K9j){(function(s9j){(function(O9j){var F9j=function(){var g0Y="backgroud";var j0Y="link";var b0Y="drill";var M0Y="right icon";var O0Y="main icon";var F0Y="left icon";M9j.LEFT_ICON=F0Y;M9j.MAIN_ICON=O0Y;M9j.RIGHT_ICON=M0Y;M9j.LABEL=v9VV.m3C;M9j.DRILL=b0Y;function M9j(){}M9j.LINK=j0Y;M9j.BACKGROUND=g0Y;return M9j;}();O9j.GridCellElementType=F9j;}(s9j.vo||(s9j.vo={})));}(K9j.grid||(K9j.grid={})));}(x9j._view||(x9j._view={})));}(pivot||(pivot={})));(function(b9j){(function(j9j){(function(g9j){(function(n9j){var o9j=function(){var K3K=U9VV;var W4Y="freeSpaceTop";var G4Y="freeSpaceRight";var U4Y="canDrawSmooth";var P0Y="canDrawAll";var C0Y="hasVerticalScroll";var r0Y="hasHorizontalScroll";var w0Y="colHeadersHeight";var m0Y="rowHeadersWidth";var T0Y="minDataWidth";var I0Y="dataContentHeight";var S0Y="dataContentWidth";var d0Y="maxRowsCount";var y0Y="maxColsCount";var Z0Y="availableWidth";var H0Y="availableHeight";var E0Y="layoutHeight";var J0Y="layoutWidth";var i0Y="originalHeight";var f0Y="originalWidth";var k0Y="scrollBarSize";var Q0Y="scrollBarHeight";var A0Y="scrollBarWidth";var R0Y="cellMaxHeight";var h0Y="cellMaxWidth";var t0Y=15E5;var o0Y="gridStartY";Object.defineProperty(t9j.prototype,o0Y,{get:function(){return this.titleHeight+this.filtersHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.getScrollBarSize=function(){return utils.browserVersion().isMobile||utils.OSUtil.isMac?K3K.F8C:utils.browserVersion().isEdge?K3K.e8C:K3K.k8C;};t9j.getScaleTreshold=function(){var n0Y=1E7;return utils.detectBrowser().isChrome||utils.detectBrowser().isFirefox?n0Y:t0Y;};t9j.prototype.clearColSizes=function(c9j){this._colsWidth.length>c9j&&(this._colsWidth.length=c9j);this._colsWidthPending.length>c9j&&(this._colsWidthPending.length=c9j);this._colsWidthExplicit.length>c9j&&(this._colsWidthExplicit.length=c9j);this._dataContentWidth=-K3K.O8C;};t9j.prototype.clearRowSizes=function(L9j){this._rowsHeight.length>L9j&&(this._rowsHeight.length=L9j);this._rowsHeightPending.length>L9j&&(this._rowsHeightPending.length=L9j);this._rowsHeightExplicit.length>L9j&&(this._rowsHeightExplicit.length=L9j);this._dataContentHeight=-K3K.O8C;};function t9j(){this._cellMaxHeight=this._cellMaxWidth=this._dataContentHeight=this._dataContentWidth=-K3K.O8C;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=this._sheetHeaderHeight=this._sheetHeaderWidth=K3K.F8C;this._scaleTreshold=t0Y;this._scaleY=this._scaleX=K3K.O8C;this._colsWidth=[];this._rowsHeight=[];this._colsWidthPending=[];this._rowsHeightPending=[];this._colsWidthExplicit=[];this._rowsHeightExplicit=[];this._scrollBarSize=t9j.getScrollBarSize();this._scaleTreshold=t9j.getScaleTreshold();this._sheetHeaderWidth=t9j.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=t9j.SHEET_HEADER_HEIGHT;this.setDefaults();}t9j.prototype.reset=function(){this._colsWidth.length=K3K.F8C;this._rowsHeight.length=K3K.F8C;this._colsWidthPending.length=K3K.F8C;this._rowsHeightPending.length=K3K.F8C;this._colsWidthExplicit.length=K3K.F8C;this._rowsHeightExplicit.length=K3K.F8C;this._dataContentHeight=this._dataContentWidth=-K3K.O8C;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=K3K.F8C;this._sheetHeaderWidth=t9j.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=t9j.SHEET_HEADER_HEIGHT;this._scaleY=this._scaleX=K3K.O8C;this._cellMaxHeight=this._cellMaxWidth=-K3K.O8C;this.setDefaults();};t9j.prototype.setDefaults=function(){var e0Y="wdr-grid-row";var a0Y="wdr-grid-row-mobile";var L0Y="wdr-grid-column";var c0Y="wdr-grid-column-mobile";var a9j=j9j.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?c0Y:L0Y);t9j.CELL_WIDTH=isNaN(a9j.width)?K3K.o0C:Math.max(t9j.CELL_MIN_WIDTH,a9j.width);isNaN(a9j.maxWidth)||(this._cellMaxWidth=Math.max(t9j.CELL_MIN_WIDTH,a9j.maxWidth));a9j=j9j.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?a0Y:e0Y);t9j.CELL_HEIGHT=isNaN(a9j.height)?K3K.I8C:Math.max(t9j.CELL_MIN_HEIGHT,a9j.height);isNaN(a9j.maxHeight)||(this._cellMaxHeight=Math.max(t9j.CELL_MIN_HEIGHT,a9j.maxHeight));};Object.defineProperty(t9j.prototype,h0Y,{get:function(){return this._cellMaxWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,R0Y,{get:function(){return this._cellMaxHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.setScale=function(){var e9j=this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);this._scaleY=e9j>this._scaleTreshold?this._scaleTreshold/e9j:K3K.O8C;e9j=this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);this._scaleX=e9j>this._scaleTreshold?this._scaleTreshold/e9j:K3K.O8C;};t9j.prototype.resize=function(R9j,A9j,h9j){void K3K.F8C===h9j&&(h9j=!K3K.O8C);this._layoutWidth=R9j;this._layoutHeight=A9j;h9j&&(this._originalWidth=R9j,this._originalHeight=A9j);};Object.defineProperty(t9j.prototype,A0Y,{get:function(){return this.hasVerticalScroll?this._scrollBarSize:K3K.F8C;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,Q0Y,{get:function(){return this.hasHorizontalScroll?this._scrollBarSize:K3K.F8C;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,k0Y,{get:function(){return this._scrollBarSize;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,f0Y,{get:function(){return this._originalWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,i0Y,{get:function(){return this._originalHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,J0Y,{get:function(){return this._layoutWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,E0Y,{get:function(){return this._layoutHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,H0Y,{get:function(){return this._layoutHeight-this.scrollBarHeight-this.gridStartY;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,Z0Y,{get:function(){return this._layoutWidth-this.scrollBarWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,G9VV.q6B,{get:function(){return this._layoutWidth-this.rowHeadersWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,G9VV.u6B,{get:function(){return this._layoutHeight-this.colHeadersHeight-this.gridStartY;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,y0Y,{get:function(){return this.frozenColsCount+this.dataColsCount;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,d0Y,{get:function(){return this.frozenRowsCount+this.dataRowsCount;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.getRowHeight=function(Q9j){var k9j=isNaN(this._rowsHeight[Q9j])?t9j.CELL_HEIGHT:this._rowsHeight[Q9j];return K3K.F8C<this.cellMaxHeight&&!this.isRowHeightExplicit(Q9j)?Math.min(this.cellMaxHeight,k9j):k9j;};t9j.prototype.setRowHeight=function(f9j,i9j,J9j,E9j){void K3K.F8C===J9j&&(J9j=!K3K.O8C);void K3K.F8C===E9j&&(E9j=!K3K.O8C);i9j=Math.max(i9j,t9j.CELL_MIN_HEIGHT);if(J9j){if(isNaN(this._rowsHeightPending[f9j])||i9j>this._rowsHeightPending[f9j])this._rowsHeightPending[f9j]=i9j;}else this._rowsHeight[f9j]=i9j,this._dataContentHeight=-K3K.O8C;E9j&&(this._rowsHeightExplicit[f9j]=!K3K.F8C);};t9j.prototype.resetRowHeight=function(H9j){this.isRowHeightExplicit(H9j)&&(delete this._rowsHeight[H9j],delete this._rowsHeightPending[H9j],delete this._rowsHeightExplicit[H9j],this._dataContentHeight=-K3K.O8C);};t9j.prototype.getColWidth=function(Z9j){if(-K3K.O8C==Z9j)return this.getSheetHeaderWidth();if(Z9j>=this.maxColsCount)return Math.max(K3K.o0C,t9j.CELL_WIDTH);var y9j=isNaN(this._colsWidth[Z9j])?t9j.CELL_WIDTH:this._colsWidth[Z9j];return K3K.F8C<this.cellMaxWidth&&!this.isColWidthExplicit(Z9j)?Math.min(this.cellMaxWidth,y9j):y9j;};t9j.prototype.setColWidth=function(d9j,S9j,I9j,T9j){void K3K.F8C===I9j&&(I9j=!K3K.O8C);void K3K.F8C===T9j&&(T9j=!K3K.O8C);S9j=Math.max(S9j,t9j.CELL_MIN_WIDTH);if(I9j){if(isNaN(this._colsWidthPending[d9j])||S9j>this._colsWidthPending[d9j])this._colsWidthPending[d9j]=S9j;}else-K3K.O8C==d9j?this._sheetHeaderWidth=S9j:this._colsWidth[d9j]=S9j,this._dataContentWidth=-K3K.O8C;T9j&&(this._colsWidthExplicit[d9j]=!K3K.F8C);};t9j.prototype.resetColWidth=function(m9j){this.isColWidthExplicit(m9j)&&(delete this._colsWidth[m9j],delete this._colsWidthPending[m9j],delete this._colsWidthExplicit[m9j],this._dataContentWidth=-K3K.O8C);};t9j.prototype.isColWidthExplicit=function(w9j){return!K3K.F8C===this._colsWidthExplicit[w9j];};t9j.prototype.isRowHeightExplicit=function(r9j){return!K3K.F8C===this._rowsHeightExplicit[r9j];};t9j.prototype.applyPendingSizes=function(){for(var C9j=K3K.F8C;C9j<this._rowsHeightPending.length;C9j++)if(!this.isRowHeightExplicit(C9j)){var P9j=this._rowsHeightPending[C9j];!isNaN(P9j)&&P9j>this.getRowHeight(C9j)&&this.setRowHeight(C9j,P9j);}this._rowsHeightPending.length=K3K.F8C;for(C9j=-K3K.O8C;C9j<this._colsWidthPending.length;C9j++)this.isColWidthExplicit(C9j)||(P9j=this._colsWidthPending[C9j],!isNaN(P9j)&&P9j>this.getColWidth(C9j)&&this.setColWidth(C9j,P9j));this._colsWidthPending.length=K3K.F8C;};t9j.prototype.getRowIndexAtPosition=function(G1j,W1j){void K3K.F8C===W1j&&(W1j=!K3K.O8C);var v1j=G1j/this.dataContentHeight*(this.layoutHeight/this._scaleY-this.layoutHeight)*this._scaleY;if(K3K.O8C!=this._scaleY&&G1j+v1j>=this.dataContentHeight-this.layoutHeight){for(var U1j=this.maxRowsCount,v1j=this.dataContentHeight;v1j>G1j;)v1j-=this.getRowHeight(U1j),U1j--;return U1j+K3K.O8C;}for(var U1j=W1j?K3K.F8C:this.frozenRowsCount,V1j=K3K.F8C;V1j<G1j+v1j;)V1j+=this.getRowHeight(U1j)*this._scaleY,U1j++;return U1j;};t9j.prototype.getColIndexAtPosition=function(X1j,B1j){void K3K.F8C===B1j&&(B1j=!K3K.O8C);var p1j=X1j/this.dataContentWidth*(this.layoutWidth/this._scaleX-this.layoutWidth)*this._scaleX;if(K3K.O8C!=this._scaleX&&X1j+p1j>=this.dataContentWidth-this.layoutWidth){for(var l1j=this.maxColsCount,p1j=this.dataContentWidth;p1j>X1j;)p1j-=this.getColWidth(l1j),l1j--;return l1j+K3K.O8C;}for(var l1j=B1j?K3K.F8C:this.frozenColsCount,Y1j=K3K.F8C;Y1j<X1j+p1j;)Y1j+=this.getColWidth(l1j)*this._scaleX,l1j++;return l1j;};t9j.prototype.getVisibleRowsCount=function(N1j){for(var q1j=K3K.F8C,u1j=K3K.F8C,z1j=this.dataHeight;u1j<z1j;)u1j+=this.getRowHeight(N1j+q1j),q1j++;return q1j;};t9j.prototype.getVisibleColsCount=function(s1j){for(var D1j=K3K.F8C,x1j=K3K.F8C,K1j=this.dataWidth;x1j<K1j;)x1j+=this.getColWidth(s1j+D1j),D1j++;return D1j;};Object.defineProperty(t9j.prototype,S0Y,{get:function(){return K3K.F8C<=this._dataContentWidth?this._dataContentWidth:this._dataContentWidth=K3K.O8C>this._scaleX?this._scaleTreshold:this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.calcRangeWidth=function(b1j,O1j){if(b1j>=O1j)return K3K.F8C;var M1j=K3K.F8C,j1j=K3K.F8C,F1j=K3K.F8C,g1j;for(g1j in this._colsWidth)F1j=parseInt(g1j),!isNaN(F1j)&&!isNaN(this._colsWidth[F1j])&&F1j>=b1j&&F1j<O1j&&(j1j++,M1j+=this.getColWidth(F1j));F1j=Math.min(O1j,this.maxColsCount);M1j+=(F1j-b1j-j1j)*(K3K.F8C<this.cellMaxWidth?Math.min(this.cellMaxWidth,t9j.CELL_WIDTH):t9j.CELL_WIDTH);O1j>=this.maxColsCount&&(M1j+=(O1j-this.maxColsCount)*this.getColWidth(O1j));return M1j;};Object.defineProperty(t9j.prototype,I0Y,{get:function(){return K3K.F8C<=this._dataContentHeight?this._dataContentHeight:this._dataContentHeight=K3K.O8C>this._scaleY?this._scaleTreshold:this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.calcRangeHeight=function(n1j,t1j){if(n1j>=t1j)return K3K.F8C;var c1j=K3K.F8C,L1j=K3K.F8C,o1j=K3K.F8C,a1j;for(a1j in this._rowsHeight)o1j=parseInt(a1j),!isNaN(o1j)&&!isNaN(this._rowsHeight[o1j])&&o1j>=n1j&&o1j<t1j&&(L1j++,c1j+=this.getRowHeight(o1j));return c1j+=(t1j-n1j-L1j)*(K3K.F8C<this.cellMaxHeight?Math.min(this.cellMaxHeight,t9j.CELL_HEIGHT):t9j.CELL_HEIGHT);};t9j.prototype.clearCache=function(){this._dataContentWidth=this._dataContentHeight=-K3K.O8C;};Object.defineProperty(t9j.prototype,T0Y,{get:function(){for(var e1j=K3K.F8C,R1j=this.frozenColsCount+this.dataColsCount,h1j=this.frozenColsCount;h1j<R1j;h1j++)if(e1j+=this.getColWidth(h1j),e1j>t9j.MIN_DATA_WIDTH)return t9j.MIN_DATA_WIDTH;return e1j;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,m0Y,{get:function(){for(var Q1j=this.getSheetHeaderWidth(),A1j=K3K.F8C;A1j<this.frozenColsCount;A1j++)Q1j+=this.getColWidth(A1j);return Q1j;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,w0Y,{get:function(){for(var f1j=this.getSheetHeaderHeight(),k1j=K3K.F8C;k1j<this.frozenRowsCount;k1j++)f1j+=this.getRowHeight(k1j);return f1j;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.getSheetHeaderWidth=function(){return b9j.model._options.OptionsManager.showHeaders?this._sheetHeaderWidth:K3K.F8C;};t9j.prototype.getSheetHeaderHeight=function(){return b9j.model._options.OptionsManager.showHeaders?this._sheetHeaderHeight:K3K.F8C;};t9j.prototype.getColIndexWithUndefinedWidth=function(){for(var i1j=this.frozenColsCount;i1j<this.dataColsCount;i1j++)if(!this.isColWidthDefined(i1j))return i1j;return K3K.x4C;};t9j.prototype.getColIndicesWithUndefinedWidth=function(H1j){for(var E1j=[],J1j=this.frozenColsCount;J1j<this.dataColsCount&&(this.isColWidthDefined(J1j)||(E1j.push(J1j),!(E1j.length>=H1j)));J1j++);return E1j;};t9j.prototype.isColWidthDefined=function(y1j,Z1j){void K3K.F8C===Z1j&&(Z1j=!K3K.F8C);return!isNaN(this._colsWidth[y1j])||(Z1j?!isNaN(this._colsWidthPending[y1j]):!K3K.O8C);};Object.defineProperty(t9j.prototype,r0Y,{get:function(){return this.dataContentWidth+(this.dataContentHeight>this.dataHeight?this.scrollBarSize:K3K.F8C)>this.dataWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,C0Y,{get:function(){return this.dataContentHeight+(this.dataContentWidth>this.dataWidth?this.scrollBarSize:K3K.F8C)>this.dataHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.getRowY=function(I1j,d1j){void K3K.F8C===d1j&&(d1j=!K3K.O8C);var S1j=b9j.model._options.OptionsManager.showHeaders&&d1j?this.getSheetHeaderHeight():K3K.F8C;return S1j+=this.calcRangeHeight(d1j?K3K.F8C:this.frozenRowsCount,I1j);};t9j.prototype.getColX=function(w1j,T1j){void K3K.F8C===T1j&&(T1j=!K3K.O8C);var m1j=b9j.model._options.OptionsManager.showHeaders&&T1j?this.getSheetHeaderWidth():K3K.F8C;return m1j+=this.calcRangeWidth(T1j?K3K.F8C:this.frozenColsCount,w1j);};Object.defineProperty(t9j.prototype,P0Y,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!K3K.O8C:K3K.m0C>this.maxColsCount*this.maxRowsCount;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,U4Y,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!K3K.O8C:(this.hasVerticalScroll||this.hasHorizontalScroll)&&W9VV.v4Y>this.maxColsCount*this.maxRowsCount;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.prototype.getBoundTop=function(r1j){void K3K.F8C===r1j&&(r1j=!K3K.O8C);return this.canDrawAll?this.frozenRowsCount:r1j?Math.max(this.frozenRowsCount,this.firstDataRowIdx-t9j.ROWS_OFFSET):Math.max(this.frozenRowsCount,this.firstDataRowIdx);};t9j.prototype.getBoundLeft=function(C1j){void K3K.F8C===C1j&&(C1j=!K3K.O8C);return this.canDrawAll?this.frozenColsCount:C1j?Math.max(this.frozenColsCount,this.firstDataColIdx-t9j.COLS_OFFSET):Math.max(this.frozenColsCount,this.firstDataColIdx);};t9j.prototype.getBoundBottom=function(U8j){void K3K.F8C===U8j&&(U8j=!K3K.O8C);var P1j=this.getVisibleRowsCount(this.firstDataRowIdx);return this.canDrawAll?this.hasVerticalScroll?this.maxRowsCount:this.firstDataRowIdx+P1j:U8j?Math.min(this.firstDataRowIdx+P1j+(this.hasVerticalScroll?t9j.ROWS_OFFSET:K3K.F8C),this.hasVerticalScroll?this.maxRowsCount:Number.MAX_VALUE):this.firstDataRowIdx+P1j;};t9j.prototype.getBoundRight=function(G8j){void K3K.F8C===G8j&&(G8j=!K3K.O8C);var v8j=this.getVisibleColsCount(this.firstDataColIdx);return this.canDrawAll?this.hasHorizontalScroll?this.maxColsCount:this.firstDataColIdx+v8j:G8j?Math.min(this.firstDataColIdx+v8j+(this.hasHorizontalScroll?t9j.COLS_OFFSET:K3K.F8C),this.hasHorizontalScroll?this.maxColsCount:Number.MAX_VALUE):this.firstDataColIdx+v8j;};t9j.prototype.isOnColEdge=function(W8j){void K3K.F8C===W8j&&(W8j=NaN);isNaN(W8j)&&(W8j=this.getBoundRight());return K3K.F8C<this.scrollLeft&&W8j>=this.maxColsCount;};t9j.prototype.isOnRowEdge=function(V8j){void K3K.F8C===V8j&&(V8j=NaN);isNaN(V8j)&&(V8j=this.getBoundBottom());return K3K.F8C<this.scrollTop&&V8j>=this.maxRowsCount;};t9j.prototype.getColEdgeOffset=function(l8j){void K3K.F8C===l8j&&(l8j=NaN);isNaN(l8j)&&(l8j=this.firstDataColIdx);return this.isOnColEdge()?this.dataContentWidth-this.scrollLeft-this.calcRangeWidth(l8j,this.maxColsCount):K3K.F8C;};t9j.prototype.getRowEdgeOffset=function(p8j){void K3K.F8C===p8j&&(p8j=NaN);isNaN(p8j)&&(p8j=this.firstDataRowIdx);return this.isOnRowEdge()?this.dataContentHeight-this.scrollTop-this.calcRangeHeight(p8j,this.maxRowsCount):K3K.F8C;};t9j.prototype.getRowIdxByRelativePosition=function(B8j,u8j){if(B8j<this.gridStartY)return NaN;if(b9j.model._options.OptionsManager.showHeaders&&B8j<this.gridStartY+this.getSheetHeaderHeight())return-K3K.O8C;var X8j=K3K.F8C,Y8j=this.gridStartY+this.getSheetHeaderHeight();if(B8j>this.colHeadersHeight)if(X8j=this.firstDataRowIdx,Y8j=this.gridStartY+this.colHeadersHeight,u8j&&X8j>this.frozenRowsCount){var q8j=this.scrollTop-this.getRowY(X8j-K3K.O8C);K3K.F8C<q8j&&(Y8j-=q8j,X8j--);}else u8j||(B8j-=this.getRowEdgeOffset());for(;Y8j<B8j;)Y8j+=this.getRowHeight(X8j),X8j++;return X8j-K3K.O8C;};t9j.prototype.getColIdxByRelativePosition=function(D8j,K8j){if(b9j.model._options.OptionsManager.showHeaders&&D8j<this.getSheetHeaderWidth())return-K3K.O8C;var z8j=K3K.F8C,N8j=this.getSheetHeaderWidth();if(D8j>this.rowHeadersWidth)if(z8j=this.firstDataColIdx,N8j=this.rowHeadersWidth,K8j&&z8j>this.frozenColsCount){var x8j=this.scrollLeft-this.getColX(z8j-K3K.O8C);K3K.F8C<x8j&&(N8j-=x8j,z8j--);}else K8j||(D8j-=this.getColEdgeOffset());for(;N8j<D8j;)N8j+=this.getColWidth(z8j),z8j++;return z8j-K3K.O8C;};t9j.prototype.getRelativeRowY=function(M8j,b8j,s8j){void K3K.F8C===s8j&&(s8j=!K3K.F8C);var F8j=K3K.F8C,O8j=(s8j?this.gridStartY:K3K.F8C)+this.getSheetHeaderHeight();M8j>this.frozenRowsCount&&(F8j=this.firstDataRowIdx,O8j=(s8j?this.gridStartY:K3K.F8C)+this.colHeadersHeight,F8j<=M8j&&(O8j+=b8j?this.getRowY(this.firstDataRowIdx)-this.scrollTop:this.getRowEdgeOffset()));return O8j+=this.calcRangeHeight(F8j,M8j);};t9j.prototype.getRelativeColX=function(o8j,n8j){var j8j=K3K.F8C,g8j=this.getSheetHeaderWidth();o8j>this.frozenColsCount&&(j8j=this.firstDataColIdx,g8j=this.rowHeadersWidth,j8j<=o8j&&(g8j+=n8j?this.getColX(this.firstDataColIdx)-this.scrollLeft:this.getColEdgeOffset()));return g8j+=this.calcRangeWidth(j8j,o8j);};t9j.prototype.isRowHeightDefault=function(t8j){return isNaN(this._rowsHeight[t8j]);};Object.defineProperty(t9j.prototype,G4Y,{get:function(){return this.scrollLeft+this.dataWidth-this.dataContentWidth-this.scrollBarWidth;},enumerable:!K3K.F8C,configurable:!K3K.F8C});Object.defineProperty(t9j.prototype,W4Y,{get:function(){return this.scrollTop+this.dataHeight-this.dataContentHeight-this.scrollBarHeight;},enumerable:!K3K.F8C,configurable:!K3K.F8C});t9j.ROWS_OFFSET=K3K.g8C;t9j.COLS_OFFSET=K3K.g8C;t9j.CELL_WIDTH=K3K.o0C;t9j.CELL_HEIGHT=K3K.I8C;t9j.CELL_MIN_WIDTH=K3K.V0C;t9j.CELL_MIN_HEIGHT=K3K.I8C;t9j.SHEET_HEADER_HEIGHT=K3K.y8C;t9j.SHEET_HEADER_WIDTH=K3K.y8C;t9j.MIN_DATA_WIDTH=K3K.A0C;return t9j;}();n9j.GridCoords=o9j;}(g9j.sheet||(g9j.sheet={})));}(j9j.grid||(j9j.grid={})));}(b9j._view||(b9j._view={})));}(pivot||(pivot={})));(function(c8j){(function(L8j){(function(a8j){(function(e8j){var h8j=function(A8j){var u4Y="min-width";var V4Y="isDirty";__extends(R8j,A8j);R8j.prototype.calculateSizes=function(y8j){var d5K=U9VV;void d5K.F8C===y8j&&(y8j=!d5K.O8C);for(var J8j=!d5K.O8C,d8j=this.element.children,H8j=d5K.F8C;H8j<d8j.length;H8j++)for(var E8j=d8j.item(H8j),J8j=this.updateRowHeight(E8j,!d5K.F8C)||J8j,E8j=E8j.children,Z8j=d5K.F8C;Z8j<E8j.length;Z8j++)J8j=this.updateColWidth(E8j.item(Z8j),y8j)||J8j;this._isDirty=J8j;};Object.defineProperty(R8j.prototype,V4Y,{get:function(){return this._isDirty;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});R8j.prototype.updateRowHeight=function(w8j,I8j){var S5K=U9VV;void S5K.F8C===I8j&&(I8j=!S5K.O8C);if(S5K.x4C!=this._coords){var m8j=!S5K.O8C,S8j=parseInt(w8j.getAttribute(W9VV.l4Y));if(isNaN(S8j)||this._coords.isRowHeightExplicit(S8j))return!S5K.O8C;var T8j=w8j.clientHeight;this._coords.getRowHeight(S8j)<T8j?(this._coords.setRowHeight(S8j,Math.round(T8j+S5K.O8C),I8j),m8j=!S5K.F8C):T8j<=e8j.GridCoords.CELL_HEIGHT&&this._coords.setRowHeight(S8j,e8j.GridCoords.CELL_HEIGHT,I8j);return m8j;}};R8j.prototype.updateColWidth=function(U0j,C8j){var T5K=U9VV;void T5K.F8C===C8j&&(C8j=!T5K.O8C);if(T5K.x4C!=this._coords){var v0j=!T5K.O8C,r8j=parseInt(U0j.getAttribute(W9VV.p4Y));if(isNaN(r8j)||U0j.classList.contains(a8j.vo.GridStyleName.SHEET_HEADER)&&T5K.F8C<=r8j||this._coords.isColWidthExplicit(r8j))return!T5K.O8C;var P8j=U0j.clientWidth;this._coords.getColWidth(r8j)<P8j?(this._coords.setColWidth(r8j,Math.round(P8j+T5K.M8C),C8j),v0j=!T5K.F8C):-T5K.O8C!=r8j&&P8j<=e8j.GridCoords.CELL_WIDTH&&this._coords.setColWidth(r8j,e8j.GridCoords.CELL_WIDTH,C8j);return v0j;}};R8j.prototype.createCell=function(W0j,V0j,p0j){var w5K=U9VV;var q4Y="</span>";var B4Y='" title="';var X4Y='<span class="';void w5K.F8C===p0j&&(p0j=!w5K.O8C);var G0j=this._getDataFunc?this._getDataFunc(W0j,V0j):w5K.x4C;this.cell.clear();this.cell.tag=w5K.r4C;this.cell.addClass(a8j.vo.GridStyleName.CELL);var X0j=W0j>=this._coords.maxRowsCount||V0j>=this._coords.maxColsCount;!G0j&&X0j&&this.cell.addClass(a8j.vo.GridStyleName.CELL_EMPTY);G0j&&G0j.isRowHeader&&(this.cell.addClass(a8j.vo.GridStyleName.HEADER),this.cell.addClass(a8j.vo.GridStyleName.HEADER_ROW),this.cell.addClass(a8j.vo.GridStyleName.LEVEL+G0j.level));G0j&&G0j.isColumnHeader&&(this.cell.addClass(a8j.vo.GridStyleName.HEADER),this.cell.addClass(a8j.vo.GridStyleName.HEADER_COLUMN));G0j&&G0j.isMeasureHeader&&this.cell.addClass(a8j.vo.GridStyleName.MEASURE_HEADER);G0j&&G0j.isTotal&&this.cell.addClass(a8j.vo.GridStyleName.TOTAL);G0j&&G0j.isGrandTotal&&this.cell.addClass(a8j.vo.GridStyleName.GRAND_TOTAL);G0j&&G0j.expanded&&(this.cell.addClass(a8j.vo.GridStyleName.EXPANDED),this.cell.text+=this.createIcon(a8j.vo.GridStyleName.EXPANDED_ICON,c8j.model._labels.Labels.TOOLTIPS_COLLAPSE_ICON));G0j&&G0j.collapsed&&(this.cell.addClass(a8j.vo.GridStyleName.COLLAPSED),this.cell.text+=this.createIcon(a8j.vo.GridStyleName.COLLAPSED_ICON,c8j.model._labels.Labels.TOOLTIPS_EXPAND_ICON));this.cell.text+=G0j?G0j.label:w5K.C4C;G0j&&(G0j.drilledUp||G0j.drilledDown)&&(this.cell.text+=X4Y+a8j.vo.GridStyleName.HIERARCHY+B4Y+(G0j.drilledUp?c8j.model._labels.Labels.TOOLTIPS_DRILL_DOWN:c8j.model._labels.Labels.TOOLTIPS_DRILL_UP)+W9VV.Y4Y+G0j.getDrillLabel()+q4Y,G0j.drilledUp&&this.cell.addClass(a8j.vo.GridStyleName.DRILLED_UP),G0j.drilledDown&&this.cell.addClass(a8j.vo.GridStyleName.DRILLED_DOWN));G0j&&G0j.isColumnHeader&&(G0j.sortable&&!G0j.isEmpty&&(this.cell.text=G0j.sortedAsc?this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.V_SORT_ASC],c8j.model._labels.Labels.TOOLTIPS_SORTED_ASC):G0j.sortedDesc?this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.V_SORT_DESC],c8j.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.V_SORT_ICON],c8j.model._labels.Labels.TOOLTIPS_SORT_ICON)),G0j.isEmpty&&this.cell.addClass(a8j.vo.GridStyleName.CELL_EMPTY),G0j.isEmpty||this.cell.addClass(a8j.vo.GridStyleName.V_SORT));G0j&&G0j.isRowHeader&&(G0j.sortable&&!G0j.isEmpty&&(this.cell.text=G0j.sortedAsc?this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.H_SORT_ASC],c8j.model._labels.Labels.TOOLTIPS_SORTED_ASC):G0j.sortedDesc?this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.H_SORT_DESC],c8j.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([a8j.vo.GridStyleName.SORT_ICON,a8j.vo.GridStyleName.H_SORT_ICON],c8j.model._labels.Labels.TOOLTIPS_SORT_ICON)),this.cell.addClass(a8j.vo.GridStyleName.H_SORT));this.cell.attr[W9VV.p4Y]=V0j;this.cell.attr[W9VV.l4Y]=W0j;w5K.F8C!=V0j||c8j.model._options.OptionsManager.showHeaders||(this.cell.style.height=this._coords.getRowHeight(W0j)+w5K.y4C);if(G0j&&G0j.style){for(var l0j=w5K.F8C;l0j<G0j.style.styleNames.length;l0j++)this.cell.addClass(G0j.style.styleNames[l0j]);var l0j=G0j.style.css,B0j;for(B0j in l0j)this.cell.style[B0j]=l0j[B0j];}this.setCellSize(this.cell,W0j,V0j,G0j&&G0j.isValue);p0j&&(this.cell.style.top=this._coords.getRowY(W0j,W0j<this._coords.frozenRowsCount)+w5K.y4C,this.cell.style.left=this._coords.getColX(V0j,V0j<this._coords.frozenColsCount)+w5K.y4C);w5K.x4C==a8j.vo.GridCell.customizeCellFunction||X0j||(w5K.x4C==G0j&&(G0j=new a8j.vo.GridCell(),G0j.rowIdx=W0j,G0j.colIdx=V0j),a8j.vo.GridCell.customizeCellFunction(this.cell.node,G0j.toObject()));return this.cell;};R8j.prototype.isCellEmpty=function(q0j,u0j){if(this._getDataFunc){var Y0j=this._getDataFunc(q0j,u0j);return utils.nullOrUndefined(Y0j)||utils.nullOrEmpty(Y0j.label);}return!U9VV.F8C;};R8j.prototype.setCellSize=function(z0j,N0j,D0j,x0j){var P5K=U9VV;void P5K.F8C===x0j&&(x0j=!P5K.O8C);this._coords.isColWidthExplicit(D0j)||this._coords.isRowHeightExplicit(N0j)?(z0j.style.width=this._coords.getColWidth(D0j)+P5K.y4C,z0j.style.height=this._coords.getRowHeight(N0j)+P5K.y4C):(z0j.style[u4Y]=this._coords.getColWidth(D0j)+P5K.y4C,z0j.style[x0j?P5K.O2C:W9VV.z4Y]=this._coords.getRowHeight(N0j)+P5K.y4C);!this._coords.isColWidthExplicit(D0j)&&P5K.F8C<this._coords.cellMaxWidth&&(z0j.style[W9VV.L8Y]=this._coords.cellMaxWidth+P5K.y4C);!this._coords.isRowHeightExplicit(N0j)&&P5K.F8C<this._coords.cellMaxHeight&&(z0j.style[W9VV.a8Y]=this._coords.cellMaxHeight+P5K.y4C);};function R8j(k8j,f8j){var Q8j=A8j.call(this,U9VV.r4C)||this;Q8j._isDirty=!U9VV.O8C;Q8j.cell=new HtmlNodeWrapper();Q8j._coords=k8j;Q8j._getDataFunc=f8j;Q8j.element.addEventListener(U9VV.H2C,function(i8j){return Q8j.onMouseEvent(i8j);});return Q8j;}R8j.prototype.createIcon=function(K0j,s0j){var G7K=U9VV;var x4Y="></i>";var D4Y='title="';var N4Y='<i class="';void G7K.F8C===s0j&&(s0j=G7K.x4C);K0j instanceof Array&&(K0j=K0j.join(G7K.s4C));var F0j=N4Y+a8j.vo.GridStyleName.ICON+G7K.s4C+K0j+v9VV.U9Q;s0j&&(F0j+=D4Y+s0j+v9VV.U9Q);return F0j+x4Y;};R8j.prototype.createSheetHeaderCell=function(){this.cell.clear();this.cell.tag=U9VV.r4C;this.cell.addClass(a8j.vo.GridStyleName.CELL);this.cell.addClass(a8j.vo.GridStyleName.SHEET_HEADER);this.cell.style.width=this._coords.getSheetHeaderWidth()+U9VV.y4C;this.cell.style.height=this._coords.getSheetHeaderHeight()+U9VV.y4C;return this.cell;};R8j.prototype.createColumnSheetHeaderCell=function(O0j,M0j){var l7K=U9VV;void l7K.F8C===M0j&&(M0j=!l7K.O8C);this.cell.clear();this.cell.tag=l7K.r4C;this.cell.addClass(a8j.vo.GridStyleName.CELL);this.cell.addClass(a8j.vo.GridStyleName.SHEET_HEADER);this.cell.text+=O0j+l7K.O8C;this.cell.style.width=this._coords.getColWidth(O0j)+l7K.y4C;l7K.F8C<this._coords.cellMaxWidth&&!this._coords.isColWidthExplicit(O0j)&&(this.cell.style[W9VV.L8Y]=this._coords.cellMaxWidth+l7K.y4C);this.cell.style.height=this._coords.getSheetHeaderHeight()+l7K.y4C;this.cell.attr[W9VV.l4Y]=-l7K.O8C;this.cell.attr[W9VV.p4Y]=O0j;M0j&&(this.cell.style.left=this._coords.getColX(O0j,!l7K.O8C)+l7K.y4C);return this.cell;};R8j.prototype.createRowSheetHeaderCell=function(b0j,j0j){var B7K=W9VV;var X7K=U9VV;void X7K.F8C===j0j&&(j0j=!X7K.O8C);this.cell.clear();this.cell.tag=X7K.r4C;this.cell.addClass(a8j.vo.GridStyleName.CELL);this.cell.addClass(a8j.vo.GridStyleName.SHEET_HEADER);this.cell.text+=b0j+X7K.O8C;this.cell.style[u4Y]=this._coords.getSheetHeaderWidth()+X7K.y4C;this.cell.style.height=this._coords.getRowHeight(b0j)+X7K.y4C;this.cell.style[B7K.K4Y]=this._coords.getRowHeight(b0j)-X7K.M8C+X7K.y4C;X7K.F8C<this._coords.cellMaxHeight&&!this._coords.isRowHeightExplicit(b0j)&&(this.cell.style[B7K.a8Y]=this._coords.cellMaxHeight+X7K.y4C);this.cell.attr[B7K.l4Y]=b0j;this.cell.attr[B7K.p4Y]=-X7K.O8C;j0j&&(this.cell.style.top=this._coords.getRowY(b0j,!X7K.O8C)+X7K.y4C);return this.cell;};R8j.prototype.getCellByPosition=function(t0j,c0j){var Y7K=U9VV;var o0j=this._coords.getColIndexAtPosition(t0j)-Y7K.O8C,n0j=this._coords.getRowIndexAtPosition(c0j)-Y7K.O8C,g0j=Y7K.x4C;Y7K.x4C!=this._getDataFunc&&(g0j=this._getDataFunc(n0j,o0j));Y7K.x4C==g0j&&(g0j=new a8j.vo.GridCell(),g0j.rowIdx=n0j,g0j.colIdx=o0j);return g0j;};R8j.prototype.getCellByElement=function(L0j){var q7K=U9VV;for(;!L0j.hasClass(a8j.vo.GridStyleName.CELL);)if(L0j=L0j.parent,q7K.x4C==L0j)return q7K.x4C;var e0j=parseInt(L0j.attr(W9VV.p4Y));L0j=parseInt(L0j.attr(W9VV.l4Y));var a0j=q7K.x4C;q7K.x4C!=this._getDataFunc&&(a0j=this._getDataFunc(L0j,e0j));q7K.x4C==a0j&&(a0j=new a8j.vo.GridCell(),a0j.rowIdx=L0j,a0j.colIdx=e0j);return a0j;};R8j.prototype.onMouseEvent=function(h0j){var R0j=uicontrols.UIElement.convert(h0j.target),Q0j=this.getCellByElement(R0j)||this.getCellByPosition(h0j.offsetX,h0j.offsetY),A0j;switch(h0j.type){case U9VV.H2C:A0j=new a8j.GridClickEvent(Q0j,R0j);}A0j&&this.dispatch(A0j);};R8j.prototype.dispose=function(){A8j.prototype.dispose.call(this);this._coords=this._getDataFunc=U9VV.x4C;};return R8j;}(uicontrols.UIElement);e8j.AbstractSheet=h8j;}(a8j.sheet||(a8j.sheet={})));}(L8j.grid||(L8j.grid={})));}(c8j._view||(c8j._view={})));}(pivot||(pivot={})));(function(k0j){(function(f0j){(function(i0j){(function(J0j){var E0j=function(Z0j){var L8K=U9VV;var b4Y="switched_to_simple";var M4Y="switched_to_smooth";var O4Y="scrollPane";__extends(H0j,Z0j);function H0j(d0j,S0j){var s4Y="wdr-sheet-canvas";var y0j=Z0j.call(this,d0j,S0j)||this;y0j.SWITCH_TO_SMOOTH_DELAY=v9VV.N6C;y0j._isSmooth=!L8K.O8C;y0j.addClass(s4Y);y0j._scrollPane=new ScrollPane();y0j.addChild(y0j._scrollPane);y0j._bounds=new J0j.Bounds();y0j._boundsSmooth=new J0j.Bounds();return y0j;}H0j.prototype.draw=function(){};H0j.prototype.drawSmooth=function(){};Object.defineProperty(H0j.prototype,W9VV.F4Y,{get:function(){return this._isSmooth;},set:function(I0j){this._isSmooth!=I0j&&(this._isSmooth=I0j,this.dispatchWith(this.isSmooth?H0j.EVENT_SWITCHED_TO_SMOOTH:H0j.EVENT_SWITCHED_TO_SIMPLE));},enumerable:!L8K.F8C,configurable:!L8K.F8C});H0j.prototype.switchToSimple=function(){!L8K.O8C!=this.isSmooth&&(this._bounds.reset(),this._boundsSmooth.reset(),this.draw());};H0j.prototype.clearBounds=function(){this._bounds.reset();};H0j.prototype.clearBoundsSmooth=function(){this._boundsSmooth.reset();};H0j.prototype.clearAllBounds=function(){this.clearBounds();this.clearBoundsSmooth();};H0j.prototype.calculateSizes=function(w0j){void L8K.F8C===w0j&&(w0j=!L8K.O8C);for(var T0j=!L8K.O8C,P0j=this._scrollPane.content.element.children,r0j=L8K.F8C;r0j<P0j.length;r0j++)for(var m0j=P0j.item(r0j),T0j=this.updateRowHeight(m0j,w0j)||T0j,m0j=m0j.children,C0j=L8K.F8C;C0j<m0j.length;C0j++)var U4j=m0j.item(C0j),T0j=this.updateColWidth(U4j,w0j)||T0j;this._isDirty=T0j;};H0j.prototype.calculateSizesSmooth=function(G4j){void L8K.F8C===G4j&&(G4j=!L8K.O8C);for(var v4j=!L8K.O8C,V4j=this.scrollPane.placeholder.element.children,W4j=L8K.F8C;W4j<V4j.length;W4j++)var l4j=V4j.item(W4j),v4j=this.updateColWidth(l4j,G4j)||v4j,v4j=this.updateRowHeight(l4j,G4j)||v4j;this._isDirty=v4j;};H0j.prototype.setContentSize=function(){this._scrollPane.content.width=this._width-this._coords.scrollBarWidth;this._scrollPane.content.height=this._height-this._coords.scrollBarHeight;};Object.defineProperty(H0j.prototype,O4Y,{get:function(){return this._scrollPane;},enumerable:!L8K.F8C,configurable:!L8K.F8C});Object.defineProperty(H0j.prototype,L8K.s2C,{get:function(){return this._width;},set:function(p4j){this._width!=p4j&&(this.element.style.minWidth=p4j+L8K.y4C,this._width=p4j,this._scrollPane.width=p4j);},enumerable:!L8K.F8C,configurable:!L8K.F8C});Object.defineProperty(H0j.prototype,L8K.O2C,{get:function(){return this._height;},set:function(X4j){this._height!=X4j&&(this.element.style.height=X4j+L8K.y4C,this._height=X4j,this._scrollPane.height=X4j);},enumerable:!L8K.F8C,configurable:!L8K.F8C});H0j.prototype.onMouseEvent=function(q4j){var Y4j=L8K.x4C,B4j=L8K.x4C;q4j.target==this.scrollPane.placeholder.element?Y4j=this.getCellByPosition(q4j.offsetX,q4j.offsetY):(B4j=uicontrols.UIElement.convert(q4j.target),Y4j=this.getCellByElement(B4j)||this.getCellByPosition(q4j.offsetX,q4j.offsetY));if(L8K.x4C!=Y4j&&L8K.x4C!=B4j){var u4j=i0j.vo.GridCellElementType.BACKGROUND;B4j.hasClass(i0j.vo.GridStyleName.HIERARCHY)?u4j=i0j.vo.GridCellElementType.DRILL:B4j.hasClass(i0j.vo.GridStyleName.EXPANDED_ICON)||B4j.hasClass(i0j.vo.GridStyleName.COLLAPSED_ICON)?u4j=i0j.vo.GridCellElementType.LEFT_ICON:B4j.hasClass(i0j.vo.GridStyleName.SORT_ICON)?u4j=i0j.vo.GridCellElementType.RIGHT_ICON:B4j.hasClass(i0j.vo.GridStyleName.LINK)&&(u4j=i0j.vo.GridCellElementType.LINK);Y4j.activeElementType=u4j;}var z4j;switch(q4j.type){case L8K.H2C:z4j=new i0j.GridClickEvent(Y4j,B4j);break;case L8K.f4C:z4j=new i0j.GridMouseDownEvent(Y4j);break;case L8K.R4C:z4j=new i0j.GridMouseUpEvent(Y4j);break;case L8K.e4C:z4j=new i0j.GridMouseMoveEvent(Y4j);}z4j&&this.dispatch(z4j);};H0j.EVENT_SWITCHED_TO_SMOOTH=M4Y;H0j.EVENT_SWITCHED_TO_SIMPLE=b4Y;return H0j;}(J0j.AbstractSheet);J0j.BaseSheet=E0j;}(i0j.sheet||(i0j.sheet={})));}(f0j.grid||(f0j.grid={})));}(k0j._view||(k0j._view={})));}(pivot||(pivot={})));(function(N4j){(function(D4j){(function(x4j){(function(s4j){var K4j=function(){F4j.prototype.set=function(g4j){this.left=g4j.left;this.top=g4j.top;this.right=g4j.right;this.bottom=g4j.bottom;};F4j.prototype.reset=function(){this.bottom=this.right=this.top=this.left=U9VV.F8C;};F4j.prototype.contains=function(o4j){return this.left<=o4j.left&&this.top<=o4j.top&&this.right>=o4j.right&&this.bottom>=o4j.bottom;};function F4j(O4j,M4j,b4j,j4j){var K7K=U9VV;void K7K.F8C===O4j&&(O4j=K7K.F8C);void K7K.F8C===M4j&&(M4j=K7K.F8C);void K7K.F8C===b4j&&(b4j=K7K.F8C);void K7K.F8C===j4j&&(j4j=K7K.F8C);this.left=O4j;this.top=M4j;this.right=b4j;this.bottom=j4j;}F4j.prototype.clone=function(){return new F4j(this.left,this.top,this.right,this.bottom);};return F4j;}();s4j.Bounds=K4j;}(x4j.sheet||(x4j.sheet={})));}(D4j.grid||(D4j.grid={})));}(N4j._view||(N4j._view={})));}(pivot||(pivot={})));(function(n4j){(function(t4j){(function(c4j){(function(a4j){var L4j=function(){e4j.prototype.reset=function(){this.data=[];this.frozenCells=[];};e4j.prototype.setData=function(R4j,A4j,Q4j,k4j){void U9VV.F8C===k4j&&(k4j=!U9VV.O8C);Q4j.rowIdx=R4j;Q4j.colIdx=A4j;if(A4j<this.coords.frozenColsCount||k4j)U9VV.x4C==this.data[R4j]&&(this.data[R4j]=[]),this.data[R4j][A4j]=Q4j;};e4j.prototype.setDataFrozen=function(f4j,i4j,J4j){U9VV.x4C==this.frozenCells[f4j]&&(this.frozenCells[f4j]=[]);this.frozenCells[f4j][i4j]=J4j;};e4j.prototype.positionFrozenCells=function(E4j){var O7K=U9VV;if(O7K.x4C!=this.frozenCells[E4j]){for(var Z4j=[],d4j=!O7K.O8C,H4j=O7K.F8C;H4j<this.frozenCells[E4j].length;H4j++){if(O7K.x4C!=this.frozenCells[E4j][H4j]||!d4j){var y4j=this.frozenCells[E4j][H4j];O7K.x4C!=y4j&&(y4j.colIdx=Z4j.length);Z4j.push(y4j);}O7K.x4C!=this.frozenCells[E4j][H4j]&&(d4j=!O7K.F8C);}this.frozenCells[E4j]=Z4j;}};e4j.prototype.cellExists=function(S4j,I4j){void U9VV.F8C===this.data[S4j]&&(this.data[S4j]=[]);return void U9VV.F8C!==this.data[S4j][I4j];};e4j.prototype.getData=function(T4j,m4j,r4j){var b7K=U9VV;void b7K.F8C===r4j&&(r4j=!b7K.F8C);if(!b7K.O8C==this.cellExists(T4j,m4j)){var w4j=this.getDataFunction(T4j,m4j);b7K.x4C!=w4j&&(w4j.rowIdx=T4j,w4j.colIdx=m4j);if(!r4j)return w4j;this.data[T4j][m4j]=w4j;}return b7K.x4C===this.data[T4j][m4j]?void b7K.F8C:this.data[T4j][m4j];};function e4j(h4j){this.frozenCells=[];this.data=[];this.coords=h4j;}e4j.prototype.clearDataRow=function(C4j){var j7K=U9VV;if(C4j<this.coords.frozenRowsCount)for(var U2j=this.data[C4j]?this.data[C4j].length:j7K.F8C,P4j=j7K.O8C;P4j<U2j;P4j++)this.data[C4j]&&(this.data[C4j][P4j]=j7K.x4C);else this.data[C4j]&&(this.data[C4j]=j7K.x4C);};e4j.prototype.clearDataColumn=function(G2j){for(var W2j=this.data.length,v2j=U9VV.F8C;v2j<W2j;v2j++)U9VV.F8C==G2j&&v2j<this.coords.frozenRowsCount||this.data[v2j]&&(this.data[v2j][G2j]=U9VV.x4C);};e4j.prototype.getDataFrozen=function(V2j,l2j){return this.frozenCells[V2j]&&this.frozenCells[V2j][l2j]?this.frozenCells[V2j][l2j]:U9VV.x4C;};e4j.prototype.clearCell=function(p2j,X2j){U9VV.x4C!=this.data[p2j]&&(this.data[p2j][X2j]=this.getData(p2j,X2j));};e4j.prototype.dispose=function(){this.reset();this.getDataFunction=U9VV.x4C;};return e4j;}();a4j.SheetDataProvider=L4j;}(c4j.sheet||(c4j.sheet={})));}(t4j.grid||(t4j.grid={})));}(n4j._view||(n4j._view={})));}(pivot||(pivot={})));(function(B2j){(function(Y2j){(function(q2j){(function(z2j){var N2j=function(){var v6f=U9VV;var c4Y="row";var t4Y="column";var n4Y="from";var o4Y="to";var g4Y="blur";var j4Y="focus";D2j.prototype.dispose=function(){this.gridLayout.element&&this.gridLayout.element.removeEventListener(j4Y,this.focusHandler);this.gridLayout.element&&this.gridLayout.element.removeEventListener(g4Y,this.blurHandler);this.keyboardListener.removeEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);this.keyboardListener=this.gridLayout=v6f.x4C;};function D2j(K2j){var x2j=this;this._to=this._from=v6f.x4C;this._column=this._row=-v6f.O8C;this._isFocused=!v6f.O8C;this.focusHandler=function(){x2j._isFocused=!v6f.F8C;};this.blurHandler=function(){x2j._isFocused=!v6f.O8C;};this.keydownHandler=function(s2j){return x2j.onKeyDown(s2j);};this.gridLayout=K2j;this.gridLayout.element.setAttribute(W9VV.q1Y,v9VV.O7C);this.gridLayout.element.addEventListener(j4Y,this.focusHandler);this.gridLayout.element.addEventListener(g4Y,this.blurHandler);this.coords=this.gridLayout.coords;this.selectionCanvas=new z2j.SelectionCanvas(this,this.gridLayout);this.gridLayout.addChild(this.selectionCanvas);this.keyboardListener=utils.KeyboardListener.getInstance();this.keyboardListener.addEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);}D2j.prototype.draw=function(){this.selectionCanvas.redraw();};D2j.prototype.select=function(F2j,O2j){this.deselect();this._from=F2j;this._to=O2j;this.draw();};D2j.prototype.selectAll=function(){this.select(new u2j(v6f.F8C,v6f.F8C),new u2j(this.coords.getBoundRight(),this.coords.getBoundBottom()));};D2j.prototype.selectTo=function(b2j){var M2j=this._from;this.deselect();this._from=M2j;this._to=b2j;this.draw();};D2j.prototype.selectRow=function(j2j){this.deselect();this._row=j2j;this.draw();};D2j.prototype.selectColumn=function(g2j){this.deselect();this._column=g2j;this.draw();};D2j.prototype.deselect=function(){this._to=this._from=v6f.x4C;this._column=this._row=-v6f.O8C;};D2j.prototype.clear=function(){this.deselect();this.draw();};D2j.prototype.isSelectedRow=function(o2j){return v6f.x4C==this._from||v6f.x4C==this._to?!v6f.O8C:this._row==o2j||o2j>=this._from.y&&o2j<=this._to.y||o2j>=this._to.y&&o2j<=this._from.y;};D2j.prototype.isSelectedColumn=function(n2j){return v6f.x4C==this._from||v6f.x4C==this._to?!v6f.O8C:this._column==n2j||n2j>=this._from.x&&n2j<=this._to.x||n2j>=this._to.x&&n2j<=this._from.x;};Object.defineProperty(D2j.prototype,o4Y,{get:function(){return this._to;},enumerable:!v6f.F8C,configurable:!v6f.F8C});Object.defineProperty(D2j.prototype,n4Y,{get:function(){return this._from;},enumerable:!v6f.F8C,configurable:!v6f.F8C});Object.defineProperty(D2j.prototype,t4Y,{get:function(){return this._column;},enumerable:!v6f.F8C,configurable:!v6f.F8C});Object.defineProperty(D2j.prototype,c4Y,{get:function(){return this._row;},enumerable:!v6f.F8C,configurable:!v6f.F8C});D2j.prototype.move=function(L2j,t2j,c2j){void v6f.F8C===t2j&&(t2j=!v6f.O8C);void v6f.F8C===c2j&&(c2j=!v6f.O8C);switch(L2j){case v6f.C8C:this.moveLeft(t2j,c2j);break;case v6f.P8C:this.moveUp(t2j,c2j);break;case v6f.U0C:this.moveRight(t2j,c2j);break;case v6f.v0C:this.moveDown(t2j,c2j);}};D2j.prototype.moveLeft=function(e2j,a2j){void v6f.F8C===a2j&&(a2j=!v6f.O8C);v6f.x4C!=this.from&&this.moveHorizontal(-v6f.O8C,a2j);};D2j.prototype.moveRight=function(R2j,h2j){void v6f.F8C===h2j&&(h2j=!v6f.O8C);v6f.x4C!=this.from&&this.moveHorizontal(v6f.O8C,h2j);};D2j.prototype.moveUp=function(Q2j,A2j){void v6f.F8C===A2j&&(A2j=!v6f.O8C);v6f.x4C!=this.from&&this.moveVertical(-v6f.O8C,A2j);};D2j.prototype.moveDown=function(f2j,k2j){void v6f.F8C===k2j&&(k2j=!v6f.O8C);v6f.x4C!=this.from&&this.moveVertical(v6f.O8C,k2j);};D2j.prototype.moveHorizontal=function(Z2j,E2j){void v6f.F8C===E2j&&(E2j=!v6f.O8C);var i2j=E2j?this.to.x:this.from.x,H2j=E2j?this.to.x:this.from.x,i2j=Math.max(v6f.F8C,Math.min(i2j+Z2j,this.coords.maxColsCount-v6f.O8C)),J2j=v6f.F8C;i2j<this.coords.firstDataColIdx?(J2j=Math.max(i2j,this.coords.frozenColsCount),this.gridLayout.scrollToColumn(J2j)):i2j>=this.coords.getBoundRight()-v6f.O8C&&(J2j=this.coords.firstDataColIdx+(i2j-H2j),this.gridLayout.scrollToColumn(J2j));H2j=E2j?this.to.y:this.from.y;J2j=i2j;this.select(new u2j(E2j?this.from.x:i2j,this.from.y),new u2j(J2j,H2j));};D2j.prototype.moveVertical=function(T2j,S2j){void v6f.F8C===S2j&&(S2j=!v6f.O8C);var y2j=S2j?this.to.y:this.from.y,I2j=S2j?this.to.y:this.from.y,y2j=Math.max(v6f.F8C,Math.min(y2j+T2j,this.coords.maxRowsCount-v6f.O8C)),d2j=v6f.F8C;y2j<this.coords.firstDataRowIdx?(d2j=Math.max(y2j,this.coords.frozenRowsCount),this.gridLayout.scrollToRow(d2j)):y2j>=this.coords.getBoundBottom()-v6f.O8C&&(d2j=this.coords.firstDataRowIdx+(y2j-I2j),this.gridLayout.scrollToRow(d2j));I2j=y2j;d2j=S2j?this.to.x:this.from.x;this.select(new u2j(this.from.x,S2j?this.from.y:y2j),new u2j(d2j,I2j));};D2j.prototype.onKeyDown=function(m2j){var D0C=65;if(v6f.x4C!=this.keyboardListener&&(this._isFocused||this.keyboardListener.isFocused)){var w2j=m2j.ctrlKey||m2j.metaKey;switch(m2j.keyCode){case v6f.m8C:w2j||this.gridLayout.triggerCellAction(this.gridLayout.selectedCell);break;case D0C:w2j&&this.selectAll();break;case v6f.C8C:case v6f.P8C:case v6f.U0C:case v6f.v0C:this.move(m2j.keyCode,m2j.ctrlKey,m2j.shiftKey);}!w2j||m2j.altKey||m2j.shiftKey||this.keyboardListener.isFocused||this.copy();}};D2j.prototype.copy=function(){if(v6f.x4C!=this.from&&v6f.x4C!=this.to&&!(v9VV.x1Q===typeof window.getSelection&&v6f.F8C<window.getSelection().toString().length||!utils.nullOrUndefined(document.selection)&&v6f.F8C<document.selection.createRange().text.length)){var C2j=v6f.C4C,r2j,v3j=Math.min(this.from.x,this.to.x),W3j=Math.max(this.from.x,this.to.x);r2j=Math.min(this.from.y,this.to.y);for(var G3j=Math.max(this.from.y,this.to.y),U3j=r2j;U3j<=G3j;U3j++){for(var P2j=v3j;P2j<=W3j;P2j++)P2j>v3j&&(C2j+=v9VV.i7C),r2j=this.gridLayout.getCell(U3j,P2j,!v6f.F8C),v6f.x4C!=r2j&&(r2j.isFrozen&&P2j>r2j.colIdx||(C2j+=r2j.label));U3j<G3j&&(C2j+=v9VV.m6C);}v6f.F8C<C2j.length&&this.keyboardListener.copy(C2j);}};return D2j;}();z2j.SelectionManager=N2j;var u2j=function(){V3j.prototype.equals=function(X3j){return X3j.x==this.x&&X3j.y==this.y;};function V3j(l3j,p3j){var e7K=U9VV;void e7K.F8C===l3j&&(l3j=e7K.F8C);void e7K.F8C===p3j&&(p3j=e7K.F8C);this.x=l3j;this.y=p3j;}return V3j;}();z2j.Point=u2j;}(q2j.sheet||(q2j.sheet={})));}(Y2j.grid||(Y2j.grid={})));}(B2j._view||(B2j._view={})));}(pivot||(pivot={})));(function(B3j){(function(Y3j){(function(q3j){(function(u3j){var z3j=function(D3j){var f4Y="wdr-clear-border";var L4Y="started";__extends(N3j,D3j);Object.defineProperty(N3j.prototype,L4Y,{get:function(){return this._started;},set:function(M3j){this._started=M3j;this.started||(this.gridLayout.element.removeEventListener(U9VV.e4C,this.mouseEventHandler),document.removeEventListener(U9VV.e4C,this.mouseLeaveHandler));},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});N3j.prototype.onMouseEvent=function(g3j){var R7K=U9VV;var b3j=g3j.target;if(!(b3j.classList.contains(q3j.vo.GridStyleName.FILTER_HEADER)||b3j.classList.contains(q3j.vo.GridStyleName.FILTER_ICON)||b3j.classList.contains(q3j.vo.GridStyleName.FILTERED_ICON)||R7K.x4C!=uicontrols.UIElement.convert(b3j).closest(W9VV.a4Y))){var j3j=this.gridLayout.getOffset(),b3j=g3j.clientX-j3j.left,j3j=g3j.clientY-j3j.top;if(!(b3j>this.coords.availableWidth||j3j>this.coords.gridStartY+this.coords.availableHeight||(j3j=this.coords.getRowIdxByRelativePosition(j3j,this.gridLayout.isSmooth),b3j=this.coords.getColIdxByRelativePosition(b3j,this.gridLayout.isSmooth),isNaN(j3j)||isNaN(b3j))))switch(g3j.type){case R7K.f4C:this.onMouseDown(j3j,b3j);break;case R7K.e4C:this.onMouseMove(j3j,b3j);break;case R7K.R4C:this.onMouseUp(j3j,b3j);}}};N3j.prototype.onMouseLeave=function(o3j){var n3j=uicontrols.UIElement.convert(this.gridLayout.element),t3j=o3j.clientX;o3j=o3j.clientY;(t3j<n3j.left||o3j<n3j.top||t3j>n3j.left+this.gridLayout.width||o3j>n3j.top+this.gridLayout.height)&&this.stopSelection();};N3j.prototype.select=function(c3j,L3j,a3j,e3j){this.started=!U9VV.O8C;this.manager.select(new u3j.Point(L3j,c3j),new u3j.Point(e3j,a3j));};function N3j(K3j,s3j){var k7K=U9VV;var A4Y="wdr-clear-border-top";var R4Y="wdr-clear-border-left";var h4Y="wdr-sheet-selection-header";var e4Y="wdr-sheet-selection-canvas";var x3j=D3j.call(this,k7K.r4C,e4Y)||this;x3j._started=!k7K.O8C;x3j.allowed=!k7K.F8C;x3j.mouseEventHandler=function(F3j){return x3j.onMouseEvent(F3j);};x3j.mouseLeaveHandler=function(O3j){return x3j.onMouseLeave(O3j);};x3j.manager=K3j;x3j.gridLayout=s3j;x3j.coords=x3j.gridLayout.coords;x3j.colOverlay=new uicontrols.UIElement(k7K.r4C,e4Y);x3j.colOverlay.addClass(h4Y);x3j.colOverlay.hide();x3j.gridLayout.addChild(x3j.colOverlay);x3j.rowOverlay=new uicontrols.UIElement(k7K.r4C,e4Y);x3j.rowOverlay.addClass(h4Y);x3j.rowOverlay.hide();x3j.gridLayout.addChild(x3j.rowOverlay);x3j.colFix=new uicontrols.UIElement(k7K.r4C,e4Y);x3j.colFix.addClass(R4Y);x3j.colFix.hide();x3j.gridLayout.addChild(x3j.colFix);x3j.rowFix=new uicontrols.UIElement(k7K.r4C,e4Y);x3j.rowFix.addClass(A4Y);x3j.rowFix.hide();x3j.gridLayout.addChild(x3j.rowFix);x3j.gridLayout.element.addEventListener(k7K.f4C,x3j.mouseEventHandler);x3j.gridLayout.element.addEventListener(k7K.R4C,x3j.mouseEventHandler);return x3j;}N3j.prototype.stopSelection=function(){this.started=!U9VV.O8C;};N3j.prototype.onMouseDown=function(h3j,R3j){this.started=!U9VV.F8C;this.manager.select(new u3j.Point(R3j,h3j),new u3j.Point(R3j,h3j));this.gridLayout.element.addEventListener(U9VV.e4C,this.mouseEventHandler);utils.fmdocument.addEventListener(U9VV.e4C,this.mouseLeaveHandler);};N3j.prototype.onMouseUp=function(A3j,Q3j){this.started&&(this.started=!U9VV.O8C,-U9VV.O8C==A3j?this.manager.selectColumn(Q3j):-U9VV.O8C==Q3j?this.manager.selectRow(A3j):this.manager.selectTo(new u3j.Point(Q3j,A3j)));};N3j.prototype.onMouseMove=function(k3j,f3j){this.started&&(!this.manager.to||this.manager.to.x==f3j&&this.manager.to.y==k3j||this.manager.selectTo(new u3j.Point(f3j,k3j)));};N3j.prototype.preventSelection=function(){this.started=this.allowed=!U9VV.O8C;};N3j.prototype.allowSelection=function(){this.allowed=!U9VV.F8C;this.started=!U9VV.O8C;};N3j.prototype.redraw=function(){var Z7K=U9VV;var k4Y="wdr-clear-border-right";var Q4Y="wdr-clear-border-bottom";this.colOverlay.hide();this.rowOverlay.hide();this.colFix.hide();this.rowFix.hide();-Z7K.O8C!=this.manager.row&&this.drawSelectedRow(this.manager.row);-Z7K.O8C!=this.manager.column&&this.drawSelectedColumn(this.manager.column);if(Z7K.x4C!=this.manager.from&&this.allowed){var T3j=Math.min(this.manager.from.x,this.manager.to.x),d3j=Math.min(this.manager.from.y,this.manager.to.y),S3j=Math.max(this.manager.from.x,this.manager.to.x),I3j=Math.max(this.manager.from.y,this.manager.to.y);B3j.model._options.OptionsManager.showHeaders&&this.drawHeaderSelection(T3j,S3j,d3j,I3j);var w3j=this.coords.availableWidth,r3j=this.coords.gridStartY+this.coords.availableHeight,E3j=Math.max(this.coords.gridStartY,this.coords.getRelativeRowY(d3j,this.gridLayout.isSmooth)-Z7K.O8C),H3j=this.coords.getRelativeRowY(I3j+Z7K.O8C,this.gridLayout.isSmooth),i3j=Math.min(r3j,H3j),Z3j=Math.max(Z7K.F8C,this.coords.getRelativeColX(T3j,this.gridLayout.isSmooth)-Z7K.O8C),y3j=this.coords.getRelativeColX(S3j+Z7K.O8C,this.gridLayout.isSmooth),J3j=Math.min(w3j,y3j),C3j=i3j-E3j,m3j=J3j-Z3j;Z7K.M8C>=m3j||Z7K.M8C>=C3j?this.hide():Z3j<w3j&&E3j<r3j?(this.show(),this.top=E3j,this.left=Z3j,this.width=m3j,this.height=C3j,d3j<this.coords.frozenRowsCount&&y3j>J3j&&(this.colFix.top=E3j,this.colFix.left=J3j,this.colFix.width=Math.min(y3j,this.coords.layoutWidth)-J3j,this.colFix.height=Math.min(i3j,this.coords.gridStartY+this.coords.colHeadersHeight)-E3j,this.colFix.toggleClass(Q4Y,I3j>this.coords.frozenRowsCount),this.colFix.toggleClass(k4Y,y3j>this.coords.layoutWidth),this.colFix.removeClass(f4Y),this.colFix.show()),T3j<this.coords.frozenColsCount&&H3j>i3j&&(this.rowFix.top=i3j,this.rowFix.left=Z3j,this.rowFix.width=Math.min(J3j,this.coords.rowHeadersWidth)-Z3j,this.rowFix.height=Math.min(H3j,this.coords.layoutHeight)-i3j,this.rowFix.toggleClass(Q4Y,H3j>this.coords.layoutHeight),this.rowFix.toggleClass(k4Y,S3j>this.coords.frozenColsCount),this.rowFix.removeClass(f4Y),this.rowFix.show()),this.toggleClass(k4Y,y3j>J3j),this.toggleClass(Q4Y,H3j>i3j)):this.hide();}else this.hide();};N3j.prototype.drawSelectedRow=function(P3j){if(!isNaN(P3j)){var v6j=this.coords.getRelativeRowY(P3j,this.gridLayout.isSmooth);P3j=this.coords.getRelativeRowY(P3j+U9VV.O8C,this.gridLayout.isSmooth);var U6j=Math.min(this.coords.gridStartY+this.coords.availableHeight,P3j);v6j<this.coords.gridStartY+this.coords.availableHeight?(this.rowOverlay.left=U9VV.F8C,this.rowOverlay.top=v6j,this.rowOverlay.width=this.coords.availableWidth,this.rowOverlay.height=U6j-v6j,this.rowOverlay.show(),P3j>U6j&&(this.rowFix.top=U6j,this.rowFix.left=U9VV.F8C,this.rowFix.width=this.coords.rowHeadersWidth,this.rowFix.height=Math.min(P3j,this.coords.layoutHeight)-U6j,this.rowFix.addClass(f4Y),this.rowFix.show())):this.rowOverlay.hide();}};N3j.prototype.drawSelectedColumn=function(G6j){if(!isNaN(G6j)){var V6j=this.coords.getRelativeColX(G6j,this.gridLayout.isSmooth);G6j=this.coords.getRelativeColX(G6j+U9VV.O8C,this.gridLayout.isSmooth);var W6j=Math.min(this.coords.availableWidth,G6j);V6j<this.coords.availableWidth?(this.colOverlay.left=V6j,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=W6j-V6j,this.colOverlay.height=this.coords.availableHeight,this.colOverlay.show(),G6j>W6j&&(this.colFix.top=this.coords.gridStartY,this.colFix.left=W6j,this.colFix.width=Math.min(G6j,this.coords.layoutWidth)-W6j,this.colFix.height=this.coords.colHeadersHeight,this.colFix.addClass(f4Y),this.colFix.show())):this.colOverlay.hide();}};N3j.prototype.drawHeaderSelection=function(l6j,X6j,p6j,B6j){l6j=this.coords.getRelativeColX(l6j,this.gridLayout.isSmooth);X6j=Math.min(this.coords.layoutWidth,this.coords.getRelativeColX(X6j+U9VV.O8C,this.gridLayout.isSmooth));l6j<this.coords.layoutWidth?(this.colOverlay.left=l6j,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=X6j-l6j,this.colOverlay.height=this.coords.getSheetHeaderHeight(),this.colOverlay.show()):this.colOverlay.hide();p6j=this.coords.getRelativeRowY(p6j,this.gridLayout.isSmooth);B6j=Math.min(this.coords.layoutHeight,this.coords.getRelativeRowY(B6j+U9VV.O8C,this.gridLayout.isSmooth));this.rowOverlay.left=U9VV.F8C;this.rowOverlay.top=p6j;this.rowOverlay.width=this.coords.getSheetHeaderWidth();this.rowOverlay.height=B6j-p6j;this.rowOverlay.show();};return N3j;}(uicontrols.UIElement);u3j.SelectionCanvas=z3j;}(q3j.sheet||(q3j.sheet={})));}(Y3j.grid||(Y3j.grid={})));}(B3j._view||(B3j._view={})));}(pivot||(pivot={})));var ScrollPane=function(q6j){var a8x=U9VV;var m4Y="verticalScroll";var T4Y="horizontalScroll";var I4Y="placeholder";var S4Y="content";var d4Y="scrollTop";var y4Y="scrollLeft";var Z4Y="contentHeight";var H4Y="contentWidth";__extends(Y6j,q6j);function Y6j(){var E4Y="wdr-scroll-content";var J4Y="wdr-scroll-placeholder";var i4Y="wdr-scroll-pane";var u6j=q6j.call(this,a8x.r4C,i4Y)||this;u6j._placeholder=new uicontrols.UIElement(a8x.r4C,J4Y);u6j._content=new uicontrols.UIElement(a8x.r4C,E4Y);u6j.addChild(u6j._content);u6j.addChild(u6j._placeholder);return u6j;}Object.defineProperty(Y6j.prototype,H4Y,{get:function(){return this._placeholder.width;},set:function(z6j){this._placeholder.width=z6j;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,Z4Y,{get:function(){return this._placeholder.height;},set:function(N6j){this._placeholder.height=N6j;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,y4Y,{get:function(){return this.element.scrollLeft;},set:function(D6j){this.element.scrollLeft=D6j;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,d4Y,{get:function(){return this.element.scrollTop;},set:function(x6j){this.element.scrollTop=x6j;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,S4Y,{get:function(){return this._content;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,I4Y,{get:function(){return this._placeholder;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,T4Y,{set:function(K6j){this.element.style.overflowX=K6j?v9VV.V6C:G9VV.b5B;},enumerable:!a8x.F8C,configurable:!a8x.F8C});Object.defineProperty(Y6j.prototype,m4Y,{set:function(s6j){this.element.style.overflowY=s6j?v9VV.V6C:G9VV.b5B;},enumerable:!a8x.F8C,configurable:!a8x.F8C});return Y6j;}(uicontrols.UIElement);(function(F6j){(function(O6j){(function(M6j){(function(b6j){var j6j=function(o6j){__extends(g6j,o6j);g6j.prototype.draw=function(){var I7K=U9VV;var a6j=[],c6j=new HtmlNodeWrapper();if(F6j.model._options.OptionsManager.showHeaders){c6j.tag=I7K.r4C;c6j.addClass(W9VV.w4Y);c6j.text+=this.createSheetHeaderCell().toHtml();for(var L6j=I7K.F8C;L6j<this._coords.frozenColsCount;L6j++)c6j.text+=this.createColumnSheetHeaderCell(L6j).toHtml();a6j.push(c6j.toHtml());for(L6j=I7K.F8C;L6j<this._coords.frozenRowsCount;L6j++)c6j.text=this.createRowSheetHeaderCell(L6j).toHtml(),a6j.push(c6j.toHtml());}a6j=a6j.join(I7K.C4C);this.element.innerHTML!=a6j&&this.html(a6j);};function g6j(t6j){var n6j=o6j.call(this,t6j,U9VV.x4C)||this;n6j._coords=t6j;return n6j;}g6j.prototype.clear=function(){};return g6j;}(b6j.AbstractSheet);b6j.SheetHeaders=j6j;}(M6j.sheet||(M6j.sheet={})));}(O6j.grid||(O6j.grid={})));}(F6j._view||(F6j._view={})));}(pivot||(pivot={})));var HtmlNode=function(){e6j.prototype.addClass=function(R6j){U9VV.F8C>this.classes.indexOf(R6j)&&this.classes.push(R6j);};function e6j(h6j){void U9VV.F8C===h6j&&(h6j=U9VV.r4C);this.text=this.tag=U9VV.C4C;this.style={};this.attr={};this.classes=[];this.tag=h6j;}e6j.prototype.toHtml=function(){var w0x=U9VV;var m0x=v9VV;var v2Y="</";var U2Y='="';var P4Y=' class="';var C4Y=';"';var r4Y=' style="';var A6j=W9VV.O9Y+this.tag,Q6j=[],k6j;for(k6j in this.style)Q6j.push(k6j+m0x.t7C+this.style[k6j]);w0x.F8C<Q6j.length&&(A6j+=r4Y+Q6j.join(m0x.F9Q)+C4Y);w0x.F8C<this.classes.length&&(A6j+=P4Y+this.classes.join(w0x.s4C)+m0x.U9Q);for(var f6j in this.attr)A6j+=w0x.s4C+f6j+U2Y+this.attr[f6j]+m0x.U9Q;return A6j+=W9VV.M9Y+(this.text||w0x.C4C)+v2Y+this.tag+W9VV.M9Y;};return e6j;}(),HtmlNodeWrapper=function(){var e8x=U9VV;var l2Y="attr";var V2Y="style";var W2Y="tag";var G2Y="node";Object.defineProperty(i6j.prototype,G2Y,{get:function(){return this._node;},enumerable:!e8x.F8C,configurable:!e8x.F8C});function i6j(J6j){void e8x.F8C===J6j&&(J6j=e8x.r4C);this._node=new HtmlNode();this.clear();this.tag=J6j;}Object.defineProperty(i6j.prototype,W2Y,{get:function(){return this.node.tag;},set:function(E6j){this.node.tag=E6j;},enumerable:!e8x.F8C,configurable:!e8x.F8C});Object.defineProperty(i6j.prototype,e8x.p3C,{get:function(){return this.node.text;},set:function(H6j){this.node.text=H6j;},enumerable:!e8x.F8C,configurable:!e8x.F8C});Object.defineProperty(i6j.prototype,V2Y,{get:function(){return this.node.style;},set:function(Z6j){this.node.style=Z6j;},enumerable:!e8x.F8C,configurable:!e8x.F8C});Object.defineProperty(i6j.prototype,l2Y,{get:function(){return this.node.attr;},set:function(y6j){this.node.attr=y6j;},enumerable:!e8x.F8C,configurable:!e8x.F8C});i6j.prototype.addClass=function(d6j){this.node.addClass(d6j);};i6j.prototype.clear=function(){this.tag=e8x.r4C;this.text=e8x.C4C;this.style={};this.attr={};this.node.classes=[];};i6j.prototype.toHtml=function(I6j){void e8x.F8C===I6j&&(I6j=!e8x.F8C);var S6j=this.node.toHtml();I6j&&this.clear();e8x.x4C!=pivot._view.grid.vo.GridCell.customizeCellFunction&&(S6j=pivot.model.XSSCheck.valid(S6j)?S6j:pivot.model.XSSCheck.validate(S6j));return S6j;};return i6j;}();(function(T6j){(function(m6j){(function(w6j){(function(r6j){var C6j=function(U5j){__extends(P6j,U5j);function P6j(){return U9VV.x4C!==U5j&&U5j.apply(this,arguments)||this;}P6j.prototype.draw=function(){var r7K=U9VV;this.setContentSize();var v5j=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(v5j.bottom)||this._coords.isOnColEdge(v5j.right)||!this._bounds.contains(v5j)){var G5j=v5j.clone();r7K.F8C!=this._coords.maxColsCount&&(G5j.right=Math.min(G5j.right,this._coords.maxColsCount));r7K.F8C!=this._coords.maxRowsCount&&(G5j.bottom=Math.min(G5j.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(G5j)||!this._coords.canDrawAll&&(v5j.left>this._coords.frozenColsCount&&v5j.left<=this._boundsSmooth.left||v5j.top>this._coords.frozenRowsCount&&v5j.top<=this._boundsSmooth.top)){this._coords.isOnColEdge(v5j.right)&&(v5j.left=Math.max(v5j.left-r7K.O8C,this._coords.frozenColsCount));this._coords.isOnRowEdge(v5j.bottom)&&(v5j.top=Math.max(v5j.top-r7K.O8C,this._coords.frozenRowsCount));for(var G5j=[],W5j=new HtmlNodeWrapper(),V5j=v5j.top;V5j<v5j.bottom;V5j++){W5j.tag=r7K.r4C;W5j.addClass(W9VV.w4Y);W5j.attr[W9VV.l4Y]=V5j;for(var l5j=v5j.left;l5j<v5j.right;++l5j)W5j.text+=this.createCell(V5j,l5j).toHtml();G5j.push(W5j.toHtml());}this.scrollPane.placeholder.html(r7K.C4C);this.scrollPane.placeholder.visible=this._coords.hasHorizontalScroll||this._coords.hasVerticalScroll;this.scrollPane.content.html(G5j.join(r7K.C4C));this.scrollPane.content.show();G5j.length=r7K.F8C;this.isSmooth=!r7K.O8C;this._bounds.set(v5j);}}};P6j.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};P6j.prototype.drawSmooth=function(){var P7K=U9VV;var p5j=this.getBounds(!P7K.F8C);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(p5j))){this._boundsSmooth=p5j;for(var p5j=[],X5j=this._boundsSmooth.top;X5j<this._boundsSmooth.bottom;X5j++){this._coords.getRowHeight(X5j);for(var B5j=this._boundsSmooth.left;B5j<this._boundsSmooth.right;++B5j)p5j.push(this.createCell(X5j,B5j,!P7K.F8C).toHtml());}this.scrollPane.placeholder.html(p5j.join(P7K.C4C));this.scrollPane.placeholder.show();this.scrollPane.content.hide();this.scrollPane.content.html(P7K.C4C);p5j=this.getBounds();this.isSmooth||this._coords.isOnRowEdge(p5j.bottom)||(this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!P7K.O8C));this.isSmooth||this._coords.isOnColEdge(p5j.right)||(this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!P7K.O8C));this.isSmooth=!P7K.F8C;}};P6j.prototype.getBounds=function(Y5j){void U9VV.F8C===Y5j&&(Y5j=!U9VV.O8C);var q5j=new r6j.Bounds();q5j.top=this._coords.getBoundTop(Y5j);q5j.left=this._coords.getBoundLeft(Y5j);q5j.bottom=this._coords.getBoundBottom(Y5j);q5j.right=this._coords.getBoundRight(Y5j);return q5j;};P6j.prototype.setContentSize=function(){this.scrollPane.contentWidth=Math.max(this._coords.dataContentWidth,this._coords.dataWidth-this._coords.scrollBarWidth);this.scrollPane.contentHeight=Math.max(this._coords.dataContentHeight,this._coords.dataHeight-this._coords.scrollBarHeight);this.scrollPane.content.right=this._coords.scrollBarWidth;this.scrollPane.content.bottom=this._coords.scrollBarHeight;this.scrollPane.horizontalScroll=this._coords.hasHorizontalScroll;this.scrollPane.verticalScroll=this._coords.hasVerticalScroll;};return P6j;}(r6j.BaseSheet);r6j.DataSheet=C6j;}(w6j.sheet||(w6j.sheet={})));}(m6j.grid||(m6j.grid={})));}(T6j._view||(T6j._view={})));}(pivot||(pivot={})));(function(u5j){(function(z5j){(function(N5j){(function(D5j){var x5j=function(s5j){__extends(K5j,s5j);K5j.prototype.draw=function(){var v9R=U9VV;this.setContentSize();var F5j=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(F5j.bottom)||!this._bounds.contains(F5j)){var O5j=F5j.clone();v9R.F8C!=this._coords.maxRowsCount&&(O5j.bottom=Math.min(O5j.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(O5j)){this._coords.isOnRowEdge(F5j.bottom)&&(F5j.top=Math.max(F5j.top-v9R.O8C,this._coords.frozenRowsCount));for(var O5j=[],M5j=new HtmlNodeWrapper(),b5j=F5j.top;b5j<F5j.bottom;b5j++){M5j.tag=v9R.r4C;M5j.addClass(W9VV.w4Y);M5j.attr[W9VV.l4Y]=b5j;u5j.model._options.OptionsManager.showHeaders&&(M5j.text+=this.createRowSheetHeaderCell(b5j).toHtml());for(var j5j=F5j.left;j5j<F5j.right;++j5j)M5j.text+=this.createCell(b5j,j5j).toHtml();O5j.push(M5j.toHtml());}this.scrollPane.placeholder.html(v9R.C4C);this.scrollPane.placeholder.hide();this.scrollPane.content.html(O5j.join(v9R.C4C));this.scrollPane.content.show();O5j.length=v9R.F8C;this._isSmooth=!v9R.O8C;this._bounds.set(F5j);}}};K5j.prototype.createRowSheetHeaderCell=function(o5j,g5j){void U9VV.F8C===g5j&&(g5j=!U9VV.O8C);this.cell=s5j.prototype.createRowSheetHeaderCell.call(this,o5j,g5j);g5j||(this.cell.style[W9VV.z4Y]=this.cell.style.height,delete this.cell.style.height,delete this.cell.style[W9VV.K4Y]);return this.cell;};K5j.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};K5j.prototype.getBounds=function(t5j){void U9VV.F8C===t5j&&(t5j=!U9VV.O8C);var n5j=new D5j.Bounds();n5j.top=this._coords.getBoundTop(t5j);n5j.left=U9VV.F8C;n5j.bottom=this._coords.getBoundBottom(t5j);n5j.right=this._coords.frozenColsCount;t5j&&n5j.bottom==this._coords.maxRowsCount&&n5j.bottom++;return n5j;};K5j.prototype.drawSmooth=function(){var p9R=U9VV;var c5j=this.getBounds(!p9R.F8C);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(c5j))){this._boundsSmooth=c5j;for(var c5j=[],L5j=this._boundsSmooth.top;L5j<this._boundsSmooth.bottom;L5j++){u5j.model._options.OptionsManager.showHeaders&&c5j.push(this.createRowSheetHeaderCell(L5j,!p9R.F8C).toHtml());for(var a5j=this._boundsSmooth.left;a5j<this._boundsSmooth.right;++a5j)c5j.push(this.createCell(L5j,a5j,!p9R.F8C).toHtml());}this.scrollPane.placeholder.html(c5j.join(p9R.C4C));this.scrollPane.content.hide();this.scrollPane.content.html(p9R.C4C);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnRowEdge(this._bounds.bottom)?this._scrollPane.scrollTop=this._coords.scrollTop:this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!p9R.O8C);this.isSmooth=!p9R.F8C;}};K5j.prototype.setContentSize=function(){this.scrollPane.contentHeight=this._coords.dataContentHeight+this._coords.scrollBarHeight;this.scrollPane.content.bottom=U9VV.F8C;this.scrollPane.scrollTop=this._coords.scrollTop;};function K5j(){return U9VV.x4C!==s5j&&s5j.apply(this,arguments)||this;}K5j.prototype.getCellByPosition=function(A5j,Q5j){var Y9R=U9VV;var h5j=this._coords.getColIndexAtPosition(A5j,!Y9R.F8C)-Y9R.O8C,R5j=this._coords.getRowIndexAtPosition(Q5j)-Y9R.O8C,e5j=this._getDataFunc(R5j,h5j);Y9R.x4C==e5j&&(e5j=new N5j.vo.GridCell(),e5j.rowIdx=R5j,e5j.colIdx=h5j);return e5j;};return K5j;}(D5j.BaseSheet);D5j.RowHeadersSheet=x5j;}(N5j.sheet||(N5j.sheet={})));}(z5j.grid||(z5j.grid={})));}(u5j._view||(u5j._view={})));}(pivot||(pivot={})));(function(k5j){(function(f5j){(function(i5j){(function(J5j){var E5j=function(Z5j){__extends(H5j,Z5j);H5j.prototype.draw=function(){var q9R=U9VV;utils.fmClearTimeout(this._bgTimeout);this.setContentSize();var y5j=this.getBounds();if(this.isSmooth||this._coords.isOnColEdge(y5j.right)||!this._bounds.contains(y5j)){var d5j=y5j.clone();q9R.F8C!=this._coords.maxColsCount&&(d5j.right=Math.min(d5j.right,this._coords.maxColsCount));if(!this.isSmooth||!this._boundsSmooth.contains(d5j)){this._coords.isOnColEdge(y5j.right)&&(y5j.left=Math.max(y5j.left-q9R.O8C,this._coords.frozenColsCount));d5j=[];k5j.model._options.OptionsManager.showHeaders&&d5j.push(this.createSheetHeaders(y5j));for(var S5j=new HtmlNodeWrapper(),I5j=y5j.top;I5j<y5j.bottom;I5j++){S5j.tag=q9R.r4C;S5j.addClass(W9VV.w4Y);S5j.attr[W9VV.l4Y]=I5j;for(var T5j=y5j.left;T5j<y5j.right;++T5j)S5j.text+=this.createCell(I5j,T5j).toHtml();d5j.push(S5j.toHtml());}this.scrollPane.placeholder.html(q9R.C4C);this.scrollPane.placeholder.hide();this.scrollPane.content.html(d5j.join(q9R.C4C));this.scrollPane.content.show();d5j.length=q9R.F8C;this.isSmooth=!q9R.O8C;this._bounds.set(y5j);}}};H5j.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);};H5j.prototype.getBounds=function(w5j){void U9VV.F8C===w5j&&(w5j=!U9VV.O8C);var m5j=new J5j.Bounds();m5j.top=U9VV.F8C;m5j.left=this._coords.getBoundLeft(w5j);m5j.bottom=this._coords.frozenRowsCount;m5j.right=this._coords.getBoundRight(w5j);w5j&&m5j.right==this._coords.maxColsCount&&m5j.right++;return m5j;};function H5j(){return U9VV.x4C!==Z5j&&Z5j.apply(this,arguments)||this;}H5j.prototype.drawSmooth=function(){var D9R=U9VV;var C5j=this.getBounds(!D9R.F8C);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(C5j))){this._boundsSmooth=C5j;utils.fmClearTimeout(this._bgTimeout);for(var C5j=[],r5j=this._boundsSmooth.top;r5j<this._boundsSmooth.bottom;r5j++)for(var P5j=this._boundsSmooth.left;P5j<this._boundsSmooth.right;++P5j)C5j.push(this.createCell(r5j,P5j,!D9R.F8C).toHtml());r5j=D9R.C4C;k5j.model._options.OptionsManager.showHeaders&&(r5j+=this.createSheetHeaders(this._boundsSmooth,!D9R.F8C));r5j+=C5j.join(D9R.C4C);this.scrollPane.placeholder.html(r5j);this.scrollPane.content.hide();this.scrollPane.content.html(D9R.C4C);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnColEdge(this._bounds.right)?this.scrollPane.scrollLeft=this._coords.scrollLeft:this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!D9R.O8C);this.isSmooth=!D9R.F8C;}};H5j.prototype.setContentSize=function(){this.scrollPane.contentWidth=this._coords.dataContentWidth+this._coords.scrollBarWidth;this.scrollPane.content.right=U9VV.F8C;};H5j.prototype.backgroundProcess=function(){var K9R=U9VV;var W7j=this;utils.fmClearTimeout(this._bgTimeout);for(var V7j=[],p7j=this._coords.getColIndicesWithUndefinedWidth(K9R.V0C),v7j=K9R.F8C;v7j<this._coords.frozenRowsCount;v7j++)for(var l7j=K9R.F8C;l7j<p7j.length;l7j++){var X7j=p7j[l7j];this.isCellEmpty(v7j,X7j)||V7j.push(this.createCell(v7j,X7j,!K9R.F8C).toHtml());}if(K9R.F8C<V7j.length){var U7j=this._scrollPane.placeholder.element,G7j=U7j.children.length,B7j=U7j.innerHTML;U7j.innerHTML=B7j+V7j.join();this.requestAnimationFrame(function(){for(G7j;G7j<U7j.children.length;G7j++)W7j.updateColWidth(U7j.children.item(G7j));U7j.innerHTML=B7j;W7j._bgTimeout=utils.fmSetTimeout(function(){return W7j.backgroundProcess();},K9R.m0C);});}};H5j.prototype.createSheetHeaders=function(z7j,u7j){var F9R=U9VV;void F9R.F8C===u7j&&(u7j=!F9R.O8C);for(var q7j=F9R.C4C,Y7j=z7j.left;Y7j<z7j.right;++Y7j)q7j+=this.createColumnSheetHeaderCell(Y7j,u7j).toHtml();u7j||(Y7j=new HtmlNodeWrapper(),Y7j.tag=F9R.r4C,Y7j.addClass(W9VV.w4Y),Y7j.text=q7j,q7j=Y7j.toHtml());return q7j;};H5j.prototype.getCellByPosition=function(K7j,s7j){var M9R=U9VV;var D7j=this._coords.getColIndexAtPosition(K7j)-M9R.O8C,x7j=this._coords.getRowIndexAtPosition(s7j,!M9R.F8C)-M9R.O8C,N7j=this._getDataFunc(x7j,D7j);M9R.x4C==N7j&&(N7j=new i5j.vo.GridCell(),N7j.rowIdx=x7j,N7j.colIdx=D7j);return N7j;};H5j.prototype.clearDrawings=function(){utils.fmClearTimeout(this._bgTimeout);};H5j.prototype.dispose=function(){this.clearDrawings();Z5j.prototype.dispose.call(this);};return H5j;}(J5j.BaseSheet);J5j.ColumnHeadersSheet=E5j;}(i5j.sheet||(i5j.sheet={})));}(f5j.grid||(f5j.grid={})));}(k5j._view||(k5j._view={})));}(pivot||(pivot={})));(function(F7j){(function(O7j){(function(M7j){(function(b7j){var j7j=function(o7j){var x6K=U9VV;var o2Y="wdr-header-drop-indicator";var M2Y="selectionManager";var O2Y="dataProvider";var K2Y="getDataFunction";var x2Y="selectedCell";var D2Y="coords";__extends(g7j,o7j);g7j.prototype.setControls=function(){this.createTitle();this.createSheetHeaders();this.createColsSheet();this.createRowsSheet();this.createDataSheet();this.createResizeHandles();};g7j.prototype.createTitle=function(){var p2Y="wdr-grid-title";this._title=new uicontrols.UILabel();this._title.container.display=x6K.R2C;this._title.setId(p2Y);this._title.addClass(W9VV.k8Y);this._title.setSelectable(!x6K.F8C);this._title.container.css(x6K.F3C,v9VV.J5C);this._title.hide();this.addComponent(this._title);};g7j.prototype.createSheetHeaders=function(){var X2Y="wdr-sheet-headers";this._sheetHeaders=new b7j.SheetHeaders(this._coords);this._sheetHeaders.id=X2Y;this.addChild(this._sheetHeaders);};g7j.prototype.createColsSheet=function(){var a7j=this;this._colsSheet=new b7j.ColumnHeadersSheet(this._coords,function(e7j,h7j){return a7j.getCell(e7j,h7j);});this._colsSheet.id=W9VV.B2Y;this._colsSheet.scrollPane.element.addEventListener(W9VV.Y2Y,this.colsScrollHandler);this._colsSheet.addEventListener(M7j.GridEvent.MOUSE_CLICK,function(R7j){return a7j.onClick(R7j);});this.addChild(this._colsSheet);};g7j.prototype.createRowsSheet=function(){var q2Y="wdr-rows-sheet";var A7j=this;this._rowsSheet=new b7j.RowHeadersSheet(this._coords,function(Q7j,k7j){return A7j.getCell(Q7j,k7j);});this._rowsSheet.id=q2Y;this._rowsSheet.scrollPane.element.addEventListener(W9VV.Y2Y,this.rowsScrollHandler);this._rowsSheet.addEventListener(M7j.GridEvent.MOUSE_CLICK,function(f7j){return A7j.onClick(f7j);});this.addChild(this._rowsSheet);};g7j.prototype.createDataSheet=function(){var u2Y="wdr-data-sheet";var i7j=this;this._dataSheet=new b7j.DataSheet(this._coords,function(J7j,E7j){return i7j.getCell(J7j,E7j);});this._dataSheet.id=u2Y;this._dataSheet.scrollPane.element.addEventListener(v9VV.V6C,this.dataScrollHandler,!x6K.F8C);this._dataSheet.addEventListener(b7j.BaseSheet.EVENT_SWITCHED_TO_SIMPLE,function(H7j){return i7j.onModeSwitched(H7j);});this._dataSheet.addEventListener(b7j.BaseSheet.EVENT_SWITCHED_TO_SMOOTH,function(Z7j){return i7j.onModeSwitched(Z7j);});this._dataSheet.addEventListener(M7j.GridEvent.MOUSE_CLICK,function(y7j){return i7j.onClick(y7j);});this.addChild(this._dataSheet);};g7j.prototype.createResizeHandles=function(){var d7j=this;this._colResizeHandles=new b7j.ColumnResizeHandles(this);this._colResizeHandles.id=W9VV.z2Y;this._colResizeHandles.addEventListener(M7j.GridEvent.RESIZE_COLUMN,function(S7j){return d7j.onColResize(S7j);});this.addChild(this._colResizeHandles);this._rowResizeHandles=new b7j.RowResizeHandles(this);this._rowResizeHandles.id=W9VV.N2Y;this._rowResizeHandles.addEventListener(M7j.GridEvent.RESIZE_ROW,function(I7j){return d7j.onRowResize(I7j);});this.addChild(this._rowResizeHandles);this.element.addEventListener(W9VV.a1Y,this.sheetHeaderDbClickHandler);};g7j.prototype.draw=function(){var T7j=this;this._coords.clearCache();this._dataSheet.width&&this._dataSheet.height||this.drawLayout();this._coords.setScale();this.adjustScrollPosition()||(utils.fmClearTimeout(this._drawSmoothTimer),this.disposeAnimationDraws(),this.animationDraws.push(this.requestAnimationFrame(function(){return T7j._draw();})));};g7j.prototype.disposeAnimationDraws=function(){for(;x6K.F8C<this.animationDraws.length;)this.cancelAnimationFrame(this.animationDraws.pop());};g7j.prototype._draw=function(){var m7j=this;O7j.PivotView.stage.dispatchWith(O7j.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!x6K.O8C});this._coords.applyPendingSizes();this.drawFirst();this._isHeadersDirty&&(this.calculateSizesFirst()&&(this._coords.applyPendingSizes(),this._colsSheet.clearBounds(),this._rowsSheet.clearBounds(),this.drawFirst()),this._isHeadersDirty=!x6K.O8C);this.drawLast();F7j.model.JavaScriptHandlers.getInstance().dispatch(new F7j.model.APIEvent(F7j.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!x6K.O8C}));this.animationDraws.push(this.requestAnimationFrame(function(){m7j.drawLayout();m7j._selectionManager.draw();}));this.animationDraws.push(this.requestAnimationFrame(function(){var w7j=m7j.calculateSizesAll();w7j?(m7j._colsSheet.clearBounds(),m7j._rowsSheet.clearBounds(),m7j._dataSheet.clearBounds(),m7j.draw()):m7j._coords.canDrawSmooth&&(utils.fmClearTimeout(m7j._drawSmoothTimer),m7j._drawSmoothTimer=utils.fmSetTimeout(function(){return m7j.drawSmooth();},m7j.smoothTimeout));w7j||m7j.makeFieldsDraggable();}));this.animationDraws.push(this.requestAnimationFrame(function(){O7j.PivotView.stage.dispatchWith(O7j.ViewEvent.AFTER_GRID_DRAW,m7j,{smooth:!x6K.O8C});}));};g7j.prototype.drawFirst=function(){this._coords.titleHeight=utils.nullOrEmpty(F7j.model._options.OptionsManager.gridTitle)?x6K.F8C:this._title.getHeight(!x6K.F8C);this._colsSheet.draw();this._colsSheet.adjustScrollPaneOffset();this._rowsSheet.draw();this._rowsSheet.adjustScrollPaneOffset();};g7j.prototype.drawLast=function(){this._sheetHeaders.draw();this._selectionManager.draw();this._colResizeHandles.draw();this._rowResizeHandles.draw();this._dataSheet.draw();this._dataSheet.adjustScrollPaneOffset();};g7j.prototype.calculateSizesFirst=function(){this._colsSheet.calculateSizes(!x6K.F8C);this._rowsSheet.calculateSizes(!x6K.F8C);return this._colsSheet.isDirty||this._rowsSheet.isDirty;};g7j.prototype.calculateSizesAll=function(){this._dataSheet.calculateSizes(!x6K.F8C);this._colsSheet.calculateSizes(!x6K.F8C);this._rowsSheet.calculateSizes(!x6K.F8C);return this._dataSheet.isDirty||this._colsSheet.isDirty||this._rowsSheet.isDirty;};g7j.prototype.drawSmooth=function(){var r7j=this;this.disposeAnimationDraws();this.animationDraws.push(this.requestAnimationFrame(function(){return r7j._drawSmooth();}));};g7j.prototype._drawSmooth=function(){var C7j=this;O7j.PivotView.stage.dispatchWith(O7j.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!x6K.F8C});this._colsSheet.drawSmooth();this._rowsSheet.drawSmooth();this._dataSheet.drawSmooth();F7j.model.JavaScriptHandlers.getInstance().dispatch(new F7j.model.APIEvent(F7j.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!x6K.F8C}));this.type==b7j.flat.FlatGridLayout.TYPE&&this.makeFieldsDraggable();this.animationDraws.push(this.requestAnimationFrame(function(){C7j._colsSheet.calculateSizesSmooth(!x6K.F8C);C7j._rowsSheet.calculateSizesSmooth(!x6K.F8C);C7j._dataSheet.calculateSizesSmooth(!x6K.F8C);if(C7j._colsSheet.isDirty||C7j._rowsSheet.isDirty||C7j._dataSheet.isDirty)C7j._colsSheet.clearBoundsSmooth(),C7j._rowsSheet.clearBoundsSmooth(),C7j._dataSheet.clearBoundsSmooth();C7j._coords.canDrawAll||C7j._colsSheet.backgroundProcess();}));this.animationDraws.push(this.requestAnimationFrame(function(){O7j.PivotView.stage.dispatchWith(O7j.ViewEvent.AFTER_GRID_DRAW,C7j,{smooth:!x6K.F8C});}));};g7j.prototype.onModeSwitched=function(U9z){var P7j=this;U9z.type==b7j.BaseSheet.EVENT_SWITCHED_TO_SIMPLE&&this.animationDraws.push(this.requestAnimationFrame(function(){P7j._colsSheet.switchToSimple();P7j._rowsSheet.switchToSimple();}));};g7j.prototype.onDataScroll=function(){this.setScroll(this._dataSheet.scrollPane.scrollTop,this._dataSheet.scrollPane.scrollLeft);};g7j.prototype.onRowsScroll=function(v9z){this.coords.hasVerticalScroll&&(v9z=v9z.wheelDeltaY||v9z.deltaY||v9z.wheelDelta||x6K.F8C,utils.browserVersion().isFirefox&&(v9z*=-x6K.v0C),utils.browserVersion().isMsie&&(v9z*=-x6K.O8C),isNaN(v9z)||x6K.F8C==v9z||(this._dataSheet.scrollPane.scrollTop=this._coords.scrollTop-v9z));};g7j.prototype.onColsScroll=function(G9z){this.coords.hasHorizontalScroll&&(G9z=G9z.wheelDeltaX||G9z.deltaX||x6K.F8C,utils.browserVersion().isFirefox&&(G9z*=-x6K.v0C),utils.browserVersion().isMsie&&(G9z*=-x6K.O8C),x6K.F8C!=G9z&&(this._dataSheet.scrollPane.scrollLeft=this._coords.scrollLeft-G9z));};Object.defineProperty(g7j.prototype,x6K.W3C,{get:function(){return this._type;},enumerable:!x6K.F8C,configurable:!x6K.F8C});Object.defineProperty(g7j.prototype,D2Y,{get:function(){return this._coords;},enumerable:!x6K.F8C,configurable:!x6K.F8C});g7j.prototype.drawLayout=function(){this.width=this.coords.layoutWidth;this.height=this.coords.layoutHeight;utils.nullOrEmpty(F7j.model._options.OptionsManager.gridTitle)?this._title.hide():(this._title.setLabel(F7j.model._options.OptionsManager.gridTitle),this._title.show());this._colResizeHandles.left=x6K.F8C;this._colResizeHandles.top=this.coords.gridStartY;this._colResizeHandles.right=x6K.F8C;this._colResizeHandles.height=this.coords.getSheetHeaderHeight();this._rowResizeHandles.left=x6K.F8C;this._rowResizeHandles.top=this.coords.gridStartY;this._rowResizeHandles.bottom=x6K.F8C;this._rowResizeHandles.width=this.coords.getSheetHeaderWidth();};g7j.prototype.triggerCellAction=function(W9z){x6K.x4C!=W9z&&this.dispatch(new M7j.GridClickEvent(W9z));};Object.defineProperty(g7j.prototype,x2Y,{get:function(){var V9z;x6K.x4C!=this._selectionManager.from&&(V9z=this.getCell(this._selectionManager.from.y,this._selectionManager.from.x,!x6K.F8C),x6K.x4C==V9z&&(V9z=new M7j.vo.GridCell(),V9z.rowIdx=this._selectionManager.from.y,V9z.colIdx=this._selectionManager.from.x));return V9z;},enumerable:!x6K.F8C,configurable:!x6K.F8C});g7j.prototype.getCell=function(X9z,B9z,p9z,l9z){void x6K.F8C===l9z&&(l9z=!x6K.O8C);p9z=this._dataProvider.getData(X9z,B9z,!l9z);return l9z&&x6K.x4C==p9z?this._dataProvider.getDataFrozen(X9z,B9z):p9z;};g7j.prototype.insertCell=function(q9z,u9z,z9z,Y9z){void x6K.F8C===Y9z&&(Y9z=!x6K.O8C);this._dataProvider.setData(q9z,u9z,z9z,Y9z);};function g7j(){var n7j=o7j.call(this,x6K.r4C,W9VV.j1Y)||this;n7j.smoothTimeout=v9VV.N6C;n7j.animationDraws=[];n7j._isHeadersDirty=!x6K.O8C;n7j.colsScrollHandler=function(t7j){return n7j.onColsScroll(t7j);};n7j.rowsScrollHandler=function(c7j){return n7j.onRowsScroll(c7j);};n7j.dataScrollHandler=function(){return n7j.onDataScroll();};n7j.sheetHeaderDbClickHandler=function(L7j){return n7j.onSheetHeaderDbClick(L7j);};n7j.clicks=x6K.F8C;n7j.disableSelection();n7j._coords=new b7j.GridCoords();n7j._dataProvider=new b7j.SheetDataProvider(n7j._coords);n7j._selectionManager=new b7j.SelectionManager(n7j);n7j.setControls();return n7j;}g7j.prototype.resize=function(N9z,D9z){this._coords.resize(N9z,D9z,!x6K.F8C);};Object.defineProperty(g7j.prototype,K2Y,{set:function(x9z){this._dataProvider.getDataFunction=x9z;},enumerable:!x6K.F8C,configurable:!x6K.F8C});g7j.prototype.setDataSize=function(K9z,s9z){this._coords.dataRowsCount=K9z;this._coords.dataColsCount=s9z;};g7j.prototype.freezeRows=function(F9z){F9z!=this._coords.frozenRowsCount&&(this._coords.firstDataRowIdx=F9z+(this._coords.firstDataRowIdx-this._coords.frozenRowsCount));this._coords.frozenRowsCount=F9z;};g7j.prototype.freezeColumns=function(O9z){O9z!=this._coords.frozenColsCount&&(this._coords.firstDataColIdx=O9z+(this._coords.firstDataColIdx-this._coords.frozenColsCount));this._coords.firstDataColIdx<O9z&&(this._coords.firstDataColIdx=O9z);this._coords.frozenColsCount=O9z;};g7j.prototype.clearAll=function(){this._isHeadersDirty=!x6K.F8C;this._dataProvider.reset();this._coords.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._selectionManager.clear();this._dataSheet.scrollPane.scrollTop=x6K.F8C;this._dataSheet.scrollPane.scrollLeft=x6K.F8C;this.clearDrawings();};g7j.prototype.clearData=function(){this._dataProvider.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._coords.clearCache();};g7j.prototype.clearColSizes=function(M9z){this._isHeadersDirty=!x6K.F8C;this._coords.clearColSizes(M9z);};g7j.prototype.clearRowSizes=function(b9z){this._isHeadersDirty=!x6K.F8C;this._coords.clearRowSizes(b9z);};g7j.prototype.select=function(j9z,g9z,o9z,n9z){this._selectionManager.select(new b7j.Point(g9z,j9z),new b7j.Point(n9z,o9z));};g7j.prototype.deselect=function(){this._selectionManager.clear();};g7j.prototype.clearDrawings=function(){this.disposeAnimationDraws();utils.fmClearTimeout(this._drawSmoothTimer);utils.fmClearTimeout(this.clickTimeout);this._colsSheet.clearDrawings();};g7j.prototype.dispose=function(){var s2Y="dbclick";this._dataProvider.dispose();this._selectionManager.dispose();this.clearDrawings();this._colsSheet.removeAllEventListeners();this._colsSheet.scrollPane.element&&this._colsSheet.scrollPane.element.removeEventListener(W9VV.Y2Y,this.colsScrollHandler);this._colsSheet.dispose();this._rowsSheet.removeAllEventListeners();this._rowsSheet.scrollPane.element&&this._rowsSheet.scrollPane.element.removeEventListener(W9VV.Y2Y,this.rowsScrollHandler);this._rowsSheet.dispose();this._dataSheet.removeAllEventListeners();this._dataSheet.scrollPane.element&&this._dataSheet.scrollPane.element.removeEventListener(v9VV.V6C,this.dataScrollHandler);this._dataSheet.dispose();this._colResizeHandles.removeAllEventListeners();this._colResizeHandles.dispose();this._rowResizeHandles.removeAllEventListeners();this._rowResizeHandles.dispose();this.element&&this.element.removeEventListener(s2Y,this.sheetHeaderDbClickHandler);o7j.prototype.dispose.call(this);};g7j.prototype.onClick=function(t9z){x6K.x4C!=t9z.cell&&this.dispatch(t9z);this.onClickForApi(t9z);};g7j.prototype.onFilterClick=function(c9z){this.dispatch(c9z);};g7j.prototype.onClickForApi=function(L9z){var S0C=300;var a9z=this;this.clicks++;x6K.O8C==this.clicks&&(this.clickTimeout=utils.fmSetTimeout(function(){if(x6K.O8C==a9z.clicks){if(L9z.cell){var e9z=new M7j.GridSingleDoubleClickEvent(L9z.cell,!x6K.F8C,L9z.element);a9z.dispatch(e9z);}}else L9z.cell&&(e9z=new M7j.GridSingleDoubleClickEvent(L9z.cell,!x6K.O8C,L9z.element),a9z.dispatch(e9z));a9z.clicks=x6K.F8C;},S0C));};g7j.prototype.setScroll=function(h9z,R9z){void x6K.F8C===h9z&&(h9z=NaN);void x6K.F8C===R9z&&(R9z=NaN);var A9z=!x6K.O8C;isNaN(h9z)||h9z==this.coords.scrollTop||(this.coords.scrollTop=h9z,this.coords.firstDataRowIdx=this.coords.getRowIndexAtPosition(h9z),this._rowsSheet.scrollPane.scrollTop=h9z,A9z=!x6K.F8C);isNaN(R9z)||R9z==this.coords.scrollLeft||(this.coords.scrollLeft=R9z,this.coords.firstDataColIdx=this.coords.getColIndexAtPosition(R9z),this._colsSheet.scrollPane.scrollLeft=R9z,A9z=!x6K.F8C);A9z&&this.draw();};g7j.prototype.onColResize=function(Q9z){this.dispatch(Q9z);this._coords.applyPendingSizes();x6K.F8C<Q9z.data.width?this._coords.setColWidth(Q9z.data.colIdx,Q9z.data.width,!x6K.O8C,!x6K.F8C):this._coords.resetColWidth(Q9z.data.colIdx);this.drawAfterResize();};g7j.prototype.onRowResize=function(k9z){this.dispatch(k9z);this._coords.applyPendingSizes();x6K.F8C<k9z.data.height?this._coords.setRowHeight(k9z.data.rowIdx,k9z.data.height,!x6K.O8C,!x6K.F8C):this._coords.resetRowHeight(k9z.data.rowIdx);this.drawAfterResize();};g7j.prototype.onSheetHeaderDbClick=function(f9z){if(!x6K.O8C!=F7j.model._options.OptionsManager.showHeaders){var J9z=this.getOffset(),i9z=f9z.clientX-J9z.left;f9z=f9z.clientY-J9z.top;i9z>this.coords.getSheetHeaderWidth()&&f9z>this.coords.gridStartY+this.coords.getSheetHeaderHeight()||(f9z=this.coords.getRowIdxByRelativePosition(f9z,this.isSmooth),i9z=this.coords.getColIdxByRelativePosition(i9z,this.isSmooth),-x6K.O8C!=f9z||isNaN(i9z)||this._colResizeHandles.dispatchWith(M7j.GridEvent.RESIZE_COLUMN,this,{width:-x6K.O8C,colIdx:i9z}),-x6K.O8C!=i9z||isNaN(f9z)||this._rowResizeHandles.dispatchWith(M7j.GridEvent.RESIZE_ROW,this,{height:-x6K.O8C,rowIdx:f9z}));}};g7j.prototype.drawAfterResize=function(){this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this.adjustScrollPosition()||this.draw();};g7j.prototype.adjustScrollPosition=function(){var E9z=!x6K.O8C;x6K.F8C<this._coords.scrollLeft&&this._coords.freeSpaceRight>this._coords.scrollLeft&&(this._dataSheet.scrollPane.scrollLeft=x6K.F8C,E9z=!x6K.F8C);x6K.F8C<this._coords.scrollTop&&this._coords.freeSpaceTop>this._coords.scrollTop&&(this._dataSheet.scrollPane.scrollTop=x6K.F8C,E9z=!x6K.F8C);return E9z;};g7j.prototype.getCellByElement=function(Z9z){var H9z=uicontrols.UIElement.convert(Z9z).closest(W9VV.F2Y);return x6K.x4C!=H9z?(Z9z=parseInt(H9z.attr(W9VV.l4Y)),H9z=parseInt(H9z.attr(W9VV.p4Y)),this.getCell(Z9z,H9z,!x6K.F8C,!x6K.F8C)):x6K.x4C;};Object.defineProperty(g7j.prototype,W9VV.F4Y,{get:function(){return this._dataSheet.isSmooth;},enumerable:!x6K.F8C,configurable:!x6K.F8C});g7j.prototype.scrollToRow=function(y9z){this._dataSheet.scrollPane.scrollTop=this.coords.getRowY(y9z);};g7j.prototype.scrollToColumn=function(d9z){this._dataSheet.scrollPane.scrollLeft=this.coords.getColX(d9z);};Object.defineProperty(g7j.prototype,O2Y,{get:function(){return this._dataProvider;},enumerable:!x6K.F8C,configurable:!x6K.F8C});Object.defineProperty(g7j.prototype,M2Y,{get:function(){return this._selectionManager;},enumerable:!x6K.F8C,configurable:!x6K.F8C});g7j.prototype.resizeColumn=function(S9z,I9z){this.coords.setColWidth(S9z,I9z,!x6K.O8C,!x6K.F8C);};g7j.prototype.resizeRow=function(T9z,m9z){this.coords.setRowHeight(T9z,m9z,!x6K.O8C,!x6K.F8C);};g7j.prototype.makeFieldsDraggable=function(){var w9z=this;this.droppable({onDrop:function(r9z,C9z,P9z,U1z){return w9z.onDrop(r9z,C9z,P9z,U1z);},onDragOver:function(v1z,G1z,W1z,V1z){return w9z.onDragOver(v1z,G1z,W1z,V1z);},onDragLeave:function(l1z,p1z,X1z,B1z){return w9z.onDragLeave(l1z,p1z,X1z,B1z);}});};g7j.prototype.createHeaderDragHelper=function(q1z){var j2Y="wdr-header-helper";var Y1z=new uicontrols.UIElement(x6K.I2C);Y1z.addClass(W9VV.b2Y);Y1z.addClass(x6K.k4C);Y1z.addClass(j2Y);Y1z.css(x6K.F3C,x6K.O3C);Y1z.css(W9VV.g2Y,x6K.o0C);Y1z.text(q1z.element.firstChild.textContent);return Y1z;};g7j.prototype.onDragOver=function(u1z,N1z,D1z,z1z){u1z=uicontrols.UIElement.convert(z1z.target);u1z.hasClass(o2Y)||this.showIndicator(u1z,u1z);};g7j.prototype.onDragLeave=function(x1z,K1z,s1z,F1z){this.removeDropIndicator();};g7j.prototype.onDrop=function(O1z,M1z,b1z,j1z){};g7j.prototype.showIndicator=function(g1z,o1z){};g7j.prototype.createDropIndicator=function(){return this._dropIndicator?this._dropIndicator:new uicontrols.UIElement(x6K.r4C,o2Y);};g7j.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!x6K.F8C),this._dropIndicator=x6K.x4C);};return g7j;}(uicontrols.UIElement);b7j.BaseGridLayout=j7j;}(M7j.sheet||(M7j.sheet={})));}(O7j.grid||(O7j.grid={})));}(F7j._view||(F7j._view={})));}(pivot||(pivot={})));(function(n1z){(function(t1z){(function(c1z){(function(L1z){var a1z=function(h1z){__extends(e1z,h1z);e1z.prototype.draw=function(){var i9R=U9VV;for(var k1z=[],f1z=new HtmlNodeWrapper(),i1z=i9R.F8C;i1z<this._coords.frozenRowsCount;i1z++){f1z.tag=i9R.r4C;f1z.addClass(W9VV.w4Y);for(var J1z=i9R.F8C;J1z<this._coords.frozenColsCount;J1z++)if(n1z.model._options.OptionsManager.showHierarchyCaptions){var E1z=i1z-this._coords.frozenRowsCount+this._hierarchies.length;f1z.text+=this.createFilterCell(i1z,J1z,i9R.F8C<=E1z?this._hierarchies[E1z]:i9R.x4C).toHtml();}else f1z.text+=this.createCell(i1z,J1z).toHtml();k1z.push(f1z.toHtml());}k1z=k1z.join(i9R.C4C);this.element.innerHTML!=k1z&&this.html(k1z);};e1z.prototype.createFilterCell=function(y1z,d1z,H1z){var Z1z=this._hierarchies.indexOf(H1z);this.cell.clear();this.cell.tag=U9VV.r4C;this.cell.addClass(c1z.vo.GridStyleName.CELL);this.cell.addClass(c1z.vo.GridStyleName.HEADER);this.cell.addClass(c1z.vo.GridStyleName.HEADER_ROW);H1z?(this.cell.addClass(c1z.vo.GridStyleName.LEVEL+Z1z),this.cell.text=H1z.caption,n1z.model._options.OptionsManager.showFilter&&(this.cell.addClass(c1z.vo.GridStyleName.FILTER_HEADER),H1z.hasFilter()&&(this.cell.addClass(c1z.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(c1z.vo.GridStyleName.FILTERED_ICON,n1z.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=n1z.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(c1z.vo.GridStyleName.FILTER_ICON))):this.cell.addClass(c1z.vo.GridStyleName.CELL_EMPTY);this.setCellSize(this.cell,y1z,d1z);this.cell.attr[W9VV.p4Y]=d1z;this.cell.attr[W9VV.l4Y]=y1z;U9VV.F8C<=Z1z&&(this.cell.attr[W9VV.n2Y]=Z1z);return this.cell;};e1z.prototype.setHierarchies=function(T1z){for(var S1z=this._hierarchies.length=U9VV.F8C;S1z<T1z.length;S1z++){var I1z=T1z.getItemAt(S1z);!U9VV.O8C==I1z.isMeasures&&this._hierarchies.push(I1z);}};e1z.prototype.onClick=function(w1z){var m1z=w1z.element;m1z.hasClass(c1z.vo.GridStyleName.FILTER_HEADER)&&(m1z=parseInt(m1z.attr(W9VV.n2Y)),isNaN(m1z)||this.dispatch(new c1z.FilterClickEvent(this._hierarchies[m1z],w1z.cell)));};e1z.prototype.clear=function(){this._hierarchies.length=U9VV.F8C;this.draw();};function e1z(A1z){var R1z=h1z.call(this,A1z,U9VV.x4C)||this;R1z._coords=A1z;R1z._hierarchies=[];R1z.addClass(W9VV.t2Y);R1z.addEventListener(c1z.GridEvent.MOUSE_CLICK,function(Q1z){return R1z.onClick(Q1z);});return R1z;}return e1z;}(L1z.AbstractSheet);L1z.RowsFilter=a1z;}(c1z.sheet||(c1z.sheet={})));}(t1z.grid||(t1z.grid={})));}(n1z._view||(n1z._view={})));}(pivot||(pivot={})));(function(r1z){(function(C1z){(function(P1z){(function(U8z){var v8z=function(W8z){__extends(G8z,W8z);G8z.prototype.draw=function(){var T9R=U9VV;this.removeAllChildren();if(r1z.model._options.OptionsManager.showHierarchyCaptions){var X8z=new HtmlNodeWrapper(T9R.r4C);X8z.addClass(W9VV.w4Y);X8z.style.height=this._coords.getRowHeight(this.rowIndex)+T9R.y4C;for(var B8z=T9R.F8C;B8z<this._hierarchies.length;B8z++)X8z.text+=this.createFilterCell(this.rowIndex,B8z,this._hierarchies[B8z]).toHtml();this.html(X8z.toHtml());T9R.F8C==this._hierarchies.length?this.hide():this.show();}else this.hide();};G8z.prototype.createFilterCell=function(q8z,u8z,Y8z){this.cell.clear();this.cell.tag=U9VV.r4C;this.cell.addClass(P1z.vo.GridStyleName.CELL);this.cell.addClass(P1z.vo.GridStyleName.HEADER);Y8z&&(this.cell.text=Y8z.caption,r1z.model._options.OptionsManager.showFilter&&(this.cell.addClass(P1z.vo.GridStyleName.FILTER_HEADER),this.cell.attr.title=r1z.model._labels.Labels.TOOLTIPS_FILTER_ICON,Y8z.hasFilter()&&(this.cell.addClass(P1z.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(P1z.vo.GridStyleName.FILTERED_ICON,r1z.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.text+=this.createIcon(P1z.vo.GridStyleName.FILTER_ICON)));this.cell.style[W9VV.z4Y]=this._coords.getRowHeight(q8z)+U9VV.y4C;this.cell.attr[W9VV.l4Y]=q8z;this.cell.attr[W9VV.n2Y]=u8z;return this.cell;};G8z.prototype.setHierarchies=function(D8z){for(var z8z=this._hierarchies.length=U9VV.F8C;z8z<D8z.length;z8z++){var N8z=D8z.getItemAt(z8z);!U9VV.O8C==N8z.isMeasures&&this._hierarchies.push(N8z);}U9VV.F8C==this._hierarchies.length?this.hide():this.show();};function G8z(l8z){var V8z=W8z.call(this,l8z,U9VV.x4C)||this;V8z.rowIndex=U9VV.F8C;V8z._coords=l8z;V8z._hierarchies=[];V8z.addClass(W9VV.t2Y);V8z.hide();V8z.addEventListener(P1z.GridEvent.MOUSE_CLICK,function(p8z){return V8z.onClick(p8z);});return V8z;}G8z.prototype.onClick=function(x8z){x8z=x8z.element;if(x8z.hasClass(P1z.vo.GridStyleName.FILTER_HEADER)){var K8z=parseInt(x8z.attr(W9VV.n2Y));isNaN(K8z)||this.dispatch(new P1z.FilterClickEvent(this._hierarchies[K8z],U9VV.x4C,x8z));}};G8z.prototype.clear=function(){this._hierarchies.length=U9VV.F8C;this.draw();};return G8z;}(U8z.AbstractSheet);U8z.ColumnsFilter=v8z;}(P1z.sheet||(P1z.sheet={})));}(C1z.grid||(C1z.grid={})));}(r1z._view||(r1z._view={})));}(pivot||(pivot={})));(function(s8z){(function(F8z){(function(O8z){(function(b8z){var j8z=function(o8z){__extends(g8z,o8z);g8z.prototype.draw=function(){var L8z=this;this.removeAllChildren();if(s8z.model._options.OptionsManager.showFilter&&s8z.model._options.OptionsManager.showReportFiltersArea){for(var t8z=U9VV.F8C;t8z<this._hierarchies.length;t8z++){var c8z=new M8z(this._hierarchies[t8z],!U9VV.F8C);c8z.container.attr(W9VV.n2Y,t8z);c8z.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(a8z){return L8z.onClick(a8z);});this.addChild(c8z.container);}U9VV.F8C==this._hierarchies.length?this.hide():this.show();}else this.hide();};g8z.prototype.setHierarchies=function(R8z){for(var e8z=this._hierarchies.length=U9VV.F8C;e8z<R8z.length;e8z++){var h8z=R8z.getItemAt(e8z);!U9VV.O8C==h8z.isMeasures&&this._hierarchies.push(h8z);}this.draw();};g8z.prototype.onClick=function(A8z){A8z=A8z.target;this.dispatch(new O8z.FilterClickEvent(A8z.hierarchy,U9VV.x4C,A8z.container));};g8z.prototype.clear=function(){this._hierarchies.length=U9VV.F8C;this.draw();};function g8z(){var n8z=o8z.call(this)||this;n8z._hierarchies=[];n8z.addClass(v9VV.a3C);n8z.addClass(W9VV.t2Y);n8z.hide();return n8z;}Object.defineProperty(g8z.prototype,G9VV.Y6B,{get:function(){return U9VV.F8C==this._hierarchies.length;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});return g8z;}(uicontrols.UIElement);b8z.PagesFilter=j8z;var M8z=function(k8z){var S0K=U9VV;var c2Y="isFiltered";__extends(Q8z,k8z);Object.defineProperty(Q8z.prototype,G9VV.U5B,{get:function(){return this._hierarchy;},enumerable:!S0K.F8C,configurable:!S0K.F8C});Object.defineProperty(Q8z.prototype,c2Y,{get:function(){return this.container.hasClass(W9VV.m8Y);},set:function(E8z){this.container.toggleClass(W9VV.m8Y,E8z);},enumerable:!S0K.F8C,configurable:!S0K.F8C});Q8z.prototype.getFilterDescription=function(){var H8z=s8z.model._labels.Labels.FILTER_ALL;this.hierarchy.hasFilter()&&(H8z=S0K.O8C==this.hierarchy.filter.length?this.hierarchy.filter.getItemAt(S0K.F8C).caption:s8z.model._labels.Labels.FILTER_MULTIPLE_ITEMS);return H8z;};function Q8z(J8z,i8z){var a2Y="wdr-filter-desc";void S0K.F8C===i8z&&(i8z=!S0K.O8C);var f8z=k8z.call(this)||this;f8z._isPage=!S0K.O8C;f8z._hierarchy=J8z;f8z._isPage=i8z;f8z.setLabel(f8z._hierarchy.caption);f8z.removeClass(S0K.E2C);f8z.addClass(O8z.vo.GridStyleName.FILTER_HEADER);f8z.addClass(O8z.vo.GridStyleName.HEADER);f8z._filterIcon=new uicontrols.UIElement(W9VV.L2Y,O8z.vo.GridStyleName.ICON);f8z._filterIcon.addClass(O8z.vo.GridStyleName.FILTER_ICON);f8z.container.append(f8z._filterIcon);f8z._filteredIcon=new uicontrols.UIElement(W9VV.L2Y,O8z.vo.GridStyleName.ICON);f8z._filteredIcon.addClass(O8z.vo.GridStyleName.FILTERED_ICON);f8z.container.append(f8z._filteredIcon);f8z.isFiltered=f8z._hierarchy.hasFilter();f8z._isPage&&(f8z._description=new uicontrols.UILabel(),f8z._description.setLabel(f8z.getFilterDescription()),f8z._description.addClass(a2Y),f8z.addChild(f8z._description));return f8z;}return Q8z;}(uicontrols.UIButton);b8z.FilterCell=M8z;}(O8z.sheet||(O8z.sheet={})));}(F8z.grid||(F8z.grid={})));}(s8z._view||(s8z._view={})));}(pivot||(pivot={})));(function(Z8z){(function(y8z){(function(d8z){(function(S8z){var I8z=function(m8z){var U0K=U9VV;var Z2Y="pageFilter";var H2Y="rowsFilter";var E2Y="colsFilter";var A2Y=".wdr-header:not(.wdr-empty)";__extends(T8z,m8z);T8z.prototype.setControls=function(){m8z.prototype.setControls.call(this);this.createColsFilter();this.createRowsFilter();this.createPageFilter();};T8z.prototype.createColsFilter=function(){var e2Y="wdr-cols-filter";var r8z=this;this._colsFilter=new S8z.ColumnsFilter(this._coords);this._colsFilter.id=e2Y;this._colsFilter.addEventListener(d8z.GridEvent.FILTER_CLICK,function(C8z){return r8z.onFilterClick(C8z);});this.addChild(this._colsFilter);};T8z.prototype.createRowsFilter=function(){var P8z=this;this._rowsFilter=new S8z.RowsFilter(this._coords);this._rowsFilter.id=W9VV.h2Y;this._rowsFilter.addEventListener(d8z.GridEvent.FILTER_CLICK,function(U0z){return P8z.onFilterClick(U0z);});this._rowsFilter.addEventListener(d8z.GridEvent.MOUSE_CLICK,function(v0z){return P8z.onClick(v0z);});this.addChild(this._rowsFilter);};T8z.prototype.createPageFilter=function(){var R2Y="wdr-page-filter";var G0z=this;this._pageFilter=new S8z.PagesFilter();this._pageFilter.id=R2Y;this._pageFilter.addEventListener(d8z.GridEvent.FILTER_CLICK,function(W0z){return G0z.onFilterClick(W0z);});this.addChild(this._pageFilter);};T8z.prototype.drawFirst=function(){this._coords.filtersHeight=this._pageFilter.isEmpty?U0K.F8C:this._pageFilter.element.offsetHeight;m8z.prototype.drawFirst.call(this);this._rowsFilter.draw();};T8z.prototype.drawLast=function(){m8z.prototype.drawLast.call(this);this._colsFilter.draw();};T8z.prototype.calculateSizesFirst=function(){this._rowsFilter.calculateSizes(!U0K.F8C);return m8z.prototype.calculateSizesFirst.call(this)||this._rowsFilter.isDirty;};T8z.prototype.calculateSizesAll=function(){this._rowsFilter.calculateSizes(!U0K.F8C);return m8z.prototype.calculateSizesAll.call(this)||this._rowsFilter.isDirty;};T8z.prototype.drawLayout=function(){m8z.prototype.drawLayout.call(this);this._pageFilter.isEmpty||(this._pageFilter.top=this._coords.titleHeight,this._pageFilter.left=U0K.F8C,this._pageFilter.right=U0K.F8C);this._colResizeHandles.top=this._coords.gridStartY;this._rowResizeHandles.top=this._coords.gridStartY;this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=U0K.F8C;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._rowsFilter.left=this._coords.getColX(U0K.F8C,!U0K.F8C);this._rowsFilter.top=this._coords.gridStartY+this._coords.getRowY(U0K.F8C,!U0K.F8C);this._colsFilter.top=this._coords.gridStartY+this._coords.getRowY(this._colsFilter.rowIndex,!U0K.F8C);this._colsFilter.left=this._coords.rowHeadersWidth;this._colsFilter.right=Math.max(U0K.F8C,this._coords.layoutWidth-this._coords.getRelativeColX(this._coords.maxColsCount,this.isSmooth));this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=U0K.F8C;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-U0K.O8C;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-U0K.O8C;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+U0K.O8C;};T8z.prototype.drawAfterResize=function(){m8z.prototype.drawAfterResize.call(this);this._rowsFilter.draw();this._colsFilter.draw();};T8z.prototype.makeFieldsDraggable=function(){var X0z=this;m8z.prototype.makeFieldsDraggable.call(this);for(var p0z={createHelper:function(B0z){return X0z.createHeaderDragHelper(B0z);}},l0z=this._colsFilter.find(A2Y,!U0K.F8C),V0z=U0K.F8C;V0z<l0z.length;V0z++)l0z[V0z].draggable(p0z);l0z=this._rowsFilter.find(A2Y,!U0K.F8C);for(V0z=U0K.F8C;V0z<l0z.length;V0z++)l0z[V0z].draggable(p0z);l0z=this._pageFilter.find(A2Y,!U0K.F8C);for(V0z=U0K.F8C;V0z<l0z.length;V0z++)l0z[V0z].draggable(p0z);};T8z.prototype.onDrop=function(D0z,Y0z,u0z,N0z){u0z=this.getDropTargetFilter(u0z);if(U0K.x4C==u0z)this.removeDropIndicator();else if(N0z=this.getDropPosition(u0z,this._dropIndicator),this.removeDropIndicator(),!isNaN(N0z)){var z0z=parseInt(D0z.attr(W9VV.n2Y)),x0z=D0z.closest(W9VV.a4Y);Y0z=Z8z.data_.Cube.getInstance().slice_.clone();var q0z;x0z==this._colsFilter?(q0z=Y0z.columnsOnly.getItemAt(z0z),z0z=Y0z.columns.indexOf(q0z.uniqueName)):x0z==this._rowsFilter?(q0z=Y0z.rowsOnly.getItemAt(z0z),z0z=Y0z.rows.indexOf(q0z.uniqueName)):x0z==this._pageFilter&&(q0z=Y0z.pages.getItemAt(z0z),z0z=Y0z.pages.indexOf(q0z.uniqueName));U0K.x4C==q0z||u0z==x0z&&z0z==N0z||(D0z.hide(),u0z==x0z?u0z==this._colsFilter?Y0z.columns.moveItemAt(z0z,N0z):u0z==this._rowsFilter?Y0z.rows.moveItemAt(z0z,N0z):u0z==this._pageFilter&&Y0z.pages.moveItemAt(z0z,N0z):(Y0z.columns.removeItem(q0z.uniqueName),Y0z.rows.removeItem(q0z.uniqueName),Y0z.pages.removeItem(q0z.uniqueName),u0z==this._colsFilter?Y0z.columns.addItemAt(q0z.uniqueName,q0z,N0z):u0z==this._rowsFilter?Y0z.rows.addItemAt(q0z.uniqueName,q0z,N0z):u0z==this._pageFilter&&Y0z.pages.addItemAt(q0z.uniqueName,q0z,N0z)),U0K.O8C<Y0z.columns.length&&Y0z.columns.getItemAt(U0K.F8C).isMeasures&&(D0z=Y0z.columns.getItemAt(U0K.F8C),Y0z.columns.splice(U0K.F8C,U0K.O8C),Y0z.columns.addItemAt(D0z.uniqueName,D0z,Y0z.columns.length)),Z8z.model.PivotModel.getInstance().runQuery(Y0z));}};T8z.prototype.getDropPosition=function(K0z,s0z){return K0z==this._colsFilter?this.getColumnDropPosition(s0z):K0z==this._rowsFilter?this.getRowDropPosition(s0z):K0z==this._pageFilter?this.getPageDropPosition(s0z):NaN;};T8z.prototype.getColumnDropPosition=function(F0z){var O0z=Z8z.data_.Cube.getInstance().slice_;if(U0K.x4C!=F0z){F0z=F0z.index();if(F0z>O0z.columns.length)return O0z.columns.length;O0z=O0z.columns.indexOf(W9VV.Q2Y);U0K.F8C<=O0z&&O0z<=F0z&&U0K.F8C!=F0z&&F0z++;return F0z;}return NaN;};T8z.prototype.getRowDropPosition=function(M0z){var F1R=W9VV;var b0z=Z8z.data_.Cube.getInstance().slice_;if(U0K.x4C!=M0z){M0z=M0z.parent.hasClass(F1R.t2Y)?b0z.rows.length:(M0z=M0z.parent.find(F1R.k2Y))?parseInt(M0z.attr(F1R.n2Y)):U0K.F8C;if(M0z>b0z.rows.length)return b0z.rows.length;b0z=b0z.rows.indexOf(F1R.Q2Y);U0K.F8C<=b0z&&b0z<=M0z&&U0K.F8C!=M0z&&M0z++;return M0z;}return NaN;};T8z.prototype.getPageDropPosition=function(j0z){var g0z=Z8z.data_.Cube.getInstance().slice_;return U0K.x4C!=j0z?(j0z=j0z.index(),j0z>g0z.columns.length?g0z.columns.length:j0z):NaN;};T8z.prototype.getDropTargetFilter=function(t0z){var O1R=W9VV;var f2Y=".wdr-resize-handles";var n0z=t0z.closest(O1R.a4Y);if(U0K.x4C==n0z){var o0z=t0z.closest(O1R.F2Y);U0K.x4C!=o0z?(t0z=parseInt(o0z.attr(O1R.l4Y)),o0z=parseInt(o0z.attr(O1R.p4Y)),this.isOverColumns(t0z,o0z)?n0z=this._colsFilter:this.isOverRows(t0z,o0z)&&(n0z=this._rowsFilter)):(o0z=t0z.closest(f2Y),U0K.x4C!=o0z&&(O1R.z2Y==o0z.id?n0z=this._colsFilter:O1R.N2Y==o0z.id&&(n0z=this._rowsFilter)));}return n0z;};T8z.prototype.isOverColumns=function(L0z,c0z){return c0z>=this.coords.frozenColsCount;};function T8z(){var w8z=m8z.call(this)||this;w8z._type=T8z.TYPE;w8z.addClass(W9VV.i2Y);return w8z;}T8z.prototype.isOverRows=function(e0z,a0z){return a0z<=this.coords.frozenColsCount;};T8z.prototype.showIndicator=function(h0z,R0z){var b1R=W9VV;var J2Y=".wdr-row";h0z=this.getDropTargetFilter(h0z);if(U0K.x4C==h0z)this.removeDropIndicator();else{var A0z=R0z.closest(A2Y);U0K.x4C!=R0z.closest(b1R.a4Y)&&U0K.x4C!=A0z?(this._dropIndicator=this.createDropIndicator(),h0z==this._pageFilter?A0z.before(this._dropIndicator):R0z.before(this._dropIndicator)):(this._dropIndicator=this.createDropIndicator(),h0z==this._colsFilter?this._colsFilter.find(J2Y).append(this._dropIndicator):h0z==this._rowsFilter?U0K.x4C!=R0z.closest(b1R.a4Y)?this._rowsFilter.find(b1R.k2Y).before(this._dropIndicator):this._type==S8z.classic.ClassicGridLayout.TYPE?this._rowsFilter.find(b1R.k2Y).parent.append(this._dropIndicator):this._rowsFilter.append(this._dropIndicator):h0z==this._pageFilter&&this._pageFilter.append(this._dropIndicator));}};T8z.prototype.clearAll=function(){m8z.prototype.clearAll.call(this);this._colsFilter.clear();this._pageFilter.clear();this._rowsFilter.clear();};Object.defineProperty(T8z.prototype,E2Y,{get:function(){return this._colsFilter;},enumerable:!U0K.F8C,configurable:!U0K.F8C});Object.defineProperty(T8z.prototype,H2Y,{get:function(){return this._rowsFilter;},enumerable:!U0K.F8C,configurable:!U0K.F8C});Object.defineProperty(T8z.prototype,Z2Y,{get:function(){return this._pageFilter;},enumerable:!U0K.F8C,configurable:!U0K.F8C});T8z.prototype.dispose=function(){this._colsFilter.removeAllEventListeners();this._colsFilter.dispose();this._rowsFilter.removeAllEventListeners();this._rowsFilter.dispose();this._pageFilter.removeAllEventListeners();m8z.prototype.dispose.call(this);};T8z.TYPE=W9VV.d1Y;return T8z;}(S8z.BaseGridLayout);S8z.CompactGridLayout=I8z;}(d8z.sheet||(d8z.sheet={})));}(y8z.grid||(y8z.grid={})));}(Z8z._view||(Z8z._view={})));}(pivot||(pivot={})));(function(Q0z){(function(k0z){(function(f0z){(function(J0z){var i0z=function(H0z){var I2Y="wdr-active";var S2Y="data-idx";var d2Y="wdr-handle";__extends(E0z,H0z);E0z.prototype.draw=function(){this._wrapper.attr(W9VV.y2Y,Q0z.model._labels.Labels.TOOLTIPS_HEADER_FIT);};E0z.prototype.createHandle=function(T0z){this._handle.tag=U9VV.r4C;this._handle.addClass(d2Y);this._handle.attr[S2Y]=T0z;this._handle.attr.title=Q0z.model._labels.Labels.TOOLTIPS_HEADER_RESIZE;return this._handle;};E0z.prototype.onMouseDown=function(m0z){if(m0z.target.classList.contains(d2Y)){this._currentHandle=m0z.target;this._currentHandle.classList.add(I2Y);this._baseOffset=this.getOffset();document.body.addEventListener(U9VV.e4C,this._mouseMoveHandler);m0z.stopImmediatePropagation();var w0z=parseInt(this._currentHandle.getAttribute(S2Y));this.startResizing(this._currentHandle,w0z);m0z.preventDefault();m0z.stopImmediatePropagation();}};function E0z(y0z){var n1R=U9VV;var w2Y="wdr-wrapper";var m2Y="wdr-indicator";var T2Y="wdr-resize-handles";var Z0z=H0z.call(this,n1R.r4C,T2Y)||this;Z0z._mouseDownHandler=function(d0z){return Z0z.onMouseDown(d0z);};Z0z._mouseUpHandler=function(S0z){return Z0z.onMouseUp(S0z);};Z0z._mouseMoveHandler=function(I0z){return Z0z.onMouseMove(I0z);};Z0z._handle=new HtmlNodeWrapper();Z0z._gridLayout=y0z;Z0z._coords=y0z.coords;Z0z.element.addEventListener(n1R.f4C,Z0z._mouseDownHandler);document.body.addEventListener(n1R.R4C,Z0z._mouseUpHandler);Z0z._indicator=new uicontrols.UIElement(n1R.r4C,m2Y);Z0z._indicator.hide();Z0z.addChild(Z0z._indicator);Z0z._wrapper=new uicontrols.UIElement(n1R.r4C,w2Y);Z0z._wrapper.attr(W9VV.y2Y,Q0z.model._labels.Labels.TOOLTIPS_HEADER_FIT);Z0z.addChild(Z0z._wrapper);return Z0z;}E0z.prototype.startResizing=function(r0z,C0z){};E0z.prototype.onMouseUp=function(P0z){document.body.removeEventListener(U9VV.e4C,this._mouseMoveHandler);this._currentHandle&&(this._currentHandle.classList.remove(I2Y),P0z=parseInt(this._currentHandle.getAttribute(S2Y)),this.stopResizing(this._currentHandle,P0z),this._currentHandle=U9VV.x4C,this._indicator.hide());};E0z.prototype.stopResizing=function(U4z,v4z){};E0z.prototype.onMouseMove=function(V4z){var G4z=V4z.clientX-this._baseOffset.left,W4z=V4z.clientY-this._baseOffset.top;if(U9VV.F8C>G4z||U9VV.F8C>W4z||G4z>this._coords.layoutWidth||W4z>this._coords.layoutHeight)this.onMouseUp(V4z);else this.positionHandle(this._currentHandle,G4z,W4z),this._indicator.show();};E0z.prototype.positionHandle=function(l4z,p4z,X4z){};E0z.prototype.dispose=function(){this.element&&this.element.removeEventListener(U9VV.f4C,this._mouseDownHandler);document.body.removeEventListener(U9VV.e4C,this._mouseMoveHandler);document.body.removeEventListener(U9VV.R4C,this._mouseUpHandler);H0z.prototype.dispose.call(this);};return E0z;}(uicontrols.UIElement);J0z.ResizeHandles=i0z;}(f0z.sheet||(f0z.sheet={})));}(k0z.grid||(k0z.grid={})));}(Q0z._view||(Q0z._view={})));}(pivot||(pivot={})));(function(B4z){(function(Y4z){(function(q4z){(function(u4z){var z4z=function(D4z){__extends(N4z,D4z);N4z.prototype.draw=function(){var e1R=U9VV;D4z.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var K4z=e1R.C4C,x4z=e1R.F8C;x4z<this._coords.frozenRowsCount;x4z++)K4z+=this.createHandle(x4z).toHtml(!e1R.F8C);for(var x4z=this._coords.getBoundTop(),s4z=Math.min(this._coords.maxRowsCount,this._coords.getBoundBottom());x4z<s4z;x4z++)K4z+=this.createHandle(x4z).toHtml(!e1R.F8C);this._wrapper.html(K4z);};N4z.prototype.createHandle=function(F4z){D4z.prototype.createHandle.call(this,F4z);this._handle.style.top=this._coords.getRelativeRowY(F4z,this._gridLayout.isSmooth,!U9VV.O8C)+this._coords.getRowHeight(F4z)+U9VV.y4C;return this._handle;};N4z.prototype.startResizing=function(M4z,O4z){this._startY=this._coords.getRelativeRowY(O4z,this._gridLayout.isSmooth,!U9VV.O8C);};N4z.prototype.stopResizing=function(j4z,g4z){var b4z=Math.round(j4z.offsetTop+j4z.clientHeight/U9VV.M8C-this._startY),b4z=Math.max(u4z.GridCoords.CELL_MIN_HEIGHT,b4z);this.dispatchWith(q4z.GridEvent.RESIZE_ROW,this,{height:b4z,rowIdx:g4z});};N4z.prototype.positionHandle=function(n4z,t4z,o4z){o4z=Math.max(this._startY+u4z.GridCoords.CELL_MIN_HEIGHT,o4z);n4z.style.top=o4z+U9VV.y4C;this._indicator.top=o4z;this._indicator.width=this._coords.availableWidth;};function N4z(){return U9VV.x4C!==D4z&&D4z.apply(this,arguments)||this;}return N4z;}(u4z.ResizeHandles);u4z.RowResizeHandles=z4z;}(q4z.sheet||(q4z.sheet={})));}(Y4z.grid||(Y4z.grid={})));}(B4z._view||(B4z._view={})));}(pivot||(pivot={})));(function(c4z){(function(L4z){(function(a4z){(function(e4z){var h4z=function(A4z){__extends(R4z,A4z);function R4z(){return U9VV.x4C!==A4z&&A4z.apply(this,arguments)||this;}R4z.prototype.draw=function(){var i1R=U9VV;A4z.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var k4z=i1R.C4C,Q4z=i1R.F8C;Q4z<this._coords.frozenColsCount;Q4z++)k4z+=this.createHandle(Q4z).toHtml(!i1R.F8C);for(var f4z=Math.min(this._coords.maxColsCount,this._coords.getBoundRight()),Q4z=this._coords.getBoundLeft();Q4z<f4z;Q4z++)k4z+=this.createHandle(Q4z).toHtml(!i1R.F8C);this._wrapper.html(k4z);};R4z.prototype.createHandle=function(i4z){A4z.prototype.createHandle.call(this,i4z);this._handle.style.left=this._coords.getRelativeColX(i4z,this._gridLayout.isSmooth)+this._coords.getColWidth(i4z)+U9VV.y4C;return this._handle;};R4z.prototype.startResizing=function(E4z,J4z){this._startX=this._coords.getRelativeColX(J4z,this._gridLayout.isSmooth);};R4z.prototype.stopResizing=function(Z4z,y4z){var H4z=Math.round(Z4z.offsetLeft+Z4z.clientWidth/U9VV.M8C-this._startX),H4z=Math.max(e4z.GridCoords.CELL_MIN_WIDTH,H4z);this.dispatchWith(a4z.GridEvent.RESIZE_COLUMN,this,{width:H4z,colIdx:y4z});};R4z.prototype.positionHandle=function(S4z,d4z,I4z){d4z=Math.max(this._startX+e4z.GridCoords.CELL_MIN_WIDTH,d4z);S4z.style.left=d4z+U9VV.y4C;this._indicator.left=d4z;this._indicator.height=this._coords.availableHeight;};return R4z;}(e4z.ResizeHandles);e4z.ColumnResizeHandles=h4z;}(a4z.sheet||(a4z.sheet={})));}(L4z.grid||(L4z.grid={})));}(c4z._view||(c4z._view={})));}(pivot||(pivot={})));(function(T4z){(function(m4z){(function(w4z){(function(r4z){(function(C4z){var P4z=function(v2z){var r2Y="isClassicViewOk";__extends(U2z,v2z);U2z.prototype.createRowsFilter=function(){var W2z=this;this._rowsFilter=new C4z.ClassicRowsFilter(this._coords);this._rowsFilter.id=W9VV.h2Y;this._rowsFilter.addEventListener(w4z.GridEvent.FILTER_CLICK,function(V2z){return W2z.onFilterClick(V2z);});this._rowsFilter.addEventListener(w4z.GridEvent.MOUSE_CLICK,function(l2z){return W2z.onClick(l2z);});this.addChild(this._rowsFilter);};U2z.prototype.drawFirst=function(){this.isClassicViewOk?v2z.prototype.drawFirst.call(this):(T4z.uialert(T4z.model._labels.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE,T4z.model._labels.Labels.CONFIRMATION,T4z.AlertType.CONFIRMATION),T4z.model.PivotModel.getInstance().setOptions({gridType:w4z.GridType.COMPACT}),T4z.model.PivotModel.getInstance().refresh());};Object.defineProperty(U2z.prototype,r2Y,{get:function(){return this._coords.dataWidth>this._coords.minDataWidth;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});U2z.prototype.clearDrawings=function(){v2z.prototype.clearDrawings.call(this);this._rowsFilter.clearDrawings();};U2z.prototype.getRowDropPosition=function(p2z){var X2z=T4z.data_.Cube.getInstance().slice_;if(U9VV.x4C!=p2z){p2z=p2z.index();if(p2z>X2z.rows.length)return X2z.rows.length;X2z=X2z.rows.indexOf(W9VV.Q2Y);U9VV.F8C<=X2z&&X2z<=p2z&&U9VV.F8C!=p2z&&p2z++;return p2z;}return NaN;};function U2z(){var C2Y="wdr-classic-view";var G2z=v2z.call(this)||this;G2z._type=U2z.TYPE;G2z.removeClass(W9VV.i2Y);G2z.addClass(C2Y);return G2z;}U2z.TYPE=W9VV.S1Y;return U2z;}(r4z.CompactGridLayout);C4z.ClassicGridLayout=P4z;}(r4z.classic||(r4z.classic={})));}(w4z.sheet||(w4z.sheet={})));}(m4z.grid||(m4z.grid={})));}(T4z._view||(T4z._view={})));}(pivot||(pivot={})));(function(B2z){(function(Y2z){(function(q2z){(function(u2z){(function(N2z){var z2z=function(x2z){__extends(D2z,x2z);D2z.prototype.dispose=function(){utils.fmClearTimeout(this._timeout);x2z.prototype.dispose.call(this);};function D2z(K2z){return x2z.call(this,K2z)||this;}D2z.prototype.draw=function(){var o4R=U9VV;for(var b2z=this,M2z=[],s2z=new HtmlNodeWrapper(),F2z=o4R.F8C;F2z<this._coords.frozenRowsCount;F2z++){s2z.tag=o4R.r4C;s2z.addClass(W9VV.w4Y);for(var O2z=o4R.F8C;O2z<this._coords.frozenColsCount;O2z++)s2z.text=B2z.model._options.OptionsManager.showHierarchyCaptions?s2z.text+this.createFilterCell(F2z,O2z,F2z==this._coords.frozenRowsCount-o4R.O8C?this._hierarchies[O2z]:o4R.x4C).toHtml():s2z.text+this.createCell(F2z,O2z).toHtml();M2z.push(s2z.toHtml());}this.html(M2z.join(o4R.C4C));this._timeout=utils.fmSetTimeout(function(){return b2z.calculateSizes(!o4R.F8C);},o4R.F8C);};D2z.prototype.clearDrawings=function(){utils.fmClearTimeout(this._timeout);};return D2z;}(u2z.RowsFilter);N2z.ClassicRowsFilter=z2z;}(u2z.classic||(u2z.classic={})));}(q2z.sheet||(q2z.sheet={})));}(Y2z.grid||(Y2z.grid={})));}(B2z._view||(B2z._view={})));}(pivot||(pivot={})));(function(j2z){(function(g2z){(function(o2z){(function(n2z){(function(t2z){var c2z=function(a2z){var U3Y="isDrillThrough";__extends(L2z,a2z);L2z.prototype.createColsSheet=function(){var R2z=this;this._colsSheet=new t2z.FlatColumnsSheet(this._coords,function(A2z,Q2z){return R2z.getCell(A2z,Q2z);});this._colsSheet.id=W9VV.B2Y;this._colsSheet.scrollPane.element.addEventListener(W9VV.Y2Y,this.colsScrollHander);this._colsSheet.addEventListener(o2z.GridEvent.MOUSE_CLICK,function(k2z){return R2z.onClick(k2z);});this._colsSheet.addEventListener(o2z.GridEvent.MOUSE_CLICK,function(f2z){return R2z.onClickForApi(f2z);});this._colsSheet.addEventListener(o2z.GridEvent.FILTER_CLICK,function(i2z){return R2z.onFilterClick(i2z);});this.addChild(this._colsSheet);};L2z.prototype.drawLayout=function(){var j4R=U9VV;a2z.prototype.drawLayout.call(this);this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=j4R.F8C;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=j4R.F8C;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-j4R.O8C;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-j4R.O8C;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+j4R.O8C;};L2z.prototype.drawLast=function(){a2z.prototype.drawLast.call(this);};function L2z(){var P2Y="wdr-flat-view";var e2z=a2z.call(this)||this;e2z._isDrillThrough=!U9VV.O8C;e2z._hierachiesList=U9VV.x4C;e2z.colsScrollHander=function(h2z){return e2z.onColsScroll(h2z);};e2z._type=L2z.TYPE;e2z.addClass(P2Y);return e2z;}Object.defineProperty(L2z.prototype,U3Y,{get:function(){return this._isDrillThrough;},set:function(J2z){this._isDrillThrough=J2z;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});L2z.prototype.makeFieldsDraggable=function(){var Z2z=this;a2z.prototype.makeFieldsDraggable.call(this);for(var y2z={createHelper:function(d2z){return Z2z.createHeaderDragHelper(d2z);}},H2z=this._colsSheet.find(W9VV.k2Y,!U9VV.F8C),E2z=U9VV.F8C;E2z<H2z.length;E2z++)H2z[E2z].draggable(y2z);};L2z.prototype.showIndicator=function(T2z,I2z){var F4R=U9VV;var S2z=I2z.closest(W9VV.F2Y);F4R.x4C!=S2z?(S2z=parseInt(S2z.attr(W9VV.p4Y)),S2z=Math.min(S2z,this.coords.dataColsCount),this._dropIndicator=this.createDropIndicator(),this._dropIndicator.left=this.coords.getRelativeColX(S2z,this.isSmooth)-(S2z==this.coords.dataColsCount?F4R.F8C:this._dropIndicator.width),this._dropIndicator.top=this._coords.gridStartY+this.coords.getRelativeRowY(F4R.F8C,this.isSmooth)-F4R.O8C,this._dropIndicator.height=this.coords.getRowHeight(F4R.F8C)+F4R.O8C,this.append(this._dropIndicator)):this.removeDropIndicator();};L2z.prototype.onDrop=function(C2z,m2z,w2z,r2z){var K4R=U9VV;this.removeDropIndicator();r2z=w2z.closest(W9VV.F2Y);K4R.x4C!=r2z&&(m2z=j2z.data_.Cube.getInstance().slice_.clone(),w2z=this.isDrillThrough&&K4R.x4C!=this._hierachiesList?this._hierachiesList:m2z.flatten(),r2z=parseInt(r2z.attr(W9VV.p4Y)),C2z=parseInt(C2z.attr(W9VV.p4Y)),r2z=Math.max(K4R.F8C,Math.min(r2z,w2z.length-K4R.O8C)),C2z!=r2z&&(w2z.moveItemAt(C2z,r2z),K4R.F8C<m2z.flatOrder.length&&(m2z.flatOrder=w2z.toKeyArray()),this.isDrillThrough?(this._hierachiesList=w2z,m2z.flatOrder=w2z.toKeyArray(),this.dispatchWith(g2z.config.FieldsView.EVENT_APPLY_SLICE,this,m2z)):(m2z.rows=w2z,j2z.model.PivotModel.getInstance().runQuery(m2z))));};L2z.TYPE=G9VV.F6B;return L2z;}(n2z.BaseGridLayout);t2z.FlatGridLayout=c2z;}(n2z.flat||(n2z.flat={})));}(o2z.sheet||(o2z.sheet={})));}(g2z.grid||(g2z.grid={})));}(j2z._view||(j2z._view={})));}(pivot||(pivot={})));(function(P2z){(function(U3z){(function(v3z){(function(G3z){(function(V3z){var W3z=function(p3z){__extends(l3z,p3z);l3z.prototype.onFilterClick=function(u3z){U9VV.x4C!=u3z.cell&&u3z.cell.isFilterHeader&&U9VV.x4C!=u3z.cell.hierarchy&&u3z.cell.activeElementType!=v3z.vo.GridCellElementType.RIGHT_ICON&&this.dispatch(new v3z.FilterClickEvent(u3z.cell.hierarchy,u3z.cell));};l3z.prototype.createCell=function(z3z,D3z,N3z){void U9VV.F8C===N3z&&(N3z=!U9VV.O8C);this.cell=p3z.prototype.createCell.call(this,z3z,D3z,N3z);(z3z=this._getDataFunc?this._getDataFunc(z3z,D3z):U9VV.x4C)&&z3z.isFilterHeader&&(this.cell.addClass(v3z.vo.GridStyleName.FILTER_HEADER),z3z.filtered&&(this.cell.addClass(v3z.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(v3z.vo.GridStyleName.FILTERED_ICON,P2z.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=P2z.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(v3z.vo.GridStyleName.FILTER_ICON));return this.cell;};function l3z(B3z,Y3z){var X3z=p3z.call(this,B3z,Y3z)||this;X3z.addEventListener(v3z.GridEvent.MOUSE_CLICK,function(q3z){return X3z.onFilterClick(q3z);});return X3z;}return l3z;}(G3z.ColumnHeadersSheet);V3z.FlatColumnsSheet=W3z;}(G3z.flat||(G3z.flat={})));}(v3z.sheet||(v3z.sheet={})));}(U3z.grid||(U3z.grid={})));}(P2z._view||(P2z._view={})));}(pivot||(pivot={})));(function(x3z){(function(K3z){(function(F3z){var s3z=function(M3z){var v3Y="#wdr-aggregations-view";__extends(O3z,M3z);O3z.prototype.showWith=function(c3z,n3z){var I9K=U9VV;this.origin=n3z;this.fieldData=c3z;this.setData(c3z);this.show();this.container.addEventListener(I9K.m4C,this.leaveHandler);document.body.addEventListener(I9K.f4C,this.leaveHandler);var t3z=n3z.getOffset(this.container.element.offsetParent);this.container.css(I9K.j2C,this.container.element.offsetParent.clientWidth-t3z.left+I9K.y4C);this.container.css(I9K.b2C,t3z.top-this.getHeight()/I9K.M8C+n3z.getHeight()/I9K.M8C+I9K.y4C);};O3z.prototype.onMouseLeave=function(L3z){var L9K=U9VV;if(L9K.f4C!=L3z.type||L9K.x4C==uicontrols.UIElement.convert(event.target).closest(v3Y))this.container.removeEventListener(L9K.m4C,this.leaveHandler),document.body.removeEventListener(L9K.f4C,this.leaveHandler),this.hide();};function O3z(){var G3Y="wdr-arrow";var b3z=M3z.call(this,U9VV.r4C)||this;b3z.leaveHandler=function(g3z){return b3z.onMouseLeave(g3z);};b3z.list=new uicontrols.lists.UIList();b3z.list.markSelected=!U9VV.F8C;b3z.list.setItemRendererFactory(b3z.itemRendererFactory);b3z.list.setLabelField(v9VV.W0B);b3z.list.addEventListener(events._Event.CHANGE,function(o3z){return b3z.onListChange(o3z);});b3z.addChild(b3z.list);b3z.container.disableSelection();var j3z=new uicontrols.UIElement(U9VV.r4C,G3Y);b3z.container.addChild(j3z);return b3z;}O3z.prototype.onStageMouseDown=function(a3z){U9VV.x4C==uicontrols.UIElement.convert(a3z.target).closest(v3Y)&&this.hide();};O3z.prototype.setData=function(h3z){var L5f=U9VV;for(var R3z,A3z=L5f.F8C,Q3z=[],e3z=L5f.F8C;e3z<h3z.availableAggregations.length;e3z++)R3z={caption:h3z.availableAggregationsCaptions[e3z],aggregation:h3z.availableAggregations[e3z]},void L5f.F8C!=h3z.availableAggregationsTotalCaptions&&(R3z.totalCaption=h3z.availableAggregationsTotalCaptions[e3z]),Q3z.push(R3z),h3z.availableAggregations[e3z]==h3z.aggregation&&(A3z=e3z);this.list.setDataProvider(Q3z);this.list.setSelectedIndex(A3z);this.list.container.setScrollTop(L5f.F8C);};O3z.prototype.onListChange=function(k3z){this.dispatchWith(events._Event.CHANGE,this,{fieldData:this.fieldData,aggrData:k3z.data.selectedItem,origin:this.origin});this.hide();};O3z.prototype.itemRendererFactory=function(i3z,J3z){var f3z=new uicontrols.renderers.SelectItemRenderer();f3z.setData(i3z);f3z.setIndex(J3z);return f3z;};return O3z;}(uicontrols.UIComponentBase);F3z.AggregationsView=s3z;}(K3z.config||(K3z.config={})));}(x3z._view||(x3z._view={})));}(pivot||(pivot={})));(function(E3z){(function(H3z){(function(Z3z){(function(d3z){var y3z=function(){var p3f=U9VV;var Y3Y="isCalculatedAvailable";var B3Y="isSearchNeeded";var X3Y="isSearch";var p3Y="hasFolders";var V3Y="isMeasuresAsHierarchies";S3z.prototype.update=function(I3z,T3z,m3z){this._structure=I3z;this._slice=T3z;this._dataSourceType=m3z;this.clearSearch();this.updateSlice();this.updateStructure();};S3z.prototype.updateSlice=function(){this.pages=this.getPages();this.rows=this.getRows();this.markValues(this.rows);this.columns=this.getColumns();this.markValues(this.columns);this.measures=this.getMeasures();this.markMeasures(this.measures);};S3z.prototype.updateStructure=function(){this._hierarchies=[];this.allHierarchies=[];this.addHierarchies(this._hierarchies,this.getAllHierarchies());this.removeSingleDimensions(this._hierarchies);this.addMeasures(this._hierarchies,this.getAllMeasures());this.sortHierarchies(this._hierarchies);if(S3z.expandFormulas){S3z.expandFormulas=!p3f.O8C;var w3z=utils.ArrayUtils.find(this._hierarchies,v9VV.l5C+E3z.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME,G9VV.M6B);p3f.x4C!=w3z&&this.expandField(w3z);}this.markSelected(this.pages);this.markSelected(this.columns);this.markSelected(this.rows);this.markSelected(this.measures);};S3z.prototype.onCalculatedValueAdded=function(C3z){if(p3f.x4C!=this._structure){var r3z=utils.ArrayUtils.find(this.getAllMeasures(),C3z,G9VV.M6B);p3f.x4C!=r3z&&(r3z.isMeasure=!p3f.F8C,r3z.showAggregations=this.isMeasuresAsHierarchies,C3z=utils.ArrayUtils.findIndex(this.measures,C3z,G9VV.M6B),p3f.F8C<=C3z?(r3z.isChanged=!p3f.F8C,this.measures[C3z]=r3z):this.measures.push(r3z));this.updateStructure();}};S3z.prototype.onCalculatedValueRemoved=function(P3z){p3f.x4C!=this._slice&&p3f.x4C!=this._structure&&(this.updateSlice(),this.updateStructure());};S3z.prototype.removeItemByName=function(v6z,G6z){for(var U6z=p3f.F8C;U6z<v6z.length;U6z++)if(v6z[U6z].uniqueName==G6z){v6z.splice(U6z,p3f.O8C);break;}};S3z.prototype.markValues=function(W6z){W6z=utils.ArrayUtils.find(W6z,E3z.data_.Cube.MEASURES_NAME,G9VV.M6B);p3f.x4C!=W6z&&(W6z.caption=E3z.model._labels.Labels.FIELDS_LIST_VALUES,W6z.isValues=!p3f.F8C);};S3z.prototype.markMeasures=function(l6z){for(var V6z=p3f.F8C;V6z<l6z.length;V6z++)l6z[V6z].isMeasure=!p3f.F8C,l6z[V6z].showAggregations=E3z.model._options.OptionsManager.showAggregations;};S3z.prototype.markSelected=function(X6z){for(var B6z,p6z=p3f.F8C;p6z<X6z.length;p6z++)X6z[p6z].isSelected=!p3f.F8C,B6z=this.findItem(X6z[p6z].uniqueName,X6z[p6z].isMeasure),this._slice.allHierarchies().getItem(X6z[p6z].uniqueName),p3f.x4C!=B6z&&this.selectField(B6z,!p3f.F8C);};S3z.prototype.selectField=function(Y6z,q6z){Y6z.isSelected=q6z;p3f.x4C!=Y6z.parent&&Y6z.parent.isSelected!=q6z&&(!p3f.F8C==q6z?this.selectField(Y6z.parent,q6z):!p3f.O8C==this.hasSelected(Y6z.parent.children)&&this.selectField(Y6z.parent,q6z));if(Y6z.isLevelFolder&&!p3f.O8C==q6z)for(var u6z=p3f.F8C;u6z<Y6z.children.length;u6z++)this.selectField(Y6z.children[u6z],q6z);};S3z.prototype.hasSelected=function(N6z){for(var z6z=p3f.F8C;z6z<N6z.length;z6z++)if(!p3f.F8C===N6z[z6z].isSelected)return!p3f.F8C;return!p3f.O8C;};S3z.prototype.addHierarchies=function(F6z,x6z){var o8R=G9VV;var W3Y="Folder.";for(var K6z,s6z,D6z=p3f.F8C;D6z<x6z.length;D6z++)K6z=this._structure.hierarchyToMeasure(x6z[D6z].uniqueName),p3f.x4C!=K6z&&K6z.type!=E3z.data_.types.MeasureType.COUNT&&p3f.C4C!=x6z[D6z].folder?(s6z=utils.ArrayUtils.find(this.allHierarchies,W3Y+x6z[D6z].folder,o8R.M6B),p3f.x4C==s6z&&(s6z={isFolder:!p3f.F8C},s6z.uniqueName=W3Y+x6z[D6z].folder,s6z.caption=x6z[D6z].folder,s6z.children=[],F6z.push(s6z),this.allHierarchies.push(s6z)),x6z[D6z].level=p3f.O8C,x6z[D6z].parent=s6z,s6z.children.push(x6z[D6z])):(K6z=utils.ArrayUtils.find(F6z,x6z[D6z].dimensionUniqueName,o8R.M6B),p3f.x4C==K6z&&(K6z={isFolder:!p3f.F8C},K6z.uniqueName=x6z[D6z].dimensionUniqueName,K6z.caption=x6z[D6z].dimensionCaption,K6z.children=[],K6z.level=p3f.F8C,F6z.push(K6z),this.allHierarchies.push(K6z)),x6z[D6z].isLevel?(K6z=p3f.C4C==x6z[D6z].folder?K6z:s6z,K6z=utils.ArrayUtils.find(K6z.children,x6z[D6z].hierarchyName,o8R.M6B),x6z[D6z].level=K6z.level+p3f.O8C,x6z[D6z].parent=K6z,p3f.x4C==K6z.children&&(K6z.children=[]),K6z.children.push(x6z[D6z]),K6z.isLevelFolder=!p3f.F8C):p3f.C4C!=x6z[D6z].folder?(s6z=utils.ArrayUtils.find(K6z.children,K6z.uniqueName+x6z[D6z].folder,o8R.M6B),p3f.x4C==s6z&&(s6z={isFolder:!p3f.F8C},s6z.uniqueName=K6z.uniqueName+x6z[D6z].folder,s6z.caption=x6z[D6z].folder,s6z.children=[],s6z.level=p3f.O8C,s6z.parent=K6z,K6z.children.push(s6z),this.allHierarchies.push(s6z)),x6z[D6z].level=p3f.M8C,x6z[D6z].parent=s6z,s6z.children.push(x6z[D6z])):(x6z[D6z].level=p3f.O8C,x6z[D6z].parent=K6z,K6z.children.push(x6z[D6z]))),this.allHierarchies.push(x6z[D6z]);};S3z.prototype.addMeasures=function(o6z,M6z){for(var b6z,n6z={},O6z=p3f.F8C;O6z<M6z.length;O6z++){M6z[O6z].isMeasure=!p3f.F8C;M6z[O6z].showAggregations=E3z.model._options.OptionsManager.showAggregations;M6z[O6z].calculated&&(M6z[O6z].groupName=E3z.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME);this.isMeasuresAsHierarchies&&(b6z=this.toHierarchyUniqueName(M6z[O6z].uniqueName),b6z=utils.ArrayUtils.find(this.allHierarchies,b6z,G9VV.M6B));if(this.isMeasuresAsHierarchies&&p3f.x4C!=b6z)b6z.measureItem=M6z[O6z],b6z.measureItem.hierarchyItem=b6z,M6z[O6z].parent=b6z.parent;else if(p3f.C4C!=M6z[O6z].groupName){var j6z=this.addMeasureFolders(n6z,M6z[O6z].groupName,M6z[O6z].folder.split(G9VV.F3B),M6z[O6z].calculated),g6z=j6z.folder;p3f.x4C!=g6z&&p3f.F8C>g6z.children.indexOf(M6z[O6z])&&g6z.children.push(M6z[O6z]);p3f.x4C!=j6z.root&&p3f.F8C>o6z.indexOf(j6z.root)&&o6z.push(j6z.root);M6z[O6z].level=j6z.folder.level+p3f.O8C;M6z[O6z].parent=g6z;}else M6z[O6z].level=p3f.F8C,o6z.push(M6z[O6z]);this.allHierarchies.push(M6z[O6z]);}};S3z.prototype.addMeasureFolders=function(h6z,L6z,a6z,k6z){void p3f.F8C===k6z&&(k6z=!p3f.O8C);a6z.unshift(L6z);L6z=p3f.C4C;for(var R6z=p3f.F8C,e6z,t6z,Q6z,c6z=p3f.F8C;c6z<a6z.length;c6z++){var A6z=L6z+v9VV.l5C+a6z[c6z];utils.nullOrEmpty(a6z[c6z])||(t6z=h6z[A6z],p3f.x4C==t6z&&(t6z={},t6z.caption=a6z[c6z],t6z.uniqueName=A6z,t6z.folder=L6z,t6z.children=[],t6z.level=R6z,t6z.isFolder=!p3f.F8C,t6z.isMeasuresFolder=!p3f.F8C,t6z.isCalculatedMeasuresFolder=k6z,this.allHierarchies.push(t6z),h6z[t6z.uniqueName]=t6z),(t6z.parent=e6z)&&e6z.children&&p3f.F8C>e6z.children.indexOf(t6z)&&e6z.children.push(t6z),p3f.x4C==Q6z&&(Q6z=t6z),L6z+=v9VV.l5C+a6z[c6z],h6z=h6z[L6z],e6z=t6z,R6z++);}return{folder:t6z,root:Q6z};};S3z.prototype.removeSingleDimensions=function(i6z){for(var J6z,f6z=p3f.F8C;f6z<i6z.length;f6z++)if(!p3f.F8C===i6z[f6z].isFolder&&p3f.O8C==i6z[f6z].children.length&&!p3f.F8C!==i6z[f6z].children[p3f.F8C].isFolder&&!i6z[f6z].children[p3f.F8C].calculated&&(J6z=i6z[f6z].children[p3f.F8C],J6z.level=p3f.F8C,J6z.parent=p3f.x4C,i6z.splice(f6z,p3f.O8C,J6z),J6z.children))for(var E6z=p3f.F8C;E6z<J6z.children.length;E6z++)J6z.children[E6z].level-=p3f.O8C;};S3z.prototype.sortHierarchies=function(Z6z){var H6z=this;Z6z.sort(function(S6z,I6z){var y6z=H6z.getFieldRank(S6z),d6z=H6z.getFieldRank(I6z);return y6z==d6z?S6z.caption.localeCompare(I6z.caption):d6z-y6z;});};S3z.prototype.getFieldRank=function(T6z){return!p3f.F8C===T6z.isLevel?p3f.F8C:!p3f.F8C===T6z.isFolder&&!p3f.F8C!==T6z.isMeasuresFolder?p3f.b8C:!p3f.F8C!==T6z.isFolder&&!p3f.F8C!==T6z.isMeasure?p3f.M8C:!p3f.F8C===T6z.isFolder&&!p3f.F8C===T6z.isMeasuresFolder?p3f.O8C:p3f.F8C;};S3z.prototype.collapseField=function(m6z){if(!this.isSearch){for(var r6z=this._hierarchies.indexOf(m6z)+p3f.O8C,w6z=p3f.F8C;w6z<m6z.children.length;w6z++)!p3f.F8C===m6z.children[w6z].isExpanded&&this.collapseField(m6z.children[w6z]);this._hierarchies.splice(r6z,m6z.children.length);m6z.isExpanded=!p3f.O8C;}};S3z.prototype.expandField=function(C6z){if(!this.isSearch){var P6z=this._hierarchies.indexOf(C6z)+p3f.O8C;C6z.isLevelFolder||this.sortHierarchies(C6z.children);utils.ArrayUtils.insert(this._hierarchies,C6z.children,P6z);C6z.isExpanded=!p3f.F8C;}};S3z.prototype.toHierarchyUniqueName=function(U5z){U5z=this._structure.measureToHierarchy(U5z);return p3f.x4C!=U5z?U5z.uniqueName:p3f.C4C;};S3z.prototype.toMeasureUniqueName=function(v5z){v5z=this._structure.hierarchyToMeasure(v5z);return p3f.x4C!=v5z?v5z.uniqueName:p3f.C4C;};S3z.prototype.findHierarchy=function(W5z){for(var G5z=p3f.F8C;G5z<this.allHierarchies.length;G5z++)if(!this.allHierarchies[G5z].isMeasure&&!this.allHierarchies[G5z].isFolder&&this.allHierarchies[G5z].uniqueName==W5z)return this.allHierarchies[G5z];};S3z.prototype.findMeasure=function(l5z){for(var V5z=p3f.F8C;V5z<this.allHierarchies.length;V5z++)if(this.allHierarchies[V5z].isMeasure&&!this.allHierarchies[V5z].isFolder&&this.allHierarchies[V5z].uniqueName==l5z)return this.allHierarchies[V5z];};S3z.prototype.findItem=function(X5z,p5z){void p3f.F8C===p5z&&(p5z=!p3f.O8C);return p5z?this.findMeasure(X5z):this.findHierarchy(X5z);};S3z.prototype.isValidSlice=function(){return p3f.F8C<this.measures.length;};S3z.prototype.getSlice=function(){return{pages:this.toPlainArray(this.pages),rows:this.toPlainArray(this.rows),columns:this.toPlainArray(this.columns),measures:this.toPlainArray(this.measures),flatOrder:this._slice?this._slice.flatOrder:[]};};function S3z(){}S3z.prototype.isSliceDifferent=function(B5z){return p3f.x4C==this._slice?!p3f.F8C:this.isDifferent(B5z.pages,this._slice.pages.toArray())||this.isDifferent(B5z.rows,this._slice.rows.toArray())||this.isDifferent(B5z.columns,this._slice.columns.toArray())||this.isDifferent(B5z.measures,this._slice.measures_.toArray());};S3z.prototype.toPlainArray=function(q5z){for(var z5z=[],u5z,Y5z=p3f.F8C;Y5z<q5z.length;Y5z++)u5z={uniqueName:q5z[Y5z].uniqueName},q5z[Y5z].isMeasure&&(u5z.aggregation=q5z[Y5z].aggregation,u5z.isChanged=q5z[Y5z].isChanged),q5z[Y5z].isLevel&&(u5z.activeLevelName=q5z[Y5z].uniqueName,u5z.uniqueName=q5z[Y5z].hierarchyName),z5z.push(u5z);return z5z;};S3z.prototype.isDifferent=function(D5z,x5z){if(D5z.length!=x5z.length)return!p3f.F8C;for(var N5z=p3f.F8C;N5z<x5z.length;N5z++)if(D5z[N5z].uniqueName!=x5z[N5z].uniqueName||D5z[N5z].aggregation!=x5z[N5z].aggregation||D5z[N5z].activeLevelName!=x5z[N5z].activeLevelName||D5z[N5z].isChanged)return!p3f.F8C;return!p3f.O8C;};Object.defineProperty(S3z.prototype,V3Y,{get:function(){var K5z=this._dataSourceType;return K5z==E3z.data_.consts.DataSourceType.CSV||K5z==E3z.data_.consts.DataSourceType.JSON;},enumerable:!p3f.F8C,configurable:!p3f.F8C});Object.defineProperty(S3z.prototype,W9VV.l3Y,{get:function(){for(var s5z=p3f.F8C;s5z<this._hierarchies.length;s5z++)if((this._hierarchies[s5z].isFolder||this._hierarchies[s5z].isMeasuresFolder||this._hierarchies[s5z].isLevelFolder)&&!this._hierarchies[s5z].isExpanded)return!p3f.F8C;return!p3f.O8C;},enumerable:!p3f.F8C,configurable:!p3f.F8C});Object.defineProperty(S3z.prototype,p3Y,{get:function(){for(var F5z=p3f.F8C;F5z<this._hierarchies.length;F5z++)if(this._hierarchies[F5z].isFolder||this._hierarchies[F5z].isMeasuresFolder||this._hierarchies[F5z].isLevelFolder)return!p3f.F8C;return!p3f.O8C;},enumerable:!p3f.F8C,configurable:!p3f.F8C});S3z.prototype.collapseAll=function(){if(!this.isSearch){for(var O5z=p3f.F8C;O5z<this._hierarchies.length;O5z++)if(this._hierarchies[O5z].isFolder||this._hierarchies[O5z].isMeasuresFolder||this._hierarchies[O5z].isLevelFolder)this._hierarchies[O5z].isExpanded=!p3f.O8C;for(var M5z=[],O5z=p3f.F8C;O5z<this._hierarchies.length;O5z++)p3f.F8C==this._hierarchies[O5z].level&&M5z.push(this._hierarchies[O5z]);this._hierarchies.splice(p3f.F8C,this._hierarchies.length);utils.ArrayUtils.insert(this._hierarchies,M5z,p3f.F8C);}};S3z.prototype.expandAll=function(){if(!this.isSearch){this.collapseAll();for(var b5z=p3f.F8C;b5z<this._hierarchies.length;b5z++)(this._hierarchies[b5z].isFolder||this._hierarchies[b5z].isLevelFolder)&&this._expandField(this._hierarchies[b5z],b5z+p3f.O8C);}};S3z.prototype._expandField=function(j5z,g5z){j5z.isExpanded=!p3f.F8C;p3f.x4C!=j5z.children&&p3f.F8C<j5z.children.length&&(this.sortHierarchies(j5z.children),utils.ArrayUtils.insert(this._hierarchies,j5z.children,g5z));};S3z.prototype.getPages=function(){return p3f.x4C!=this._slice?this.convertHierarchies(this._slice.pages):[];};S3z.prototype.getRows=function(){return p3f.x4C!=this._slice?this.convertHierarchies(this._slice.rows):[];};S3z.prototype.getColumns=function(){return p3f.x4C!=this._slice?this.convertHierarchies(this._slice.columns):[];};S3z.prototype.getMeasures=function(){return p3f.x4C!=this._slice?this.convertMeasures(this._slice.measures_):[];};S3z.prototype.getAllHierarchies=function(){return p3f.x4C!=this._structure?this.convertHierarchies(this._structure.allHierarchies(!p3f.O8C),!p3f.F8C):[];};S3z.prototype.getAllMeasures=function(){return p3f.x4C!=this._structure?this.convertMeasures(this._structure.measures_):[];};S3z.prototype.convertHierarchies=function(e5z,t5z){void p3f.F8C===t5z&&(t5z=!p3f.O8C);for(var c5z=[],L5z=p3f.F8C;L5z<e5z.length;L5z++){var o5z=e5z.getItemAt(L5z);c5z.push({caption:o5z.caption,uniqueName:o5z.uniqueName,dimensionUniqueName:o5z.dimension.uniqueName,dimensionCaption:o5z.dimension.caption,folder:o5z.folder,isLevel:!p3f.O8C,isLevelFolder:o5z.isHierarchy&&t5z});if(o5z.isHierarchy&&t5z)for(var n5z=p3f.F8C;n5z<o5z.levels_.length;n5z++)if(p3f.F8C!=n5z){var a5z=o5z.levels_.getItemAt(n5z);c5z.push({caption:a5z.caption,uniqueName:a5z.uniqueName,dimensionUniqueName:o5z.dimension.uniqueName,dimensionCaption:o5z.dimension.caption,folder:o5z.folder,hierarchyName:o5z.uniqueName,hierarchyCaption:o5z.caption,isLevel:!p3f.F8C,isLevelFolder:!p3f.O8C});}}return c5z;};S3z.prototype.convertMeasures=function(f5z){for(var k5z=[],Q5z=p3f.F8C;Q5z<f5z.length;Q5z++){var h5z=f5z.getItemAt(Q5z),R5z=E3z.data_._structure.GenericMeasure.toObject(h5z),A5z=h5z.availableAggregations;p3f.F8C!=h5z.availableAggregations.length||h5z.calculated||(A5z=E3z.data_.consts.AggregationName.ALL_AGGREGATIONS);R5z.availableAggregations=A5z;R5z.availableAggregationsCaptions=E3z.data_.consts.AggregationName.aggregationCaptions(A5z);R5z.availableAggregationsTotalCaptions=E3z.data_.consts.AggregationName.aggregationTotalCaptions(A5z);k5z.push(R5z);}return k5z;};S3z.prototype.search=function(J5z){J5z=J5z.toLowerCase();if(this.searchPhrase!=J5z){this.searchPhrase=J5z;this.searchedHierarchies=[];for(var H5z=this.allHierarchies.length,E5z=p3f.F8C;E5z<H5z;E5z++){var i5z=this.allHierarchies[E5z];i5z.isFolder||i5z.isMeasure&&this.isMeasuresAsHierarchies||!utils.StringUtils.contains(i5z.caption,J5z)||(this.addParents(i5z,this.searchedHierarchies),this.searchedHierarchies.push(i5z));}}};S3z.prototype.addParents=function(y5z,S5z){if(y5z.parent&&p3f.F8C>S5z.indexOf(y5z.parent)){for(var Z5z=[];p3f.x4C!=y5z.parent;)Z5z.push(y5z.parent),y5z=y5z.parent;for(var Z5z=Z5z.reverse(),d5z=p3f.F8C;d5z<Z5z.length;d5z++)p3f.F8C>S5z.indexOf(Z5z[d5z])&&S5z.push(Z5z[d5z]);}};S3z.prototype.clearSearch=function(){this.searchPhrase=p3f.C4C;this.searchedHierarchies=p3f.x4C;};Object.defineProperty(S3z.prototype,X3Y,{get:function(){return!utils.nullOrEmpty(this.searchPhrase);},enumerable:!p3f.F8C,configurable:!p3f.F8C});Object.defineProperty(S3z.prototype,B3Y,{get:function(){return this.allHierarchies&&p3f.V0C<this.allHierarchies.length;},enumerable:!p3f.F8C,configurable:!p3f.F8C});Object.defineProperty(S3z.prototype,Y3Y,{get:function(){return E3z.model._options.OptionsManager.showCalculatedValuesButton;},enumerable:!p3f.F8C,configurable:!p3f.F8C});Object.defineProperty(S3z.prototype,G9VV.c5B,{get:function(){return this.isSearch?this.searchedHierarchies:this._hierarchies;},enumerable:!p3f.F8C,configurable:!p3f.F8C});S3z.expandFormulas=!p3f.O8C;return S3z;}();d3z.PivotFieldsModel=y3z;}(Z3z._pivot||(Z3z._pivot={})));}(H3z.config||(H3z.config={})));}(E3z._view||(E3z._view={})));}(pivot||(pivot={})));(function(I5z){(function(T5z){(function(m5z){(function(w5z){var r5z=function(P5z){__extends(C5z,P5z);C5z.prototype.onCancelClick=function(){this.view.close();};C5z.prototype.onOkClick=function(){this.applySlice();this.view.close();};C5z.prototype.onSearchChange=function(){var q3Y="wdr-searched";this.model.search(this.view.inpSearch.getText());this.view.lstHierarchies.container.toggleClass(q3Y,this.model.isSearch);this.view.lstHierarchies.setDataProvider(this.model.hierarchies);this.validateList(this.view.lstHierarchies);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders&&!this.model.isSearch);};C5z.prototype.applySlice=function(){var S7z=this.model.getSlice();this.model.isSliceDifferent(S7z)&&this.dispatchWith(m5z.FieldsView.EVENT_APPLY_SLICE,this,S7z);};C5z.prototype.onCalculatedValueAdded=function(I7z){I5z.model.PivotModel.getInstance().removeEventListener(T5z.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model.onCalculatedValueAdded(I7z.data.measureUniqueName);this.updateView();};C5z.prototype.onCalculatedValueRemoved=function(T7z){I5z.model.PivotModel.getInstance().removeEventListener(T5z.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model.onCalculatedValueRemoved(T7z.data);this.updateView();};C5z.prototype.onAddMeasureClick=function(){I5z.model.PivotModel.getInstance().dispatchWith(T5z.ViewEvent.CALCULATED_VIEW_OPEN);I5z.model.PivotModel.getInstance().addEventListener(T5z.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);};C5z.prototype.onCollapseExpandClick=function(){this.model.isExpandAll?this.model.expandAll():this.model.collapseAll();this.validateList(this.view.lstHierarchies);this.view.setLabels();};C5z.prototype.onFieldDoubleClick=function(m7z){var w7z=uicontrols.UIElement.convert(m7z.target).closest(v9VV.I3C);U9VV.x4C!=w7z&&(w7z=this.getListById(w7z.attr(U9VV.G2C)),m7z=uicontrols.UIElement.convert(m7z.target).closest(v9VV.y3C),U9VV.x4C!=m7z&&(m7z=parseInt(m7z.attr(v9VV.d3C)),this.removeField(w7z,m7z)));};C5z.prototype.onMeasureFieldClick=function(C7z){var r7z=uicontrols.UIElement.convert(C7z.target).closest(v9VV.y3C);U9VV.x4C!=r7z&&(r7z=parseInt(r7z.attr(v9VV.d3C)),r7z=this.model.measures[r7z],W9VV.u3Y==uicontrols.UIElement.convert(C7z.target).attr(U9VV.G2C)&&this.view.aggrView.showWith(r7z,uicontrols.UIElement.convert(C7z.target)));};C5z.prototype.onAggregationChange=function(P7z){var U9t=P7z.data.fieldData,v9t=P7z.data.aggrData;uicontrols.UIElement.convert(P7z.data.origin);U9t.aggregation=v9t.aggregation;U9t.caption=I5z.model._options.OptionsManager.showAggregationLabels?utils.StringUtils.bind(v9t.totalCaption,U9t.name):U9t.name;this.view.lstMeasures.validateItem(U9t);P7z=utils.ArrayUtils.find(this.model.hierarchies,U9t.uniqueName,G9VV.M6B);U9VV.x4C!=P7z&&(this.model.isMeasuresAsHierarchies&&U9VV.x4C!=P7z.measureItem&&(P7z=P7z.measureItem),P7z.aggregation=U9t.aggregation,P7z.caption=U9t.caption,this.view.lstHierarchies.validateItem(P7z));};C5z.prototype.onHierarchyFieldClick=function(W9t){var k8R=U9VV;var V9t=uicontrols.UIElement.convert(W9t.target).closest(v9VV.y3C);if(k8R.x4C!=V9t){var V9t=parseInt(V9t.attr(v9VV.d3C)),G9t=this.model.hierarchies[V9t];if(W9VV.u3Y==uicontrols.UIElement.convert(W9t.target).attr(k8R.G2C))this.view.aggrView.showWith(G9t,uicontrols.UIElement.convert(W9t.target));else if(W9VV.z3Y==uicontrols.UIElement.convert(W9t.target).attr(k8R.G2C))I5z.model.PivotModel.getInstance().dispatchWith(T5z.ViewEvent.CALCULATED_VIEW_OPEN,k8R.x4C,{measureName:G9t.uniqueName}),I5z.model.PivotModel.getInstance().addEventListener(T5z.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),I5z.model.PivotModel.getInstance().addEventListener(T5z.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);else if(G9t.isFolder||G9t.isLevelFolder&&W9VV.N3Y!=uicontrols.UIElement.convert(W9t.target).attr(k8R.G2C))!k8R.F8C===G9t.isExpanded?this.model.collapseField(G9t):this.model.expandField(G9t),this.validateList(this.view.lstHierarchies),this.view.setLabels();else{if(!k8R.F8C==G9t.isSelected||k8R.x4C!=G9t.measureItem&&!k8R.F8C==G9t.measureItem.isSelected)!k8R.F8C==G9t.isSelected&&(this.model.selectField(G9t,!k8R.O8C),this.findAndRemoveField(G9t)),k8R.x4C!=G9t.measureItem&&!k8R.F8C==G9t.measureItem.isSelected&&(this.model.selectField(G9t.measureItem,!k8R.O8C),this.findAndRemoveField(G9t.measureItem));else if(G9t.isMeasure)this.model.selectField(G9t,!k8R.F8C),this.model.measures.push(G9t),this.validateList(this.view.lstMeasures);else if(G9t.measureItem&&G9t.measureItem.type!=I5z.data_.types.MeasureType.COUNT&&G9t.measureItem.type!=I5z.data_.types.MeasureType.DATE)this.model.selectField(G9t.measureItem,!k8R.F8C),this.model.measures.push(G9t.measureItem),this.validateList(this.view.lstMeasures);else{if(G9t.isLevel)for(G9t.parent.isSelected&&this.findAndRemoveField(G9t.parent),W9t=k8R.F8C;W9t<G9t.parent.children.length;W9t++){var l9t=G9t.parent.children[W9t];l9t.uniqueName!=G9t.uniqueName&&(l9t.isSelected&&this.findAndRemoveField(l9t),l9t.isSelected=!k8R.O8C);}this.model.selectField(G9t,!k8R.F8C);this.model.rows.push(G9t);this.validateList(this.view.lstRows);}this.validateItemRecursivelyAt(this.view.lstHierarchies,V9t);this.validateSlice();}}};C5z.prototype.validateItemRecursivelyAt=function(B9t,Y9t){B9t.validateItemAt(Y9t);var p9t=B9t.getDataProvider()[Y9t];U9VV.x4C!=p9t.parent&&this.validateItemRecursively(B9t,p9t.parent);if(p9t.isLevelFolder)for(var X9t=U9VV.F8C;X9t<p9t.children.length;X9t++)B9t.validateItem(p9t.children[X9t]);if(p9t.isLevel)for(X9t=U9VV.F8C;X9t<p9t.parent.children.length;X9t++)B9t.validateItem(p9t.parent.children[X9t]);};C5z.prototype.validateItemRecursively=function(z9t,q9t){z9t.validateItem(q9t);q9t.parent&&this.validateItemRecursively(z9t,q9t.parent);if(q9t.isLevelFolder)for(var u9t=U9VV.F8C;u9t<q9t.children.length;u9t++)z9t.validateItem(q9t.children[u9t]);if(q9t.isLevel)for(u9t=U9VV.F8C;u9t<q9t.parent.children.length;u9t++)z9t.validateItem(q9t.parent.children[u9t]);};C5z.prototype.onDragStart=function(N9t){return!U9VV.F8C;};C5z.prototype.onHierarchiesDrop=function(D9t,x9t,K9t,s9t){D9t&&D9t.closest(v9VV.I3C)&&(x9t=parseInt(D9t.attr(v9VV.d3C)),D9t=this.getListById(D9t.closest(v9VV.I3C).attr(U9VV.G2C)),D9t!=this.view.lstHierarchies&&this.removeField(D9t,x9t));};C5z.prototype.onHierarchiesDragEnterOrOver=function(F9t,O9t,M9t,b9t){F9t&&F9t.closest(v9VV.I3C)&&(F9t=this.getListById(F9t.closest(v9VV.I3C).attr(U9VV.G2C)),F9t!=this.view.lstHierarchies&&(F9t.container.hasClass(U9VV.I4C)?O9t&&O9t.addClass(W9VV.D3Y):O9t&&O9t.addClass(W9VV.x3Y)));};C5z.prototype.onDragEnterOrOver=function(j9t,g9t,o9t,n9t){var T8R=U9VV;this.removeDropIndicator();j9t&&j9t.closest(v9VV.I3C)&&(o9t instanceof uicontrols.lists.UIList||(o9t=this.getListById(o9t.attr(T8R.G2C))),g9t=this.getListById(j9t.closest(v9VV.I3C).attr(T8R.G2C)),g9t.container.hasClass(T8R.I4C)&&this.isDropAllowed(this.getDataByElement(j9t,g9t),g9t,o9t)&&(n9t instanceof MouseEvent?this.showIndicator(uicontrols.UIElement.convert(n9t.target)):(j9t=n9t.changedTouches[T8R.F8C],this.showIndicator(uicontrols.UIElement.convert(document.elementFromPoint(j9t.clientX,j9t.clientY))))));};C5z.prototype.isDropAllowed=function(c9t,L9t,t9t){var m8R=U9VV;return c9t.isValues&&t9t!=this.view.lstColumns&&t9t!=this.view.lstRows||!m8R.O8C==this.model.isMeasuresAsHierarchies&&(t9t!=this.view.lstMeasures&&c9t.isMeasure||t9t==this.view.lstMeasures&&!c9t.isMeasure)||c9t.calculated&&t9t!=this.view.lstMeasures||L9t==this.view.lstHierarchies&&m8R.x4C!=utils.ArrayUtils.find(t9t.getDataProvider(),c9t.uniqueName,G9VV.M6B)?!m8R.O8C:!m8R.F8C;};C5z.prototype.getDataByElement=function(e9t,h9t){var a9t=parseInt(e9t.attr(v9VV.d3C));return h9t.getDataProvider()[a9t];};function C5z(v7z){var v0R=W9VV;var P8R=U9VV;var U7z=P5z.call(this)||this;U7z.type=G9VV.s6B;U7z.calculatedValueAddedHandler=function(G7z){return U7z.onCalculatedValueAdded(G7z);};U7z.calculatedValueRemovedHandler=function(W7z){return U7z.onCalculatedValueRemoved(W7z);};U7z.model=new w5z.PivotFieldsModel();U7z.view=new w5z.PivotFieldsView(U7z,v7z);U7z.view.addEventListener(events._Event.CLOSED,function(V7z){return U7z.dispatch(V7z);});U7z.lists=[U7z.view.lstPages,U7z.view.lstRows,U7z.view.lstColumns,U7z.view.lstMeasures];U7z.view.btnOk&&U7z.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return U7z.onOkClick();});U7z.view.btnCancel&&U7z.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return U7z.onCancelClick();});P8R.x4C!=U7z.view.aggrView&&U7z.view.aggrView.addEventListener(events._Event.CHANGE,function(l7z){return U7z.onAggregationChange(l7z);});U7z.view.lstHierarchies&&(U7z.view.lstHierarchies.container.addEventListener(P8R.H2C,function(p7z){return U7z.onHierarchyFieldClick(p7z);}),U7z.view.lstHierarchies.droppable({onDrop:function(X7z,B7z,Y7z,q7z){return U7z.onHierarchiesDrop(X7z,B7z,Y7z,q7z);},onDragEnter:function(u7z,z7z,N7z,D7z){return U7z.onHierarchiesDragEnterOrOver(u7z,z7z,N7z,D7z);},onDragOver:function(x7z,K7z,s7z,F7z){return U7z.onHierarchiesDragEnterOrOver(x7z,K7z,s7z,F7z);},onDragLeave:function(O7z,M7z,b7z,j7z){return U7z.onDragLeave(O7z,M7z,b7z,j7z);},itemSelector:v9VV.y3C}),U7z.view.lstHierarchies.container.disableSelection());v7z={onDrop:function(g7z,o7z,n7z,t7z){return U7z.onDrop(g7z,o7z,n7z,t7z);},onDragEnter:function(c7z,L7z,a7z,e7z){return U7z.onDragEnterOrOver(c7z,L7z,a7z,e7z);},onDragOver:function(h7z,R7z,A7z,Q7z){return U7z.onDragEnterOrOver(h7z,R7z,A7z,Q7z);},onDragLeave:function(k7z,f7z,i7z,J7z){return U7z.onDragLeave(k7z,f7z,i7z,J7z);},itemSelector:v9VV.y3C};U7z.view.lstPages&&(U7z.view.lstPages.droppable(v7z),U7z.view.lstPages.container.addEventListener(v0R.a1Y,function(E7z){return U7z.onFieldDoubleClick(E7z);}),U7z.view.lstPages.container.disableSelection());U7z.view.lstRows&&(U7z.view.lstRows.droppable(v7z),U7z.view.lstRows.container.addEventListener(v0R.a1Y,function(H7z){return U7z.onFieldDoubleClick(H7z);}),U7z.view.lstRows.container.disableSelection());U7z.view.lstColumns&&(U7z.view.lstColumns.droppable(v7z),U7z.view.lstColumns.container.addEventListener(v0R.a1Y,function(Z7z){return U7z.onFieldDoubleClick(Z7z);}),U7z.view.lstColumns.container.disableSelection());U7z.view.lstMeasures&&(U7z.view.lstMeasures.container.addEventListener(P8R.H2C,function(y7z){return U7z.onMeasureFieldClick(y7z);}),U7z.view.lstMeasures.container.addEventListener(v0R.a1Y,function(d7z){return U7z.onFieldDoubleClick(d7z);}),U7z.view.lstMeasures.droppable(v7z),U7z.view.lstMeasures.container.disableSelection());U7z.view.btnAddMeasure&&U7z.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return U7z.onAddMeasureClick();});U7z.view.btnCollapseExpand&&U7z.view.btnCollapseExpand.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return U7z.onCollapseExpandClick();});U7z.view.inpSearch&&(U7z.view.inpSearch.setChangeDelay(P8R.m0C),U7z.view.inpSearch.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return U7z.onSearchChange();}));return U7z;}C5z.prototype.onDragLeave=function(A9t,R9t,Q9t,k9t){this.removeDropIndicator();A9t&&A9t.closest(v9VV.I3C)&&R9t&&(R9t.removeClass(W9VV.D3Y),R9t.removeClass(W9VV.x3Y));};C5z.prototype.onDrop=function(f9t,i9t,E9t,J9t){var V0R=v9VV;this.removeDropIndicator();f9t&&f9t.closest(V0R.I3C)&&(i9t instanceof uicontrols.lists.UIList||(i9t=this.getListById(i9t.attr(U9VV.G2C))),J9t=this.getListById(f9t.closest(V0R.I3C).attr(U9VV.G2C)),!U9VV.O8C!=this.isDropAllowed(this.getDataByElement(f9t,J9t),J9t,i9t)&&(E9t=E9t?parseFloat(E9t.attr(V0R.d3C)):i9t.getDataProvider().length,f9t=parseInt(f9t.attr(V0R.d3C)),J9t!=i9t||f9t!=E9t))&&(J9t==this.view.lstHierarchies&&i9t!=this.view.lstHierarchies?this.addField(J9t,i9t,f9t,E9t):this.moveField(J9t,i9t,f9t,E9t),this.validateView());};C5z.prototype.showIndicator=function(H9t){var Z9t=H9t.closest(v9VV.y3C);U9VV.x4C!=Z9t?(this._dropIndicator=this.createDropIndicator(),Z9t.before(this._dropIndicator)):(H9t=H9t.closest(v9VV.I3C),U9VV.x4C!=H9t&&(this._dropIndicator=this.createDropIndicator(),U9VV.F8C<H9t.element.children.length?H9t.append(this._dropIndicator):H9t.prepend(this._dropIndicator)));};C5z.prototype.createDropIndicator=function(){return new uicontrols.UIElement(U9VV.r4C,W9VV.K3Y);};C5z.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!U9VV.F8C),this._dropIndicator=U9VV.x4C);};C5z.prototype.moveField=function(d9t,S9t,I9t,T9t){var u0R=U9VV;var y9t=d9t.getDataProvider()[I9t];d9t==S9t?(d9t=S9t.getDataProvider(),I9t<T9t&&(T9t-=u0R.O8C),d9t.splice(T9t,u0R.F8C,d9t.splice(I9t,u0R.O8C)[u0R.F8C])):(y9t=d9t.getDataProvider()[I9t],d9t.getDataProvider().splice(I9t,u0R.O8C),d9t.validateNow(),S9t==this.view.lstMeasures&&(this.model.selectField(y9t,!u0R.O8C),y9t=this.model.findMeasure(this.model.toMeasureUniqueName(y9t.uniqueName))),d9t==this.view.lstMeasures&&(this.model.selectField(y9t,!u0R.O8C),y9t=this.model.findHierarchy(this.model.toHierarchyUniqueName(y9t.uniqueName))),u0R.x4C!=y9t&&(this.model.selectField(y9t,!u0R.F8C),this.findAndRemoveField(y9t),S9t.getDataProvider().splice(T9t,u0R.F8C,y9t)));this.validateList(S9t);this.validateSlice();};C5z.prototype.addField=function(w9t,P9t,m9t,U1t){var z0R=U9VV;m9t=w9t.getDataProvider()[m9t];if(m9t.isLevel){m9t.parent.isSelected&&this.findAndRemoveField(m9t.parent);for(var C9t=z0R.F8C;C9t<m9t.parent.children.length;C9t++){var r9t=m9t.parent.children[C9t];r9t.uniqueName!=m9t.uniqueName&&(r9t.isSelected&&this.findAndRemoveField(r9t),r9t.isSelected=!z0R.O8C);}this.validateItemRecursively(this.view.lstHierarchies,m9t);}this.model.isMeasuresAsHierarchies&&P9t==this.view.lstMeasures&&z0R.x4C!=m9t.measureItem&&(m9t=m9t.measureItem);m9t.isSelected?(this.model.selectField(m9t,!z0R.O8C),this.findAndRemoveField(m9t,w9t,!z0R.F8C),this.model.selectField(m9t,!z0R.F8C)):(this.model.selectField(m9t,!z0R.F8C),w9t=utils.ArrayUtils.findIndex(this.view.lstHierarchies.getDataProvider(),m9t.uniqueName,G9VV.M6B),this.validateItemRecursivelyAt(this.view.lstHierarchies,w9t),this.view.lstHierarchies.validateItemAt(w9t));P9t.getDataProvider().splice(U1t,z0R.F8C,m9t);this.validateList(P9t);this.validateSlice();};C5z.prototype.removeField=function(G1t,W1t){var D0R=U9VV;if(!(G1t.getDataProvider().length<=W1t)){var v1t=G1t.getDataProvider()[W1t];v1t.isValues||(G1t.getDataProvider().splice(W1t,D0R.O8C),this.validateList(G1t),v1t=this.model.findItem(v1t.uniqueName,v1t.isMeasure),D0R.x4C!=v1t&&(this.model.selectField(v1t,!D0R.O8C),this.validateItemRecursively(this.view.lstHierarchies,D0R.x4C!=v1t.hierarchyItem?v1t.hierarchyItem:v1t),v1t.isLevel&&(this.model.selectField(v1t.parent,!D0R.O8C),this.validateItemRecursively(this.view.lstHierarchies,v1t.parent))),this.validateSlice());}};C5z.prototype.findAndRemoveField=function(B1t,p1t,X1t){var x0R=U9VV;var s3Y="hierarchyName";void x0R.F8C===p1t&&(p1t=x0R.x4C);void x0R.F8C===X1t&&(X1t=!x0R.O8C);for(var l1t=-x0R.O8C,V1t=x0R.F8C;V1t<this.lists.length;V1t++)this.lists[V1t]==p1t||this.lists[V1t]==this.view.lstMeasures&&X1t||(l1t=utils.ArrayUtils.findIndex(this.lists[V1t].getDataProvider(),B1t.uniqueName,G9VV.M6B),-x0R.O8C==l1t&&(l1t=utils.ArrayUtils.findIndex(this.lists[V1t].getDataProvider(),B1t.uniqueName,s3Y)),-x0R.O8C<l1t&&(this.lists[V1t].getDataProvider().splice(l1t,x0R.O8C),this.validateList(this.lists[V1t])));};C5z.prototype.getListById=function(Y1t){switch(Y1t){case this.view.lstHierarchies.getId():return this.view.lstHierarchies;case this.view.lstPages.getId():return this.view.lstPages;case this.view.lstRows.getId():return this.view.lstRows;case this.view.lstColumns.getId():return this.view.lstColumns;case this.view.lstMeasures.getId():return this.view.lstMeasures;}return U9VV.x4C;};C5z.prototype.update=function(z1t,N1t,q1t,u1t){var F0R=U9VV;void F0R.F8C===q1t&&(q1t=F0R.C4C);void F0R.F8C===u1t&&(u1t=!F0R.F8C);u1t&&this.model.update(z1t,N1t,q1t);this.updateView();};C5z.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model.isValidSlice());};Object.defineProperty(C5z.prototype,W9VV.l3Y,{get:function(){return this.model.isExpandAll;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});C5z.prototype.updateView=function(){var O0R=U9VV;var D1t=this;this.view.reset&&this.view.reset();this.view.btnAddMeasure&&this.view.btnAddMeasure.isVisible(this.model.isCalculatedAvailable);this.view.lstHierarchies&&this.view.lstHierarchies.setDataProvider(this.model.hierarchies,!O0R.O8C);this.view.lstPages&&this.view.lstPages.setDataProvider(this.model.pages,!O0R.O8C);this.view.lstRows&&this.view.lstRows.setDataProvider(this.model.rows,!O0R.O8C);this.view.lstColumns&&this.view.lstColumns.setDataProvider(this.model.columns,!O0R.O8C);this.view.lstMeasures&&this.view.lstMeasures.setDataProvider(this.model.measures,!O0R.O8C);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders);this.view.searchWrap&&this.view.searchWrap.isVisible(this.model.isSearchNeeded);this.view.inpSearch&&(this.view.inpSearch.clear(!O0R.O8C),this.model.clearSearch());this.view.setLabels();this.view.container.requestAnimationFrame(function(){D1t.validateView();});};C5z.prototype.validateList=function(x1t){var K1t=this;x1t.validateNow();var F1t={onDragStart:function(O1t){return K1t.onDragStart(O1t);},createHelper:function(M1t){return K1t.view.createHelper(M1t);}};utils.browserVersion().isMobile&&(F1t.handle=W9VV.F3Y);var s1t=x1t.container.find(v9VV.y3C,!U9VV.F8C);if(x1t==this.view.lstHierarchies)for(x1t=U9VV.F8C;x1t<s1t.length;x1t++)s1t[x1t].hasClass(W9VV.O3Y)&&!s1t[x1t].hasClass(W9VV.M3Y)||s1t[x1t].draggable(F1t);else for(x1t.droppable({onDrop:function(b1t,j1t,g1t,o1t){return K1t.onDrop(b1t,j1t,g1t,o1t);},onDragEnter:function(n1t,t1t,c1t,L1t){return K1t.onDragEnterOrOver(n1t,t1t,c1t,L1t);},onDragOver:function(a1t,e1t,h1t,R1t){return K1t.onDragEnterOrOver(a1t,e1t,h1t,R1t);},onDragLeave:function(A1t,Q1t,k1t,f1t){return K1t.onDragLeave(A1t,Q1t,k1t,f1t);},itemSelector:v9VV.y3C}),x1t=U9VV.F8C;x1t<s1t.length;x1t++)s1t[x1t].draggable(F1t);};C5z.prototype.validateView=function(){try{this.validateSlice(),this.validateList(this.view.lstHierarchies),this.validateList(this.view.lstPages),this.validateList(this.view.lstRows),this.validateList(this.view.lstColumns),this.validateList(this.view.lstMeasures);}catch(i1t){}};return C5z;}(events.EventDispatcher);w5z.PivotFieldsController=r5z;}(m5z._pivot||(m5z._pivot={})));}(T5z.config||(T5z.config={})));}(I5z._view||(I5z._view={})));}(pivot||(pivot={})));(function(J1t){(function(E1t){(function(H1t){(function(y1t){var Z1t=function(S1t){__extends(d1t,S1t);function d1t(T1t,m1t){var b3Y="wdr-pivot-fields";var I1t=S1t.call(this,m1t)||this;I1t.toolbarHeight=U9VV.F8C;I1t.controller=T1t;I1t.addClass(b3Y);I1t.setControls();I1t.container.disableSelection();I1t.container.resizable({sides:[U9VV.M2C,U9VV.j2C],resize:function(w1t){return I1t.onViewResize(w1t);}});return I1t;}d1t.prototype.onViewResize=function(r1t){this.setWidth(r1t.size.width+(r1t.size.width-r1t.originalSize.width));this.addLayoutClasses();this.centerPosition();};d1t.prototype.setControls=function(){var t0R=v9VV;var n0R=W9VV;var o0R=U9VV;var V6Y="wdr-wrap-measures";var W6Y="wdr-list-wrap wdr-list-wrap-measures";var G6Y="wdr-lst-columns";var v6Y="wdr-wrap-columns";var U6Y="wdr-list-wrap wdr-list-wrap-cols";var P3Y="wdr-lst-rows";var C3Y="wdr-wrap-rows";var r3Y="wdr-list-wrap wdr-list-wrap-rows";var m3Y="wdr-lst-pages";var I3Y="wdr-wrap-pages";var S3Y="wdr-list-wrap wdr-list-wrap-pages";var i3Y="button";var k3Y="wdr-btn-collapse-expand-all";var Q3Y="wdr-ui-link-btn";var A3Y="wdr-list-header-label-wrap";var R3Y="wdr-list-header wdr-list-header-wide";var h3Y="wdr-list-wrap wdr-list-wrap-all";var e3Y="wdr-ui-col-3";var v8t=this,G8t=new uicontrols.UIComponentBase(o0R.r4C,n0R.j3Y);this.addChild(G8t);var C1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.g3Y);G8t.addChild(C1t);this.lblTitle=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(n0R.m1Y);C1t.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.lblSubtitle.addClass(n0R.o3Y);C1t.addChild(this.lblSubtitle);C1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.n3Y);G8t.addChild(C1t);this.btnAddMeasure=new uicontrols.UIButton(n0R.t3Y);this.btnAddMeasure.setId(n0R.c3Y);this.btnAddMeasure.setLabel(J1t.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);C1t.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(J1t.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(n0R.V8Y);this.btnOk.setLabel(J1t.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(C1t.addChild(this.btnCancel),C1t.addChild(this.btnOk)):(C1t.addChild(this.btnOk),C1t.addChild(this.btnCancel));G8t=new uicontrols.UIComponentBase(o0R.r4C,n0R.L3Y);this.addChild(G8t);var W8t=new uicontrols.UIComponentBase(o0R.r4C,n0R.a3Y);G8t.addChild(W8t);C1t=new uicontrols.UIComponentBase(o0R.r4C,e3Y);W8t.addChild(C1t);var U8t=new uicontrols.UIComponentBase(o0R.r4C,h3Y);C1t.addChild(U8t);var P1t=new uicontrols.UIComponentBase(o0R.r4C,R3Y);U8t.addChild(P1t);C1t=new uicontrols.UIComponentBase(o0R.r4C,A3Y);P1t.addChild(C1t);this.lblHierarchies=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);C1t.addChild(this.lblHierarchies);this.btnCollapseExpand=new uicontrols.UIButton(Q3Y);this.btnCollapseExpand.removeClass(o0R.E2C);this.btnCollapseExpand.setId(k3Y);this.btnCollapseExpand.setLabel(J1t.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);C1t.addChild(this.btnCollapseExpand);this.searchWrap=new uicontrols.UIComponentBase(o0R.r4C,n0R.f3Y);P1t.addChild(this.searchWrap);C1t=new uicontrols.UIComponentBase(i3Y,n0R.J3Y);C1t.addEventListener(o0R.H2C,function(){return v8t.onSearchClick();});this.searchWrap.addChild(C1t);P1t=new uicontrols.UIComponentBase(o0R.I2C,n0R.E3Y);C1t.addChild(P1t);this.inpSearch=new uicontrols.UITextInput();this.inpSearch.addClass(n0R.H3Y);this.searchWrap.addChild(this.inpSearch);C1t=new uicontrols.UIComponentBase(o0R.I2C,n0R.Z3Y);C1t.addEventListener(o0R.H2C,function(){return v8t.onSearchCloseClick();});this.searchWrap.addChild(C1t);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.y3Y);U8t.addChild(P1t);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(n0R.d3Y);this.lstHierarchies.setItemRendererFactory(function(V8t,l8t){return v8t.selectableItemRendererFactory(V8t,l8t);});this.lstHierarchies.setLabelField(t0R.W0B);P1t.addChild(this.lstHierarchies);C1t=new uicontrols.UIComponentBase(o0R.r4C,e3Y);W8t.addChild(C1t);U8t=new uicontrols.UIComponentBase(o0R.r4C,S3Y);U8t.setId(I3Y);C1t.addChild(U8t);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.T3Y);U8t.addChild(P1t);this.lblPages=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_FILTERS);P1t.addChild(this.lblPages);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.y3Y);U8t.addChild(P1t);this.lstPages=new uicontrols.lists.UIList();this.lstPages.setId(m3Y);this.lstPages.setItemRendererFactory(function(p8t,X8t){return v8t.fieldItemRendererFactory(p8t,X8t);});this.lstPages.setLabelField(t0R.W0B);P1t.addChild(this.lstPages);this.lblPagesPrompt=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblPagesPrompt.addClass(n0R.w3Y);U8t.addChild(this.lblPagesPrompt);U8t=new uicontrols.UIComponentBase(o0R.r4C,r3Y);U8t.setId(C3Y);C1t.addChild(U8t);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.T3Y);U8t.addChild(P1t);this.lblRows=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_ROWS);P1t.addChild(this.lblRows);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.y3Y);U8t.addChild(P1t);this.lstRows=new uicontrols.lists.UIList();this.lstRows.setId(P3Y);this.lstRows.setItemRendererFactory(function(B8t,Y8t){return v8t.fieldItemRendererFactory(B8t,Y8t);});this.lstRows.setLabelField(t0R.W0B);P1t.addChild(this.lstRows);this.lblRowsPrompt=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.addClass(n0R.w3Y);U8t.addChild(this.lblRowsPrompt);C1t=new uicontrols.UIComponentBase(o0R.r4C,e3Y);W8t.addChild(C1t);U8t=new uicontrols.UIComponentBase(o0R.r4C,U6Y);U8t.setId(v6Y);C1t.addChild(U8t);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.T3Y);U8t.addChild(P1t);this.lblColumns=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_COLUMNS);P1t.addChild(this.lblColumns);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.y3Y);U8t.addChild(P1t);this.lstColumns=new uicontrols.lists.UIList();this.lstColumns.setId(G6Y);this.lstColumns.setItemRendererFactory(function(q8t,u8t){return v8t.fieldItemRendererFactory(q8t,u8t);});this.lstColumns.setLabelField(t0R.W0B);P1t.addChild(this.lstColumns);this.lblColumnsPrompt=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.addClass(n0R.w3Y);U8t.addChild(this.lblColumnsPrompt);U8t=new uicontrols.UIComponentBase(o0R.r4C,W6Y);U8t.setId(V6Y);C1t.addChild(U8t);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.T3Y);U8t.addChild(P1t);this.lblMeasures=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_VALUES);P1t.addChild(this.lblMeasures);P1t=new uicontrols.UIComponentBase(o0R.r4C,n0R.y3Y);U8t.addChild(P1t);this.lstMeasures=new uicontrols.lists.UIList();this.lstMeasures.setId(n0R.l6Y);this.lstMeasures.setItemRendererFactory(function(z8t,N8t){return v8t.fieldItemRendererFactory(z8t,N8t);});this.lstMeasures.setLabelField(t0R.W0B);P1t.addChild(this.lstMeasures);this.lblMeasuresPrompt=new uicontrols.UILabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.addClass(n0R.w3Y);U8t.addChild(this.lblMeasuresPrompt);this.aggrView=new H1t.AggregationsView();this.aggrView.setId(n0R.p6Y);this.aggrView.hide();G8t.addChild(this.aggrView);};d1t.prototype.setLabels=function(){this.lblTitle.setLabel(J1t.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(J1t.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.btnCancel.setLabel(J1t.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(J1t.model._labels.Labels.BUTTON_APPLY);this.lblHierarchies.setLabel(J1t.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);this.lblPages.setLabel(J1t.model._labels.Labels.FIELDS_LIST_FILTERS);this.lblRows.setLabel(J1t.model._labels.Labels.FIELDS_LIST_ROWS);this.lblColumns.setLabel(J1t.model._labels.Labels.FIELDS_LIST_COLUMNS);this.lblMeasures.setLabel(J1t.model._labels.Labels.FIELDS_LIST_VALUES);this.btnAddMeasure.setLabel(J1t.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);this.lblPagesPrompt.setLabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.setLabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.setLabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.setLabel(J1t.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.btnCollapseExpand.setLabel(this.controller.isExpandAll?J1t.model._labels.Labels.FIELDS_LIST_EXPAND_ALL:J1t.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);};d1t.prototype.fieldItemRendererFactory=function(x8t,K8t){var D8t=new H1t.renderers.FieldItemRenderer();D8t.setData(x8t);D8t.setIndex(K8t);return D8t;};d1t.prototype.selectableItemRendererFactory=function(O8t,F8t){var s8t=new H1t.renderers.SelectableItemRenderer(O8t,F8t);s8t.setIndex(F8t);return s8t;};d1t.prototype.onSearchClick=function(){this.searchWrap.addClass(W9VV.X6Y);this.inpSearch.container.focus();};d1t.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(W9VV.X6Y);this.inpSearch.clear();};d1t.prototype.reset=function(){this.searchWrap.removeClass(W9VV.X6Y);this.inpSearch.clear(!U9VV.O8C);};d1t.prototype.createHelper=function(b8t){var R0R=W9VV;var h0R=U9VV;var M8t=new uicontrols.UIElement(h0R.I2C);M8t.attr(h0R.G2C,R0R.B6Y);M8t.addClass(R0R.b2Y);M8t.addClass(h0R.k4C);M8t.toggleClass(R0R.Y6Y,b8t.hasClass(R0R.Y6Y));M8t.css(h0R.s2C,b8t.css(h0R.s2C));M8t.css(h0R.F3C,h0R.O3C);M8t.css(R0R.g2Y,h0R.o0C);M8t.attr(v9VV.d3C,b8t.attr(v9VV.d3C));M8t.text(b8t.text());return M8t;};d1t.prototype.addLayoutClasses=function(j8t){S1t.prototype.addLayoutClasses.call(this,!U9VV.F8C);};return d1t;}(uicontrols.containers.UIPopup);y1t.PivotFieldsView=Z1t;}(H1t._pivot||(H1t._pivot={})));}(E1t.config||(E1t.config={})));}(J1t._view||(J1t._view={})));}(pivot||(pivot={})));(function(g8t){(function(o8t){(function(n8t){var t8t=function(L8t){var y7x=U9VV;var t6Y="EVENT_OPEN";var n6Y="EVENT_APPLY_SLICE";var o6Y="isOpen";var j6Y="containtment";var b6Y="modalParent";var M6Y="isForDillThrough";var O6Y="hasChanged";var F6Y="isSliceChange";var s6Y="isDataSourceChange";var K6Y="isActiveChange";var x6Y="isFlatChange";var u6Y="wdr-fields-opened";__extends(c8t,L8t);c8t.prototype.setControls=function(){var q6Y="wdr-btn-open-fields";var e8t=this;this.openBtn=new uicontrols.UIButton();this.openBtn.setId(q6Y);this.openBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(h8t){return e8t.onOpenClick();});this.addChild(this.openBtn);};c8t.prototype.open=function(A8t,Q8t,R8t){var D6Y="wdr-dt-fields-overlay";var N6Y="wdr-dt-fields";var z6Y="wdr-fields-view";void y7x.F8C===R8t&&(R8t=y7x.C4C);this.container.toggleClass(u6Y,!y7x.F8C);this.isForDillThrough||(g8t.model.JavaScriptHandlers.getInstance().dispatch(new g8t.model.APIEvent(g8t.model.JavaScriptHandlers.FILDS_LIST_OPEN)),g8t.model._options.OptionsManager.configuratorOpened=!y7x.F8C);this._isFlat=g8t.model._options.OptionsManager.flatView;this.controller=this.getController();this.controller.update(A8t,Q8t,R8t,this.hasChanged);this.controller.view.setId(z6Y);this.controller.view.container.toggleClass(N6Y,this.isForDillThrough);this.controller.view.overlay.container.toggleClass(D6Y,this.isForDillThrough);this._modalParent?this._modalParent.addChild(this.controller.view.container):this.addChild(this.controller.view);this.isVisible()||this.show();this.controller.view.open();this._isActive=!y7x.F8C;this._prevSlice=g8t.data_.Cube.getInstance().slice_?g8t.data_.Cube.getInstance().slice_.clone():y7x.x4C;this._connectionInfo=g8t.data_.Cube.getInstance().connectionInfo_;};Object.defineProperty(c8t.prototype,x6Y,{get:function(){return this._isFlat!=g8t.model._options.OptionsManager.flatView;},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,K6Y,{get:function(){return this._isActive!=g8t.model._options.OptionsManager.configuratorOpened;},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,s6Y,{get:function(){return y7x.x4C==this._connectionInfo||y7x.x4C==g8t.data_.Cube.getInstance().structure_||!this._connectionInfo.isEqual(g8t.data_.Cube.getInstance().connectionInfo_);},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,F6Y,{get:function(){return y7x.x4C==g8t.data_.Cube.getInstance().slice_&&y7x.x4C!=this._prevSlice||y7x.x4C!=g8t.data_.Cube.getInstance().slice_&&y7x.x4C==this._prevSlice||g8t.data_.Cube.getInstance().slice_&&this._prevSlice&&!g8t.data_.Cube.getInstance().slice_.isEqual(this._prevSlice);},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,O6Y,{get:function(){return this.isActiveChange||this.isDataSourceChange||this.isSliceChange||this.isFlatChange;},enumerable:!y7x.F8C,configurable:!y7x.F8C});c8t.prototype.getController=function(){var J8t=this,k8t=y7x.x4C,i8t=this._isFlat||this._isForDillThrough,f8t=this._modalParent||o8t.PivotView.stage.container;y7x.x4C==this.controller?k8t=i8t?new n8t.flat.FlatFieldsController(f8t):new n8t._pivot.PivotFieldsController(f8t):i8t&&G9VV.F6B!=this.controller.type?k8t=new n8t.flat.FlatFieldsController(f8t):i8t||G9VV.s6B==this.controller.type||(k8t=new n8t._pivot.PivotFieldsController(f8t));if(y7x.x4C==k8t)return this.controller;this.controller&&this.controller.removeAllEventListeners();k8t.addEventListener(events._Event.CLOSED,function(){return J8t.onViewClosed();});k8t.addEventListener(c8t.EVENT_APPLY_SLICE,function(E8t){return J8t.onApplySlice(E8t);});return k8t;};c8t.prototype.onApplySlice=function(H8t){this.dispatch(H8t);};c8t.prototype.onViewClosed=function(){this._isActive=void y7x.F8C;this._connectionInfo=y7x.x4C;this._isFlat=void y7x.F8C;this.isForDillThrough||(g8t.model.JavaScriptHandlers.getInstance().dispatch(new g8t.model.APIEvent(g8t.model.JavaScriptHandlers.FILDS_LIST_CLOSE)),g8t.model._options.OptionsManager.getInstance(),g8t.model._options.OptionsManager.configuratorButton?this.show():this.hide(),g8t.model._options.OptionsManager.configuratorOpened=!y7x.O8C,this.dispatchWith(events._Event.CLOSED));this.container.toggleClass(u6Y,!y7x.O8C);};c8t.prototype.close=function(){this.controller&&this.controller.view.close();};c8t.prototype.onOpenClick=function(){this.dispatchWith(c8t.EVENT_OPEN);};Object.defineProperty(c8t.prototype,M6Y,{get:function(){return this._isForDillThrough;},set:function(Z8t){this._isForDillThrough=Z8t;},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,b6Y,{set:function(y8t){this._modalParent=y8t;},enumerable:!y7x.F8C,configurable:!y7x.F8C});Object.defineProperty(c8t.prototype,j6Y,{set:function(d8t){},enumerable:!y7x.F8C,configurable:!y7x.F8C});function c8t(){var g6Y="wdr-fields-view-wrap";var a8t=L8t.call(this)||this;a8t.addClass(g6Y);a8t.setControls();return a8t;}Object.defineProperty(c8t.prototype,o6Y,{get:function(){return this._isActive;},enumerable:!y7x.F8C,configurable:!y7x.F8C});c8t.EVENT_APPLY_SLICE=n6Y;c8t.EVENT_OPEN=t6Y;return c8t;}(uicontrols.UIComponentBase);n8t.FieldsView=t8t;}(o8t.config||(o8t.config={})));}(g8t._view||(g8t._view={})));}(pivot||(pivot={})));(function(S8t){(function(I8t){(function(T8t){(function(w8t){var m8t=function(C8t){__extends(r8t,C8t);function r8t(){var P8t=C8t.call(this)||this;P8t.createTextDisplay();return P8t;}r8t.prototype.createTextDisplay=function(){U9VV.x4C==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(U9VV.I2C),this.textDisplay.attr(U9VV.G2C,W9VV.c6Y));};r8t.prototype.createArrgDisplay=function(){U9VV.x4C==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(U9VV.I2C),this.aggrDisplay.attr(U9VV.G2C,W9VV.u3Y));};r8t.prototype.createDragHandle=function(){U9VV.x4C==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(U9VV.I2C),this.dragHandle.attr(U9VV.G2C,W9VV.B6Y));};r8t.prototype.draw=function(){var y0R=W9VV;var Z0R=U9VV;var U0t=this.getData();this.container.empty();var v0t=Z0R.C4C,v0t=Z0R.x4C!=this.getLabelFunction()?this.getLabelFunction()(U0t):U0t.isLevel?U0t.hierarchyCaption+y0R.F8Y+U0t[this.getLabelField()]:U0t[this.getLabelField()];this.textDisplay.text(v0t);this.textDisplay.attr(y0R.y2Y,v0t);this.container.append(this.textDisplay);!Z0R.F8C==U0t.isMeasure&&!Z0R.F8C==U0t.showAggregations&&Z0R.O8C<U0t.availableAggregations.length&&S8t.model._options.OptionsManager.showAggregations&&(this.createArrgDisplay(),this.container.append(this.aggrDisplay));this.createDragHandle();this.container.append(this.dragHandle);this.container.toggleClass(y0R.L6Y,!Z0R.F8C===U0t.isMeasure);this.container.toggleClass(y0R.Y6Y,!Z0R.F8C===U0t.isValues);this.container.toggleClass(Z0R.Y3C,!Z0R.F8C===U0t.isSelected);this.container.toggleClass(y0R.a6Y,!Z0R.F8C===U0t.isLevel);};return r8t;}(uicontrols.renderers.UIItemRenderer);w8t.FieldItemRenderer=m8t;}(T8t.renderers||(T8t.renderers={})));}(I8t.config||(I8t.config={})));}(S8t._view||(S8t._view={})));}(pivot||(pivot={})));(function(G0t){(function(W0t){(function(V0t){(function(p0t){var l0t=function(B0t){__extends(X0t,B0t);X0t.prototype.createIconDisplay=function(){var e6Y="wdr-icon-display";U9VV.x4C==this.iconDisplay&&(this.iconDisplay=new uicontrols.UIElement(U9VV.I2C),this.iconDisplay.attr(U9VV.G2C,e6Y));};X0t.prototype.createMoreIconDisplay=function(){U9VV.x4C==this.moreIconDisplay&&(this.moreIconDisplay=new uicontrols.UIElement(U9VV.I2C),this.moreIconDisplay.attr(U9VV.G2C,W9VV.N3Y));};function X0t(q0t,u0t){void U9VV.F8C===q0t&&(q0t=U9VV.x4C);var Y0t=B0t.call(this)||this;Y0t.data=q0t;Y0t.createIconDisplay();Y0t.createTextDisplay();return Y0t;}X0t.prototype.createTextDisplay=function(){U9VV.x4C==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(U9VV.I2C),this.textDisplay.attr(U9VV.G2C,W9VV.c6Y));};X0t.prototype.createArrgDisplay=function(){U9VV.x4C==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(U9VV.I2C),this.aggrDisplay.attr(U9VV.G2C,W9VV.u3Y));};X0t.prototype.createCalcDisplay=function(){U9VV.x4C==this.calcDisplay&&(this.calcDisplay=new uicontrols.UIElement(U9VV.I2C),this.calcDisplay.attr(U9VV.G2C,W9VV.z3Y));};X0t.prototype.createDragHandle=function(){U9VV.x4C==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(U9VV.I2C),this.dragHandle.attr(U9VV.G2C,W9VV.B6Y));};X0t.prototype.draw=function(){var V4R=U9VV;var W4R=W9VV;var k6Y="wdr-calculated";var Q6Y="wdr-measures-calculated-folder";var A6Y="wdr-measures-folder";var R6Y="wdr-unchecked";var h6Y="wdr-checked";var z0t=this.getData();this.container.empty();this.container.append(this.iconDisplay);z0t.isLevelFolder&&(this.createMoreIconDisplay(),this.container.append(this.moreIconDisplay));this.textDisplay.text(z0t[this.getLabelField()]);this.textDisplay.attr(W4R.y2Y,z0t[this.getLabelField()]);this.container.append(this.textDisplay);!V4R.F8C===z0t.isMeasure&&!V4R.F8C===z0t.calculated&&!V4R.F8C===z0t.showAggregations&&(this.createCalcDisplay(),this.container.append(this.calcDisplay));z0t.isFolder||z0t.isMeasuresFolder?V4R.x4C!=this.dragHandle&&this.dragHandle.remove():(this.createDragHandle(),this.container.append(this.dragHandle));for(var D0t=!V4R.F8C===z0t.isSelected||V4R.x4C!=z0t.measureItem&&!V4R.F8C===z0t.measureItem.isSelected,N0t=V4R.O8C;V4R.L8C>N0t;N0t++)this.container.toggleClass(W4R.D0Y+N0t,z0t.level===N0t);this.container.toggleClass(V4R.Y3C,!V4R.F8C===D0t);this.container.toggleClass(h6Y,!V4R.F8C!==z0t.isFolder&&!V4R.F8C!==z0t.isLevel&&!V4R.F8C===D0t);this.container.toggleClass(R6Y,!V4R.F8C!==z0t.isFolder&&!V4R.F8C!==z0t.isLevel&&!V4R.F8C!==D0t);this.container.toggleClass(W4R.L6Y,!V4R.F8C===z0t.isMeasure);this.container.toggleClass(W4R.O3Y,!V4R.F8C===z0t.isFolder||!V4R.F8C===z0t.isLevelFolder);this.container.toggleClass(W4R.M3Y,!V4R.F8C===z0t.isLevelFolder);this.container.toggleClass(W4R.a6Y,!V4R.F8C===z0t.isLevel);this.container.toggleClass(A6Y,!V4R.F8C===z0t.isMeasuresFolder);this.container.toggleClass(Q6Y,!V4R.F8C===z0t.isMeasuresFolder&&!V4R.F8C===z0t.isCalculatedMeasuresFolder);this.container.toggleClass(k6Y,!V4R.F8C===z0t.calculated);this.container.toggleClass(W0t.grid.vo.GridStyleName.COLLAPSED,(!V4R.F8C===z0t.isFolder||!V4R.F8C===z0t.isLevelFolder)&&!V4R.F8C!==z0t.isExpanded);this.container.toggleClass(W0t.grid.vo.GridStyleName.EXPANDED,(!V4R.F8C===z0t.isFolder||!V4R.F8C===z0t.isLevelFolder)&&!V4R.F8C===z0t.isExpanded);};return X0t;}(uicontrols.renderers.UIItemRenderer);p0t.SelectableItemRenderer=l0t;}(V0t.renderers||(V0t.renderers={})));}(W0t.config||(W0t.config={})));}(G0t._view||(G0t._view={})));}(pivot||(pivot={})));(function(x0t){(function(K0t){(function(s0t){(function(O0t){var F0t=function(){M0t.prototype.update=function(L0t,c0t){var l4R=U9VV;this._structure=L0t;this._slice=c0t;this.hierarchies=[];var b0t,g0t=l4R.x4C,n0t=this._structure.calculatedMeasures;if(l4R.x4C!=this._slice)for(var g0t=this._slice.flatten(!l4R.F8C),j0t=l4R.F8C;j0t<g0t.length;j0t++)b0t=g0t.getItemAt(j0t),n0t.keyExists(b0t.uniqueName)&&(b0t=n0t.getItem(b0t.uniqueName),b0t.showAggregations=x0t.model._options.OptionsManager.showAggregations,b0t.isMeasure=!l4R.F8C),b0t.isSelected=!l4R.F8C,this.hierarchies.push(b0t);for(var o0t=[],t0t=this._structure.allHierarchies(!l4R.O8C),j0t=l4R.F8C;j0t<t0t.length;j0t++)b0t=t0t.getItemAt(j0t),l4R.x4C==g0t||g0t.keyExists(b0t.uniqueName)||(b0t.isSelected=!l4R.O8C,o0t.push(b0t));for(j0t=l4R.F8C;j0t<n0t.length;j0t++)b0t=n0t.getItemAt(j0t),l4R.x4C==g0t||g0t.keyExists(b0t.uniqueName)||(b0t.isSelected=c0t.measures_.keyExists(b0t.uniqueName)||-l4R.O8C<this.newCalculated.indexOf(b0t.uniqueName),b0t.showAggregations=x0t.model._options.OptionsManager.showAggregations,b0t.isMeasure=!l4R.F8C,o0t.push(b0t));o0t.sort(function(a0t,e0t){return a0t.caption<e0t.caption?-l4R.O8C:a0t.caption>e0t.caption?l4R.O8C:l4R.F8C;});for(j0t=l4R.F8C;j0t<o0t.length;j0t++)b0t=o0t[j0t],this.hierarchies.push(b0t);};M0t.prototype.isValidSlice=function(){return!U9VV.F8C;};M0t.prototype.toPlainArray=function(k0t,Q0t){for(var R0t=[],h0t=U9VV.F8C;h0t<Q0t.length;h0t++){var A0t=k0t[Q0t[h0t]];A0t.isSelected&&R0t.push(A0t.uniqueName);}return R0t;};M0t.prototype.getSlice=function(H0t){var Y4R=U9VV;var f0t=this._slice.clone();H0t=this.toPlainArray(this.hierarchies,H0t);f0t.flatOrder=H0t;for(var y0t=f0t.flatten(!Y4R.F8C),J0t,Z0t=f0t.measures_,E0t=Y4R.F8C;E0t<H0t.length;E0t++){var i0t=H0t[E0t];y0t.keyExists(i0t)||((J0t=this._structure.allHierarchies().getItem(i0t))?f0t.rows.addItem(i0t,J0t):this._structure.calculatedMeasures.keyExists(i0t)&&(Z0t.addItem(i0t,this._structure.calculatedMeasures.getItem(i0t)),f0t.measures_=Z0t));}for(E0t=Y4R.F8C;E0t<y0t.length;E0t++)J0t=y0t.getItemAt(E0t),-Y4R.O8C==H0t.indexOf(J0t.uniqueName)&&(f0t.columns.keyExists(J0t.uniqueName)&&f0t.columns.removeItem(J0t.uniqueName),f0t.rows.keyExists(J0t.uniqueName)&&f0t.rows.removeItem(J0t.uniqueName),i0t=this._structure.hierarchyToMeasure(J0t.uniqueName),Y4R.x4C==i0t&&(i0t=this._structure.calculatedMeasures.getItem(J0t.uniqueName)),Z0t.keyExists(i0t.uniqueName)&&Z0t.removeItem(i0t.uniqueName));f0t.measures_=Z0t;this.newCalculated=[];return f0t;};M0t.prototype.onCalculatedValueAdded=function(S0t){var q4R=U9VV;if(q4R.x4C!=this._slice&&q4R.x4C!=this._structure){this.update(this._structure,this._slice);var d0t=utils.ArrayUtils.find(this.hierarchies,S0t,G9VV.M6B);q4R.x4C!=d0t&&(d0t.isSelected=!q4R.F8C);this.newCalculated.push(S0t);}};M0t.prototype.onCalculatedValueRemoved=function(I0t){U9VV.x4C!=this._slice&&U9VV.x4C!=this._structure&&this.update(this._structure,this._slice);};function M0t(){this.newCalculated=[];}M0t.prototype.isSliceDifferent=function(T0t){var p4R=U9VV;T0t=T0t.flatten(!p4R.F8C);var w0t=this._slice.flatten(!p4R.F8C);if(T0t.length!=w0t.length)return!p4R.F8C;for(var m0t=p4R.F8C;m0t<T0t.length;m0t++)if(T0t.getKeyAt(m0t)!=w0t.getKeyAt(m0t))return!p4R.F8C;return!p4R.O8C;};M0t.prototype.getSelectAllSelection=function(){for(var r0t=U9VV.F8C,C0t=U9VV.F8C;C0t<this.hierarchies.length;C0t++)this.hierarchies[C0t].isSelected&&r0t++;return U9VV.F8C==r0t?uicontrols.UICheckBox.UNSELECTED:r0t==this.hierarchies.length?uicontrols.UICheckBox.SELECTED:uicontrols.UICheckBox.SEMI_SELECTED;};return M0t;}();O0t.FlatFieldsModel=F0t;}(s0t.flat||(s0t.flat={})));}(K0t.config||(K0t.config={})));}(x0t._view||(x0t._view={})));}(pivot||(pivot={})));(function(P0t){(function(U4t){(function(v4t){(function(G4t){var W4t=function(l4t){var f6Y="wdr-drag-over";__extends(V4t,l4t);V4t.prototype.onDragEnterOrOver=function(L4t,a4t,h4t,e4t){this.removeDropIndicator();L4t&&L4t.closest(v9VV.I3C)&&(a4t&&a4t.addClass(W9VV.D3Y),L4t.addClass(f6Y),this.showIndicator(uicontrols.UIElement.convert(e4t.target)));};V4t.prototype.onDragLeave=function(A4t,R4t,Q4t,k4t){this.removeDropIndicator();A4t&&A4t.closest(v9VV.I3C)&&(R4t&&R4t.removeClass(W9VV.D3Y),R4t&&R4t.removeClass(W9VV.x3Y),A4t.removeClass(f6Y));};V4t.prototype.onDrop=function(f4t,J4t,i4t,E4t){var D8R=U9VV;this.removeDropIndicator();f4t&&f4t.closest(v9VV.I3C)&&(f4t=parseInt(f4t.attr(v9VV.d3C)),i4t=i4t?parseFloat(i4t.attr(v9VV.d3C)):this.view.lstHierarchies.getDataProvider().length,f4t!=i4t&&(J4t=this.view.lstHierarchies.getDataProvider(),f4t<i4t&&(i4t-=D8R.O8C),J4t.splice(i4t,D8R.F8C,J4t.splice(f4t,D8R.O8C)[D8R.F8C]),this.updateView()));};V4t.prototype.onCancelClick=function(){this.view.close();};V4t.prototype.onOkClick=function(){this.applySlice();this.view.close();};function V4t(X4t){var p4t=l4t.call(this)||this;p4t.type=G9VV.F6B;p4t.calculatedValueAddedHandler=function(B4t){return p4t.onCalculatedValueAdded(B4t);};p4t.calculatedValueRemovedHandler=function(Y4t){return p4t.onCalculatedValueRemoved(Y4t);};p4t.model_=new G4t.FlatFieldsModel();p4t.view=new G4t.FlatFieldsView(p4t,X4t);p4t.view.addEventListener(events._Event.CLOSED,function(q4t){return p4t.dispatch(q4t);});p4t.view.btnOk&&p4t.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return p4t.onOkClick();});p4t.view.btnCancel&&p4t.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return p4t.onCancelClick();});p4t.view.lstHierarchies&&(p4t.view.lstHierarchies.container.addEventListener(U9VV.H2C,function(u4t){return p4t.onHierarchyFieldClick(u4t);}),p4t.view.lstHierarchies.container.droppable({onDrop:function(z4t,N4t,D4t,x4t){return p4t.onDrop(z4t,N4t,D4t,x4t);},onDragEnter:function(K4t,s4t,F4t,O4t){return p4t.onDragEnterOrOver(K4t,s4t,F4t,O4t);},onDragOver:function(M4t,b4t,j4t,g4t){return p4t.onDragEnterOrOver(M4t,b4t,j4t,g4t);},onDragLeave:function(o4t,n4t,t4t,c4t){return p4t.onDragLeave(o4t,n4t,t4t,c4t);},itemSelector:v9VV.y3C}));p4t.view.selectAllCbx&&p4t.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return p4t.onSelectAllChange();});p4t.view.btnAddMeasure&&p4t.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return p4t.onAddMeasureClick();});return p4t;}V4t.prototype.onSelectAllChange=function(){for(var y4t=this.view.selectAllCbx.checked,Z4t=this.model_.hierarchies,H4t=U9VV.F8C;H4t<Z4t.length;H4t++)Z4t[H4t].isSelected=y4t;this.view.lstHierarchies.validateNow();};V4t.prototype.onHierarchyFieldClick=function(I4t){var d4t=uicontrols.UIElement.convert(I4t.target).closest(v9VV.y3C);if(U9VV.x4C!=d4t){var d4t=parseInt(d4t.attr(v9VV.d3C)),S4t=this.model_.hierarchies[d4t];W9VV.z3Y==uicontrols.UIElement.convert(I4t.target).attr(U9VV.G2C)?P0t.model.PivotModel.getInstance().dispatchWith(U4t.ViewEvent.CALCULATED_VIEW_OPEN,U9VV.x4C,{measureName:S4t.uniqueName}):(S4t.isSelected=!S4t.isSelected,this.view.lstHierarchies&&this.view.lstHierarchies.validateItemAt(d4t),this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection()));}};V4t.prototype.onAddMeasureClick=function(){P0t.model.PivotModel.getInstance().dispatchWith(U4t.ViewEvent.CALCULATED_VIEW_OPEN);P0t.model.PivotModel.getInstance().addEventListener(U4t.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);P0t.model.PivotModel.getInstance().addEventListener(U4t.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);};V4t.prototype.onCalculatedValueAdded=function(T4t){P0t.model.PivotModel.getInstance().removeEventListener(U4t.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model_.onCalculatedValueAdded(T4t.data.measureUniqueName);this.updateView();};V4t.prototype.onCalculatedValueRemoved=function(m4t){P0t.model.PivotModel.getInstance().removeEventListener(U4t.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model_.onCalculatedValueRemoved(m4t.data);this.updateView();};V4t.prototype.updateView=function(){var P4t=this;if(this.view.lstHierarchies){this.view.lstHierarchies.setDataProvider(this.model_.hierarchies);this.validateSlice();this.view.lstHierarchies.validateNow();var r4t={createHelper:function(U2t){return P4t.view.createHelper(U2t);}};utils.browserVersion().isMobile&&(r4t.handle=W9VV.F3Y);for(var C4t=this.view.lstHierarchies.container.find(v9VV.y3C,!U9VV.F8C),w4t=U9VV.F8C;w4t<C4t.length;w4t++)C4t[w4t].draggable(r4t);}};V4t.prototype.update=function(v2t,G2t){this.model_.update(v2t,G2t);this.updateView();this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection());this.view.setLabels();};V4t.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model_.isValidSlice());};V4t.prototype.applySlice=function(){for(var W2t=[],l2t=this.view.lstHierarchies.container.find(v9VV.y3C,!U9VV.F8C),V2t=U9VV.F8C;V2t<l2t.length;V2t++){var p2t=parseInt(l2t[V2t].attr(v9VV.d3C));W2t.push(p2t);}W2t=this.model_.getSlice(W2t);this.model_.isSliceDifferent(W2t)&&this.dispatchWith(v4t.FieldsView.EVENT_APPLY_SLICE,this,W2t);};V4t.prototype.showIndicator=function(X2t){var B2t=X2t.closest(v9VV.y3C);U9VV.x4C!=B2t?(this._dropIndicator=this.createDropIndicator(),B2t.before(this._dropIndicator)):(X2t=X2t.closest(v9VV.I3C),U9VV.x4C!=X2t&&(this._dropIndicator=this.createDropIndicator(),U9VV.F8C<X2t.element.children.length?X2t.append(this._dropIndicator):X2t.prepend(this._dropIndicator)));};V4t.prototype.createDropIndicator=function(){return new uicontrols.UIElement(U9VV.r4C,W9VV.K3Y);};V4t.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!U9VV.F8C),this._dropIndicator=U9VV.x4C);};return V4t;}(events.EventDispatcher);G4t.FlatFieldsController=W4t;}(v4t.flat||(v4t.flat={})));}(U4t.config||(U4t.config={})));}(P0t._view||(P0t._view={})));}(pivot||(pivot={})));(function(Y2t){(function(q2t){(function(u2t){(function(N2t){var z2t=function(x2t){__extends(D2t,x2t);D2t.prototype.setControls=function(){var y1R=W9VV;var Z1R=U9VV;var J6Y="wdr-select-all-cbx";var i6Y="wdr-list-wrap";var M2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.j3Y);this.addChild(M2t);var O2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.g3Y);M2t.addChild(O2t);this.lblTitle=new uicontrols.UILabel(Y2t.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(y1R.m1Y);O2t.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(Y2t.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.lblSubtitle.addClass(y1R.o3Y);O2t.addChild(this.lblSubtitle);O2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.n3Y);M2t.addChild(O2t);this.btnAddMeasure=new uicontrols.UIButton(y1R.t3Y);this.btnAddMeasure.setId(y1R.c3Y);O2t.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(Y2t.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(y1R.V8Y);this.btnOk.setLabel(Y2t.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(O2t.addChild(this.btnCancel),O2t.addChild(this.btnOk)):(O2t.addChild(this.btnOk),O2t.addChild(this.btnCancel));O2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.L3Y);this.addChild(O2t);M2t=new uicontrols.UIComponentBase(Z1R.r4C,i6Y);O2t.addChild(M2t);O2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.T3Y);M2t.addChild(O2t);this.selectAllCbx=new uicontrols.UICheckBox();this.selectAllCbx.setId(J6Y);this.selectAllCbx.setLabel(Y2t.model._labels.Labels.FILTER_SELECT_ALL);O2t.addChild(this.selectAllCbx);O2t=new uicontrols.UIComponentBase(Z1R.r4C,y1R.y3Y);M2t.addChild(O2t);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(y1R.d3Y);this.lstHierarchies.setItemRendererFactory(this.selectableItemRendererFactory);this.lstHierarchies.setLabelField(v9VV.W0B);O2t.addChild(this.lstHierarchies);};D2t.prototype.selectableItemRendererFactory=function(j2t,g2t){var b2t=new u2t.renderers.SelectableItemRenderer(j2t,g2t);b2t.setData(j2t);b2t.setIndex(g2t);return b2t;};D2t.prototype.setLabels=function(){this.lblTitle.setLabel(Y2t.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(Y2t.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.btnCancel.setLabel(Y2t.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(Y2t.model._labels.Labels.BUTTON_APPLY);this.selectAllCbx.setLabel(Y2t.model._labels.Labels.FILTER_SELECT_ALL);};function D2t(s2t,F2t){var E6Y="wdr-flat-fields";var K2t=x2t.call(this,F2t)||this;K2t.addClass(E6Y);K2t.controller=s2t;K2t.setControls();return K2t;}D2t.prototype.createHelper=function(n2t){var A9R=W9VV;var R9R=U9VV;var o2t=new uicontrols.UIElement(R9R.I2C);o2t.attr(R9R.G2C,A9R.B6Y);o2t.addClass(A9R.b2Y);o2t.addClass(R9R.k4C);o2t.toggleClass(A9R.Y6Y,n2t.hasClass(A9R.Y6Y));o2t.css(R9R.s2C,n2t.css(R9R.s2C));o2t.css(R9R.F3C,R9R.O3C);o2t.css(A9R.g2Y,R9R.o0C);o2t.attr(v9VV.d3C,n2t.attr(v9VV.d3C));o2t.text(n2t.text());return o2t;};return D2t;}(uicontrols.containers.UIPopup);N2t.FlatFieldsView=z2t;}(u2t.flat||(u2t.flat={})));}(q2t.config||(q2t.config={})));}(Y2t._view||(Y2t._view={})));}(pivot||(pivot={})));(function(t2t){(function(c2t){(function(L2t){var a2t=function(h2t){var d6Y="EVENT_CALCULATED_VALUE_REMOVED";var y6Y="EVENT_CALCULATED_VALUE_ADDED";__extends(e2t,h2t);e2t.prototype.openView=function(A2t){this.controller.update(A2t);this.open();};function e2t(){var Z6Y="wdr-calculated-view-overlay";var H6Y="wdr-calculated-view";var R2t=h2t.call(this,c2t.PivotView.stage.container)||this;R2t.setId(H6Y);R2t.container.disableSelection();R2t.overlay.addClass(Z6Y);R2t.controller=new L2t.CalculatedController();R2t.controller.addEventListener(events._Event.CLOSE,function(){return R2t.close();});R2t.addChild(R2t.controller.view);return R2t;}e2t.prototype.close=function(){h2t.prototype.close.call(this);this.controller.clear();};e2t.EVENT_CALCULATED_VALUE_ADDED=y6Y;e2t.EVENT_CALCULATED_VALUE_REMOVED=d6Y;e2t.addingMeasureFlag=!U9VV.O8C;return e2t;}(uicontrols.containers.UIPopup);L2t.CalculatedView=a2t;}(c2t.calculated||(c2t.calculated={})));}(t2t._view||(t2t._view={})));}(pivot||(pivot={})));(function(Q2t){(function(k2t){(function(f2t){var i2t=function(){J2t.prototype.update=function(E2t){utils.nullOrEmpty(E2t)||(this.currentMeasure=this.model_.cube_.structure_.findMeasure(E2t));};Object.defineProperty(J2t.prototype,G9VV.T0B,{get:function(){return!U9VV.F8C;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});J2t.prototype.getAllMeasures=function(){return this.model_.getAllMeasures();};J2t.prototype.removeMeasure=function(H2t){f2t.CalculatedView.addingMeasureFlag=!U9VV.F8C;this.model_.removeCalculatedMeasure(H2t.uniqueName);this.model_.dispatchWith(f2t.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,U9VV.x4C,H2t.uniqueName);utils.fmSetTimeout(function(){f2t.CalculatedView.addingMeasureFlag=!U9VV.O8C;},v9VV.N6C);};J2t.prototype.addMeasure=function(S2t,Z2t,d2t){var b0K=U9VV;void b0K.F8C===Z2t&&(Z2t=b0K.C4C);void b0K.F8C===d2t&&(d2t=!b0K.O8C);Z2t=b0K.F8C<Z2t.length?Z2t:this.generateMeasureName();var y2t;if(b0K.x4C!=this.currentMeasure){if(this.currentMeasure.caption!=Z2t||this.currentMeasure.formula!=S2t||this.currentMeasure.individual!=d2t)y2t=new Q2t.data_._structure.GenericMeasure(this.currentMeasure.uniqueName,Z2t),y2t.formula=S2t,y2t.individual=d2t;}else y2t=new Q2t.data_._structure.GenericMeasure(Z2t,Z2t),y2t.formula=S2t,y2t.individual=d2t;b0K.x4C!=y2t&&(f2t.CalculatedView.addingMeasureFlag=!b0K.F8C,k2t.config._pivot.PivotFieldsModel.expandFormulas=!b0K.F8C,this.model_.addCalculatedMeasure(y2t),this.model_.dispatchWith(f2t.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,b0K.x4C,{measureUniqueName:y2t.uniqueName}),utils.fmSetTimeout(function(){f2t.CalculatedView.addingMeasureFlag=!b0K.O8C;},v9VV.N6C));};function J2t(){var O0K=W9VV;var O5Y="MAX";var F5Y="_maxBtn";var s5Y="MIN";var K5Y="_minBtn";var x5Y="ABS";var D5Y="_absBtn";var N5Y="IF";var z5Y="_ifBtn";var u5Y="AND";var q5Y="_andBtn";var Y5Y="OR";var B5Y="_orBtn";var X5Y="_notEqualBtn";var p5Y="_equalBtn2";var l5Y="\u2265";var V5Y="_greaterOrEqualBtn";var W5Y="\u2264";var G5Y="_lessOrEqualBtn";var v5Y="_greaterBtn";var U5Y="_lessBtn";var P6Y="_equalBtn";var C6Y="_powerBtn";var r6Y="\u00f7";var w6Y="_divideBtn";var m6Y="\u00d7";var T6Y="_multiplyBtn";var I6Y="_subtractBtn";var S6Y="_addBtn";this.model_=Q2t.model.PivotModel.getInstance();this.funcButtonsDataProvider=[{name:S6Y,label:v9VV.D7C,func:Q2t.data_.consts.FunctionName.ADD},{name:I6Y,label:U9VV.L2C,func:Q2t.data_.consts.FunctionName.SUBTRACT},{name:T6Y,label:m6Y,func:Q2t.data_.consts.FunctionName.MULTIPLY},{name:w6Y,label:r6Y,func:Q2t.data_.consts.FunctionName.DIVIDE},{name:C6Y,label:v9VV.g9Q,func:Q2t.data_.consts.FunctionName.POWER},{name:P6Y,label:v9VV.h6C,func:Q2t.data_.consts.FunctionName.EQUAL},{name:U5Y,label:O0K.O9Y,func:Q2t.data_.consts.FunctionName.LESS},{name:v5Y,label:O0K.M9Y,func:Q2t.data_.consts.FunctionName.GREATER},{name:G5Y,label:W5Y,func:Q2t.data_.consts.FunctionName.LESS_OR_EQUAL},{name:V5Y,label:l5Y,func:Q2t.data_.consts.FunctionName.GREATER_OR_EQUAL},{name:p5Y,label:O0K.b9Y,func:Q2t.data_.consts.FunctionName.EQUAL_2},{name:X5Y,label:O0K.j9Y,func:Q2t.data_.consts.FunctionName.NOT_EQUAL},{name:B5Y,label:Y5Y,func:Q2t.data_.consts.FunctionName.OR},{name:q5Y,label:u5Y,func:Q2t.data_.consts.FunctionName.AND},{name:z5Y,label:N5Y,func:Q2t.data_.consts.FunctionName.IF},{name:D5Y,label:x5Y,func:Q2t.data_.consts.FunctionName.ABS},{name:K5Y,label:s5Y,func:Q2t.data_.consts.FunctionName.MIN},{name:F5Y,label:O5Y,func:Q2t.data_.consts.FunctionName.MAX}];}J2t.prototype.isValidFormula=function(I2t){I2t=new utils.Lexer().parse(I2t);return U9VV.x4C!=I2t&&void U9VV.F8C!=I2t.length;};J2t.prototype.generateMeasureName=function(){var V0K=U9VV;var M5Y=" #";for(var C2t=Q2t.model._labels.Labels.CALCULATED_VIEW_FORMULA+M5Y,T2t=V0K.F8C,w2t=this.model_.cube_.structure_.calculatedMeasures,P2t=RegExp(Q2t.model._labels.Labels.CALCULATED_VIEW_FORMULA+M5Y),m2t=V0K.F8C;m2t<w2t.length;m2t++){var r2t=w2t.getItemAt(m2t).caption;P2t.test(r2t)&&(T2t=Math.max(T2t,parseInt(r2t.substr(Q2t.model._labels.Labels.CALCULATED_VIEW_FORMULA.length+V0K.M8C))));}return C2t+(T2t+V0K.O8C);};return J2t;}();f2t.CalculatedModel=i2t;}(k2t.calculated||(k2t.calculated={})));}(Q2t._view||(Q2t._view={})));}(pivot||(pivot={})));(function(U3t){(function(v3t){(function(G3t){var W3t=function(l3t){var s7x=U9VV;var t5Y="isFormulaEmpty";var n5Y="funcButtonsDataProvider";var b5Y="wdr-droppable-over";__extends(V3t,l3t);V3t.prototype.onFormulaDragEnterOrOver=function(){this.view.formulaInput.addClass(b5Y);};function V3t(){var p3t=l3t.call(this)||this;p3t.model_=new G3t.CalculatedModel();p3t.view=new G3t.CalculatedViewContent(p3t);p3t.view.removeButton&&p3t.view.removeButton.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(B3t){return p3t.onRemoveBtnClick(B3t);});p3t.view.measuresDragList&&p3t.view.measuresDragList.setItemRendererFactory(function(Y3t,q3t){return p3t.fieldItemRendererFactory(Y3t,q3t);});p3t.view.formulaInput&&p3t.view.formulaInput.container.droppable({onDrop:function(u3t){return p3t.onMeasureDrop(u3t);},onDragEnter:function(){return p3t.onFormulaDragEnterOrOver();},onDragOver:function(){return p3t.onFormulaDragEnterOrOver();},onDragLeave:function(){return p3t.onFormulaDragLeave();},itemSelector:v9VV.y3C});p3t.view.btnOk&&p3t.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return p3t.onOkClick();});p3t.view.btnCancel&&p3t.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return p3t.onCancelClick();});p3t.view.aggrView&&p3t.view.aggrView.addEventListener(events._Event.CHANGE,function(z3t){return p3t.onAggrChange(z3t);});if(p3t.view.funcBtns)for(var X3t=s7x.F8C;X3t<p3t.view.funcBtns.length;X3t++)p3t.view.funcBtns[X3t].addEventListener(uicontrols.UIButton.CLICK_EVENT,function(N3t){return p3t.onFuncBtnClick(N3t);});return p3t;}V3t.prototype.onFormulaDragLeave=function(){this.view.formulaInput.removeClass(b5Y);};V3t.prototype.onMeasureDrop=function(D3t){var g5Y='{0}("{1}")';var j5Y='"{0}"';this.view.formulaInput.removeClass(b5Y);D3t=parseInt(D3t.attr(v9VV.d3C));D3t=this.view.measuresDragList.getDataProvider()[D3t];D3t.aggregation==U3t.data_.consts.AggregationName.NONE?this.insertText(utils.StringUtils.bind(j5Y,D3t.uniqueName)):this.insertText(utils.StringUtils.bind(g5Y,D3t.aggregation,D3t.uniqueName));};V3t.prototype.fieldItemRendererFactory=function(s3t,F3t){var K3t=this,x3t=new v3t.config.renderers.FieldItemRenderer();x3t.setData(s3t);x3t.setIndex(F3t);x3t.setLabelFunction(function(O3t){var o5Y=" (";return O3t.name+o5Y+U3t.data_.consts.AggregationName.aggregationCaption(O3t.aggregation)+v9VV.z9Q;});x3t.addEventListener(s7x.H2C,function(M3t){return K3t.onAggrClick(M3t);});return x3t;};Object.defineProperty(V3t.prototype,n5Y,{get:function(){return this.model_.funcButtonsDataProvider;},enumerable:!s7x.F8C,configurable:!s7x.F8C});Object.defineProperty(V3t.prototype,t5Y,{get:function(){return s7x.F8C==this.view.formulaInput.getText().length;},enumerable:!s7x.F8C,configurable:!s7x.F8C});V3t.prototype.update=function(b3t){var c5Y="wdr-compact";this.model_.update(b3t);s7x.x4C!=this.model_.currentMeasure?(this.view.nameInput&&(this.view.nameInput.setText(this.model_.currentMeasure.caption),this.view.nameInput.container.toggleClass(c5Y,!s7x.F8C)),this.view.formulaInput&&this.view.formulaInput.setText(this.model_.currentMeasure.formula),this.view.removeButton&&this.view.removeButton.isVisible(!s7x.F8C)):(this.view.nameInput&&this.view.nameInput.container.toggleClass(c5Y,!s7x.O8C),this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=!s7x.O8C),this.view.removeButton&&this.view.removeButton.isVisible(!s7x.O8C));this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=this.model_.currentMeasure?this.model_.currentMeasure.individual:!s7x.O8C);this.view.setLabels();this.updateMeasuresList();};V3t.prototype.updateMeasuresList=function(){for(var n3t=this,g3t=this.model_.getAllMeasures(),o3t=[],j3t=s7x.F8C;j3t<g3t.length;j3t++)if(s7x.x4C==this.model_.currentMeasure||this.model_.currentMeasure.uniqueName!=g3t[j3t].uniqueName)g3t[j3t].isMeasure=!s7x.F8C,g3t[j3t].showAggregations=this.model_.showAggregations&&!g3t[j3t].calculated&&g3t[j3t].type!=U3t.data_.types.MeasureType.COUNT,o3t.push(g3t[j3t]);o3t.sort(this.compareFunction);if(this.view.measuresDragList)for(this.view.measuresDragList.setDataProvider(o3t),g3t={createHelper:function(t3t){return n3t.view.createHelper(t3t);}},utils.browserVersion().isMobile&&(g3t.handle=W9VV.F3Y),o3t=this.view.measuresDragList.container.find(v9VV.y3C,!s7x.F8C),j3t=s7x.F8C;j3t<o3t.length;j3t++)o3t[j3t].draggable(g3t);};V3t.prototype.clear=function(){this.view.nameInput&&this.view.nameInput.setText(s7x.C4C);this.view.formulaInput&&this.view.formulaInput.setText(s7x.C4C);this.model_.currentMeasure=s7x.x4C;};V3t.prototype.compareFunction=function(c3t,L3t){return c3t.name>L3t.name?s7x.O8C:-s7x.O8C;};V3t.prototype.onRemoveBtnClick=function(a3t){if(utils.browserVersion().isMobile)this.onRemoveMeasure();else this.showRemoveAlert();};V3t.prototype.showRemoveAlert=function(){var e3t=this,h3t,R3t;utils.OSUtil.isIOS||utils.OSUtil.isMac?(h3t=[U3t.model._labels.Labels.BUTTON_NO,U3t.model._labels.Labels.BUTTON_YES],R3t=[s7x.x4C,function(){return e3t.onRemoveMeasure();}]):(h3t=[U3t.model._labels.Labels.BUTTON_YES,U3t.model._labels.Labels.BUTTON_NO],R3t=[function(){return e3t.onRemoveMeasure();},s7x.x4C]);var A3t=U3t.model.XSSCheck.valid(this.model_.currentMeasure.caption)?this.model_.currentMeasure.caption:U3t.model.XSSCheck.validate(this.model_.currentMeasure.caption);U3t.uialert(U3t.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE,utils.StringUtils.bind(U3t.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE,A3t),U3t.AlertType.ALERT,h3t,R3t);};V3t.prototype.onRemoveMeasure=function(){this.model_.removeMeasure(this.model_.currentMeasure);this.close();};V3t.prototype.onAggrClick=function(k3t){if(W9VV.u3Y==k3t.target.id){var Q3t=parseInt(uicontrols.UIElement.convert(k3t.target).closest(v9VV.y3C).attr(v9VV.d3C)),Q3t=this.view.measuresDragList.getDataProvider()[Q3t];this.view.aggrView.showWith(Q3t,uicontrols.UIElement.convert(k3t.target));}};V3t.prototype.onAggrChange=function(f3t){var L5Y=" of ";var i3t=f3t.data.fieldData;f3t=f3t.data.aggrData;i3t.aggregation=f3t.aggregation;i3t.caption=f3t.caption+L5Y+i3t.name;this.view.measuresDragList.validateItem(i3t);};V3t.prototype.onFuncBtnClick=function(J3t){J3t=parseInt(J3t.target.container.attr(v9VV.d3C));J3t=this.funcButtonsDataProvider[J3t].func;J3t==U3t.data_.consts.FunctionName.IF||J3t==U3t.data_.consts.FunctionName.ABS||J3t==U3t.data_.consts.FunctionName.MIN||J3t==U3t.data_.consts.FunctionName.MAX||J3t==U3t.data_.consts.FunctionName.VALUE?this.addSpecialOperation(J3t):this.addOperation(J3t);};V3t.prototype.onCancelClick=function(){this.close();};V3t.prototype.onOkClick=function(){var E3t=this.view.formulaInput.getText();s7x.F8C==E3t.length?this.close():!s7x.O8C==this.model_.isValidFormula(E3t)?U3t.uialert(U3t.model._labels.Labels.MESSAGE_WRONG_FORMULA_FORMAT):(this.model_.addMeasure(E3t,this.view.nameInput.getText(),this.view.cbxIndiValues.checked),this.close());};V3t.prototype.close=function(){this.dispatchWith(events._Event.CLOSE);};V3t.prototype.insertText=function(Z3t,y3t){void s7x.F8C===y3t&&(y3t=s7x.F8C);var H3t=this.view.formulaInput.getSelectionBeginIndex();this.view.formulaInput.getSelectionEndIndex();var d3t=this.view.formulaInput.getText();-s7x.O8C==H3t&&(H3t=this.lastPosition);s7x.F8C==H3t||s7x.s4C==d3t.charAt(H3t-s7x.O8C)?(this.view.formulaInput.insertText(Z3t+s7x.s4C),this.lastPosition=H3t+Z3t.length+s7x.O8C):(this.view.formulaInput.insertText(s7x.s4C+Z3t+s7x.s4C),this.lastPosition=H3t+Z3t.length+s7x.M8C);this.lastPosition-=y3t;this.view.formulaInput.setSelection(this.lastPosition);};V3t.prototype.addOperation=function(S3t){this.insertText(S3t);};V3t.prototype.addSpecialOperation=function(I3t){var I8K=v9VV;var a5Y=", , )";var T3t=this.view.formulaInput.getSelectionBeginIndex(),m3t=this.view.formulaInput.getSelectionEndIndex(),w3t=this.view.formulaInput.getText();I8K.R1B==I3t?this.insertText(I3t+I8K.K9Q+w3t.slice(T3t,m3t)+a5Y,s7x.o8C):this.insertText(I3t+I8K.K9Q+w3t.slice(T3t,m3t)+I8K.z9Q,s7x.M8C);};return V3t;}(events.EventDispatcher);G3t.CalculatedController=W3t;}(v3t.calculated||(v3t.calculated={})));}(U3t._view||(U3t._view={})));}(pivot||(pivot={})));(function(r3t){(function(C3t){(function(U6t){var P3t=function(G6t){__extends(v6t,G6t);v6t.prototype.setControls=function(){var d8K=W9VV;var y8K=U9VV;var f5Y="wdr-formula-input";var k5Y="wdr-formula-wrap";var Q5Y="wdr-ui-col-9 wdr-calc-action";var A5Y="wdr-func-btn-group";var R5Y="wdr-name-input";var h5Y="wdr-remove-btn";var e5Y="wdr-ui-btn-light wdr-icon-act_trash";var Y6t=this,p6t=new uicontrols.UIComponentBase(y8K.r4C,d8K.j3Y);this.addChild(p6t);var l6t=new uicontrols.UIComponentBase(y8K.r4C,d8K.g3Y);p6t.addChild(l6t);this.titleLabel=new uicontrols.UILabel(r3t.model._labels.Labels.CALCULATED_VIEW_TITLE);this.titleLabel.addClass(d8K.m1Y);l6t.addChild(this.titleLabel);this.subtitleLabel=new uicontrols.UILabel(r3t.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.subtitleLabel.addClass(d8K.o3Y);l6t.addChild(this.subtitleLabel);l6t=new uicontrols.UIComponentBase(y8K.r4C,d8K.n3Y);p6t.addChild(l6t);this.removeButton=new uicontrols.UIButton(e5Y);this.removeButton.setId(h5Y);this.removeButton.container.attr(d8K.y2Y,r3t.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);l6t.addChild(this.removeButton);this.btnCancel=new uicontrols.UIButton(y8K.E2C);this.btnCancel.setLabel(r3t.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(d8K.V8Y);this.btnOk.setLabel(r3t.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(l6t.addChild(this.btnCancel),l6t.addChild(this.btnOk)):(l6t.addChild(this.btnOk),l6t.addChild(this.btnCancel));p6t=new uicontrols.UIComponentBase(y8K.r4C,d8K.L3Y);this.addChild(p6t);this.nameInput=new uicontrols.UITextInput();this.nameInput.setId(R5Y);this.nameInput.setPrompt(r3t.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);p6t.addChild(this.nameInput);this.measuresDragList=new uicontrols.lists.UIList();this.measuresDragList.setId(d8K.l6Y);this.measuresDragList.useCache=!y8K.O8C;this.measuresDragList.setLabelField(v9VV.W0B);p6t.addChild(this.measuresDragList);this.cbxIndiValues=new uicontrols.UICheckBox();this.cbxIndiValues.setLabel(r3t.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);p6t.addChild(this.cbxIndiValues);this.funcBtnsContainer=new uicontrols.UIComponentBase(y8K.r4C,d8K.a3Y);this.funcBtnsContainer.setId(A5Y);p6t.addChild(this.funcBtnsContainer);this.funcBtns=[];for(var l6t=this.controller.funcButtonsDataProvider,B6t=y8K.F8C;B6t<l6t.length;B6t++){var X6t=new uicontrols.UIButton(Q5Y);X6t.removeClass(y8K.E2C);X6t.setName(l6t[B6t].name);X6t.setLabel(l6t[B6t].label);X6t.container.attr(v9VV.d3C,B6t);this.funcBtnsContainer.addChild(X6t);this.funcBtns.push(X6t);}l6t=new uicontrols.UIComponentBase(y8K.r4C,k5Y);p6t.addChild(l6t);this.formulaInput=new uicontrols.UITextArea();this.formulaInput.setId(f5Y);this.formulaInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return Y6t.onFormulaChange();});l6t.addChild(this.formulaInput);this.lblFormulaPrompt=new uicontrols.UILabel(r3t.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.lblFormulaPrompt.addClass(d8K.w3Y);l6t.addChild(this.lblFormulaPrompt);this.aggrView=new C3t.config.AggregationsView();this.aggrView.setId(d8K.p6Y);this.aggrView.hide();p6t.addChild(this.aggrView);};v6t.prototype.setLabels=function(){this.titleLabel.setLabel(r3t.model._labels.Labels.CALCULATED_VIEW_TITLE);this.subtitleLabel.setLabel(r3t.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.btnOk.setLabel(r3t.model._labels.Labels.BUTTON_APPLY);this.btnCancel.setLabel(r3t.model._labels.Labels.BUTTON_CANCEL);this.nameInput.setPrompt(r3t.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);this.cbxIndiValues.setLabel(r3t.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);this.lblFormulaPrompt.setLabel(r3t.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.removeButton.container.attr(W9VV.y2Y,r3t.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);};v6t.prototype.createHelper=function(u6t){var J8K=U9VV;var q6t=new uicontrols.UIElement(J8K.I2C);q6t.attr(J8K.G2C,W9VV.B6Y);q6t.addClass(W9VV.b2Y);q6t.addClass(J8K.k4C);q6t.css(J8K.s2C,u6t.css(J8K.s2C));q6t.css(J8K.F3C,J8K.O3C);q6t.css(W9VV.g2Y,J8K.o0C);q6t.attr(v9VV.d3C,u6t.attr(v9VV.d3C));q6t.text(u6t.text());return q6t;};function v6t(V6t){var W6t=G6t.call(this)||this;W6t.controller=V6t;W6t.setControls();return W6t;}v6t.prototype.onFormulaChange=function(){this.lblFormulaPrompt.isVisible(U9VV.F8C==this.formulaInput.getText().length);};return v6t;}(uicontrols.UIComponentBase);U6t.CalculatedViewContent=P3t;}(C3t.calculated||(C3t.calculated={})));}(r3t._view||(r3t._view={})));}(pivot||(pivot={})));(function(z6t){(function(D6t){var N6t=function(){var m5Y="RENDER_COMPLETE";var T5Y="CLASSIC_TO_COMPACT";var I5Y="CONTEXT_MENU_OPEN";var S5Y="DRILL_THROUGH_CLOSE";var d5Y="DRILL_THROUGH_OPEN";var y5Y="CALCULATED_VIEW_CLOSE";var Z5Y="CALCULATED_VIEW_OPEN";var H5Y="FILTER_COLLAPSE_EXPAND";var E5Y="FILTER_SELECTION_CHANGE";var J5Y="FILTER_CLOSE";var i5Y="FILTER_OPEN";K6t.FILTER_OPEN=i5Y;K6t.FILTER_CLOSE=J5Y;K6t.FILTER_SELECTION_CHANGE=E5Y;K6t.FILTER_COLLAPSE_EXPAND=H5Y;K6t.CALCULATED_VIEW_OPEN=Z5Y;K6t.CALCULATED_VIEW_CLOSE=y5Y;function K6t(){}K6t.DRILL_THROUGH_OPEN=d5Y;K6t.DRILL_THROUGH_CLOSE=S5Y;K6t.CONTEXT_MENU_OPEN=I5Y;K6t.CLASSIC_TO_COMPACT=T5Y;K6t.RENDER_COMPLETE=m5Y;K6t.BEFORE_GRID_DRAW=v9VV.l8Q;K6t.AFTER_GRID_DRAW=v9VV.p8Q;return K6t;}();D6t.ViewEvent=N6t;var x6t=function(s6t){__extends(F6t,s6t);function F6t(M6t){var O6t=s6t.call(this,N6t.FILTER_OPEN)||this;O6t.hierarchy=M6t;return O6t;}return F6t;}(events._Event);D6t.FilterOpenEvent=x6t;}(z6t._view||(z6t._view={})));}(pivot||(pivot={})));(function(b6t){(function(j6t){(function(o6t){var g6t=function(){n6t.prototype.setHierarchy=function(t6t){this.currentHierarchy=t6t;};n6t.prototype.getHierarchy=function(){return this.currentHierarchy;};n6t.prototype.setSortType=function(c6t){this.sortType=c6t;this.allMembers=this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!U9VV.O8C,this.sortType).toArray();};n6t.prototype.getSortType=function(){return this.sortType;};n6t.prototype.select=function(a6t,e6t){if(this.isAllSelected!=e6t)this.selectedMembers.push(a6t);else{var L6t=this.selectedMembers.indexOf(a6t);-U9VV.O8C<L6t&&this.selectedMembers.splice(L6t,U9VV.O8C);}this.selectedMembers.length==this.allMembers.length&&this.selectAll(!this.isAllSelected);};n6t.prototype.search=function(R6t,A6t){var a8K=U9VV;R6t=R6t.toLowerCase();if(this.searchPhrase===R6t)A6t();else if(this.searchPhrase=R6t,a8K.F8C==this.searchPhrase.length)A6t();else{this.searchedMembers.length=a8K.F8C;for(var Q6t=this.allMembers.length,h6t=a8K.F8C,h6t=a8K.F8C;h6t<Q6t;h6t++)utils.StringUtils.contains(this.allMembers[h6t].caption,R6t)&&this.searchedMembers.push(this.allMembers[h6t]);A6t(this.searchedMembers);}};n6t.prototype.setSearchedMembers=function(k6t){U9VV.x4C!=k6t?this.searchedMembers=k6t:this.searchedMembers.length=U9VV.F8C;};n6t.prototype.selectAll=function(i6t){if(this.isSearched())for(var J6t=this.searchedMembers.length,f6t=U9VV.F8C;f6t<J6t;f6t++)utils.StringUtils.contains(this.searchedMembers[f6t].caption,this.searchPhrase)&&this.select(this.searchedMembers[f6t],i6t);else this.isAllSelected=i6t,this.selectedMembers.length=U9VV.F8C;};n6t.prototype.selectDescendants=function(E6t){};n6t.prototype.getTotalSelectedLength=function(){var b8K=U9VV;var H6t=b8K.F8C,H6t=this.isAllSelected||this.isSearched()?this.isAllSelected&&this.isSearched()?this.searchedMembers.length+this.countTheDifference()-this.selectedMembers.length:this.isAllSelected||b8K.F8C!=this.selectedMembers.length?this.allMembers.length-this.selectedMembers.length:this.selectedMembers.length:this.selectedMembers.length;return b8K.F8C<H6t?H6t:b8K.F8C;};n6t.prototype.countTheDifference=function(){var M8K=U9VV;for(var d6t=M8K.F8C,y6t=M8K.F8C,Z6t=M8K.F8C;y6t<this.selectedMembers.length;){for(;Z6t<this.searchedMembers.length&&this.searchedMembers[Z6t].uniqueName!=this.selectedMembers[y6t].uniqueName;)Z6t++;this.searchedMembers.length==Z6t&&d6t++;Z6t=M8K.F8C;y6t++;}return d6t;};n6t.prototype.getSelectedLength=function(){if(this.isSearched()){for(var I6t=U9VV.F8C,S6t=U9VV.F8C;S6t<this.searchedMembers.length;S6t++)U9VV.F8C>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[S6t].uniqueName,G9VV.M6B)==this.isAllSelected&&I6t++;return I6t;}return this.getTotalSelectedLength();};n6t.prototype.setFilterItems=function(w6t){this.selectedMembers.length=U9VV.F8C;var m6t=w6t.length;this.isAllSelected=U9VV.F8C==m6t;if(!this.isAllSelected)for(var T6t=U9VV.F8C;T6t<m6t;T6t++)this.selectedMembers.push(w6t[T6t]);};n6t.prototype.getFilterItems=function(){var K8K=U9VV;var r6t=K8K.F8C,P6t=[],C6t=[],C6t=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,U5t=C6t.length;if(this.isSearched()&&this.isAllSelected)for(C6t=r6t=K8K.F8C;r6t<this.searchedMembers.length;){for(;C6t<this.selectedMembers.length&&this.searchedMembers[r6t].uniqueName!=this.selectedMembers[C6t].uniqueName;)C6t++;C6t==this.selectedMembers.length&&P6t.push(this.searchedMembers[r6t]);C6t=K8K.F8C;r6t++;}else for(;r6t<U5t;r6t++)P6t[r6t]=C6t[r6t];r6t=this.isSearched()&&this.isAllSelected?!K8K.O8C:K8K.F8C==P6t.length?!K8K.O8C:this.isAllSelected;return{items:P6t,negation:r6t};};function n6t(){this.allMembers=[];this.selectedMembers=[];this.searchedMembers=[];this.searchPhrase=U9VV.C4C;this.isAllSelected=!U9VV.F8C;}n6t.prototype.setItems=function(v5t){this.allMembers=v5t;this.searchPhrase=U9VV.C4C;this.searchedMembers.length=U9VV.F8C;};n6t.prototype.getItems=function(p5t,X5t){var N8K=U9VV;for(var G5t,l5t=[],W5t=p5t,B5t=RegExp(v9VV.K9Q+this.searchPhrase+v9VV.z9Q,W9VV.L2Y),V5t=this.isSearched()?this.searchedMembers:this.allMembers;W5t<X5t&&!(W5t>V5t.length-N8K.O8C);W5t++)G5t=V5t[W5t],G5t={member:G5t,label:this.isSearched()?G5t.caption.replace(B5t,W9VV.w5Y):G5t.caption,isSelected:(-N8K.O8C==this.selectedMembers.indexOf(G5t)?this.isAllSelected:!this.isAllSelected)?N8K.O8C:N8K.F8C,levelNum:N8K.F8C,rightMargin:X5t-p5t<V5t.length-N8K.O8C?N8K.A8C:N8K.F8C},l5t.push(G5t);return l5t;};n6t.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.allMembers.length;};n6t.prototype.getTotalLength=function(){return this.getLength();};n6t.prototype.isSearched=function(){return U9VV.F8C<this.searchPhrase.length;};n6t.prototype.expand=function(Y5t){};n6t.prototype.collapse=function(q5t){};return n6t;}();o6t.MembersFilterDataProvider=g6t;}(j6t.filter||(j6t.filter={})));}(b6t._view||(b6t._view={})));}(pivot||(pivot={})));(function(u5t){(function(z5t){(function(D5t){var N5t=function(){x5t.prototype.setHierarchy=function(K5t){this.currentHierarchy=K5t;this.members.length=U9VV.F8C;};x5t.prototype.getHierarchy=function(){return this.currentHierarchy;};x5t.prototype.setSortType=function(s5t){this.sortType=s5t;this.members.length=U9VV.F8C;this.insertDescendants(this.currentHierarchy.allMember,-U9VV.O8C);};x5t.prototype.getSortType=function(){return this.sortType;};x5t.prototype.setItems=function(M5t){for(var O5t=U9VV.F8C,b5t=M5t.length,F5t;O5t<b5t;O5t++)F5t=M5t[O5t],F5t.isAll||(this.members.push(F5t),F5t.isDrilledDown&&F5t.children&&U9VV.F8C<F5t.children.length&&(this.expandedMembers.push(F5t),this.setItems(this.sortType===u5t.data_.consts.SortType.UNSORTED?F5t.children.toArray():this.currentHierarchy.sortChildren(F5t,!U9VV.O8C,this.sortType).toArray())));};x5t.prototype.getItems=function(t5t,c5t){var a1K=U9VV;for(var g5t=t5t,n5t=[],j5t,L5t=RegExp(v9VV.K9Q+this.searchPhrase+v9VV.z9Q,W9VV.L2Y),o5t=this.isSearched()?this.searchedMembers:this.members;g5t<c5t&&!(g5t>o5t.length-a1K.O8C);g5t++)j5t=o5t[g5t],j5t={member:j5t,levelNum:j5t.level.num,label:this.isSearched()?j5t.caption.replace(L5t,W9VV.w5Y):j5t.caption,isSelected:this.isSelected(j5t),isSearched:this.isSearched(),isExpanded:this.isExpanded(j5t),rightMargin:c5t-t5t<o5t.length-a1K.O8C?a1K.k8C:a1K.F8C},n5t.push(j5t);return n5t;};x5t.prototype.isSelected=function(e5t){var c6f=U9VV;var a5t=(-c6f.O8C==this.selectedMembers.indexOf(e5t)?this.isAllSelected:!this.isAllSelected)?c6f.O8C:c6f.F8C;c6f.F8C<this.selectedMembers.length&&-c6f.O8C!=this.partlySelectedMembers.indexOf(e5t)&&(a5t=-c6f.O8C);return a5t;};x5t.prototype.isExpanded=function(h5t){var B6f=U9VV;return this.isSearched()||h5t.isLeaf?-B6f.O8C:-B6f.O8C!=this.expandedMembers.indexOf(h5t)?B6f.O8C:B6f.F8C;};x5t.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.members.length;};x5t.prototype.getTotalLength=function(){return this.isSearched()?this.searchedMembers.length-this.numParentsInSearch:this.currentHierarchy?this.currentHierarchy.members.length-U9VV.O8C:U9VV.F8C;};x5t.prototype.select=function(A5t,Q5t){var l6f=U9VV;var R5t=-l6f.O8C,R5t=this.selectedMembers.indexOf(A5t);this.isAllSelected!==Q5t?(-l6f.O8C==R5t&&this.selectedMembers.push(A5t),l6f.F8C<A5t.children.length&&this.pushDescendantsToSelected(A5t)):(-l6f.O8C!=R5t&&this.selectedMembers.splice(R5t,l6f.O8C),l6f.F8C<A5t.children.length&&this.removeDescendantsFromSelected(A5t));R5t=utils.ArrayUtils.findIndex(this.partlySelectedMembers,A5t.uniqueName,G9VV.M6B);-l6f.O8C!=R5t&&this.partlySelectedMembers.splice(R5t,l6f.O8C);this.selectParents(A5t);this.selectedMembers.length===this.currentHierarchy.members.length-l6f.O8C&&(this.selectedMembers.length=l6f.F8C,this.partlySelectedMembers.length=l6f.F8C,this.isAllSelected=!this.isAllSelected);};x5t.prototype.selectDescendants=function(k5t){-U9VV.O8C==this.partlySelectedMembers.indexOf(k5t)&&(-U9VV.O8C==this.selectedMembers.indexOf(k5t)?this.removeDescendantsFromSelected(k5t):this.pushDescendantsToSelected(k5t));};x5t.prototype.selectParents=function(i5t){var W6f=U9VV;var J5t,f5t=i5t.parent;if(f5t&&!f5t.isAll){i5t=utils.ArrayUtils.findIndex(this.selectedMembers,f5t.uniqueName,G9VV.M6B);J5t=utils.ArrayUtils.findIndex(this.partlySelectedMembers,f5t.uniqueName,G9VV.M6B);var E5t=-W6f.O8C!=i5t;this.hasSelectedChildren(f5t,!W6f.O8C)?(this.hasSelectedChildren(f5t)?(-W6f.O8C==J5t&&this.partlySelectedMembers.push(f5t),this.isAllSelected&&E5t&&this.selectedMembers.splice(i5t,W6f.O8C)):(-W6f.O8C!=J5t&&this.partlySelectedMembers.splice(J5t,W6f.O8C),this.isAllSelected&&!E5t&&this.selectedMembers.push(f5t)),!this.isAllSelected&&E5t&&this.selectedMembers.splice(i5t,W6f.O8C)):(-W6f.O8C!=J5t&&this.partlySelectedMembers.splice(J5t,W6f.O8C),this.isAllSelected&&E5t?this.selectedMembers.splice(i5t,W6f.O8C):this.isAllSelected||E5t||this.selectedMembers.push(f5t));this.selectParents(f5t);}};x5t.prototype.hasSelectedChildren=function(I5t,Z5t){var r3f=U9VV;void r3f.F8C===Z5t&&(Z5t=!r3f.F8C);for(var H5t=r3f.F8C,y5t=I5t.children.toArray(),S5t=y5t.length,d5t;H5t<S5t;H5t++)if(d5t=y5t[H5t],-r3f.O8C==utils.ArrayUtils.findIndex(this.selectedMembers,d5t.uniqueName,G9VV.M6B)==this.isAllSelected==Z5t||-r3f.O8C!=utils.ArrayUtils.findIndex(this.partlySelectedMembers,d5t.uniqueName,G9VV.M6B))return!r3f.F8C;return!r3f.O8C;};x5t.prototype.pushDescendantsToSelected=function(w5t){var m3f=U9VV;for(var m5t=m3f.F8C,r5t,T5t,C5t=w5t.children.toArray(),P5t=C5t.length;m5t<P5t;m5t++)T5t=C5t[m5t],w5t=utils.ArrayUtils.findIndex(this.selectedMembers,T5t.uniqueName,G9VV.M6B),r5t=utils.ArrayUtils.findIndex(this.partlySelectedMembers,T5t.uniqueName,G9VV.M6B),-m3f.O8C==w5t&&this.selectedMembers.push(T5t),-m3f.O8C!=r5t&&this.partlySelectedMembers.splice(r5t,m3f.O8C),m3f.F8C<T5t.children.length&&this.pushDescendantsToSelected(T5t);};x5t.prototype.removeDescendantsFromSelected=function(v7t){var y3f=U9VV;for(var G7t=y3f.F8C,W7t,U7t,V7t=v7t.children.toArray(),l7t=V7t.length;G7t<l7t;G7t++)U7t=V7t[G7t],v7t=utils.ArrayUtils.findIndex(this.selectedMembers,U7t.uniqueName,G9VV.M6B),W7t=utils.ArrayUtils.findIndex(this.partlySelectedMembers,U7t.uniqueName,G9VV.M6B),-y3f.O8C!=v7t&&this.selectedMembers.splice(v7t,y3f.O8C),-y3f.O8C!=W7t&&this.partlySelectedMembers.splice(W7t,y3f.O8C),y3f.F8C<U7t.children.length&&this.removeDescendantsFromSelected(U7t);};x5t.prototype.selectAll=function(X7t){if(this.isSearched())for(var B7t=this.searchedMembers.length,p7t=U9VV.F8C;p7t<B7t;p7t++)utils.StringUtils.contains(this.searchedMembers[p7t].caption,this.searchPhrase)&&this.select(this.searchedMembers[p7t],X7t);else this.isAllSelected=X7t,this.selectedMembers.length=U9VV.F8C,this.partlySelectedMembers.length=U9VV.F8C;};x5t.prototype.getSelectedLength=function(){if(this.isSearched()){for(var q7t=U9VV.F8C,u7t=this.searchedMembers.length,Y7t=U9VV.F8C;Y7t<u7t;Y7t++)utils.StringUtils.contains(this.searchedMembers[Y7t].caption,this.searchPhrase)&&U9VV.F8C>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[Y7t].uniqueName,G9VV.M6B)==this.isAllSelected&&q7t++;return q7t;}return this.getTotalSelectedLength();};x5t.prototype.getTotalSelectedLength=function(){var z7t=this.isAllSelected?this.currentHierarchy.members.length-this.selectedMembers.length-this.partlySelectedMembers.length-U9VV.O8C:this.selectedMembers.length;return U9VV.F8C>z7t?U9VV.F8C:z7t;};x5t.prototype.setFilterItems=function(s7t){var h3f=U9VV;var K7t=s7t.length;this.selectedMembers.length=h3f.F8C;this.partlySelectedMembers.length=h3f.F8C;if(h3f.F8C==K7t)this.isAllSelected=!h3f.F8C;else{this.isAllSelected=!h3f.O8C;for(var N7t,D7t,x7t=h3f.F8C;x7t<K7t;x7t++)for(N7t=s7t[x7t],D7t=N7t.children.toArray(),D7t=D7t.length,this.selectedMembers.push(N7t),h3f.F8C<D7t&&this.pushDescendantsToSelected(N7t);N7t.parent&&!N7t.parent.isAll;)N7t=N7t.parent,-h3f.O8C==utils.ArrayUtils.findIndex(this.partlySelectedMembers,N7t.uniqueName,G9VV.M6B)&&this.partlySelectedMembers.push(N7t);}};x5t.prototype.getFilterItems=function(){var n3f=U9VV;for(var F7t=n3f.F8C,M7t=[],b7t,j7t,g7t,O7t=[],O7t=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,o7t=O7t.length;F7t<o7t;F7t++)b7t=O7t[F7t],j7t=b7t.parent,g7t=-n3f.O8C,utils.nullOrUndefined(j7t)||(g7t=utils.ArrayUtils.findIndex(O7t,j7t.uniqueName,G9VV.M6B)),-n3f.O8C===g7t&&M7t.push(b7t);F7t=this.isSearched()&&this.isAllSelected?!n3f.O8C:n3f.F8C==M7t.length?!n3f.O8C:this.isAllSelected;return{items:M7t,negation:F7t};};x5t.prototype.search=function(t7t,L7t){var g3f=U9VV;t7t=t7t.toLowerCase();if(this.searchPhrase===t7t)L7t();else if(this.searchPhrase=t7t,g3f.F8C==this.searchPhrase.length)L7t();else{this.numParentsInSearch=this.searchedMembers.length=g3f.F8C;this.fillSearchTree(this.currentHierarchy.allMember,t7t);for(var c7t=g3f.F8C,n7t=g3f.F8C,n7t=g3f.F8C;n7t<this.searchedMembers.length;n7t++)c7t=this.insertParentsToSearch(this.searchedMembers[n7t],n7t),this.numParentsInSearch+=c7t,n7t+=c7t;L7t(this.searchedMembers);}};x5t.prototype.setSearchedMembers=function(a7t){U9VV.x4C!=a7t?this.searchedMembers=a7t:this.searchedMembers.length=U9VV.F8C;};x5t.prototype.insertParentsToSearch=function(A7t,R7t){var e7t=A7t.parent,h7t=U9VV.F8C;utils.nullOrUndefined(e7t)||e7t.isAll||(-U9VV.O8C==utils.ArrayUtils.findIndex(this.searchedMembers,e7t.uniqueName,G9VV.M6B)&&(h7t++,this.searchedMembers.splice(R7t,U9VV.F8C,e7t)),h7t+=this.insertParentsToSearch(e7t,R7t));return h7t;};x5t.prototype.fillSearchTree=function(E7t,i7t){for(var f7t=E7t.children,J7t=f7t.length,Q7t,k7t=U9VV.F8C;k7t<J7t;k7t++)Q7t=f7t.getItemAt(k7t),utils.StringUtils.contains(Q7t.caption,i7t)&&this.searchedMembers.push(Q7t),this.fillSearchTree(Q7t,i7t);};x5t.prototype.isSearched=function(){return U9VV.F8C<this.searchPhrase.length;};x5t.prototype.expand=function(H7t){-U9VV.O8C==this.expandedMembers.indexOf(H7t)&&this.expandedMembers.push(H7t);this.showDescendants(H7t,!U9VV.F8C);};function x5t(){this.numParentsInSearch=U9VV.F8C;this.members=[];this.selectedMembers=[];this.searchedMembers=[];this.partlySelectedMembers=[];this.expandedMembers=[];this.searchPhrase=U9VV.C4C;this.isAllSelected=!U9VV.F8C;this.sortType=u5t.data_.consts.SortType.UNSORTED;}x5t.prototype.collapse=function(y7t){var Z7t=this.expandedMembers.indexOf(y7t);-U9VV.O8C!=Z7t&&this.expandedMembers.splice(Z7t,U9VV.O8C);this.showDescendants(y7t,!U9VV.O8C);};x5t.prototype.showDescendants=function(d7t,I7t){var S7t=utils.ArrayUtils.findIndex(this.members,d7t.uniqueName,G9VV.M6B);I7t?this.insertDescendants(d7t,S7t):this.members.splice(S7t+U9VV.O8C,this.getNumDescendants(d7t));};x5t.prototype.insertDescendants=function(C7t,P7t){var q3f=U9VV;for(var w7t=this.sortType===u5t.data_.consts.SortType.UNSORTED?C7t.children.toArray():this.currentHierarchy.sortChildren(C7t,!q3f.O8C,this.sortType).toArray(),T7t,m7t=w7t.length-q3f.O8C,r7t=P7t+q3f.O8C;-q3f.O8C<m7t;m7t--)T7t=w7t[m7t],this.members.splice(r7t,q3f.F8C,T7t),-q3f.O8C<this.expandedMembers.indexOf(T7t)&&this.insertDescendants(T7t,r7t);};x5t.prototype.getNumDescendants=function(U97){U97=U97.children.toArray();for(var G97=U97.length,W97=G97,V97,v97=U9VV.F8C;v97<G97;v97++)V97=U97[v97],-U9VV.O8C<this.expandedMembers.indexOf(V97)&&(W97+=this.getNumDescendants(V97));return W97;};return x5t;}();D5t.MembersTreeDataProvider=N5t;}(z5t.filter||(z5t.filter={})));}(u5t._view||(u5t._view={})));}(pivot||(pivot={})));(function(l97){(function(p97){(function(X97){var B97=function(q97){var K7x=U9VV;var N7Y="searchInput";var z7Y="selectedAmountLabel";var u7Y="membersFilterList";var q7Y="selectAllCbx";__extends(Y97,q97);Y97.prototype.setControls=function(){var l3f=W9VV;var Y7Y="wdr-ft-contentheight-220";var B7Y="wdr-filters-topx-view";var X7Y="wdr-clear-top-btn";var p7Y="wdr-btn-canceltopx";var l7Y="wdr-ui-toggle-btn-dark";var V7Y="wdr-top10-btn";var W7Y="wdr-ui-col-2 wdr-tar wdr-topx-col";var G7Y="wdr-sort-btn";var v7Y="wdr-sort-btns";var U7Y="wdr-sort-label";var P5Y="wdr-ui-col-2";var C5Y="wdr-ui-col wdr-vam wdr-ui-btns-row";var r5Y="wdr-ui-col-2 wdr-vam";var D97=new uicontrols.UIComponentBase(K7x.r4C,l3f.j3Y);this.addChild(D97);var N97=new uicontrols.UIComponentBase(K7x.r4C,r5Y);D97.addChild(N97);this.titleLabel=new uicontrols.UILabel();this.titleLabel.addClass(l3f.m1Y);N97.addChild(this.titleLabel);N97=new uicontrols.UIComponentBase(K7x.r4C,C5Y);D97.addChild(N97);this.cancelBtn=new uicontrols.UIButton(K7x.E2C);this.cancelBtn.setLabel(l97.model._labels.Labels.BUTTON_CANCEL);this.okBtn=new uicontrols.UIButton(l3f.V8Y);this.okBtn.setLabel(l97.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(N97.addChild(this.cancelBtn),N97.addChild(this.okBtn)):(N97.addChild(this.okBtn),N97.addChild(this.cancelBtn));D97=new uicontrols.UIComponentBase(K7x.r4C,l3f.a3Y);this.addChild(D97);this.sortContainer=new uicontrols.UIComponentBase(K7x.r4C,P5Y);this.sortContainer.container.display=K7x.y2C;D97.addChild(this.sortContainer);this.sortLabel=new uicontrols.UILabel();this.sortLabel.setId(U7Y);this.sortLabel.addClass(l3f.K8Y);this.sortLabel.setLabel(l97.model._labels.Labels.FILTER_SORT);this.sortContainer.addChild(this.sortLabel);N97=new uicontrols.UIComponentBase(K7x.r4C,v7Y);this.sortContainer.addChild(N97);this.azBtn=new uicontrols.UIToggleButton();this.azBtn.container.addClass(G7Y);this.azBtn.setLabel(l97.model._labels.Labels.FILTER_ASC_SORT);N97.addChild(this.azBtn);this.zaBtn=new uicontrols.UIToggleButton();this.zaBtn.container.addClass(G7Y);this.zaBtn.setLabel(l97.model._labels.Labels.FILTER_DESC_SORT);N97.addChild(this.zaBtn);N97=new uicontrols.UIComponentBase(K7x.r4C,W7Y);N97.container.display=K7x.y2C;D97.addChild(N97);this.top10Btn=new uicontrols.UIToggleButton();this.top10Btn.setId(V7Y);this.top10Btn.addClass(l7Y);this.top10Btn.setLabel(l97.model._labels.Labels.FILTER_TOP_X);N97.addChild(this.top10Btn);this.clearTopBtn=new uicontrols.UIComponentBase(K7x.I2C,p7Y);this.clearTopBtn.setId(X7Y);this.clearTopBtn.container.attr(l3f.y2Y,l97.model._labels.Labels.FILTER_TOP_X_CLEAR);this.top10Btn.addChild(this.clearTopBtn);this.topBottomView=new X97.TopBottomView();this.topBottomView.setId(B7Y);this.topBottomView.hide();this.addChild(this.topBottomView);this.membersView=new X97.MembersView();this.membersView.addClass(Y7Y);this.addChild(this.membersView);};Object.defineProperty(Y97.prototype,q7Y,{get:function(){return this.membersView.selectAllCbx;},enumerable:!K7x.F8C,configurable:!K7x.F8C});Object.defineProperty(Y97.prototype,u7Y,{get:function(){return this.membersView.membersFilterList;},enumerable:!K7x.F8C,configurable:!K7x.F8C});function Y97(z97){var u97=q97.call(this)||this;u97.controller=z97;u97.setControls();return u97;}Object.defineProperty(Y97.prototype,z7Y,{get:function(){return this.membersView.selectedAmountLabel;},enumerable:!K7x.F8C,configurable:!K7x.F8C});Object.defineProperty(Y97.prototype,N7Y,{get:function(){return this.membersView.searchInput;},enumerable:!K7x.F8C,configurable:!K7x.F8C});Y97.prototype.setLabels=function(){this.top10Btn.setLabel(l97.model._labels.Labels.FILTER_TOP_X);this.clearTopBtn.container.attr(W9VV.y2Y,l97.model._labels.Labels.FILTER_TOP_X_CLEAR);this.azBtn.setLabel(l97.model._labels.Labels.FILTER_ASC_SORT);this.zaBtn.setLabel(l97.model._labels.Labels.FILTER_DESC_SORT);this.searchInput.setPrompt(l97.model._labels.Labels.FILTER_SEARCH);this.selectAllCbx.setLabel(l97.model._labels.Labels.FILTER_SELECT_ALL);this.okBtn.setLabel(l97.model._labels.Labels.BUTTON_APPLY);this.cancelBtn.setLabel(l97.model._labels.Labels.BUTTON_CANCEL);this.sortLabel.setLabel(l97.model._labels.Labels.FILTER_SORT);this.topBottomView.setLabels();};return Y97;}(uicontrols.containers.UIContainer);X97.FilterViewContent=B97;}(p97.filter||(p97.filter={})));}(l97._view||(l97._view={})));}(pivot||(pivot={})));(function(x97){(function(K97){(function(s97){var F97=function(M97){__extends(O97,M97);O97.prototype.onSearchClick=function(){this.searchWrap.addClass(W9VV.X6Y);this.searchInput.container.focus();this.selectedAmountLabel.hide();};O97.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(W9VV.X6Y);this.searchInput.clear();this.selectedAmountLabel.show();};O97.prototype.reset=function(){this.onSearchCloseClick();};function O97(){var v3f=W9VV;var U3f=U9VV;var F7Y="wdr-members-filter-list";var s7Y="wdr-filters-table-content";var K7Y="wdr-select-counter";var x7Y="wdr-filters-table-header wdr-fth-withsearch";var D7Y="wdr-filters-table";var b97=M97.call(this,U3f.r4C,D7Y)||this,j97=new uicontrols.UIComponentBase(U3f.r4C,x7Y);b97.addChild(j97);b97.selectAllCbx=new uicontrols.UICheckBox();b97.selectAllCbx.setLabel(x97.model._labels.Labels.FILTER_SELECT_ALL);j97.addChild(b97.selectAllCbx);b97.selectedAmountLabel=new uicontrols.UILabel();b97.selectedAmountLabel.setId(K7Y);j97.addChild(b97.selectedAmountLabel);b97.searchWrap=new uicontrols.UIComponentBase(U3f.r4C,v3f.f3Y);j97.addChild(b97.searchWrap);j97=new uicontrols.UIComponentBase(U3f.J2C,v3f.J3Y);j97.container.text(x97.model._labels.Labels.FILTER_SEARCH);j97.addEventListener(U3f.H2C,function(){return b97.onSearchClick();});b97.searchWrap.addChild(j97);var g97=new uicontrols.UIComponentBase(U3f.I2C,v3f.E3Y);j97.addChild(g97);b97.searchInput=new uicontrols.UITextInput();b97.searchInput.addClass(v3f.H3Y);b97.searchWrap.addChild(b97.searchInput);j97=new uicontrols.UIComponentBase(U3f.I2C,v3f.Z3Y);j97.addEventListener(U3f.H2C,function(){return b97.onSearchCloseClick();});b97.searchWrap.addChild(j97);j97=new uicontrols.UIComponentBase(U3f.r4C,s7Y);b97.addChild(j97);b97.membersFilterList=new s97.FilterList();b97.membersFilterList.setSmartDataProvider(new s97.MembersFilterDataProvider());b97.membersFilterList.setId(F7Y);j97.addChild(b97.membersFilterList);return b97;}return O97;}(uicontrols.UIComponentBase);s97.MembersView=F97;}(K97.filter||(K97.filter={})));}(x97._view||(x97._view={})));}(pivot||(pivot={})));(function(o97){(function(n97){(function(t97){var c97=function(a97){__extends(L97,a97);L97.prototype.onCollapseExpand=function(){var R97=this.getData();R97.isExpanded=this.expandBtn.getSelection();this.container.dispatchWith(t97.FilterList.EXPAND_EVENT,this,R97);};L97.prototype.onClick=function(A97){A97.target==this.container.element&&(this.selectedCheckBox.toggle(),this.onSelect());};L97.prototype.onSelect=function(){var Q97=this.getData();Q97.isSelected=this.selectedCheckBox.getSelection();this.container.dispatchWith(t97.FilterList.SELECT_EVENT,this,Q97);};function L97(){var P2f=U9VV;var O7Y="wdr-expand-toggle-btn";var e97=a97.call(this)||this;e97.levelMargin=P2f.J8C;e97.expandBtn=new uicontrols.UIToggleButton();e97.expandBtn.removeClass(P2f.q3C);e97.expandBtn.addClass(O7Y);e97.expandBtn.addEventListener(events._Event.CHANGE,function(){return e97.onCollapseExpand();});e97.container.append(e97.expandBtn.container);e97.selectedCheckBox=new uicontrols.UICheckBox();e97.selectedCheckBox.addEventListener(events._Event.CHANGE,function(){return e97.onSelect();});e97.container.append(e97.selectedCheckBox.container);e97.container.addEventListener(P2f.H2C,function(h97){return e97.onClick(h97);});e97.invalidate(P2f.v2C);return e97;}L97.prototype.draw=function(){var C2f=U9VV;if(this.isInvalid(v9VV.Z3C)){var k97=this.getData();if(this.expandBtn&&this.selectedCheckBox&&k97){this.container.css(G9VV.h0B,C2f.C4C);var f97=this.levelMargin*(k97.levelNum-C2f.O8C);k97.isSearched||-C2f.O8C!==k97.isExpanded||(f97+=C2f.I8C);C2f.F8C<f97&&this.container.css(G9VV.h0B,f97+C2f.y4C);isNaN(k97.isExpanded)||-C2f.O8C===k97.isExpanded||k97.isSearched?this.expandBtn.hide():(this.expandBtn.show(),this.expandBtn.setSelection(k97.isExpanded));f97=k97[this.getLabelField()];f97=f97.replace(/<(?:.|\n)*?>/gi,C2f.C4C);this.selectedCheckBox.setLabel(f97,!C2f.F8C);this.selectedCheckBox.setSelection(k97.isSelected);}}};return L97;}(uicontrols.renderers.UIItemRenderer);t97.FilterListItemRenderer=c97;}(n97.filter||(n97.filter={})));}(o97._view||(o97._view={})));}(pivot||(pivot={})));(function(i97){(function(J97){(function(E97){var H97=function(y97){var M7Y="__";__extends(Z97,y97);Z97.prototype.getItemRendererFactory=function(w97,r97){var m97=this,T97=new E97.FilterListItemRenderer();T97.setData(w97);T97.setIndex(r97);T97.addEventListener(Z97.SELECT_EVENT,function(C97){return m97.onSelect(C97);});T97.addEventListener(Z97.EXPAND_EVENT,function(P97){return m97.onExpand(P97);});return T97;};Z97.prototype.onSelect=function(U17){U17=U17.data;this.setSelected(U17,U9VV.O8C===U17.isSelected);this.dispatch(new events._Event(Z97.SELECT_EVENT,this));};Z97.prototype.onExpand=function(W17){var G17=this,v17=W17.data;if(U9VV.O8C===v17.isExpanded)if(U9VV.F8C===v17.member.children.length)i97.model.PivotModel.getInstance().cube_.loadMemberChildren(v17.member.hierarchy_,v17.member,function(V17){return G17.onChildrenLoaded(v17.member);});else this.onChildrenLoaded(v17.member);else this.getSmartDataProvider().collapse(v17.member),this.invalidate(v9VV.Z3C),this.dispatch(new events._Event(Z97.EXPAND_EVENT,this));};Z97.prototype.onChildrenLoaded=function(l17){i97.preloader(!U9VV.O8C);this.getSmartDataProvider().selectDescendants(l17);this.getSmartDataProvider().expand(l17);this.invalidate(v9VV.Z3C);this.dispatch(new events._Event(Z97.EXPAND_EVENT,this));};Z97.prototype.getSmartDataProvider=function(){return this.filterDataProvider;};Z97.prototype.setSmartDataProvider=function(p17){this.filterDataProvider=p17;};Z97.prototype.getFilterItems=function(){return this.getSmartDataProvider().getFilterItems();};Z97.prototype.setFilterItems=function(X17){this.getSmartDataProvider().setFilterItems(X17);this.invalidate(v9VV.Z3C);};Z97.prototype.getSelectedLength=function(){return this.getSmartDataProvider().getSelectedLength();};Z97.prototype.getTotalSelectedLength=function(){return this.getSmartDataProvider().getTotalSelectedLength();};Z97.prototype.getTotalLength=function(){return this.getSmartDataProvider().getLength();};Z97.prototype.getTotalItemsCount=function(){return this.getSmartDataProvider().getTotalLength();};Z97.prototype.setSelected=function(B17,Y17){this.getSmartDataProvider().select(B17.member,Y17);this.invalidate(v9VV.Z3C);};Z97.prototype.selectAll=function(q17){this.getSmartDataProvider().selectAll(q17);this.invalidate(v9VV.Z3C);};Z97.prototype.search=function(z17,N17){var u17=this;this.getSmartDataProvider().search(z17,function(D17){u17.getSmartDataProvider().setSearchedMembers(D17);u17.invalidate(v9VV.Z3C);N17();});};function Z97(){var d97=y97.call(this)||this;d97.setItemRendererFactory(function(S97,I97){return d97.getItemRendererFactory(S97,I97);});return d97;}Z97.prototype.isSearched=function(){return this.getSmartDataProvider().isSearched();};Z97.prototype.setHierarchy=function(x17){this.getSmartDataProvider().setHierarchy(x17);};Z97.prototype.sort=function(K17){K17!==this.getSmartDataProvider().getSortType()&&(this.getSmartDataProvider().setSortType(K17),this.invalidate(v9VV.Z3C));};Z97.SELECT_EVENT=U9VV.V3C;Z97.EXPAND_EVENT=M7Y;return Z97;}(uicontrols.lists.UIVirtualList);E97.FilterList=H97;}(J97.filter||(J97.filter={})));}(i97._view||(i97._view={})));}(pivot||(pivot={})));(function(s17){(function(F17){(function(M17){var O17=function(j17){__extends(b17,j17);b17.prototype.onBtnTopChange=function(){this._isEmpty=!U9VV.O8C;this.btnBottom.setSelection(U9VV.O8C-this.btnTop.getSelection());this.dispatch(new events._Event(b17.CHANGE_EVENT,this));};b17.prototype.onBtnBottomChange=function(){this._isEmpty=!U9VV.O8C;this.btnTop.setSelection(U9VV.O8C-this.btnBottom.getSelection());this.dispatch(new events._Event(b17.CHANGE_EVENT,this));};b17.prototype.onMeasuresChange=function(t17){this._isEmpty=!U9VV.O8C;this.dispatch(new events._Event(b17.CHANGE_EVENT,this));};b17.prototype.onQuantityChange=function(){this._isEmpty=!U9VV.O8C;U9VV.C4C==this.getFilterType()&&this.setFilterType(s17.data_.consts.FilterType.TOP);this.dispatch(new events._Event(b17.CHANGE_EVENT,this));};function b17(){var R2f=U9VV;var L7Y="wdr-top-measures-dropdown";var c7Y="wdr-btn-bottom";var t7Y="wdr-topx-btn";var n7Y="wdr-btn-top";var o7Y="wdr-topx-btns";var g7Y=/^\d+$/;var j7Y="wdr-top-amount-input";var b7Y="wdr-filters-subview";var g17=j17.call(this,R2f.r4C)||this;g17._isEmpty=!R2f.F8C;g17.addClass(b7Y);g17.quantityInput=new uicontrols.UITextInput();g17.quantityInput.setId(j7Y);g17.quantityInput.setRestriction(g7Y);g17.quantityInput.setType(R2f.x2C);g17.quantityInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return g17.onQuantityChange();});g17.addChild(g17.quantityInput);var o17=new uicontrols.UIComponentBase(R2f.r4C);o17.setId(o7Y);g17.addChild(o17);g17.btnTop=new uicontrols.UIToggleButton();g17.btnTop.setId(n7Y);g17.btnTop.addClass(t7Y);g17.btnTop.setLabel(s17.model._labels.Labels.FILTER_TOP);g17.btnTop.addEventListener(events._Event.CHANGE,function(){return g17.onBtnTopChange();});o17.addChild(g17.btnTop);g17.btnBottom=new uicontrols.UIToggleButton();g17.btnBottom.setId(c7Y);g17.btnBottom.addClass(t7Y);g17.btnBottom.setLabel(s17.model._labels.Labels.FILTER_BOTTOM);g17.btnBottom.addEventListener(events._Event.CHANGE,function(){return g17.onBtnBottomChange();});o17.addChild(g17.btnBottom);g17.measuresDropDown=new uicontrols.lists.UIDropDownList();g17.measuresDropDown.setId(L7Y);g17.measuresDropDown.setLabelField(v9VV.W0B);g17.measuresDropDown.setPrompt(R2f.C4C);g17.measuresDropDown.addEventListener(events._Event.CHANGE,function(n17){return g17.onMeasuresChange(n17);});g17.addChild(g17.measuresDropDown);return g17;}b17.prototype.setMeasures=function(c17){this.measuresDropDown.setDataProvider(c17);this.measuresDropDown.setSelectedIndex(U9VV.F8C);};b17.prototype.getSelectedMeasure=function(){return this.measuresDropDown.getSelectedItem();};b17.prototype.setSelectedMeasure=function(L17){this._isEmpty=!U9VV.O8C;this.measuresDropDown.setSelectedItem(L17,G9VV.M6B);};b17.prototype.reset=function(){var N2f=U9VV;var a7Y="10";this._isEmpty=!N2f.F8C;var a17=s17.model._options.OptionsManager.flatView;this.btnTop.setSelection(a17?N2f.F8C:N2f.O8C);this.btnBottom.setSelection(N2f.F8C);this.measuresDropDown.setSelectedIndex(N2f.F8C);this.measuresDropDown.isVisible(!a17);this.quantityInput.setText(a7Y);};b17.prototype.setLabels=function(){this.btnTop.setLabel(s17.model._labels.Labels.FILTER_TOP);this.btnBottom.setLabel(s17.model._labels.Labels.FILTER_BOTTOM);this.measuresDropDown.setPrompt(U9VV.C4C);};b17.prototype.getFilterType=function(){return U9VV.O8C===this.btnTop.getSelection()?s17.data_.consts.FilterType.TOP:U9VV.O8C===this.btnBottom.getSelection()?s17.data_.consts.FilterType.BOTTOM:U9VV.C4C;};b17.prototype.setFilterType=function(e17){var X2f=U9VV;e17==s17.data_.consts.FilterType.TOP?(this._isEmpty=!X2f.O8C,this.btnTop.setSelection(X2f.O8C),this.btnBottom.setSelection(X2f.F8C)):e17==s17.data_.consts.FilterType.BOTTOM&&(this._isEmpty=!X2f.O8C,this.btnTop.setSelection(X2f.F8C),this.btnBottom.setSelection(X2f.O8C));};b17.prototype.getFilterQuantity=function(){return parseInt(this.quantityInput.getText());};b17.prototype.setFilterQuantity=function(h17){this._isEmpty=!U9VV.O8C;this.quantityInput.setText(h17.toString());};Object.defineProperty(b17.prototype,G9VV.Y6B,{get:function(){return this._isEmpty;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});b17.CHANGE_EVENT=U9VV.V3C;return b17;}(uicontrols.UIComponentBase);M17.TopBottomView=O17;}(F17.filter||(F17.filter={})));}(s17._view||(s17._view={})));}(pivot||(pivot={})));(function(R17){(function(A17){(function(k17){var Q17=function(){var u7x=U9VV;var A7Y="isPages";var R7Y="isValuesFilterChanged";var h7Y="isValuesFilterEmpty";f17.getInstance=function(){u7x.x4C==f17.instance&&(f17.instance=new f17());return f17.instance;};f17.dispose=function(){f17.instance=u7x.x4C;};f17.prototype.getHierarchies=function(){return this.hierarchies;};f17.prototype.setHierarchies=function(i17){this.hierarchies=i17;};f17.prototype.update=function(E17){this.currentCoord={top:this.zeroCoord.top,left:this.zeroCoord.left};var J17=this.modelLocator.cube_.slice_.allHierarchies(!u7x.O8C,!u7x.F8C,this.isFlatTable).toArray();this.setHierarchies(J17);this.setCurrentHierarchy(E17);this.measures=this.modelLocator.cube_.slice_.measures_.toArray();};f17.prototype.clearValuesFilter=function(){this.filterType=R17.data_.consts.FilterType.NONE;this.filterQuantity=-u7x.O8C;this.filterMeasureName=u7x.C4C;};f17.prototype.setCurrentHierarchy=function(H17){if(this.currentHierarchy=H17)this.sortType=this.currentHierarchy.sortName,this.sortTypeChanged=!u7x.O8C,this.filterMeasureName=this.currentHierarchy.filterMeasureName,this.filterQuantity=this.currentHierarchy.filterQuantity,this.filterType=this.currentHierarchy.filterType,this.members=this.sortType!==R17.data_.consts.SortType.UNSORTED?this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!u7x.O8C,this.sortType).toArray():this.currentHierarchy.allMember.children.toArray();};f17.prototype.getTopBottomMeasures=function(){return this.isFlatTable?[this.modelLocator.cube_.structure_.hierarchyToMeasure(this.currentHierarchy.uniqueName)]:this.measures;};function f17(){var e7Y="FilterModel is singleton!";this.sortTypeChanged=!u7x.O8C;if(u7x.x4C!=f17.instance)throw e7Y;this.pivotInstance=R17.Pivot.instance;this.modelLocator=R17.model.PivotModel.getInstance();this.zeroCoord=A17.PivotView.stage.position();}f17.prototype.getSortType=function(){return this.sortType;};f17.prototype.setSortType=function(Z17){this.sortType=Z17;this.sortTypeChanged=!u7x.F8C;};f17.prototype.applyChanges=function(){this.currentHierarchy.hasValuesFilter()&&this.isValuesFilterEmpty&&this.modelLocator.clearFilter(this.currentHierarchy.uniqueName);this.applyMembersFilter();this.applyValuesFilter();this.applySort();};Object.defineProperty(f17.prototype,h7Y,{get:function(){return!this.filterMeasureName||u7x.F8C===this.filterMeasureName.length||isNaN(this.filterQuantity)||u7x.O8C>this.filterQuantity||!this.filterType||u7x.F8C===this.filterType.length||this.filterType===R17.data_.consts.FilterType.NONE;},enumerable:!u7x.F8C,configurable:!u7x.F8C});Object.defineProperty(f17.prototype,R7Y,{get:function(){return this.currentHierarchy.filterMeasureName!==this.filterMeasureName||this.currentHierarchy.filterQuantity!==this.filterQuantity||this.currentHierarchy.filterType!==this.filterType?!u7x.F8C:!u7x.O8C;},enumerable:!u7x.F8C,configurable:!u7x.F8C});f17.prototype.applyValuesFilter=function(){!this.isValuesFilterEmpty&&this.isValuesFilterChanged&&(u7x.b2C===this.filterType?this.modelLocator.setTopX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName):u7x.g2C===this.filterType&&this.modelLocator.setBottomX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName));};f17.prototype.isMembersFilterChanged=function(){if(this.filteredMembers.length!==this.currentHierarchy.filterMembers.length&&!this.filterNegation)return!u7x.F8C;for(var y17=u7x.F8C,d17=this.filteredMembers.length;y17<d17;y17++)if(this.filterNegation===this.currentHierarchy.filterMembers.keyExists(this.filteredMembers[y17].uniqueName))return!u7x.F8C;return this.filterNegation&&this.currentHierarchy&&this.currentHierarchy.filterMembers.length+this.filteredMembers.length!==this.currentHierarchy.members.length-u7x.O8C?!u7x.F8C:!u7x.O8C;};f17.prototype.applyMembersFilter=function(){this.isMembersFilterChanged()&&this.modelLocator.setFilter(this.currentHierarchy.uniqueName,this.filteredMembers,this.filterNegation);};f17.prototype.isSortTypeChanged=function(){return this.sortTypeChanged;};f17.prototype.applySort=function(){this.isSortTypeChanged()&&this.modelLocator.setSort(this.currentHierarchy.uniqueName,this.sortType);};Object.defineProperty(f17.prototype,A7Y,{get:function(){return!this.isFlatTable&&this.modelLocator.cube_.slice_.pages.keyExists(this.currentHierarchy.uniqueName);},enumerable:!u7x.F8C,configurable:!u7x.F8C});Object.defineProperty(f17.prototype,W9VV.g1Y,{get:function(){return R17.model._options.OptionsManager.flatView;},enumerable:!u7x.F8C,configurable:!u7x.F8C});return f17;}();k17.FilterModel=Q17;}(A17.filter||(A17.filter={})));}(R17._view||(R17._view={})));}(pivot||(pivot={})));(function(S17){(function(I17){(function(T17){var m17=function(r17){var E7Y="isAvailableTopX";var Q7Y="wdr-not-empty";__extends(w17,r17);w17.prototype.onDataUpdated=function(){this.update(this.model.currentHierarchy);};w17.prototype.onClearTop=function(V87){V87.stopImmediatePropagation();this.model.clearValuesFilter();this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.hide());this.view.top10Btn&&(this.view.top10Btn.container.removeClass(Q7Y),this.view.top10Btn.setSelection(U9VV.F8C));};w17.prototype.onTopBottomChange=function(){if(this.view.topBottomView){this.model.filterType=this.view.topBottomView.getFilterType();this.model.filterQuantity=this.view.topBottomView.getFilterQuantity();var l87=this.view.topBottomView.getSelectedMeasure();this.model.filterMeasureName=l87?l87.uniqueName:U9VV.C4C;}this.view.top10Btn&&this.view.top10Btn.container.addClass(Q7Y);};w17.prototype.onTop10Change=function(){this.view.topBottomView&&this.view.topBottomView.isVisible(U9VV.O8C===this.view.top10Btn.getSelection());};w17.prototype.onOkClick=function(p87){this.dispatchWith(W9VV.k7Y);p87=this.view.membersFilterList.getFilterItems();this.model.filteredMembers=p87.items;this.model.filterNegation=p87.negation;this.model.applyChanges();};w17.prototype.onCancelClick=function(X87){this.dispatchWith(W9VV.k7Y);};w17.prototype.onAzBtnChange=function(){var D6K=U9VV;D6K.O8C===this.view.azBtn.getSelection()&&(this.view.zaBtn.setSelection(D6K.F8C),this.model.setSortType(S17.data_.consts.SortType.ASC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));D6K.F8C===this.view.azBtn.getSelection()&&D6K.F8C===this.view.zaBtn.getSelection()&&(this.model.setSortType(S17.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};function w17(){var N6K=U9VV;var C17=r17.call(this)||this;C17.model=T17.FilterModel.getInstance();C17.view=new T17.FilterViewContent(C17);N6K.x4C!=C17.view.hierarchiesList&&C17.view.hierarchiesList.addEventListener(events._Event.CHANGE,function(P17){return C17.onHierarchiesListChange(P17);});N6K.x4C!=C17.view.searchInput&&C17.view.searchInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(U87){return C17.onSearchInputChange(U87.data);});N6K.x4C!=C17.view.membersFilterList&&(C17.view.membersFilterList.addEventListener(T17.FilterList.SELECT_EVENT,function(){return C17.onMembersFilterSelect();}),C17.view.membersFilterList.addEventListener(T17.FilterList.EXPAND_EVENT,function(){return C17.onMembersFilterExpand();}));N6K.x4C!=C17.view.selectAllCbx&&C17.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return C17.onSelectAllChange();});N6K.x4C!=C17.view.azBtn&&C17.view.azBtn.addEventListener(events._Event.CHANGE,function(){return C17.onAzBtnChange();});N6K.x4C!=C17.view.zaBtn&&C17.view.zaBtn.addEventListener(events._Event.CHANGE,function(){return C17.onZaBtnChange();});N6K.x4C!=C17.view.top10Btn&&C17.view.top10Btn.addEventListener(events._Event.CHANGE,function(){return C17.onTop10Change();});N6K.x4C!=C17.view.clearTopBtn&&C17.view.clearTopBtn.container.addEventListener(N6K.H2C,function(v87){return C17.onClearTop(v87);});N6K.x4C!=C17.view.topBottomView&&C17.view.topBottomView.addEventListener(T17.TopBottomView.CHANGE_EVENT,function(){return C17.onTopBottomChange();});N6K.x4C!=C17.view.okBtn&&C17.view.okBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(G87){return C17.onOkClick(G87);});N6K.x4C!=C17.view.cancelBtn&&C17.view.cancelBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(W87){return C17.onCancelClick(W87);});return C17;}w17.prototype.onZaBtnChange=function(){var z6K=U9VV;z6K.O8C===this.view.zaBtn.getSelection()&&(this.view.azBtn.setSelection(z6K.F8C),this.model.setSortType(S17.data_.consts.SortType.DESC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));z6K.F8C===this.view.azBtn.getSelection()&&z6K.F8C===this.view.zaBtn.getSelection()&&(this.model.setSortType(S17.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};w17.prototype.onSelectAllChange=function(){this.view.membersFilterList&&(this.view.membersFilterList.selectAll(U9VV.O8C==this.view.selectAllCbx.getSelection()),this.view.membersFilterList.getTotalSelectedLength(),this.view.okBtn.setEnabled(U9VV.F8C<this.view.membersFilterList.getTotalSelectedLength()));this.updateSelectedLabel();};w17.prototype.onMembersFilterSelect=function(){this.view.okBtn.setEnabled(U9VV.F8C<this.view.membersFilterList.getTotalSelectedLength());this.updateAllSelectedCbx();this.updateSelectedLabel();};w17.prototype.onMembersFilterExpand=function(){this.updateLayout();this.updateSelectedLabel();};w17.prototype.updateAllSelectedCbx=function(){var p6K=U9VV;p6K.F8C==this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(p6K.F8C):this.view.membersFilterList.getTotalItemsCount()>this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(-p6K.O8C):this.view.membersFilterList.getTotalItemsCount()==this.view.membersFilterList.getSelectedLength()&&this.view.selectAllCbx.setSelection(p6K.O8C);};w17.prototype.update=function(B87){var V6K=U9VV;var i7Y="Sorting members...";var f7Y="Please, wait";var Y87=this;!V6K.O8C!=this.view.isVisible()&&(G9VV.q7B<B87.members.length?(S17.preloader(!V6K.F8C,f7Y,i7Y,!V6K.F8C,!V6K.F8C),setTimeout(function(){Y87.model.update(B87);Y87.updateView();S17.preloader(!V6K.O8C);},V6K.V0C)):(this.model.update(B87),this.updateView()));};w17.prototype.onSearchInputChange=function(q87){var u87=this;q87.trim()==q87&&this.view.membersFilterList&&this.view.membersFilterList.search(q87,function(){return u87.onSearchComplete();});};w17.prototype.onSearchComplete=function(){this.updateLayout();this.updateSelectedLabel();this.updateAllSelectedCbx();};w17.prototype.updateView=function(){var J7Y="wdr-filter-pages-layout";this.view.setLabels();this.view.container.toggleClass(J7Y,this.model.isPages);this.view.membersView&&this.view.membersView.reset();this.view.searchInput&&(this.view.searchInput.clear(),this.view.searchInput.setChangeDelay(U9VV.F8C));this.view.top10Btn&&(S17.data_.types.MeasureType.STRING==S17.data_.types.MeasureType.fromDataType(this.model.currentHierarchy.dimension.type+U9VV.C4C)&&S17.model._options.OptionsManager.flatView?this.view.top10Btn.hide():this.view.top10Btn.show());this.updateSortType();this.updateHierarchy();this.updateMembers();this.updateTopBottom();this.updateLayout();this.updateSelectedLabel();var z87=!this.model.isPages;this.view.azBtn&&(z87?this.view.azBtn.show():this.view.azBtn.hide());this.view.zaBtn&&(z87?this.view.zaBtn.show():this.view.zaBtn.hide());this.view.top10Btn&&(this.isAvailableTopX?this.view.top10Btn.show():this.view.top10Btn.hide());this.view.sortContainer&&(z87?this.view.sortContainer.show():this.view.sortContainer.hide());};Object.defineProperty(w17.prototype,E7Y,{get:function(){if(this.model.isFlatTable){var N87=this.model.modelLocator.cube_.structure_.hierarchyToMeasure(this.model.currentHierarchy.uniqueName);return N87&&N87.type==S17.data_.types.MeasureType.NUMBER;}return!this.model.isPages;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});w17.prototype.updateMembers=function(){var k2K=U9VV;var D87=this.model.currentHierarchy;this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(k2K.F8C<D87.filterMembers.length?-k2K.O8C:k2K.O8C);var x87;x87=k2K.M8C<D87.levels_.length?new T17.MembersTreeDataProvider():new T17.MembersFilterDataProvider();this.view.membersFilterList&&(this.view.membersFilterList.setSmartDataProvider(x87),this.view.membersFilterList.setHierarchy(D87),this.view.membersFilterList.setDataProvider(this.model.members),this.view.membersFilterList.setFilterItems(D87.filterMembers.toArray()),this.view.membersFilterList.sort(this.model.getSortType()));};w17.prototype.updateHierarchy=function(){this.view.titleLabel&&this.view.titleLabel.setLabel(this.model.currentHierarchy.caption);this.view.toolbar&&this.view.toolbar.setHeader(this.model.currentHierarchy.caption);};w17.prototype.updateLayout=function(){var O2K=U9VV;var b0C=84;if(this.view.membersFilterList&&O2K.F8C<this.view.membersFilterList.getTotalLength())if(this.view.selectAllCbx&&this.view.selectAllCbx.show(),O2K.F8C==this.view.explicitListHeight||isNaN(this.view.explicitListHeight)){var K87=utils.browserVersion().isMobile?utils.viewportHeight()-O2K.V0C:I17.PivotView.stage.getY()+I17.PivotView.stageHeight-window.document.documentElement.scrollTop,K87=Math.min(K87,parseFloat(window.document.documentElement.style.height))-this.view.membersFilterList.container.offset().top+window.document.documentElement.scrollTop-I17.PivotView.stage.toolbarHeight,K87=Math.max(K87,b0C);this.setOptimalListHeight(K87,!O2K.F8C);}else this.setOptimalListHeight(this.view.explicitListHeight,!O2K.O8C);else this.view.selectAllCbx&&this.view.selectAllCbx.hide();};w17.prototype.updateSortType=function(){var s2K=U9VV;this.view.azBtn&&this.view.azBtn.setSelection(G9VV.r6B===this.model.getSortType()?s2K.O8C:s2K.F8C);this.view.zaBtn&&this.view.zaBtn.setSelection(W9VV.r7B===this.model.getSortType()?s2K.O8C:s2K.F8C);};w17.prototype.updateTopBottom=function(){var y4K=U9VV;this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.setMeasures(this.model.getTopBottomMeasures()));y4K.b2C===this.model.filterType||y4K.g2C===this.model.filterType?(this.view.topBottomView&&(this.view.topBottomView.setFilterType(this.model.filterType),this.view.topBottomView.setFilterQuantity(this.model.filterQuantity),this.view.topBottomView.setSelectedMeasure(utils.ArrayUtils.find(this.model.measures,this.model.filterMeasureName,G9VV.M6B)),this.view.topBottomView.show()),this.view.top10Btn&&this.view.top10Btn.setSelection(y4K.O8C)):(this.view.topBottomView&&this.view.topBottomView.hide(),this.view.top10Btn&&this.view.top10Btn.setSelection(y4K.F8C));var s87=this.view.topBottomView?this.view.topBottomView.isEmpty:!y4K.F8C;this.view.top10Btn&&this.view.top10Btn.container.toggleClass(Q7Y,!s87);};w17.prototype.setOptimalListHeight=function(M87,b87){var F87=Math.max(Math.min(M87,this.view.membersFilterList.getMaxHeight()),this.view.membersFilterList.getMinHeight());if(b87)var O87=F87%this.view.membersFilterList.getRowHeight(),F87=F87-O87;this.view.membersFilterList.setHeight(F87);this.view.table&&this.view.contentPanel.setHeight(this.view.table.getHeight());};w17.prototype.updateSelectedLabel=function(){var j87=U9VV.C4C;this.view.membersFilterList&&(j87=this.view.membersFilterList.isSearched()?utils.StringUtils.bind(S17.model._labels.Labels.FILTER_AMOUNT_FOUND,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()):utils.StringUtils.bind(S17.model._labels.Labels.FILTER_AMOUNT_SELECTED,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()));this.view.selectedAmountLabel&&this.view.selectedAmountLabel.setLabel(j87);this.view.selectAllCbx&&this.view.selectAllCbx.setLabel(this.view.membersFilterList&&this.view.membersFilterList.isSearched()?S17.model._labels.Labels.FILTER_SELECT_ALL_RESULTS:S17.model._labels.Labels.FILTER_SELECT_ALL);};w17.prototype.onHierarchiesListChange=function(g87){var o87=g87.data.selectedItem;-U9VV.O8C<g87.data.selectedIndex&&(this.model.setCurrentHierarchy(o87),this.updateView());};return w17;}(events.EventDispatcher);T17.FilterController=m17;}(I17.filter||(I17.filter={})));}(S17._view||(S17._view={})));}(pivot||(pivot={})));(function(n87){(function(t87){(function(c87){var L87=function(e87){__extends(a87,e87);a87.prototype.openView=function(R87){this.open();this.controller.update(R87);this.centerPosition();this.dispatchWith(events._Event.OPENED);};function a87(){var H7Y="wdr-filter-view";var h87=e87.call(this,t87.PivotView.stage.container)||this;h87.setId(H7Y);h87.addClass(U9VV.N2C);h87.controller=new c87.FilterController();h87.controller.addEventListener(W9VV.k7Y,function(){return h87.close();});h87.addChild(h87.controller.view);h87.controller.view.show();return h87;}a87.prototype.close=function(){e87.prototype.close.call(this);this.dispatchWith(events._Event.CLOSED);};return a87;}(uicontrols.containers.UIPopup);c87.FilterView=L87;}(t87.filter||(t87.filter={})));}(n87._view||(n87._view={})));}(pivot||(pivot={})));var xls;(function(A87){var Q87=function(){var p9x="rId";var m7Y=".xml";k87.prototype.toUint8Array=function(){var v9x="uint8array";var U9x="STORE";var P7Y="docProps/core.xml";var C7Y="docProps/app.xml";var r7Y="xl/styles.xml";var w7Y="xl/sharedStrings.xml";var T7Y="xl/worksheets/sheet";var I7Y="xl/theme/theme1.xml";var S7Y="xl/workbook.xml";var d7Y="xl/_rels/workbook.xml.rels";var y7Y="_rels/.rels";var Z7Y="[Content_Types].xml";utils.getTimer();var f87=new JSZip();f87.file(Z7Y,A87.XLSTemplates.XML_HEADER+this.composeContentTypeXMLString());f87.file(y7Y,A87.XLSTemplates.XML_HEADER+A87.XLSTemplates._RELS);f87.file(d7Y,A87.XLSTemplates.XML_HEADER+this.composeWorkbookRelsXMLString());f87.file(S7Y,A87.XLSTemplates.XML_HEADER+this.composeWorkbookXMLString());f87.file(I7Y,A87.XLSTemplates.XML_HEADER+A87.XLSTemplates.THEME);for(var i87=U9VV.F8C;i87<this.sheets.length;i87++){var J87=this.sheets[i87].toXMLString();f87.file(T7Y+(i87+U9VV.O8C)+m7Y,A87.XLSTemplates.XML_HEADER+J87);}f87.file(w7Y,A87.XLSTemplates.XML_HEADER+this.composeSharedStrings());f87.file(r7Y,A87.XLSTemplates.XML_HEADER+this.styleSheet.toXMLString());f87.file(C7Y,A87.XLSTemplates.XML_HEADER+A87.XLSTemplates.APP_XML);f87.file(P7Y,A87.XLSTemplates.XML_HEADER+A87.XLSTemplates.CORE_XML);return f87.generate({compression:U9x,type:v9x});};k87.prototype.composeSharedStrings=function(){var V9x="</t></si>";var W9x="<si><t>";var G9x="<axis/>";var E87=U9VV.C4C;misc.XML.create(G9x).attr(v9VV.F5C,v9VV.M8Q);for(var H87=U9VV.F8C;H87<A87.XLSSharedStrings.strings.length;H87++)var Z87=utils.StringUtils.escapeHtml(A87.XLSSharedStrings.strings[H87]),E87=E87+(W9x+Z87+V9x);return utils.StringUtils.bind(A87.XLSTemplates.SHARED_STRING_XML,E87);};k87.prototype.composeWorkbookXMLString=function(){var x4x=U9VV;var l9x='<sheet name="{0}" sheetId="{1}" r:id="{2}"/>';for(var d87=x4x.C4C,y87=x4x.F8C;y87<this.sheets.length;y87++)d87+=utils.StringUtils.bind(l9x,this.sheets[y87].name,y87+x4x.O8C,p9x+(y87+x4x.j8C));return utils.StringUtils.bind(A87.XLSTemplates.WORKBOOK_XML,d87);};k87.prototype.composeWorkbookRelsXMLString=function(){var D4x=U9VV;var X9x="worksheets/sheet";for(var I87=D4x.C4C,S87=D4x.F8C;S87<this.sheets.length;S87++)I87+=utils.StringUtils.bind(A87.XLSTemplates.WORKBOOK_XML_RELS_SHEET,p9x+(S87+D4x.j8C),X9x+(S87+D4x.O8C)+m7Y);return utils.StringUtils.bind(A87.XLSTemplates.WORKBOOK_XML_RELS,I87);};k87.prototype.composeContentTypeXMLString=function(){var B9x="/xl/worksheets/sheet";for(var m87=U9VV.C4C,T87=U9VV.F8C;T87<this.sheets.length;T87++)m87+=utils.StringUtils.bind(A87.XLSTemplates.CONTENT_TYPES_XML_SHEET,B9x+(T87+U9VV.O8C)+m7Y);return utils.StringUtils.bind(A87.XLSTemplates.CONTENT_TYPES_XML,m87);};function k87(){this.styleSheet=new A87.styles.XLSStyleSheet();this.sheets=[];A87.styles.format.XLSStyleFormat.lastNumFmtId=A87.styles.format.XLSStyleFormat.defaultNumFmtId;}return k87;}();A87.XLS=Q87;}(xls||(xls={})));(function(w87){var r87=function(){var C0x=U9VV;Object.defineProperty(C87.prototype,C0x.W3C,{get:function(){return this._type;},enumerable:!C0x.F8C,configurable:!C0x.F8C});Object.defineProperty(C87.prototype,W9VV.a9Y,{get:function(){return this._value;},set:function(W07){var z9x="<[^<]+?>";var u9x="/&/gmi";var q9x="gmi";var Y9x="<br/?>";C0x.x2C===typeof W07&&isNaN(W07)&&(W07=C0x.C4C);if(C0x.K2C===typeof W07){W07=W07.replace(RegExp(Y9x,q9x),v9VV.m6C);W07=W07.replace(u9x,C0x.C4C);W07=W07.replace(RegExp(z9x,q9x),C0x.C4C);var V07=w87.XLSSharedStrings.strings.indexOf(W07);-C0x.O8C==V07?(this._value=w87.XLSSharedStrings.strings.length,w87.XLSSharedStrings.strings.push(W07)):this._value=V07;this._type=w87.XLSType.STRING;}else this._value=W07,this._type=C0x.x2C===typeof W07?w87.XLSType.NUMBER:C0x.x4C===W07?w87.XLSType.NULL:!C0x.O8C===W07?w87.XLSType.MERGED:w87.XLSType.UNKNOWN;},enumerable:!C0x.F8C,configurable:!C0x.F8C});function C87(P87,U07,v07,G07){void C0x.F8C===P87&&(P87=C0x.F8C);void C0x.F8C===U07&&(U07=C0x.F8C);void C0x.F8C===v07&&(v07=C0x.C4C);void C0x.F8C===G07&&(G07=C0x.F8C);this.row=P87;this.column=U07;this.value=v07;this.styleIndex=G07;}Object.defineProperty(C87.prototype,C0x.G2C,{get:function(){var d8C=26;for(var p07=C0x.C4C,l07=this.column+C0x.O8C,B07=C0x.F8C;d8C<l07;){var X07=C0x.F8C<l07%d8C?l07%d8C:d8C,l07=l07/d8C;d8C==X07&&l07--;p07=String.fromCharCode(X07+C0x.N0C)+p07;if(C0x.b8C==B07++)break;}p07=String.fromCharCode(l07+C0x.N0C)+p07;return p07+(this.row+C0x.O8C);},set:function(Y07){},enumerable:!C0x.F8C,configurable:!C0x.F8C});C87.prototype.toString=function(){var s9x=", value: ";var K9x=", id: ";var x9x=", type: ";var D9x=", column: ";var N9x="XLSCell {row: ";return N9x+this.row+D9x+this.column+x9x+this.type+K9x+this.id+s9x+this.value+v9VV.C7C;};return C87;}();w87.XLSCell=r87;}(xls||(xls={})));(function(u07){var q07=function(){z07.strings=[];function z07(){}return z07;}();u07.XLSSharedStrings=q07;}(xls||(xls={})));(function(N07){var D07=function(){var U4x=U9VV;var M9x="rowsCount";var O9x="columnsCount";var F9x="maxCell";Object.defineProperty(x07.prototype,F9x,{get:function(){return this.getCell(this.maxRow,this.maxColumn);},set:function(s07){},enumerable:!U4x.F8C,configurable:!U4x.F8C});Object.defineProperty(x07.prototype,O9x,{get:function(){return this.maxColumn+U4x.O8C;},enumerable:!U4x.F8C,configurable:!U4x.F8C});Object.defineProperty(x07.prototype,M9x,{get:function(){return this.maxRow+U4x.O8C;},enumerable:!U4x.F8C,configurable:!U4x.F8C});x07.prototype.setColumnWidth=function(F07,O07){this.columns[F07]=O07;};x07.prototype.getColumnWidth=function(M07){return this.columns[M07]?this.columns[M07]:U4x.F8C;};x07.prototype.setRowHeight=function(b07,j07){this.rows[b07]=j07;};x07.prototype.getRowHeight=function(g07){return this.rows[g07]?this.rows[g07]:U4x.F8C;};x07.prototype.setCell=function(o07,n07,c07,t07){void U4x.F8C===t07&&(t07=U4x.x4C);U4x.x4C==this.cells[o07]&&(this.cells[o07]=[]);this.cells[o07][n07]=c07 instanceof N07.XLSCell?c07:new N07.XLSCell(o07,n07,c07,U4x.x4C==t07?U4x.F8C:t07.index);this.maxRow<o07&&(this.maxRow=o07);this.maxColumn<n07&&(this.maxColumn=n07);};x07.prototype.getCell=function(a07,e07){var L07;U4x.x4C!=this.cells[a07]&&(L07=this.cells[a07][e07]);U4x.x4C==L07&&(L07=new N07.XLSCell(a07,e07,U4x.x4C));return L07;};x07.prototype.mergeCells=function(Q07,k07,i07){var h07=this.getCell(Q07,k07);if(U4x.x4C!=h07){for(var f07=h07.id,A07,R07=k07+U4x.O8C;R07<k07+i07;R07++)A07=new N07.XLSCell(Q07,R07,!U4x.O8C,h07.styleIndex),this.cells[Q07][R07]=A07;f07+=v9VV.t7C+(A07?A07.id:h07.id);this.mergedCells.push(f07);}};x07.prototype.toXMLString=function(){var h9x='<mergeCells count="{0}">{1}</mergeCells>';var e9x='<mergeCell ref="{0}"/>';var a9x='<col min="{0}" max="{1}" width="{2}" customWidth="1" />';var L9x='<row spans="1:3" r="{0}" x14ac:dyDescent="0.25" ht="{1}" customHeight="1">{2}</row>';var c9x='<row spans="1:3" r="{0}"  >{1}</row>';var t9x="</v></c>";var n9x="><v>";var o9x=' t="s"';var g9x='" />';var j9x='" s="';var b9x='<c r="';utils.getTimer();for(var y07=U4x.C4C,E07=U4x.F8C;E07<this.cells.length;E07++){var J07=this.cells[E07];if(U4x.x4C!=J07&&U4x.F8C!=J07.length){for(var Z07=U4x.C4C,d07=U4x.F8C;d07<J07.length;d07++){var H07=J07[d07];U4x.x4C!=H07&&H07.type!=N07.XLSType.NULL&&(Z07=H07.type==N07.XLSType.MERGED?Z07+(b9x+H07.id+j9x+H07.styleIndex.toString()+g9x):Z07+(b9x+H07.id+j9x+H07.styleIndex.toString()+v9VV.U9Q+(H07.type==N07.XLSType.STRING?o9x:U4x.C4C)+n9x+H07.value+t9x));}y07=isNaN(this.rows[E07])?y07+utils.StringUtils.bind(c9x,E07+U4x.O8C,Z07):y07+utils.StringUtils.bind(L9x,E07+U4x.O8C,this.rows[E07],Z07);}}E07=U4x.C4C;for(J07=U4x.F8C;J07<this.columns.length;J07++)isNaN(this.columns[J07])||(E07+=utils.StringUtils.bind(a9x,J07+U4x.O8C,J07+U4x.O8C,this.columns[J07]));Z07=U4x.C4C;for(J07=U4x.F8C;J07<this.mergedCells.length;J07++)Z07+=utils.StringUtils.bind(e9x,this.mergedCells[J07]);J07=U4x.F8C<this.mergedCells.length?utils.StringUtils.bind(h9x,this.mergeCells.length,Z07):U4x.C4C;return utils.StringUtils.bind(N07.XLSTemplates.SHEET_XML,this.getCell(U4x.F8C,U4x.F8C).id+v9VV.t7C+this.maxCell.id,E07,y07,J07);};function x07(K07){this.cells=[];this.maxColumn=this.maxRow=U4x.F8C;this.columns=[];this.rows=[];this.mergedCells=[];this.name=K07;}return x07;}();N07.XLSSheet=D07;}(xls||(xls={})));(function(I07){var S07=function(){var v4x=U9VV;var j0C=98;T07.NULL=v4x.F8C;T07.NUMBER=v4x.O8C;T07.STRING=v4x.M8C;T07.MERGED=j0C;function T07(){}T07.UNKNOWN=v4x.g0C;return T07;}();I07.XLSType=S07;}(xls||(xls={})));(function(m07){(function(w07){var r07=function(){Object.defineProperty(C07.prototype,U9VV.G2C,{get:function(){var M9f=v9VV;return this.fill.id+M9f.t7C+this.font.id+M9f.t7C+this.textIndent+M9f.t7C+this.textAlign+M9f.t7C+this.format.id;},set:function(W47){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});C07.prototype.toXMLString=function(){var F9f=U9VV;var i9x=' applyAlignment="1"';var f9x=' applyNumberFormat = "1"';var k9x='<xf numFmtId="{0}"{1} fontId="{2}" fillId="{3}" borderId="1" xfId="0" applyFont="1" applyFill="1"{4}>{5}</xf>';var Q9x='<alignment vertical="center" wrapText="1"/>';var A9x=' indent="';var R9x='<alignment vertical="center" horizontal="{0}" wrapText="1"{1}/>';var V47=F9f.C4C,V47=this.textIndent||this.textAlign?utils.StringUtils.bind(R9x,utils.nullOrUndefined(this.textAlign)?F9f.M2C:this.textAlign,utils.nullOrUndefined(this.textIndent)?F9f.C4C:A9x+this.textIndent+v9VV.U9Q):Q9x;return utils.StringUtils.bind(k9x,this.format.numFmtId,F9f.F8C<this.format.numFmtId?f9x:F9f.C4C,this.font.fontIndex,this.fill.fillIndex,F9f.F8C<V47.length?i9x:F9f.C4C,V47);};function C07(G47,P07,U47,v47){var s9f=U9VV;void s9f.F8C===U47&&(U47=s9f.x4C);void s9f.F8C===v47&&(v47=s9f.x4C);this.index=s9f.F8C;P07 instanceof w07.fills.XLSStyleFill?this.fill=P07:!isNaN(P07)&&-s9f.O8C<P07?this.fill=new w07.fills.XLSStyleFill(P07):this.fill=new w07.fills.XLSStyleFill();this.font=G47 instanceof w07.fonts.XLSStyleFont?G47:new w07.fonts.XLSStyleFont(G47);this.format=U47&&U47 instanceof w07.format.XLSStyleFormat?U47:new w07.format.XLSStyleFormat(s9f.F8C,s9f.C4C);s9f.x4C!=v47&&(this.textAlign=v47);}return C07;}();w07.XLSStyle=r07;}(m07.styles||(m07.styles={})));}(xls||(xls={})));(function(l47){(function(p47){var X47=function(){B47.prototype.addStyle=function(q47){this.styles.keyExists(q47.id)?q47.index=this.styles.getItem(q47.id).index:(this.addFill(q47.fill),this.addFont(q47.font),this.styles.addItem(q47.id,q47),q47.index=this.styles.length);};B47.prototype.addFill=function(u47){this.fills.keyExists(u47.id)?u47.fillIndex=this.fills.getItem(u47.id).fillIndex:(u47.fillIndex=this.fills.length,this.fills.addItem(u47.id,u47));};function B47(){this.styles=new utils.AssociativeArray();this.fills=new utils.AssociativeArray();this.fonts=new utils.AssociativeArray();this.formats=new utils.AssociativeArray();this.addFill(new p47.fills.XLSStyleFill());var Y47=new p47.fills.XLSStyleFill();Y47.patternFill.patternType=W9VV.J9x;Y47.fillIndex=U9VV.O8C;this.fills.addItem(W9VV.J9x,Y47);}B47.prototype.addFont=function(z47){this.fonts.keyExists(z47.id)?z47.fontIndex=this.fonts.getItem(z47.id).fontIndex:(this.fonts.addItem(z47.id,z47),z47.fontIndex=this.fonts.length);};B47.prototype.addFormat=function(N47){this.formats.keyExists(N47.id)?N47.numFmtId=this.formats.getItem(N47.id).numFmtId:(-U9VV.O8C==N47.numFmtId&&(N47.numFmtId=p47.format.XLSStyleFormat.getNextAvailableCustomNumFmtId()),this.formats.addItem(N47.id,N47));};B47.prototype.toXMLString=function(){var z9f=U9VV;var H9x="</numFmts>";var E9x='<numFmts count="';var s47=z9f.C4C,F47=z9f.C4C,O47=z9f.C4C,M47=z9f.C4C,D47;if(z9f.F8C<this.formats.length){var x47=z9f.F8C,b47=z9f.C4C;for(D47=z9f.F8C;D47<this.formats.length;D47++){var K47=this.formats.getItemAt(D47);z9f.C4C!=K47.formatCode&&(K47=K47.toXMLString(),b47+=K47,x47++);}z9f.F8C<x47&&(s47=E9x+x47+W9VV.Y4Y+b47+H9x);}for(D47=z9f.F8C;D47<this.fills.length;D47++)x47=this.fills.getItemAt(D47),F47+=x47.toXMLString();for(D47=z9f.F8C;D47<this.fonts.length;D47++)x47=this.fonts.getItemAt(D47),O47+=x47.toXMLString();for(D47=z9f.F8C;D47<this.styles.length;D47++)x47=this.styles.getItemAt(D47),M47+=x47.toXMLString();return utils.StringUtils.bind(l47.XLSTemplates.STYLES_XML,s47,this.fonts.length+z9f.O8C,O47,this.fills.length,F47,this.styles.length+z9f.O8C,M47);};return B47;}();p47.XLSStyleSheet=X47;}(l47.styles||(l47.styles={})));}(xls||(xls={})));(function(j47){(function(g47){(function(n47){var o47=function(){Object.defineProperty(t47.prototype,U9VV.G2C,{get:function(){return this.rgb.toString(U9VV.Q8C);},set:function(L47){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});function t47(c47){this.rgb=c47;}t47.prototype.toXMLString=function(a47){var A4K=v9VV;var e4K=U9VV;var I9x=' rgb="FF';var S9x=' indexed="';var d9x=' tint="';var y9x=' theme="';var Z9x=' auto="';void e4K.F8C===a47&&(a47=e4K.C4C);e4K.F8C==a47.length&&(a47=G9VV.W2B);a47=W9VV.O9Y+a47;this.auto&&(a47+=Z9x+this.auto+A4K.U9Q);this.theme&&(a47+=y9x+this.theme+A4K.U9Q);this.tint&&(a47+=d9x+this.tint+A4K.U9Q);this.indexed&&(a47+=S9x+this.indexed+A4K.U9Q);for(var e47=this.rgb.toString(e4K.Q8C).toUpperCase();e4K.o8C>e47.length;)e47=A4K.O7C+e47;return a47+(I9x+e47+W9VV.T9x);};return t47;}();n47.XLSStyleColor=o47;}(g47.color||(g47.color={})));}(j47.styles||(j47.styles={})));}(xls||(xls={})));(function(h47){(function(R47){(function(A47){var Q47=function(k47){__extends(f47,k47);f47.prototype.toXMLString=function(J47){var m9x="bgColor";return k47.prototype.toXMLString.call(this,m9x);};function f47(i47){return k47.call(this,i47)||this;}return f47;}(A47.XLSStyleColor);A47.XLSStyleBgColor=Q47;}(R47.color||(R47.color={})));}(h47.styles||(h47.styles={})));}(xls||(xls={})));(function(E47){(function(H47){(function(Z47){var y47=function(d47){__extends(S47,d47);S47.prototype.toXMLString=function(T47){var w9x="fgColor";return d47.prototype.toXMLString.call(this,w9x);};function S47(I47){return d47.call(this,I47)||this;}return S47;}(Z47.XLSStyleColor);Z47.XLSStyleFgColor=y47;}(H47.color||(H47.color={})));}(E47.styles||(E47.styles={})));}(xls||(xls={})));(function(m47){(function(w47){(function(r47){var C47=function(){P47.prototype.toXMLString=function(){var C9x="</fill>";var r9x="<fill>";return r9x+this.patternFill.toXMLString()+C9x;};function P47(U27){void U9VV.F8C===U27&&(U27=-U9VV.O8C);this.fillIndex=U9VV.F8C;this.patternFill=new r47.XLSStylePatternFill(U27);}Object.defineProperty(P47.prototype,U9VV.G2C,{get:function(){return this.patternFill.id;},set:function(v27){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});return P47;}();r47.XLSStyleFill=C47;}(w47.fills||(w47.fills={})));}(m47.styles||(m47.styles={})));}(xls||(xls={})));(function(G27){(function(W27){(function(l27){var V27=function(){Object.defineProperty(p27.prototype,U9VV.G2C,{get:function(){return utils.nullOrUndefined(this.fgColor)?U9VV.n2C:this.fgColor.id;},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});p27.prototype.toXMLString=function(){var P9x='<patternFill patternType="{0}">{1}{2}</patternFill>';return utils.StringUtils.bind(P9x,this.patternType,utils.nullOrUndefined(this.fgColor)?U9VV.C4C:this.fgColor.toXMLString(),utils.nullOrUndefined(this.bgColor)?U9VV.C4C:this.bgColor.toXMLString());};function p27(X27){var F4K=U9VV;void F4K.F8C===X27&&(X27=-F4K.O8C);this.patternType=W9VV.J9x;-F4K.O8C<X27?(this.fgColor=new W27.color.XLSStyleFgColor(X27),this.bgColor=new W27.color.XLSStyleBgColor(X27)):this.patternType=F4K.n2C;}return p27;}();l27.XLSStylePatternFill=V27;}(W27.fills||(W27.fills={})));}(G27.styles||(G27.styles={})));}(xls||(xls={})));(function(B27){(function(Y27){(function(u27){var q27=function(){Object.defineProperty(z27.prototype,U9VV.G2C,{get:function(){var K4K=v9VV;return this.name+K4K.k6C+this.size+K4K.k6C+(utils.nullOrUndefined(this.hexColor)?U9VV.C4C:this.hexColor.id)+K4K.k6C+this.bold+K4K.k6C+this.italic;},set:function(K27){},enumerable:!U9VV.F8C,configurable:!U9VV.F8C});z27.prototype.toXMLString=function(){var V1x="</font>";var W1x='<name val="';var G1x='<sz val="';var v1x="<b/>";var U1x="<font>";var s27=U1x;this.bold&&(s27+=v1x);this.size&&(s27+=G1x+this.size+W9VV.T9x);this.hexColor&&(s27+=this.hexColor.toXMLString());if(this.name){var F27=this.name;this.name.indexOf(v9VV.k6C)&&(F27=this.name.split(v9VV.k6C)[U9VV.F8C].trim());s27+=W1x+F27+W9VV.T9x;}return s27+V1x;};function z27(N27,D27,x27){this.fontIndex=U9VV.F8C;utils.nullOrUndefined(N27)||(this.name=N27);utils.nullOrUndefined(D27)||(this.size=D27);utils.nullOrUndefined(x27)||(this.hexColor=new Y27.color.XLSStyleColor(x27));}return z27;}();u27.XLSStyleFont=q27;}(Y27.fonts||(Y27.fonts={})));}(B27.styles||(B27.styles={})));}(xls||(xls={})));(function(O27){(function(M27){(function(j27){var b27=function(){var X9f=U9VV;g27.prototype.toXMLString=function(){var p1x='" formatCode="';var l1x='<numFmt numFmtId="';return l1x+this.numFmtId+p1x+this.formatCode+W9VV.T9x;};function g27(o27,n27){this.formatCode=X9f.C4C;this.numFmtId=o27;this.formatCode=n27;}Object.defineProperty(g27.prototype,X9f.G2C,{get:function(){return X9f.C4C!=this.formatCode?this.formatCode:this.numFmtId.toString();},set:function(t27){},enumerable:!X9f.F8C,configurable:!X9f.F8C});g27.getNextAvailableCustomNumFmtId=function(){return g27.lastNumFmtId++;};g27.defaultNumFmtId=X9f.O8C;g27.lastNumFmtId=g27.defaultNumFmtId;return g27;}();j27.XLSStyleFormat=b27;}(M27.format||(M27.format={})));}(O27.styles||(O27.styles={})));}(xls||(xls={})));(function(c27){(function(L27){var a27=function(){var X4x=U9VV;var Y1x="result";var X1x="slice_";e27.prototype.clearData=function(){this.clearValues();this.rowResult=[];this.columnResult=[];this.allMeasures=this.allHierarchies=X4x.x4C;};e27.prototype.clearValues=function(){this.ids=[];this.tuples=[];this.facts=[];this.drilled=[];this.levels=[];this.values=[];this.updates=[];this.updatesCache=[];this.allIndices=[];this.filtered=[];this.filters=[];};e27.prototype.clearAll=function(){this.clearData();this.sizes=[];this.keys=[];this.factKeys=[];this.allIndices=[];};e27.prototype.clearUpdates=function(){this.updates=[];this.updatesCache=[];this.values=[];};Object.defineProperty(e27.prototype,X1x,{get:function(){return X4x.x4C!=this._slice?this._slice:this.cube_.slice_;},set:function(R27){this._slice=R27;},enumerable:!X4x.F8C,configurable:!X4x.F8C});e27.clone=function(Q27){var A27=new e27(Q27.cube_);A27.allIndices=Q27.allIndices.slice(X4x.F8C);A27.ids=Q27.ids.slice(X4x.F8C);A27.tuples=Q27.tuples.slice(X4x.F8C);A27.facts=Q27.facts.slice(X4x.F8C);A27.levels=Q27.levels.slice(X4x.F8C);A27.keys=Q27.keys.slice(X4x.F8C);A27.factKeys=Q27.factKeys.slice(X4x.F8C);return A27;};e27.prototype.addKey=function(f27,k27){void X4x.F8C===k27&&(k27=X4x.C4C);if(-X4x.O8C!=this.keys.indexOf(f27))return this.keys.indexOf(f27);if(X4x.C4C==k27)this.levels[this.keys.length]=[-X4x.O8C,this.keys.length];else{var i27=this.keys.indexOf(k27);this.levels[i27]&&this.levels[i27].push(this.keys.length);}this.keys.push(f27);return this.keys.length-X4x.O8C;};e27.prototype._addKey=function(E27,J27){void X4x.F8C===J27&&(J27=-X4x.O8C);if(-X4x.O8C!=this.keys.indexOf(E27))return this.keys.indexOf(E27);-X4x.O8C==J27?this.levels[this.keys.length]=[-X4x.O8C,this.keys.length]:this.levels[J27].push(this.keys.length);this.keys.push(E27);return this.keys.length-X4x.O8C;};e27.prototype.addFactKey=function(y27,H27,Z27){void X4x.F8C===H27&&(H27=X4x.x4C);void X4x.F8C===Z27&&(Z27=!X4x.O8C);this.calculatedKeys[this.factKeys.length]=H27;this.individualKeys[this.factKeys.length]=Z27;this.factKeys.push(y27);};e27.prototype.updateFactKey=function(d27,S27,I27){void X4x.F8C===S27&&(S27=X4x.x4C);void X4x.F8C===I27&&(I27=!X4x.O8C);d27=this.factKeys.indexOf(d27);X4x.F8C<=d27&&(this.calculatedKeys[d27]=S27,this.individualKeys[d27]=I27);};e27.prototype.removeFactKey=function(T27){T27=this.factKeys.indexOf(T27);this.factKeys.splice(T27,X4x.O8C);};e27.prototype.delete_=function(m27){var w27=this.ids.indexOf(m27);if(!utils.nullOrUndefined(m27)&&-X4x.O8C<w27)for(m27=X4x.F8C;m27<this.factKeys.length;m27++)this.facts[w27][m27]=NaN,X4x.x4C==this.updates[m27]&&(this.updates[m27]=[]),this.updates[m27][w27]={difference:-this.facts[w27][m27],percent:-X4x.O8C};};e27.prototype.update=function(v37,U37,r27){var C27=this.ids.indexOf(r27);if(!utils.nullOrUndefined(r27)&&-X4x.O8C<C27){for(r27=X4x.F8C;r27<this.factKeys.length;r27++)if(this.facts[C27][r27]!=U37[r27]){var P27=U37[r27]-this.facts[C27][r27];isNaN(P27)||(X4x.x4C==this.updates[r27]&&(this.updates[r27]=[]),this.updates[r27][C27]={difference:P27,percent:P27/this.facts[C27][r27]});}this.facts[C27]=U37;this.tuples[C27]=v37;}else{C27=this.tuples.length;utils.nullOrUndefined(r27)||(this.ids[C27]=r27);for(r27=X4x.F8C;r27<this.factKeys.length;r27++)P27=U37[r27],isNaN(P27)||(X4x.x4C==this.updates[r27]&&(this.updates[r27]=[]),this.updates[r27][C27]={difference:P27,percent:X4x.O8C});this.allIndices.push(C27);this.tuples.push(v37);this.facts.push(U37);}};e27.prototype.insert=function(G37,V37,W37){-X4x.O8C<G37.indexOf(X4x.F8C)||(this.allIndices.push(this.tuples.length),utils.nullOrUndefined(W37)||(this.ids[this.tuples.length]=W37),this.tuples.push(G37),this.facts.push(V37));};e27.prototype.insertChunk=function(X37,Y37,z37,q37,u37){for(var B37=[],p37=[],l37=X4x.F8C;l37<X37.length;l37++){if(-X4x.O8C==X37[l37][X4x.O8C])return;p37[l37]=X37[l37][X4x.O8C];B37[this.levels[this.rowFields[l37]][X37[l37][X4x.F8C]]]=p37[l37];}X37=[];for(l37=X4x.F8C;l37<Y37.length;l37++){if(-X4x.O8C==Y37[l37][X4x.O8C])return;X37[l37]=Y37[l37][X4x.O8C];B37[this.levels[this.columnFields[l37]][Y37[l37][X4x.F8C]]]=X37[l37];}Y37=this.calculateIndex(p37,X37);p37=this.tuples.length;void X4x.F8C!==this.values[Y37]?(p37=this.findTuple(B37),this.facts[p37]=z37):(this.allIndices.push(p37),this.tuples.push(B37),this.facts.push(z37));X4x.F8C<q37.length&&(B37=u37==L27.consts.AxisName.ROWS_AXIS?this.getNode(q37,this.rowResult):this.getNode(q37,this.columnResult),-X4x.O8C==B37[X4x.F8C][X4x.F8C].indexOf(p37)&&B37[X4x.F8C][X4x.F8C].push(p37),this.cube_.queryType==L27.consts.QueryType.DRILL_DOWN_TO&&(q37=q37.slice(X4x.F8C,-X4x.O8C),u37=u37==L27.consts.AxisName.ROWS_AXIS?this.getNode(q37,this.rowResult):this.getNode(q37,this.columnResult),-X4x.O8C==u37[X4x.F8C][X4x.F8C].indexOf(p37)&&u37[X4x.F8C][X4x.F8C].push(p37)));this.values[Y37]=z37;};e27.prototype.findTuple=function(x37){for(var K37,N37=X4x.F8C;N37<this.tuples.length;N37++)if(x37.length==this.tuples[N37].length){K37=!X4x.F8C;for(var D37=X4x.F8C;D37<x37.length;D37++)if(x37[D37]!=this.tuples[N37][D37]){K37=!X4x.O8C;break;}if(K37)return N37;}return this.tuples.length;};e27.prototype.keyToMembers=function(M37){var W9f=v9VV;var B1x=" + ";M37=M37.split(X4x.V3C);for(var F37=M37[X4x.F8C].split(X4x.L2C),o37=F37[X4x.F8C].split(W9f.k6C),n37=F37[X4x.O8C].split(W9f.k6C),j37=this.slice_.rowsOnly,g37=this.slice_.columnsOnly,F37=X4x.C4C,O37,b37=[],s37=X4x.F8C;s37<j37.length;s37++)O37=j37.getItemAt(s37),O37=O37.members.getItemAt(parseInt(o37[s37])),b37.push(O37.caption);F37=b37.join(W9f.k6C);b37=[];for(s37=X4x.F8C;s37<g37.length;s37++)O37=g37.getItemAt(s37),O37=O37.members.getItemAt(parseInt(n37[s37])),b37.push(O37.caption);F37+=W9VV.O8Y+b37.join(W9f.k6C);M37=this.slice_.measures_.getItemAt(parseInt(M37[X4x.O8C]));return F37+=B1x+M37.caption;};e27.prototype.timeCaption=function(t37){return t37&&X4x.F8C<t37.length&&W9VV.f7B!=t37?t37:c27.model._labels.Labels.INVALID_DATE;};e27.prototype.addStringMember=function(c37,a37,R37,h37){c37=this.cube_.structure_.getDataField(c37);var e37=c37.uniqueName+v9VV.f7C+a37,L37=c37.findMember(e37);X4x.x4C==L37&&(L37=new L27._structure.GenericMember(e37,a37),c37.addMember(L37));R37.push(L37.ordinal);X4x.x4C==a37||X4x.C4C==a37?h37.push(NaN):h37.push(X4x.O8C);};e27.prototype.addNumberMember=function(Q37,k37,J37,E37){Q37=this.cube_.structure_.getDataField(Q37);var f37=Q37.uniqueName+v9VV.f7C+k37,A37=Q37.findMember(f37),i37=utils.StringUtils.toNumber(k37);X4x.x4C==A37&&(A37=new L27._structure.GenericMember(f37,k37),Q37.addMember(A37));A37.levelOrdinal=i37;J37.push(A37.ordinal);E37.push(i37);};e27.prototype.validateDate=function(H37){return X4x.x4C==H37||X4x.K2C!==typeof H37?X4x.C4C:H37=H37.trim();};function e27(h27){this.tuples=[];this.facts=[];this.allIndices=[];this.filtered=[];this.rowResult=[];this.columnResult=[];this.keys=[];this.levels=[];this.drilled=[];this.factKeys=[];this.calculatedKeys=[];this.individualKeys=[];this.ids=[];this.pageFields=[];this.columnFields=[];this.rowFields=[];this.sizes=[];this.filters=[];this.subfilters=[];this.factIndices=[];this.values=[];this.updates=[];this.updatesCache=[];this.datePattern=v9VV.L7C;this.dateTimePattern=v9VV.a7C;this._grandTotals=[];this.productIdx=X4x.F8C;this.cube_=h27;}e27.prototype.addDateTimeMember=function(S37,Z37,m37,w37){S37=this.cube_.structure_.getDataField(S37);var y37;Z37 instanceof Date?y37=Z37.getTime():X4x.x2C==typeof Z37?y37=Z37:(y37=Date.parse(this.validateDate(Z37)),isNaN(y37)&&(y37=parseInt(Z37)));var I37=utils.StringUtils.toDateTime(y37,this.dateTimePattern),T37=S37.uniqueName+v9VV.f7C+I37,d37=S37.findMember(T37);X4x.x4C==d37&&(d37=new L27._structure.GenericMember(T37,I37),d37.levelOrdinal=Z37,S37.addMember(d37));m37.push(d37.ordinal);w37.push(y37);};e27.prototype.addTimeMember=function(C37,P37,W67,V67){C37=this.cube_.structure_.getDataField(C37);var U67=parseFloat(P37),v67=isNaN(P37)||X4x.C4C==P37?X4x.C4C:utils.StringUtils.toTime(U67),G67=C37.uniqueName+v9VV.f7C+v67,r37=C37.findMember(G67);X4x.x4C==r37&&(r37=new L27._structure.GenericMember(G67,v67),r37.levelOrdinal=P37,C37.addMember(r37));W67.push(r37.ordinal);V67.push(U67);};e27.prototype.addDateStringMember=function(X67,l67,q67,u67){X67=this.cube_.structure_.getDataField(X67);l67=l67 instanceof Date?l67.getTime():X4x.x2C==typeof l67?l67:Date.parse(this.validateDate(l67));var B67=utils.StringUtils.toDate(l67,this.datePattern),Y67=X67.uniqueName+v9VV.f7C+B67,p67=X67.findMember(Y67);X4x.x4C==p67&&(p67=new L27._structure.GenericMember(Y67,B67),p67.levelOrdinal=l67,X67.addMember(p67));q67.push(p67.ordinal);u67.push(l67);};e27.prototype.addHierarchcalDateMember=function(D67,K67,g67,t67,O67){var m7x=v9VV;D67=this.cube_.structure_.getDataField(D67);var N67,z67;N67=K67 instanceof Date?K67:X4x.x2C==typeof K67?new Date(K67):new Date(this.validateDate(K67));var s67=X4x.C4C,x67=X4x.C4C,b67=K67=X4x.C4C,F67=X4x.C4C,n67=X4x.F8C,j67=X4x.O8C;X4x.x4C!=N67&&(F67=Math.floor(N67.getUTCMonth()/X4x.b8C),x67=c27.model._labels.Labels.QUARTER_LABELS[F67],b67=c27.model._labels.Labels.MONTHS_LABELS[N67.getUTCMonth()],F67=N67.getUTCDate().toString(),s67=N67.getUTCFullYear().toString(),n67=N67.getTime());N67=D67.levels_.getItemAt(j67++);D67=N67.hierarchy;var M67=D67.uniqueName+m7x.f7C+s67;z67=D67.findMember(M67);X4x.x4C==z67&&(z67=new L27._structure.GenericMember(M67,this.timeCaption(s67)),D67.addMember(z67,N67.uniqueName));g67.push(z67.ordinal);var o67;O67&&(N67=D67.levels_.getItemAt(j67++),o67=N67.uniqueName+m7x.f7C+s67+m7x.l5C+x67,z67=D67.findMember(o67),X4x.x4C==z67&&(z67=new L27._structure.GenericMember(o67,this.timeCaption(x67)),D67.addMember(z67,N67.uniqueName,M67)),g67.push(z67.ordinal),K67=m7x.l5C+x67);N67=D67.levels_.getItemAt(j67++);x67=N67.uniqueName+m7x.f7C+s67+K67+m7x.l5C+b67;z67=D67.findMember(x67);X4x.x4C==z67&&(z67=new L27._structure.GenericMember(x67,this.timeCaption(b67)),D67.addMember(z67,N67.uniqueName,O67?o67:M67));g67.push(z67.ordinal);N67=D67.levels_.getItemAt(j67++);O67=N67.uniqueName+m7x.f7C+s67+K67+m7x.l5C+b67+m7x.l5C+F67;z67=D67.findMember(O67);X4x.x4C==z67&&(z67=new L27._structure.GenericMember(O67,this.timeCaption(F67)),z67.levelOrdinal=n67,D67.addMember(z67,N67.uniqueName,x67));g67.push(z67.ordinal);t67.push(X4x.O8C);};e27.prototype.addDateMember=function(h67,L67,A67,Q67){var a67=this.cube_.structure_.getDataField(h67),c67,e67=X4x.C4C,R67=X4x.C4C;h67=X4x.C4C;var f67=X4x.F8C;try{c67=L67 instanceof Date?L67:X4x.x2C==typeof L67?new Date(L67):new Date(this.validateDate(L67));}catch(i67){c67=X4x.x4C;}X4x.x4C!=c67&&(R67=c27.model._labels.Labels.MONTHS_LABELS[c67.getUTCMonth()],h67=c67.getUTCDate().toString(),e67=c67.getUTCFullYear().toString(),f67=c67.getUTCDate());L67=a67.hierarchies.getItemAt(X4x.F8C);var k67=L67.uniqueName+v9VV.f7C+e67;c67=L67.findMember(k67);X4x.x4C==c67&&(c67=new L27._structure.GenericMember(k67,this.timeCaption(e67)),L67.addMember(c67));A67.push(c67.ordinal);Q67.push(X4x.O8C);L67=a67.hierarchies.getItemAt(X4x.O8C);e67=L67.uniqueName+v9VV.f7C+R67;c67=L67.findMember(e67);X4x.x4C==c67&&(c67=new L27._structure.GenericMember(e67,this.timeCaption(R67)),L67.addMember(c67));A67.push(c67.ordinal);Q67.push(X4x.O8C);L67=a67.hierarchies.getItemAt(X4x.M8C);a67=L67.uniqueName+v9VV.f7C+h67;c67=L67.findMember(a67);X4x.x4C==c67&&(c67=new L27._structure.GenericMember(a67,this.timeCaption(h67)),c67.levelOrdinal=f67,L67.addMember(c67));A67.push(c67.ordinal);Q67.push(X4x.O8C);};e27.prototype.addLevelsMember=function(J67,y67,d67,I67){if(X4x.C4C==y67)d67.push(X4x.x4C),I67.push(X4x.x4C);else{J67=this.cube_.structure_.getDataField(J67);var E67=J67.uniqueName+v9VV.f7C+y67,H67,Z67;if(X4x.O8C<J67.num){E67=J67.hierarchy.levels_.getItemAt(J67.num-X4x.O8C);H67=X4x.O8C==E67.num?this.keys.indexOf(J67.hierarchy.uniqueName):this.keys.indexOf(E67.uniqueName);Z67=J67.hierarchy.members.getItemAt(d67[H67]);if(X4x.x4C==Z67){var S67=E67.uniqueName+v9VV.f7C+c27.model._labels.Labels.MEMBER_BLANK;Z67=J67.hierarchy.findMember(S67);X4x.x4C==Z67&&(Z67=new L27._structure.GenericMember(S67,c27.model._labels.Labels.MEMBER_BLANK),E67.hierarchy.addMember(Z67,E67.uniqueName));d67[H67]=Z67.ordinal;}E67=Z67.uniqueName+v9VV.f7C+y67;}H67=J67.hierarchy.findMember(E67);X4x.x4C==H67&&(H67=new L27._structure.GenericMember(E67,y67),X4x.O8C==J67.num?J67.hierarchy.addMember(H67,J67.uniqueName):J67.hierarchy.addMember(H67,J67.uniqueName,Z67.uniqueName));d67.push(H67.ordinal);I67.push(X4x.O8C);}};e27.prototype.addMember=function(T67,m67,C67,w67,r67){switch(C67){case L27.types.DataFieldType.STRING:case L27.types.DataFieldType.WEEKDAY:case L27.types.DataFieldType.MONTH:this.addStringMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.NUMBER:this.addNumberMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.DATE:this.addDateMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.LEVEL:this.addLevelsMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.HIERARCHICAL_DATE:this.addHierarchcalDateMember(T67,m67,w67,r67,!X4x.O8C);break;case L27.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchcalDateMember(T67,m67,w67,r67,!X4x.F8C);break;case L27.types.DataFieldType.DATE_STRING:this.addDateStringMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.DATETIME:this.addDateTimeMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.TIME:this.addTimeMember(T67,m67,w67,r67);break;case L27.types.DataFieldType.HIDDEN:break;default:this.addStringMember(T67,m67,w67,r67);}};e27.prototype.insertObject=function(V57,v57){void X4x.F8C===v57&&(v57=!X4x.O8C);var G57=[],W57=[],U57=X4x.C4C,B57=this.cube_.structure_.getDataKeys(),P67,X57,l57=!X4x.O8C;v57&&(P67=this.cube_.structure_.deleteId,l57=X4x.C4C!=P67&&V57.hasOwnProperty(P67));for(var p57=X4x.F8C;p57<B57.length;p57++)P67=B57[p57],X57=this.cube_.structure_.getDataType(P67),X57==L27.types.DataFieldType.ID?U57=V57[P67]:V57[P67]instanceof Array||l57||this.addMember(P67,V57[P67],X57,G57,W57);v57?l57?this.delete_(U57):this.update(G57,W57,U57):this.insert(G57,W57,U57);};e27.prototype.insertArray=function(F57,N57){void X4x.F8C===N57&&(N57=!X4x.O8C);var D57=this.cube_.structure_.getDataKeys(),q57,s57,x57=[],K57=[],z57=X4x.C4C,u57=!X4x.O8C;N57&&(q57=this.cube_.structure_.deleteId,X4x.C4C!=q57&&(u57=D57.indexOf(q57),u57=!utils.nullOrUndefined(F57[u57])));for(var Y57=X4x.F8C;Y57<D57.length;Y57++)q57=D57[Y57],s57=this.cube_.structure_.getDataType(q57),s57==L27.types.DataFieldType.ID?z57=F57[Y57]:u57||this.addMember(q57,F57[Y57],s57,x57,K57);N57?u57?this.delete_(z57):this.update(x57,K57,z57):this.insert(x57,K57,z57);};e27.prototype.filterIndices=function(M57,n57,t57){for(var b57=X4x.F8C;b57<n57.length;b57++){for(var g57=n57[b57],O57=t57[b57],O57=utils.nullOrUndefined(this.drilled[O57])||utils.nullOrUndefined(this.drilled[O57][g57])?O57:this.drilled[O57][g57],o57=[],j57=X4x.F8C;j57<M57.length;j57++)this.tuples[M57[j57]][O57]==g57&&o57.push(M57[j57]);M57=o57;}return M57;};e27.prototype.hierarchize=function(c57,h57,a57){var R57=this.keys.indexOf(h57.hierarchy_.uniqueName),A57=a57==L27.consts.AxisName.ROWS_AXIS?this.getNode(c57,this.rowResult):this.getNode(c57,this.columnResult);X4x.O8C<c57.length?(c57=c57.slice(X4x.F8C,-X4x.O8C),a57=(a57==L27.consts.AxisName.ROWS_AXIS?this.getNode(c57,this.rowResult):this.getNode(c57,this.columnResult))[X4x.F8C][X4x.F8C]):a57=this.filtered;R57=this.levels[R57][h57.level.num+X4x.O8C];for(c57=X4x.F8C;c57<h57.children.length;c57++)for(var L57=h57.children.getItemAt(c57),L57=this.filterIndices(a57,[L57.ordinal],[R57]),e57=X4x.F8C;e57<L57.length;e57++)-X4x.O8C==A57[X4x.F8C][X4x.F8C].indexOf(L57[e57])&&A57[X4x.F8C][X4x.F8C].push(L57[e57]);};e27.prototype.getDistinctCountColumn=function(f57,E57,H57,i57,J57){if(X4x.F8C!=f57.length){var k57,Q57;for(k57=X4x.F8C;k57<f57.length;k57++)Q57=this.facts[f57[k57]][H57],isNaN(Q57)||J57[Q57]||(i57.push(Q57),J57[Q57]=!X4x.F8C);if(this.columnFields.length!=E57.length)for(k57=X4x.F8C;k57<i57.length;k57++){Q57=E57.slice(X4x.F8C);Q57.push(i57[k57]);var Z57=this.filterIndices(f57,Q57,this.columnFields);this.getDistinctCountColumn(Z57,Q57,H57,i57,J57);}}};e27.prototype.getDistinctCountRec=function(I57,w57,r57,C57,P57,U77){if(X4x.F8C!=I57.length)if(this.rowFields.length==w57.length)this.getDistinctCountColumn(I57,r57,C57,P57,U77);else{for(var T57=[],d57=[],m57=this.rowFields[w57.length],y57=X4x.F8C;y57<I57.length;y57++){var S57=this.tuples[I57[y57]][m57];d57[S57]||X4x.F8C==S57||(T57.push(S57),d57[S57]=!X4x.F8C);}for(y57=X4x.F8C;y57<T57.length;y57++)d57=w57.slice(X4x.F8C),d57.push(T57[y57]),m57=this.filterIndices(I57,d57,this.rowFields),this.getDistinctCountRec(m57,d57,r57,C57,P57,U77);}};e27.prototype.getDistinctCount=function(G77,W77,V77,l77){var v77=[];this.getDistinctCountRec(G77,W77,V77,l77,v77,[]);return v77.length;};e27.prototype.getDistinctMembersCount=function(B77,z77){if(X4x.F8C==B77.length)return X4x.F8C;for(var p77=this.cube_.structure_.measureToHierarchy(z77.uniqueName),p77=this.keys.indexOf(p77.uniqueName),q77=[],u77=[],Y77,X77=X4x.F8C;X77<B77.length;X77++)Y77=this.tuples[B77[X77]][p77],u77[Y77]||(u77[Y77]=!X4x.F8C,isNaN(this.facts[B77[X77]][p77])||q77.push(Y77));return q77.length;};e27.prototype.calculateFlat=function(x77,K77,N77,D77){return this.getCalculatedValue([],N77,!X4x.O8C,D77);};e27.prototype.calculate=function(F77,O77,j77,g77){var M77=this.getNode(F77,this.rowResult),b77=this.getNode(O77,this.columnResult),s77=[],s77=F77.length*b77[X4x.F8C][X4x.F8C].length<O77.length*M77[X4x.F8C][X4x.F8C].length?this.filterIndices(b77[X4x.F8C][X4x.F8C],F77,this.rowFields):this.filterIndices(M77[X4x.F8C][X4x.F8C],O77,this.columnFields);return this.getCalculatedValue(s77,j77,!X4x.O8C,g77);};e27.prototype.saveFlat=function(n77,c77,t77,L77,a77){n77=this.filtered[n77[X4x.F8C]];c77=c77[X4x.F8C];a77=[];var o77=X4x.C4C;this.updates=[];this.updates[n77]=[];this.values=[];this.updatesCache=[];X4x.x4C!=t77&&(o77=t77.findMemberByCaption(L77),X4x.x4C==o77&&(X4x.O8C==this.countValue(c77,this.tuples[n77][c77])?(o77=t77.members.getItemAt(this.tuples[n77][c77]),o77.caption=L77):(o77=t77.uniqueName+v9VV.f7C+L77,X4x.x4C!=t77.findMember(o77)&&(o77=t77.uniqueName+v9VV.f7C+utils.StringUtils.generateID()),o77=new L27._structure.GenericMember(o77,L77),t77.addMember(o77))),this.tuples[n77][c77]=o77.ordinal,o77=X4x.x4C!=this.ids[n77]?this.ids[n77]:n77,a77.push({id:o77,field:t77.uniqueName,value:L77}),t77=parseFloat(L77)-this.facts[n77][c77],this.updates[n77][c77]={difference:t77,percent:t77/this.facts[n77][c77]},this.facts[n77][c77]=parseFloat(L77));};e27.prototype.save=function(f77,e77,Q77,k77,h77){var R77=this.getNode(f77,this.rowResult),A77=this.getNode(e77,this.columnResult),i77=[],i77=f77.length*A77[X4x.F8C][X4x.F8C].length<e77.length*R77[X4x.F8C][X4x.F8C].length?this.filterIndices(A77[X4x.F8C][X4x.F8C],f77,this.rowFields):this.filterIndices(R77[X4x.F8C][X4x.F8C],e77,this.columnFields);h77=i77[h77];f77=[];e77=X4x.C4C;e77=this.cube_.structure_.hierarchyToMeasure(Q77.uniqueName);e77=this.factKeys.indexOf(e77.uniqueName);this.updates=[];this.updates[e77]=[];R77=parseFloat(k77)-this.facts[h77][e77];this.updates[e77][h77]={difference:R77,percent:R77/this.facts[h77][e77]};this.facts[h77][e77]=parseFloat(k77);this.values=[];this.updatesCache=[];X4x.x4C!=Q77&&(e77=this.keys.indexOf(Q77.uniqueName),R77=this.countValue(e77,this.tuples[h77][e77]),A77=Q77.findMemberByCaption(k77),X4x.x4C==A77&&(X4x.O8C==R77?(A77=Q77.members.getItemAt(this.tuples[h77][e77]),A77.caption=k77):(R77=Q77.uniqueName+v9VV.f7C+k77,X4x.x4C!=Q77.findMember(R77)&&(R77=Q77.uniqueName+v9VV.f7C+utils.StringUtils.generateID()),A77=new L27._structure.GenericMember(R77,X4x.C4C+k77),Q77.addMember(A77))),A77.levelOrdinal=k77,this.tuples[h77][e77]=A77.ordinal,e77=X4x.x4C!=this.ids[h77]?this.ids[h77]:h77,f77.push({id:e77,field:Q77.uniqueName,value:k77}));};e27.prototype.countValue=function(H77,Z77){for(var E77=X4x.F8C,J77=X4x.F8C;J77<this.tuples.length;J77++)this.tuples[J77][H77]==Z77&&E77++;return E77;};e27.prototype.drillThrough=function(y77,d77,S77){this.factKeys.indexOf(S77.uniqueName);var I77=this.getNode(y77,this.rowResult),T77=this.getNode(d77,this.columnResult);S77=[];S77=y77.length*T77[X4x.F8C][X4x.F8C].length<d77.length*I77[X4x.F8C][X4x.F8C].length?this.filterIndices(T77[X4x.F8C][X4x.F8C],y77,this.rowFields):this.filterIndices(I77[X4x.F8C][X4x.F8C],d77,this.columnFields);y77=[];y77.push(this.keys);for(d77=X4x.F8C;d77<S77.length;d77++)y77.push(this.tuples[S77[d77]]);return y77;};e27.prototype.getUpdatedValue=function(w77,r77,m77){w77=this.calculateIndex(w77,r77);m77=m77.calculated?this.slice_.measures_.indexOf(m77.uniqueName)+this.factKeys.length:this.factKeys.indexOf(m77.uniqueName);return void X4x.F8C==this.updatesCache[w77]?X4x.x4C:this.updatesCache[w77][m77];};e27.prototype.getFlatUpdatedValue=function(C77,U9v){if(U9v.calculated)return X4x.x4C;var P77=this.factKeys.indexOf(U9v.uniqueName);return X4x.x4C==C77?this.checkIfUpdated(this.filtered,P77):void X4x.F8C==this.updatesCache[C77]?X4x.x4C:this.updatesCache[C77][P77];};e27.prototype.getRecordId=function(v9v,G9v,W9v){return X4x.x4C==this.filtered[v9v]||X4x.x4C==this.tuples[this.filtered[v9v]]||X4x.C4C==this.cube_.structure_.id?X4x.x4C:this.ids[this.filtered[v9v]];};e27.prototype.getFlatValue=function(V9v,X9v,l9v,p9v){return X4x.x4C==this.filtered[V9v]||X4x.x4C==this.tuples[this.filtered[V9v]]?NaN:p9v?(l9v.calculated||(p9v=this.factKeys.indexOf(l9v.uniqueName),this.updates.length&&(X4x.x4C==this.updatesCache[V9v]&&(this.updatesCache[V9v]=[]),this.updatesCache[V9v][p9v]=this.checkIfUpdated([this.filtered[V9v]],p9v))),l9v.calculated?this.getCalculatedValue([this.filtered[V9v]],l9v.params,l9v.individual):this.facts[this.filtered[V9v]][X9v]):this.tuples[this.filtered[V9v]][X9v];};e27.prototype.getValue=function(N9v,D9v,B9v){var Y9v=this.calculateIndex(N9v,D9v),q9v=B9v.calculated?this.slice_.measures_.indexOf(B9v.uniqueName)+this.factKeys.length:this.factKeys.indexOf(B9v.uniqueName);X4x.x4C==this.values[Y9v]&&(this.values[Y9v]=[]);if(X4x.x4C==this.values[Y9v][q9v]){var z9v=this.getNode(N9v,this.rowResult),x9v=this.getNode(D9v,this.columnResult),u9v=[];if(X4x.x4C==z9v||X4x.x4C==z9v[X4x.F8C]||X4x.x4C==x9v||X4x.x4C==x9v[X4x.F8C])return NaN;X4x.F8C<x9v.length&&X4x.F8C<z9v.length&&N9v.length*x9v[X4x.F8C][X4x.F8C].length<D9v.length*z9v[X4x.F8C][X4x.F8C].length?u9v=this.filterIndices(x9v[X4x.F8C][X4x.F8C],N9v,this.rowFields):X4x.F8C<z9v.length&&(u9v=this.filterIndices(z9v[X4x.F8C][X4x.F8C],D9v,this.columnFields));this.values[Y9v][q9v]=B9v.calculated?this.getCalculatedValue(u9v,B9v.params,B9v.individual,X4x.F8C,N9v,D9v):B9v.aggregation==L27.consts.AggregationName.DISTINCT_COUNT?B9v.type==L27.types.MeasureType.COUNT?this.getDistinctMembersCount(u9v,B9v):this.getDistinctCount(u9v,N9v,D9v,q9v):this._getValue(u9v,q9v,B9v.aggregation);X4x.F8C<this.updates.length&&(X4x.x4C==this.updatesCache[Y9v]&&(this.updatesCache[Y9v]=[]),this.updatesCache[Y9v][q9v]=this.checkIfUpdated(u9v,q9v));}return this.values[Y9v][q9v];};e27.prototype.checkIfUpdated=function(s9v,F9v){if(void X4x.F8C==this.updates[F9v])return X4x.x4C;for(var M9v=!X4x.O8C,O9v={difference:X4x.F8C,percent:X4x.F8C},K9v=X4x.F8C;K9v<s9v.length;K9v++)this.updates[F9v][s9v[K9v]]&&X4x.F8C!=this.updates[F9v][s9v[K9v]].difference&&!isNaN(this.updates[F9v][s9v[K9v]].difference)&&(O9v.difference+=this.updates[F9v][s9v[K9v]].difference,O9v.percent+=this.updates[F9v][s9v[K9v]].percent,M9v=!X4x.F8C);return M9v?O9v:X4x.x4C;};e27.prototype.isAggregated=function(j9v,g9v){var o9v=this.getNode(j9v,this.rowResult),n9v=this.getNode(g9v,this.columnResult),b9v=[],b9v=j9v.length*n9v[X4x.F8C][X4x.F8C].length<g9v.length*o9v[X4x.F8C][X4x.F8C].length?this.filterIndices(n9v[X4x.F8C][X4x.F8C],j9v,this.rowFields):this.filterIndices(o9v[X4x.F8C][X4x.F8C],g9v,this.columnFields);return X4x.O8C<b9v.length?!X4x.F8C:!X4x.O8C;};e27.prototype.filter=function(){this.columnResult=[];this.rowResult=[];this.values=[];this.drilled=[];this.updatesCache=[];var a9v=c27.model._options.OptionsManager.flatView,e9v=this.slice_.allHierarchies(!X4x.O8C,!X4x.F8C,a9v),h9v=new utils.AssociativeArray(),L9v=new utils.AssociativeArray(),c9v,t9v;for(c9v=X4x.F8C;c9v<e9v.length;c9v++)(t9v=e9v.getItemAt(c9v))&&(t9v.filterType==L27.consts.FilterType.NONE?h9v.addItem(t9v.uniqueName,t9v):this.slice_.measures_.keyExists(t9v.filterMeasureName)&&L9v.addItem(t9v.uniqueName,t9v));this._filter(h9v,this.allIndices);for(c9v=X4x.F8C;c9v<L9v.length;c9v++)t9v=L9v.getItemAt(c9v),a9v?this.applyFlatTopXFilter(t9v):this.applyTopXFilter(t9v);this._filter(L9v,this.filtered);};e27.prototype._filter=function(Z9v,J9v){var Q9v,H9v=[];Q9v=[];for(var i9v=X4x.F8C;i9v<Z9v.length;i9v++){var f9v=Z9v.getItemAt(i9v),A9v=this.keys.indexOf(f9v.uniqueName);if(f9v.hasFilter()){H9v.push(A9v);Q9v.push(f9v.filterByLevel(X4x.O8C).length/f9v.allMember.children.length);this.filters[A9v]=[];this.subfilters[A9v]=[];for(var k9v=X4x.F8C;k9v<f9v.filter.length;k9v++){var R9v=f9v.filter.getItemAt(k9v);X4x.O8C==R9v.level.num?this.filters[A9v][R9v.ordinal]=!X4x.F8C:(X4x.x4C==this.subfilters[A9v][R9v.root.ordinal]&&(this.subfilters[A9v][R9v.root.ordinal]=[]),X4x.x4C==this.subfilters[A9v][R9v.root.ordinal][R9v.level.num]&&(this.subfilters[A9v][R9v.root.ordinal][R9v.level.num]=[]),this.subfilters[A9v][R9v.root.ordinal][R9v.level.num][R9v.ordinal]=!X4x.F8C);}}}f9v=utils.ArrayUtils.sort(Q9v,utils.ArrayUtils.RETURNINDEXEDARRAY);if(X4x.F8C<H9v.length)for(i9v=X4x.F8C;i9v<H9v.length;i9v++){Q9v=H9v[f9v[i9v]];A9v=[];for(k9v=X4x.F8C;k9v<J9v.length;k9v++)if(R9v=this.tuples[J9v[k9v]][this.levels[Q9v][X4x.O8C]],X4x.x4C!=this.filters[Q9v][R9v])A9v.push(J9v[k9v]);else if(X4x.x4C!=this.subfilters[Q9v][R9v])for(var E9v=X4x.M8C;E9v<this.levels[Q9v].length;E9v++)if(X4x.x4C!=this.subfilters[Q9v][R9v][E9v]&&X4x.x4C!=this.subfilters[Q9v][R9v][E9v][this.tuples[J9v[k9v]][this.levels[Q9v][E9v]]]){A9v.push(J9v[k9v]);break;}J9v=A9v;}this.filtered=J9v;};e27.prototype.select=function(I9v){void X4x.F8C===I9v&&(I9v=!X4x.F8C);var y9v,d9v,S9v;this.pageFields=[];this.rowFields=[];this.columnFields=[];this.sizes=[];this.drilled=[];this.factIndices=[];this.pageAxis=this.slice_.axes.getItem(L27.consts.AxisName.PAGES_AXIS);this.rowAxis=this.slice_.axes.getItem(L27.consts.AxisName.ROWS_AXIS);this.columnAxis=this.slice_.axes.getItem(L27.consts.AxisName.COLUMNS_AXIS);for(y9v=X4x.F8C;y9v<this.rowAxis.hierarchies.length;y9v++)S9v=this.rowAxis.hierarchies.getItemAt(y9v),S9v.isMeasures||(d9v=this.keys.indexOf(S9v.uniqueName),this.rowFields.push(d9v),this.sizes.push(S9v.quantity),this.drilled[d9v]=[]);this.rowCount=this.rowFields.length;for(y9v=X4x.F8C;y9v<this.columnAxis.hierarchies.length;y9v++)S9v=this.columnAxis.hierarchies.getItemAt(y9v),S9v.isMeasures||(d9v=this.keys.indexOf(S9v.uniqueName),this.columnFields.push(d9v),this.sizes.push(S9v.quantity),this.drilled[d9v]=[]);this.columnCount=this.columnFields.length;if(I9v)for(y9v=X4x.F8C;y9v<this.pageAxis.hierarchies.length;y9v++)S9v=this.pageAxis.hierarchies.getItemAt(y9v),d9v=this.keys.indexOf(S9v.uniqueName),this.pageFields.push(d9v);else this.filtered=this.allIndices;for(y9v=X4x.F8C;y9v<this.slice_.measures_.length;y9v++)I9v=this.slice_.measures_.getItemAt(y9v),d9v=this.factKeys.indexOf(I9v.uniqueName),this.factIndices.push(d9v);};e27.prototype.applyFlatTopXFilter=function(w9v){if(w9v.hasValuesFilter()){var T9v=this.cube_.structure_.measures_.getItem(w9v.filterMeasureName);if(X4x.x4C!=T9v){for(var C9v=[],U1v=[],r9v=this.factKeys.indexOf(T9v.uniqueName),m9v=X4x.F8C;m9v<this.filtered.length;m9v++)C9v.push(this.getFlatValue(m9v,r9v,T9v,!X4x.F8C)),U1v.push(this.getFlatValue(m9v,r9v,T9v,!X4x.O8C));T9v=w9v.filterType==L27.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(C9v,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(C9v,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);T9v.length=Math.min(w9v.filterQuantity,T9v.length);C9v=w9v.hasMembersFilter()?w9v.filterMembers:w9v.members;r9v=new utils.AssociativeArray();for(m9v=X4x.F8C;m9v<T9v.length;m9v++){var P9v=C9v.getItemAt(U1v[T9v[m9v]]);X4x.x4C!=P9v&&!X4x.O8C==r9v.keyExists(P9v.uniqueName)&&r9v.addItem(P9v.uniqueName,P9v);}w9v.filter=r9v;}}};e27.prototype.applyTopXFilter=function(l1v){if(l1v.hasValuesFilter()){var X1v=this.slice_.measures_.getItem(l1v.filterMeasureName);if(X4x.x4C!=X1v){var B1v=[],Y1v=[],G1v=[],v1v=this.keys.indexOf(l1v.uniqueName);if(this.drilled[v1v])for(var W1v in this.drilled[v1v])G1v.push(this.drilled[v1v][W1v]);else G1v=[v1v];W1v=[];for(v1v=X4x.F8C;v1v<G1v.length;v1v++)for(var V1v=X4x.F8C;V1v<this.filtered.length;V1v++){var p1v=this.tuples[this.filtered[V1v]][G1v[v1v]];X4x.x4C==W1v[p1v]&&(W1v[p1v]=[]);W1v[p1v].push(this.filtered[V1v]);}for(var V1v=this.factKeys.indexOf(X1v.uniqueName),p1v=l1v.hasMembersFilter()?l1v.filterMembers:l1v.members,q1v,u1v=X1v.calculated,v1v=X4x.F8C;v1v<p1v.length;v1v++)G1v=p1v.getItemAt(v1v),G1v.isAll||(q1v=u1v?this.getCalculatedValue(W1v[G1v.ordinal],this.calculatedKeys[V1v],this.individualKeys[V1v]):this._getValue(W1v[G1v.ordinal],V1v,X1v.aggregation),isNaN(q1v)&&(q1v=Number.MIN_VALUE),B1v.push(q1v),Y1v.push(G1v));X1v=l1v.filterType==L27.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(B1v,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(B1v,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);B1v=new utils.AssociativeArray();W1v=Math.min(l1v.filterQuantity,Y1v.length);for(v1v=X4x.F8C;v1v<W1v;v1v++)G1v=Y1v[X1v[v1v]],B1v.addItem(G1v.uniqueName,G1v);l1v.filter=B1v;}}};e27.prototype._drillAll=function(N1v,z1v,s1v,F1v){try{if(X4x.F8C==z1v.children.length||X4x.O8C==z1v.children.length&&(z1v.children.getItemAt(X4x.F8C).caption==c27.model._labels.Labels.MEMBER_BLANK||z1v.children.getItemAt(X4x.F8C).caption==c27.model._labels.Labels.INVALID_DATE))return;this.hierarchize(N1v,z1v,F1v);this.drillDown(N1v,z1v,F1v,X4x.x4C);}catch(b1v){}for(var M1v=this.getNode(N1v,this.rowResult),x1v=X4x.F8C;x1v<z1v.children.length;x1v++){var D1v=z1v.children.getItemAt(x1v);try{if(D1v.isLeaf){this._expand(M1v,this.rowFields[s1v],X4x.x4C);var K1v=N1v.slice(X4x.F8C);K1v[K1v.length-X4x.O8C]=D1v.ordinal;this._expandRows(K1v,s1v+X4x.O8C,!X4x.F8C);}else{var O1v=N1v.slice(X4x.F8C,-X4x.O8C);O1v.push(D1v.ordinal);this._drillAll(O1v,D1v,s1v,F1v);}}catch(j1v){}}};e27.prototype.expandAll=function(g1v){X4x.F8C==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);X4x.F8C==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);this._expandColumns([],X4x.F8C,g1v);this._expandRows([],X4x.F8C,g1v);};e27.prototype._expandRows=function(a1v,L1v,c1v){if(X4x.x4C!=this.rowFields[L1v]){var n1v=this.rowFields[L1v],o1v=this.getNode(a1v,this.rowResult),t1v=[],e1v;this._expand(o1v,n1v,X4x.x4C);c1v&&(e1v=this.rowAxis.hierarchies.getItem(this.keys[n1v]));if(c1v&&e1v.isHierarchy)for(t1v=e1v.allMember.children,o1v=X4x.F8C;o1v<t1v.length;o1v++)c1v=t1v.getItemAt(o1v),n1v=a1v.slice(X4x.F8C),n1v.push(c1v.ordinal),this._drillAll(n1v,c1v,L1v,L27.consts.AxisName.ROWS_AXIS);else for(t1v=o1v[X4x.F8C][X4x.O8C],o1v=X4x.F8C;o1v<t1v.length;o1v++)n1v=a1v.slice(X4x.F8C),n1v.push(t1v[o1v]),this._expandRows(n1v,L1v+X4x.O8C,c1v);}};e27.prototype._expandColumns=function(i1v,Q1v,A1v){if(X4x.x4C!=this.columnFields[Q1v]){var h1v=this.columnFields[Q1v],R1v=this.getNode(i1v,this.columnResult),k1v=[],f1v;this._expand(R1v,h1v,X4x.x4C);A1v&&(f1v=this.columnAxis.hierarchies.getItem(this.keys[h1v]));if(A1v&&f1v.isHierarchy)for(h1v=X4x.F8C;h1v<f1v.allMember.children.length;h1v++)A1v=f1v.allMember.children.getItemAt(h1v),R1v=i1v.slice(X4x.F8C),R1v.push(A1v.ordinal),this._drillAll(R1v,A1v,Q1v,L27.consts.AxisName.COLUMNS_AXIS);else for(k1v=R1v[X4x.F8C][X4x.O8C],h1v=X4x.F8C;h1v<k1v.length;h1v++)R1v=i1v.slice(X4x.F8C),R1v.push(k1v[h1v]),this._expandColumns(R1v,Q1v+X4x.O8C,A1v);}};e27.prototype.drillDownTo=function(H1v,J1v,y1v,S1v){try{if(X4x.F8C!=J1v.children.length&&(X4x.O8C!=J1v.children.length||J1v.children.getItemAt(X4x.F8C).caption!=c27.model._labels.Labels.MEMBER_BLANK&&J1v.children.getItemAt(X4x.F8C).caption!=c27.model._labels.Labels.INVALID_DATE)){this.hierarchize(H1v,J1v,y1v);this.drillDown(H1v,J1v,y1v,X4x.x4C);this.getNode(H1v,this.rowResult);for(var Z1v=X4x.F8C;Z1v<J1v.children.length;Z1v++){var E1v=J1v.children.getItemAt(Z1v);if(!E1v.isLeaf&&E1v.level.uniqueName!=S1v){var d1v=H1v.slice(X4x.F8C,-X4x.O8C);d1v.push(E1v.ordinal);this.drillDownTo(d1v,E1v,y1v,S1v);}}}}catch(I1v){}};e27.prototype.expand=function(m1v,w1v,T1v){X4x.F8C==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);X4x.F8C==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);X4x.O8C==this.factIndices.length&&(T1v=X4x.x4C);w1v==L27.consts.AxisName.ROWS_AXIS&&this.expandRow(m1v,T1v);w1v==L27.consts.AxisName.COLUMNS_AXIS&&this.expandColumn(m1v,T1v);};e27.prototype.expandRow=function(C1v,P1v){var r1v=this.getNode(C1v,this.rowResult);X4x.x4C!=r1v&&this._expand(r1v,this.rowFields[C1v.length],P1v);};e27.prototype.expandColumn=function(v8v,G8v){var U8v=this.getNode(v8v,this.columnResult);X4x.x4C!=U8v&&this._expand(U8v,this.columnFields[v8v.length],G8v);};e27.prototype._expand=function(W8v,X8v,B8v){if(X4x.x4C!=W8v){var l8v=W8v[X4x.F8C][X4x.F8C],V8v;if(X4x.F8C<l8v.length&&!isNaN(X8v))for(var p8v=X4x.F8C;p8v<l8v.length;p8v++)V8v=this.tuples[l8v[p8v]][this.levels[X8v][X4x.O8C]],X4x.F8C!=V8v&&void X4x.F8C!=V8v&&(X4x.x4C==W8v[V8v]?(W8v[V8v]=[[[l8v[p8v]],[],[],X4x.x4C,X4x.x4C,!X4x.O8C]],W8v[X4x.F8C][X4x.O8C].push(V8v)):W8v[X4x.F8C][X4x.g8C]||W8v[V8v][X4x.F8C][X4x.F8C].push(l8v[p8v]));X4x.x4C==W8v[X4x.F8C][X4x.b8C]&&(W8v[X4x.F8C][X4x.b8C]=[]);X4x.x4C==B8v?W8v[X4x.F8C][X4x.b8C][this.factKeys.length]=!X4x.F8C:W8v[X4x.F8C][X4x.b8C][this.factKeys.indexOf(B8v.uniqueName)]=!X4x.F8C;W8v[X4x.F8C][X4x.g8C]=!X4x.F8C;}};e27.prototype.collapse=function(q8v,u8v,Y8v){X4x.F8C==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);X4x.F8C==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X4x.x4C,X4x.x4C]]);X4x.O8C==this.factIndices.length&&(Y8v=X4x.x4C);u8v==L27.consts.AxisName.ROWS_AXIS&&this.collapseRow(q8v,Y8v);u8v==L27.consts.AxisName.COLUMNS_AXIS&&this.collapseColumn(q8v,Y8v);};e27.prototype.collapseRow=function(N8v,D8v){var z8v=this.getNode(N8v,this.rowResult);this._collapse(z8v,D8v);};e27.prototype.collapseColumn=function(K8v,s8v){var x8v=this.getNode(K8v,this.columnResult);this._collapse(x8v,s8v);};e27.prototype._collapse=function(F8v,O8v){X4x.x4C!=F8v&&(X4x.x4C==F8v[X4x.F8C][X4x.b8C]&&(F8v[X4x.F8C][X4x.b8C]=[]),X4x.x4C!=O8v?F8v[X4x.F8C][X4x.b8C][this.factKeys.indexOf(O8v.uniqueName)]=!X4x.O8C:F8v[X4x.F8C][X4x.b8C][this.factKeys.length]=!X4x.O8C);};e27.prototype.drillDown=function(j8v,M8v,g8v,b8v){X4x.F8C!=M8v.children.length&&(X4x.O8C==this.factIndices.length&&(b8v=X4x.x4C),g8v==L27.consts.AxisName.ROWS_AXIS&&this.drillDownRow(j8v,M8v,b8v),g8v==L27.consts.AxisName.COLUMNS_AXIS&&this.drillDownColumn(j8v,M8v,b8v));};e27.prototype.drillDownRow=function(n8v,c8v,L8v){var t8v=this.getNode(n8v,this.rowResult),o8v=n8v.slice(X4x.F8C,-X4x.O8C);n8v=this.getNode(o8v,this.rowResult);o8v=this.rowFields[o8v.length];this._drillDown(n8v,t8v,o8v,this.levels[o8v][c8v.level.num+X4x.O8C],L8v);};e27.prototype.drillDownColumn=function(e8v,R8v,A8v){var h8v=this.getNode(e8v,this.columnResult),a8v=e8v.slice(X4x.F8C,-X4x.O8C);e8v=this.getNode(a8v,this.columnResult);a8v=this.columnFields[a8v.length];this._drillDown(e8v,h8v,a8v,this.levels[a8v][R8v.level.num+X4x.O8C],A8v);};e27.prototype._drillDown=function(J8v,i8v,Z8v,E8v,H8v){var k8v=i8v[X4x.F8C][X4x.F8C],Q8v;if(X4x.F8C<k8v.length&&!isNaN(E8v))for(var f8v=X4x.F8C;f8v<k8v.length;f8v++)Q8v=this.tuples[k8v[f8v]][E8v],X4x.F8C!=Q8v&&void X4x.F8C!=Q8v&&(X4x.x4C==J8v[Q8v]?(J8v[Q8v]=[[[k8v[f8v]],[],[],X4x.x4C,X4x.x4C]],i8v[X4x.F8C][X4x.M8C].push(Q8v),this.drilled[Z8v][Q8v]=E8v):-X4x.O8C==J8v[Q8v][X4x.F8C][X4x.F8C].indexOf(k8v[f8v])&&J8v[Q8v][X4x.F8C][X4x.F8C].push(k8v[f8v]));X4x.x4C==i8v[X4x.F8C][X4x.j8C]&&(i8v[X4x.F8C][X4x.j8C]=[]);X4x.x4C==H8v?i8v[X4x.F8C][X4x.j8C][this.factKeys.length]=!X4x.F8C:i8v[X4x.F8C][X4x.j8C][this.factKeys.indexOf(H8v.uniqueName)]=!X4x.F8C;};e27.prototype.isRowDrilledDown=function(d8v,S8v,y8v){void X4x.F8C===y8v&&(y8v=X4x.x4C);S8v=this.factKeys.length;X4x.x4C!=y8v&&(S8v=X4x.x2C==typeof y8v?-X4x.O8C==y8v?-X4x.O8C:this.factIndices[y8v]:this.factKeys.indexOf(y8v.uniqueName));-X4x.O8C==S8v&&(S8v=this.factKeys.length);d8v=this.getNode(d8v,this.rowResult);return X4x.x4C!=d8v&&X4x.x4C!=d8v[X4x.F8C][X4x.j8C]&&(d8v[X4x.F8C][X4x.j8C][S8v]||d8v[X4x.F8C][X4x.j8C][this.factKeys.length]);};e27.prototype.isColumnDrilledDown=function(T8v,m8v,I8v){void X4x.F8C===I8v&&(I8v=X4x.x4C);m8v=this.factKeys.length;X4x.x4C!=I8v&&(m8v=X4x.x2C==typeof I8v?-X4x.O8C==I8v?-X4x.O8C:this.factIndices[I8v]:this.factKeys.indexOf(I8v.uniqueName));-X4x.O8C==m8v&&(m8v=this.factKeys.length);T8v=this.getNode(T8v,this.columnResult);return X4x.x4C!=T8v&&X4x.x4C!=T8v[X4x.F8C][X4x.j8C]&&(T8v[X4x.F8C][X4x.j8C][m8v]||T8v[X4x.F8C][X4x.j8C][this.factKeys.length]);};e27.prototype.drillUp=function(r8v,C8v,P8v,w8v){X4x.O8C==this.factIndices.length&&(w8v=X4x.x4C);P8v==L27.consts.AxisName.ROWS_AXIS&&this.drillUpRow(r8v,C8v,w8v);P8v==L27.consts.AxisName.COLUMNS_AXIS&&this.drillUpColumn(r8v,C8v,w8v);};e27.prototype.drillUpRow=function(U0v,v0v,G0v){v0v=this.getNode(U0v,this.rowResult);U0v=U0v.slice(X4x.F8C,-X4x.O8C);U0v=this.getNode(U0v,this.rowResult);this._drillUp(U0v,v0v,G0v);};e27.prototype.drillUpColumn=function(W0v,V0v,l0v){V0v=this.getNode(W0v,this.columnResult);W0v=W0v.slice(X4x.F8C,-X4x.O8C);W0v=this.getNode(W0v,this.columnResult);this._drillUp(W0v,V0v,l0v);};e27.prototype._drillUp=function(p0v,X0v,u0v){var B0v=X0v[X4x.F8C][X4x.M8C],Y0v;if(X4x.F8C<B0v.length)for(var q0v=X4x.F8C;q0v<B0v.length;q0v++)Y0v=B0v[q0v],X4x.x4C!=p0v[Y0v][X4x.F8C][X4x.j8C]&&this._drillUp(p0v,p0v[Y0v],u0v),p0v[Y0v]=X4x.x4C;X0v[X4x.F8C][X4x.M8C]=[];X0v[X4x.F8C][X4x.j8C][this.factKeys.length]=!X4x.O8C;X4x.x4C!=u0v&&(X0v[X4x.F8C][X4x.j8C][this.factKeys.indexOf(u0v.uniqueName)]=!X4x.O8C);};e27.prototype.getNode=function(D0v,x0v){for(var z0v=x0v,N0v=X4x.F8C;N0v<D0v.length;N0v++){if(X4x.x4C==z0v)return X4x.x4C;z0v=z0v[D0v[N0v]];}return z0v;};Object.defineProperty(e27.prototype,Y1x,{get:function(){return[this.rowResult,this.columnResult];},set:function(K0v){},enumerable:!X4x.F8C,configurable:!X4x.F8C});e27.prototype.isRowExpanded=function(M0v,s0v){void X4x.F8C===s0v&&(s0v=X4x.x4C);if(X4x.F8C==M0v.length)return!X4x.F8C;var O0v=-X4x.O8C;X4x.x4C!=s0v&&(O0v=X4x.x2C==typeof s0v?-X4x.O8C==s0v?-X4x.O8C:this.factIndices[s0v]:this.factKeys.indexOf(s0v.uniqueName));var F0v=this.getNode(M0v,this.rowResult);return X4x.x4C==F0v||X4x.x4C==F0v[X4x.F8C][X4x.b8C]?!X4x.O8C:-X4x.O8C==O0v||void X4x.F8C==F0v[X4x.F8C][X4x.b8C][O0v]?F0v[X4x.F8C][X4x.b8C][this.factKeys.length]:F0v[X4x.F8C][X4x.b8C][O0v];};e27.prototype.isColumnExpanded=function(o0v,b0v){void X4x.F8C===b0v&&(b0v=X4x.x4C);if(X4x.F8C==o0v.length)return!X4x.F8C;var g0v=-X4x.O8C;X4x.x4C!=b0v&&(g0v=X4x.x2C==typeof b0v?this.factIndices[b0v]:this.factKeys.indexOf(b0v.uniqueName));var j0v=this.getNode(o0v,this.columnResult);return X4x.x4C==j0v||X4x.x4C==j0v[X4x.F8C][X4x.b8C]?!X4x.O8C:-X4x.O8C==g0v||void X4x.F8C==j0v[X4x.F8C][X4x.b8C][g0v]?j0v[X4x.F8C][X4x.b8C][this.factKeys.length]:j0v[X4x.F8C][X4x.b8C][g0v];};e27.prototype.getSum=function(a0v,e0v){for(var t0v=X4x.F8C,c0v=!X4x.F8C,n0v=X4x.F8C;n0v<a0v.length;n0v++){var L0v=this.facts[a0v[n0v]][e0v];isNaN(L0v)||(t0v+=L0v,c0v=!X4x.O8C);}return c0v?NaN:t0v;};e27.prototype.getCount=function(A0v,Q0v){for(var R0v=X4x.F8C,h0v=X4x.F8C;h0v<A0v.length;h0v++)isNaN(this.facts[A0v[h0v]][Q0v])||R0v++;return R0v;};e27.prototype.getMin=function(E0v,H0v){for(var k0v=Number.MAX_VALUE,J0v=!X4x.F8C,f0v=X4x.F8C;f0v<E0v.length;f0v++){var i0v=this.facts[E0v[f0v]][H0v];isNaN(i0v)||(i0v<k0v&&(k0v=i0v),J0v=!X4x.O8C);}return J0v?NaN:k0v;};e27.prototype.getMax=function(I0v,T0v){for(var Z0v=Number.MIN_VALUE,S0v=!X4x.F8C,y0v=X4x.F8C;y0v<I0v.length;y0v++){var d0v=this.facts[I0v[y0v]][T0v];isNaN(d0v)||(d0v>Z0v&&(Z0v=d0v),S0v=!X4x.O8C);}return S0v?NaN:Z0v;};e27.prototype.getProduct=function(P0v,U4v){for(var w0v=X4x.O8C,r0v=!X4x.F8C,m0v=X4x.F8C;m0v<P0v.length;m0v++){var C0v=this.facts[P0v[m0v]][U4v];isNaN(C0v)||(w0v*=C0v,r0v=!X4x.O8C);}return r0v?NaN:w0v;};e27.prototype.getAverage=function(l4v,p4v){for(var W4v=X4x.F8C,v4v=X4x.F8C,G4v=X4x.F8C;G4v<l4v.length;G4v++){var V4v=this.facts[l4v[G4v]][p4v];isNaN(V4v)||(W4v+=V4v,v4v++);}return X4x.F8C==v4v?X4x.F8C:W4v/v4v;};e27.prototype.getPercent=function(B4v,X4v){X4x.x4C==this._grandTotals[X4v]&&(this._grandTotals[X4v]=this.getSum(this.filtered,X4v));return Math.abs(X4x.o0C*this.getSum(B4v,X4v)/this._grandTotals[X4v]);};e27.prototype.getPercentColumn=function(u4v,q4v,Y4v){Y4v=this.getNode(Y4v,this.columnResult);return X4x.o0C*this.getSum(u4v,q4v)/this.getSum(Y4v[X4x.F8C][X4x.F8C],q4v);};e27.prototype.getPercentRow=function(D4v,N4v,z4v){z4v=this.getNode(z4v,this.rowResult);return X4x.o0C*this.getSum(D4v,N4v)/this.getSum(z4v[X4x.F8C][X4x.F8C],N4v);};e27.prototype.getIndex=function(F4v,x4v,K4v,s4v){X4x.x4C==this._grandTotals[x4v]&&(this._grandTotals[x4v]=this.getSum(this.filtered,x4v));K4v=this.getNode(K4v,this.rowResult);s4v=this.getNode(s4v,this.columnResult);return Math.abs(this._grandTotals[x4v]*this.getSum(F4v,x4v)/(this.getSum(K4v[X4x.F8C][X4x.F8C],x4v)*this.getSum(s4v[X4x.F8C][X4x.F8C],x4v)));};e27.prototype.getDifference=function(O4v,M4v,b4v){return L27.dataprovider_.DataProviderFactory.getDataProvider().getValue(O4v,M4v,b4v);};e27.prototype._getValue=function(g4v,o4v,j4v){return X4x.x4C==g4v||X4x.F8C==g4v.length?NaN:j4v==L27.consts.AggregationName.NONE?this.facts[g4v[X4x.F8C]][o4v]:j4v==L27.consts.AggregationName.COUNT?this.getCount(g4v,o4v):j4v==L27.consts.AggregationName.DISTINCT_COUNT?this.getDistinctCount(g4v,[],[],o4v):j4v==L27.consts.AggregationName.PERCENT?this.getPercent(g4v,o4v):X4x.O8C==g4v.length?this.facts[g4v[X4x.F8C]][o4v]:j4v==L27.consts.AggregationName.SUM||j4v==L27.consts.AggregationName.PERCENT_COLUMN||j4v==L27.consts.AggregationName.PERCENT_ROW||j4v==L27.consts.AggregationName.INDEX||j4v==L27.consts.AggregationName.DIFFERENCE||j4v==L27.consts.AggregationName.PERCENT_DIFFERENCE?this.getSum(g4v,o4v):j4v==L27.consts.AggregationName.PRODUCT?this.getProduct(g4v,o4v):j4v==L27.consts.AggregationName.AVERAGE?this.getAverage(g4v,o4v):j4v==L27.consts.AggregationName.MAX?this.getMax(g4v,o4v):j4v==L27.consts.AggregationName.MIN?this.getMin(g4v,o4v):X4x.F8C;};e27.prototype.getIndividualsValue=function(h4v,R4v,n4v,c4v,L4v){void X4x.F8C===n4v&&(n4v=X4x.F8C);void X4x.F8C===c4v&&(c4v=X4x.x4C);void X4x.F8C===L4v&&(L4v=X4x.x4C);for(var a4v=X4x.F8C,e4v=!X4x.F8C,t4v=X4x.F8C;t4v<h4v.length;t4v++)n4v=this.getCalculatedValue([h4v[t4v]],R4v,!X4x.O8C,n4v,c4v,L4v),isNaN(n4v)||(a4v+=n4v,e4v=!X4x.O8C);return e4v?NaN:a4v;};e27.prototype.getCalculatedValue=function(E4v,A4v,k4v,J4v,f4v,i4v){void X4x.F8C===k4v&&(k4v=!X4x.O8C);void X4x.F8C===J4v&&(J4v=X4x.F8C);void X4x.F8C===f4v&&(f4v=X4x.x4C);void X4x.F8C===i4v&&(i4v=X4x.x4C);if(k4v)return this.getIndividualsValue(E4v,A4v,J4v,f4v,i4v);if(!A4v[X4x.M8C]){k4v=this.factKeys.indexOf(A4v[X4x.O8C][X4x.F8C]);-X4x.O8C==k4v&&-X4x.O8C!=A4v[X4x.O8C][X4x.F8C].indexOf(L27.Cube.MEASURES_NAME)&&(k4v=A4v[X4x.O8C][X4x.F8C],k4v=k4v.slice(X4x.e8C,-X4x.O8C),k4v=this.factKeys.indexOf(k4v));if(X4x.x4C!=this.calculatedKeys[k4v])return this.getCalculatedValue(E4v,this.calculatedKeys[k4v],this.individualKeys[k4v],X4x.F8C,f4v,i4v);J4v=A4v[X4x.F8C];switch(J4v){case L27.consts.AggregationName.PERCENT_COLUMN:if(X4x.x4C!=i4v)return this.getPercentColumn(E4v,k4v,i4v);break;case L27.consts.AggregationName.PERCENT_ROW:if(X4x.x4C!=f4v)return this.getPercentRow(E4v,k4v,f4v);break;case L27.consts.AggregationName.INDEX:if(X4x.x4C!=f4v&&X4x.x4C!=i4v)return this.getIndex(E4v,k4v,f4v,i4v);break;case L27.consts.AggregationName.DISTINCT_COUNT:A4v=this.cube_.structure_.findMeasure(A4v[X4x.O8C][X4x.F8C]);if(A4v.type==L27.types.MeasureType.COUNT)return this.getDistinctMembersCount(E4v,A4v);break;case L27.consts.AggregationName.PERCENT_DIFFERENCE:case L27.consts.AggregationName.DIFFERENCE:return A4v=this.cube_.structure_.findMeasure(A4v[X4x.O8C][X4x.F8C]),this.getDifference(f4v,i4v,A4v);}return this._getValue(E4v,k4v,J4v);}var Q4v=[],y4v;for(y4v in A4v[X4x.O8C]){var Z4v=A4v[X4x.O8C][y4v],H4v=Z4v;Z4v instanceof Array&&(H4v=this.getCalculatedValue(E4v,Z4v,k4v,J4v,f4v,i4v));if(H4v==L27.consts.DataConsts.DIVIDE_BY_ZERO&&A4v[X4x.F8C]==L27.consts.FunctionName.DIVIDE)return L27.consts.DataConsts.DIVIDE_BY_ZERO;Q4v.push(H4v);}if(A4v[X4x.F8C]==L27.consts.FunctionName.VALUE||A4v[X4x.F8C]==L27.consts.FunctionName.UPDATE_PERCENT||A4v[X4x.F8C]==L27.consts.FunctionName.UPDATE_DIFFERENCE)return J4v;if(A4v[X4x.F8C]==L27.consts.FunctionName.BLANK)return this.fxNaN(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.NOT_BLANK)return this.fxNotNaN(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.ADD)return this.fxAdd(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.SUBTRACT)return this.fxSubtract(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.MULTIPLY)return this.fxMultiply(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.POWER)return this.fxPower(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.DIVIDE)return this.fxDivide(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.LESS)return this.fxLess(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.GREATER)return this.fxGreater(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.EQUAL||A4v[X4x.F8C]==L27.consts.FunctionName.EQUAL_2)return this.fxEqual(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.NOT_EQUAL)return this.fxNotEqual(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.LESS_OR_EQUAL)return this.fxLessOrEqual(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.GREATER_OR_EQUAL)return this.fxGreaterOrEqual(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.AND)return this.fxAnd(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.OR)return this.fxOr(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.IF)return this.fxIf(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.ABS)return this.fxAbs(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.MIN)return this.fxMin(Q4v);if(A4v[X4x.F8C]==L27.consts.FunctionName.MAX)return this.fxMax(Q4v);};e27.prototype.fxNaN=function(d4v){return isNaN(d4v[X4x.F8C]);};e27.prototype.fxNotNaN=function(S4v){return!isNaN(S4v[X4x.F8C]);};e27.prototype.fxAdd=function(I4v){if(void X4x.F8C===I4v[X4x.F8C]||X4x.K2C===typeof I4v[X4x.F8C]||void X4x.F8C===I4v[X4x.O8C]||X4x.K2C===typeof I4v[X4x.O8C]){var T4v=X4x.x4C==I4v[X4x.F8C]||X4x.x2C===typeof I4v[X4x.F8C]&&isNaN(I4v[X4x.F8C])?X4x.C4C:I4v[X4x.F8C];I4v=X4x.x4C==I4v[X4x.O8C]||X4x.x2C===typeof I4v[X4x.O8C]&&isNaN(I4v[X4x.O8C])?X4x.C4C:I4v[X4x.O8C];return T4v+I4v;}return I4v[X4x.F8C]+I4v[X4x.O8C];};e27.prototype.fxSubtract=function(m4v){return m4v[X4x.F8C]-m4v[X4x.O8C];};e27.prototype.fxMultiply=function(w4v){return w4v[X4x.F8C]*w4v[X4x.O8C];};e27.prototype.fxDivide=function(r4v){return X4x.F8C==r4v[X4x.O8C]?L27.consts.DataConsts.DIVIDE_BY_ZERO:r4v[X4x.F8C]/r4v[X4x.O8C];};e27.prototype.fxPower=function(C4v){return Math.pow(C4v[X4x.F8C],C4v[X4x.O8C]);};e27.prototype.fxLess=function(P4v){return P4v[X4x.F8C]<P4v[X4x.O8C];};e27.prototype.fxGreater=function(U2v){return U2v[X4x.F8C]>U2v[X4x.O8C];};e27.prototype.fxEqual=function(v2v){return v2v[X4x.F8C]==v2v[X4x.O8C];};e27.prototype.fxNotEqual=function(G2v){return G2v[X4x.F8C]!=G2v[X4x.O8C];};e27.prototype.fxLessOrEqual=function(W2v){return W2v[X4x.F8C]<=W2v[X4x.O8C];};e27.prototype.fxGreaterOrEqual=function(V2v){return V2v[X4x.F8C]>=V2v[X4x.O8C];};e27.prototype.fxOr=function(l2v){return l2v[X4x.F8C]||l2v[X4x.O8C];};e27.prototype.fxAnd=function(p2v){return p2v[X4x.F8C]&&p2v[X4x.O8C];};e27.prototype.fxIf=function(X2v){return X2v[X4x.F8C]?X2v[X4x.O8C]:X2v[X4x.M8C];};e27.prototype.fxAbs=function(B2v){return Math.abs(B2v[X4x.F8C]);};e27.prototype.fxMin=function(Y2v){return Math.min(Y2v[X4x.F8C],Y2v[X4x.O8C]);};e27.prototype.fxMax=function(q2v){return Math.max(q2v[X4x.F8C],q2v[X4x.O8C]);};e27.prototype.calculateIndex=function(K2v,s2v){var u1x=9007199254740990;var q1x=9007199254740991;for(var z2v=X4x.O8C,D2v=X4x.F8C,x2v,N2v,u2v=this.columnFields.length-X4x.O8C;X4x.F8C<=u2v;u2v--)N2v=this.sizes[this.rowFields.length+u2v],X4x.F8C<N2v&&(x2v=void X4x.F8C===s2v[u2v]?X4x.F8C:s2v[u2v],D2v+=x2v*z2v,z2v*=N2v);for(u2v=this.rowFields.length-X4x.O8C;X4x.F8C<=u2v;u2v--)N2v=this.sizes[u2v],X4x.F8C<N2v&&(x2v=void X4x.F8C===K2v[u2v]?X4x.F8C:K2v[u2v],D2v+=x2v*z2v,z2v>q1x/N2v&&(z2v=-X4x.O8C,D2v=u1x-D2v),z2v*=N2v);return D2v;};e27.prototype.getTuples=function(){return this.tuples;};e27.prototype.getFacts=function(){return this.facts;};e27.prototype.getRowCount=function(){return this.filtered.length;};e27.prototype.generate=function(F2v){var z1x="2010 2011 2012 2013 2014 2015 2016 2017";var g2v=this,b2v=z1x.split(X4x.s4C),O2v,j2v;this.generateHandler=F2v;F2v=this.cube_.structure_.getDataField(v9VV.X9B);for(var M2v=X4x.F8C;M2v<b2v.length;M2v++)j2v=b2v[M2v],O2v=F2v.uniqueName+v9VV.f7C+j2v,O2v=new L27._structure.GenericMember(O2v,j2v),F2v.addMember(O2v);utils.ThreadManager.addTask(this.generateProductsRow,this,X4x.x4C,function(){return g2v.generateData();});};e27.prototype.generateProductsRow=function(){var F1x=5E4;var s1x=25E3;var K1x="PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX- PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX-";var x1x=4.373491;var D1x="Loading data... ";var N1x="Product ID";var p4C=15131;var L0C=131;var t2v=this.cube_.structure_.getDataField(N1x),o2v,c2v;c27.preloader(!X4x.F8C,D1x,(x1x*this.productIdx+Math.random()).toFixed(X4x.M8C)+G9VV.o2B);for(var L2v=K1x.split(X4x.s4C),a2v=utils.browserVersion().isMobile?s1x:F1x,n2v=X4x.F8C;n2v<a2v;n2v++)c2v=L2v[this.productIdx]+Math.round(p4C*Math.random())+X4x.L2C+(n2v+X4x.O8C)*(this.productIdx+X4x.O8C)*L0C,o2v=t2v.uniqueName+v9VV.f7C+c2v,o2v=new L27._structure.GenericMember(o2v,c2v),t2v.addMember(o2v);return X4x.i8C<=this.productIdx++;};e27.prototype.generateData=function(){var O1x=5E5;for(var h2v,R2v,A2v,Q2v=utils.browserVersion().isMobile?O1x:v9VV.l6C,e2v=X4x.F8C;e2v<Q2v;e2v++)h2v=Math.round(X4x.t8C*Math.random())+X4x.O8C,R2v=e2v,A2v=Math.round(W9VV.v4Y*Math.random())/X4x.o0C+X4x.o0C,this.insert([h2v,R2v],[X4x.O8C,X4x.O8C,A2v]);c27.preloader(!X4x.O8C);this.generateHandler();};return e27;}();L27.LocalDataStorage=a27;}(c27.data_||(c27.data_={})));}(pivot||(pivot={})));(function(k2v){(function(f2v){(function(J2v){var i2v=function(){var g9f=U9VV;var s0C=69;var K0C=68;var x0C=67;var u0C=62;var B0C=56;var X0C=55;var p0C=54;var l0C=52;var W0C=43;var G0C=41;var w8C=33;var f8C=18;E2v.getLabel=function(H2v){var n0C=101;H2v=E2v.array[H2v];for(var y2v=g9f.C4C,Z2v=g9f.F8C;Z2v<H2v.length;Z2v++)y2v+=String.fromCharCode(H2v[Z2v]+n0C);return y2v;};E2v.stringToNumber=function(S2v){for(var I2v=g9f.O8C,d2v=g9f.F8C;d2v<S2v.length-g9f.O8C;d2v++)I2v+=v9VV.N6C*S2v.charCodeAt(d2v)+S2v.charCodeAt(d2v+g9f.O8C);return I2v;};E2v.array=[[-G0C,g9f.Q8C,-g9f.U0C,-G0C,-g9f.j8C,-s0C,g9f.b8C,g9f.h8C,g9f.F8C,g9f.O8C,-g9f.v0C,-u0C,g9f.b8C,g9f.A8C,g9f.A8C,g9f.a8C,-W0C,-p0C,-p0C,f8C,f8C,f8C,-X0C,f8C,g9f.F8C,-g9f.b8C,-g9f.O8C,-g9f.j8C,g9f.A8C,-g9f.j8C,g9f.h8C,g9f.L8C,-g9f.M8C,g9f.o8C,g9f.R8C,-X0C,-g9f.M8C,g9f.L8C,g9f.t8C,-u0C,-s0C,g9f.A8C,-g9f.j8C,g9f.h8C,g9f.M8C,g9f.F8C,g9f.A8C,-g9f.v0C,-u0C,-g9f.b8C,g9f.n8C,-g9f.j8C,g9f.c8C,g9f.o8C,-u0C,-g9f.U0C,g9f.b8C,g9f.A8C,g9f.A8C,g9f.a8C,-W0C,-p0C,-p0C,f8C,f8C,f8C,-X0C,f8C,g9f.F8C,-g9f.b8C,-g9f.O8C,-g9f.j8C,g9f.A8C,-g9f.j8C,g9f.h8C,g9f.L8C,-g9f.M8C,g9f.o8C,g9f.R8C,-X0C,-g9f.M8C,g9f.L8C,g9f.t8C,-G0C,-p0C,-g9f.j8C,-g9f.U0C,-G0C,-p0C,g9f.Q8C,-g9f.U0C,-s0C,-B0C,-s0C,g9f.t8C,g9f.L8C,g9f.h8C,g9f.F8C,-s0C,g9f.j8C,g9f.c8C,g9f.O8C,g9f.L8C,g9f.h8C,g9f.t8C,-g9f.j8C,g9f.A8C,g9f.j8C,g9f.L8C,g9f.c8C,-s0C,-g9f.j8C,-g9f.b8C,g9f.L8C,g9f.Q8C,g9f.A8C,-s0C,-g9f.R8C,g9f.F8C,-g9f.b8C,-w8C,-g9f.j8C,g9f.A8C,-g9f.j8C,-g9f.i8C,g9f.L8C,-g9f.M8C,g9f.o8C,g9f.R8C,-s0C,-g9f.i8C,g9f.F8C,g9f.a8C,g9f.L8C,g9f.h8C,g9f.A8C,g9f.j8C,g9f.c8C,g9f.M8C],[-g9f.R8C,g9f.F8C,-g9f.b8C,-w8C,-g9f.j8C,g9f.A8C,-g9f.j8C,-g9f.i8C,g9f.L8C,-g9f.M8C,g9f.o8C,g9f.R8C,-s0C,-g9f.i8C,g9f.F8C,g9f.a8C,g9f.L8C,g9f.h8C,g9f.A8C,g9f.j8C,g9f.c8C,g9f.M8C],[-g9f.T8C,g9f.j8C,g9f.n8C,g9f.F8C,-s0C,g9f.j8C,g9f.R8C,-s0C,g9f.A8C,g9f.L8C,g9f.L8C,-s0C,g9f.n8C,-g9f.j8C,g9f.h8C,g9f.M8C,g9f.F8C,-K0C],[-g9f.R8C,g9f.F8C,-g9f.b8C,-w8C,-g9f.j8C,g9f.A8C,-g9f.j8C,-g9f.i8C,g9f.L8C,-g9f.M8C,g9f.o8C,g9f.R8C,-s0C,g9f.b8C,-g9f.j8C,g9f.R8C,-s0C,-g9f.j8C,-s0C,g9f.n8C,g9f.j8C,g9f.t8C,g9f.j8C,g9f.A8C,-g9f.j8C,g9f.A8C,g9f.j8C,g9f.L8C,g9f.c8C,-s0C,g9f.L8C,g9f.O8C,-s0C,-G0C,-g9f.b8C,-g9f.U0C,-l0C,-g9f.Z8C,-g9f.r8C,-G0C,-p0C,-g9f.b8C,-g9f.U0C,-s0C,-g9f.O8C,-g9f.j8C,g9f.A8C,-g9f.j8C,-s0C,g9f.R8C,g9f.j8C,g9f.E8C,g9f.F8C,-X0C,-G0C,-g9f.b8C,g9f.h8C,-g9f.U0C,-G0C,g9f.Q8C,-g9f.U0C,-G0C,-g9f.j8C,-s0C,g9f.b8C,g9f.h8C,g9f.F8C,g9f.O8C,-g9f.v0C,-x0C,g9f.b8C,g9f.A8C,g9f.A8C,g9f.a8C,g9f.R8C,-W0C,-p0C,-p0C,g9f.O8C,g9f.n8C,g9f.F8C,g9f.i8C,g9f.t8C,g9f.L8C,g9f.c8C,g9f.R8C,g9f.A8C,g9f.F8C,g9f.h8C,-X0C,-g9f.M8C,g9f.L8C,g9f.t8C,-p0C,-g9f.P8C,g9f.h8C,-g9f.v0C,f8C,-g9f.O8C,g9f.h8C,-x0C,-s0C,g9f.A8C,-g9f.j8C,g9f.h8C,g9f.M8C,g9f.F8C,g9f.A8C,-g9f.v0C,-x0C,-g9f.o8C,-g9f.b8C,g9f.n8C,-g9f.j8C,g9f.c8C,g9f.o8C,-x0C,-g9f.U0C,-g9f.i8C,g9f.F8C,-g9f.j8C,-g9f.O8C,-s0C,-g9f.j8C,-g9f.b8C,g9f.L8C,g9f.Q8C,g9f.A8C,-s0C,g9f.A8C,g9f.b8C,g9f.F8C,-s0C,g9f.R8C,g9f.L8C,g9f.n8C,g9f.Q8C,g9f.A8C,g9f.j8C,g9f.L8C,g9f.c8C,-s0C,g9f.A8C,g9f.b8C,-g9f.j8C,g9f.A8C,-s0C,g9f.b8C,-g9f.j8C,g9f.c8C,-g9f.O8C,g9f.n8C,g9f.F8C,g9f.R8C,-s0C,g9f.t8C,g9f.L8C,g9f.h8C,g9f.F8C,-s0C,-g9f.O8C,-g9f.j8C,g9f.A8C,-g9f.j8C,-X0C,-G0C,-p0C,-g9f.j8C,-g9f.U0C,-G0C,-p0C,g9f.Q8C,-g9f.U0C]];function E2v(){}E2v.info=g9f.F8C;E2v.componentInfo=g9f.O8C;E2v.tooLarge=g9f.M8C;E2v.betaversion=g9f.b8C;return E2v;}();J2v.LicenseLabels=i2v;}(f2v.license||(f2v.license={})));}(k2v.model||(k2v.model={})));}(pivot||(pivot={})));(function(m2v){var T2v=function(){var M1x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w2v.encode=function(r2v){var p4x=U9VV;var U3v=p4x.C4C,C2v,v3v,G3v,l3v,V3v,W3v,P2v=p4x.F8C;for(r2v=w2v._utf8_encode(r2v);P2v<r2v.length;)C2v=r2v.charCodeAt(P2v++),v3v=r2v.charCodeAt(P2v++),G3v=r2v.charCodeAt(P2v++),l3v=C2v>>p4x.M8C,C2v=(C2v&p4x.b8C)<<p4x.j8C|v3v>>p4x.j8C,V3v=(v3v&p4x.A8C)<<p4x.M8C|G3v>>p4x.o8C,W3v=G3v&p4x.z0C,isNaN(v3v)?V3v=W3v=p4x.N0C:isNaN(G3v)&&(W3v=p4x.N0C),U3v=U3v+this._keyStr.charAt(l3v)+this._keyStr.charAt(C2v)+this._keyStr.charAt(V3v)+this._keyStr.charAt(W3v);return U3v;};w2v.decode=function(p3v){var l4x=U9VV;var X3v=l4x.C4C,q3v,Y3v,N3v,u3v,z3v,B3v=l4x.F8C;for(p3v=p3v.replace(/[^A-Za-z0-9\+\/\=]/g,l4x.C4C);B3v<p3v.length;)q3v=this._keyStr.indexOf(p3v.charAt(B3v++)),Y3v=this._keyStr.indexOf(p3v.charAt(B3v++)),u3v=this._keyStr.indexOf(p3v.charAt(B3v++)),z3v=this._keyStr.indexOf(p3v.charAt(B3v++)),q3v=q3v<<l4x.M8C|Y3v>>l4x.j8C,Y3v=(Y3v&l4x.A8C)<<l4x.j8C|u3v>>l4x.M8C,N3v=(u3v&l4x.b8C)<<l4x.o8C|z3v,X3v+=String.fromCharCode(q3v),l4x.N0C!=u3v&&(X3v+=String.fromCharCode(Y3v)),l4x.N0C!=z3v&&(X3v+=String.fromCharCode(N3v));return X3v=w2v._utf8_decode(X3v);};function w2v(){}w2v._utf8_encode=function(K3v){var V4x=U9VV;K3v=K3v.replace(/\r\n/g,v9VV.m6C);for(var x3v=V4x.C4C,s3v=V4x.F8C;s3v<K3v.length;s3v++){var D3v=K3v.charCodeAt(s3v);V4x.c0C>D3v?x3v+=String.fromCharCode(D3v):(V4x.t0C<D3v&&V4x.V4C>D3v?x3v+=String.fromCharCode(D3v>>V4x.o8C|V4x.e0C):(x3v+=String.fromCharCode(D3v>>V4x.e8C|V4x.f0C),x3v+=String.fromCharCode(D3v>>V4x.o8C&V4x.z0C|V4x.c0C)),x3v+=String.fromCharCode(D3v&V4x.z0C|V4x.c0C));}return x3v;};w2v._utf8_decode=function(M3v){var d2x=U9VV;for(var b3v=d2x.C4C,F3v=d2x.F8C,O3v=d2x.F8C,j3v=d2x.F8C,g3v=d2x.F8C;F3v<M3v.length;)O3v=M3v.charCodeAt(F3v),d2x.c0C>O3v?(b3v+=String.fromCharCode(O3v),F3v++):d2x.a0C<O3v&&d2x.f0C>O3v?(j3v=M3v.charCodeAt(F3v+d2x.O8C),b3v+=String.fromCharCode((O3v&d2x.T8C)<<d2x.o8C|j3v&d2x.z0C),F3v+=d2x.M8C):(j3v=M3v.charCodeAt(F3v+d2x.O8C),g3v=M3v.charCodeAt(F3v+d2x.M8C),b3v+=String.fromCharCode((O3v&d2x.A8C)<<d2x.e8C|(j3v&d2x.z0C)<<d2x.o8C|g3v&d2x.z0C),F3v+=d2x.b8C);return b3v;};w2v._keyStr=M1x;return w2v;}();m2v.Base64=T2v;}(utils||(utils={})));(function(o3v){(function(n3v){(function(c3v){var t3v=function(){var N4C=1048576;L3v.MAX_CSV=N4C;L3v.MAX_JSON=N4C;function L3v(){}return L3v;}();c3v.Limitations=t3v;}(n3v.license||(n3v.license={})));}(o3v.model||(o3v.model={})));}(pivot||(pivot={})));(function(a3v){(function(e3v){(function(A3v){var b1x="UNDEFINED";var h3v=function(){var Z1x="REPORT_COMPLETE";var H1x="LOCALIZATION_ERROR";var E1x="LOCALIZATION_LOADED";var J1x="LOADING_LOCALIZATION";var i1x="RUNNING_QUERY";var f1x="REBASE_CONNECTION";var k1x="EMPTY_SLICE";var Q1x="CONNECTED_TO_DATA_SOURCE";var A1x="DATA_FILE_CANCELLED";var R1x="DATA_ERROR";var h1x="DATA_LOADED";var e1x="LOADING_DATA";var a1x="REPORT_DEFINED";var L1x="REPORT_CHANGED";var c1x="REPORT_FILE_CANCELLED";var t1x="REPORT_FILE_ERROR";var n1x="REPORT_FILE_LOADED";var o1x="LOADING_REPORT_FILE";var g1x="OPENING_REPORT_FILE";var j1x="START_REPORT";k3v.UNDEFINED=b1x;k3v.START_REPORT=j1x;k3v.OPENING_REPORT_FILE=g1x;function k3v(){}k3v.LOADING_REPORT_FILE=o1x;k3v.REPORT_FILE_LOADED=n1x;k3v.REPORT_FILE_ERROR=t1x;k3v.REPORT_FILE_CANCELLED=c1x;k3v.REPORT_CHANGED=L1x;k3v.REPORT_DEFINED=a1x;k3v.LOADING_DATA=e1x;k3v.DATA_LOADED=h1x;k3v.DATA_ERROR=R1x;k3v.DATA_FILE_CANCELLED=A1x;k3v.CONNECTED_TO_DATA_SOURCE=Q1x;k3v.EMPTY_SLICE=k1x;k3v.REBASE_CONNECTION=f1x;k3v.RUNNING_QUERY=i1x;k3v.QUERY_COMPLETE=G9VV.R3B;k3v.QUERY_ERROR=G9VV.A3B;k3v.LOADING_LOCALIZATION=J1x;k3v.LOCALIZATION_LOADED=E1x;k3v.LOCALIZATION_ERROR=H1x;k3v.REPORT_COMPLETE=Z1x;return k3v;}();A3v.StateEvent=h3v;var R3v=function(){var P1x="COMPLETE";var C1x="OPEN";var r1x="LOAD";var w1x="CONNECT_TO";var m1x="UPDATE_DATA_PARTIAL";var T1x="UPDATE_DATA";var I1x="RUN_QUERY";var S1x="SET_REPORT";var d1x="CLEAR";var y1x="INIT";f3v.UNDEFINED=b1x;f3v.INIT=y1x;function f3v(){}f3v.CLEAR=d1x;f3v.SET_REPORT=S1x;f3v.RUN_QUERY=I1x;f3v.UPDATE_DATA=T1x;f3v.UPDATE_DATA_PARTIAL=m1x;f3v.CONNECT_TO=w1x;f3v.LOAD=r1x;f3v.OPEN=C1x;f3v.COMPLETE=P1x;return f3v;}();A3v.ReportType=R3v;var Q3v=function(J3v){var l9f=U9VV;var U8x="connectionInfo_";__extends(i3v,J3v);Object.defineProperty(i3v.prototype,U8x,{get:function(){return utils.nullOrUndefined(this._connectionInfo)||this._connectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;},set:function(H3v){this._connectionInfo=H3v;},enumerable:!l9f.F8C,configurable:!l9f.F8C});Object.defineProperty(i3v.prototype,W9VV.v8x,{get:function(){return this._isReportComplete;},enumerable:!l9f.F8C,configurable:!l9f.F8C});Object.defineProperty(i3v.prototype,W9VV.G8x,{get:function(){return this._isReportDefined;},enumerable:!l9f.F8C,configurable:!l9f.F8C});i3v.prototype.init=function(Z3v){var y3v=this;utils.nullOrUndefined(Z3v)&&(Z3v={});this.reportType=R3v.INIT;this.globalReport=utils.nullOrUndefined(Z3v.global)?{}:utils.ObjectUtils.deepCopy(Z3v.global);this.setReportState(h3v.START_REPORT);e3v._options.OptionsManager.getInstance().addEventListener(h3v.REPORT_CHANGED,function(){return y3v.dispatchReportChange();});e3v.sizes.SizesManager.getInstance().addEventListener(h3v.REPORT_CHANGED,function(){return y3v.dispatchReportChange();});e3v.condition.ConditionManager.getInstance().addEventListener(h3v.REPORT_CHANGED,function(){return y3v.dispatchReportChange();});l9f.x4C!=a3v._view.PivotView.stage.getToolbar()&&utils.fmSetTimeout(function(){a3v._view.PivotView.stage.getToolbar().updateDataSourceType();},l9f.O8C);this.globalReportVO=e3v.report.ReportValueObject.fromObject(this.globalReport);this.spreadGlobal(this.globalReportVO);this.applyEmptyState();if(l9f.K2C==typeof Z3v.report)this._load(Z3v.report);else{var d3v=Z3v.report||{};e3v._options.OptionsManager.setOptions(e3v._options.vo.OptionsValueObject.fromObject(l9f.x4C!=d3v.options?d3v.options:d3v));utils.fmSetTimeout(function(){y3v.reportType==R3v.INIT&&y3v._setReport(Z3v.report||{});},l9f.O8C);}};i3v.prototype.setReportState=function(S3v){this.reportState=S3v;if(S3v==h3v.START_REPORT||S3v==h3v.OPENING_REPORT_FILE||S3v==h3v.LOADING_REPORT_FILE)this._isReportDefined=this._isReportComplete=!l9f.O8C;S3v==h3v.REPORT_COMPLETE&&(this._isReportDefined=this._isReportComplete=!l9f.F8C);S3v==h3v.REPORT_DEFINED&&(this._isReportDefined=!l9f.F8C);this.dispatchWith(S3v);};i3v.prototype.setReport=function(I3v){utils.nullOrUndefined(I3v)&&(I3v={});this.reportType=R3v.SET_REPORT;this.cancel();this.setReportState(h3v.START_REPORT);this._setReport(I3v.report||{});};i3v.prototype.runQuery=function(T3v){this.reportType=R3v.RUN_QUERY;T3v=T3v instanceof a3v.data_._structure.Slice?T3v:a3v.data_._structure.Slice.fromObject(e3v.report.SliceValueObject.fromObject(T3v),this.cube_.structure_);var m3v=a3v.data_._structure.Slice.areRowsDiffer(T3v,this.cube_.slice_,!l9f.O8C),w3v=a3v.data_._structure.Slice.areColumnsDiffer(T3v,this.cube_.slice_,!l9f.O8C);!a3v.data_._structure.Slice.areMeasuresDiffer(T3v,this.cube_.slice_)||m3v||w3v||e3v.sizes.SizesManager.applySizes(e3v.sizes.SizesManager.rowSizesNamed,e3v.sizes.SizesManager.columnSizesNamed,e3v.sizes.SizesManager.rowSizesByIdx,e3v.sizes.SizesManager.columnSizesByIdx,e3v.sizes.SizesManager.rowHeaderSizes,e3v.sizes.SizesManager.columnHeaderSizes,e3v.sizes.SizesManager.rowFilterSizes);m3v&&(e3v.sizes.SizesManager.rowSizes={});w3v&&(e3v.sizes.SizesManager.columnSizes={});T3v.mergeExpandsAndDrills(this.cube_.slice_);e3v.JavaScriptHandlers.getInstance().dispatch(new e3v.APIEvent(e3v.JavaScriptHandlers.REPORT_CHANGE));this.setReportState(h3v.RUNNING_QUERY);this.cube_.setSlice(T3v);this.cube_.filter();};i3v.prototype.updateData=function(U6v,C3v){this.reportType=R3v.UPDATE_DATA;this.cancel();this.setReportState(h3v.START_REPORT);var r3v=this.getReport();C3v.ignoreSorting&&(r3v.slice.columnSorting={},r3v.slice.rowSorting={});if(C3v.ignoreScroll){var P3v=this.cube_.slice_;this.cube_.setSlice(a3v.data_._structure.Slice.fromObject(e3v.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(P3v);}r3v.connectionInfo=a3v.data_.vo.ConnectionInfo.fromObject(U6v);this._setReport(r3v,!l9f.F8C);};i3v.prototype.updateDataPartial=function(v6v,G6v){var W6v=this;this.reportType=R3v.UPDATE_DATA_PARTIAL;this.cancel();this.setReportState(h3v.START_REPORT);G6v.ignoreSorting&&(this.reportVO.slice.columnSorting={},this.reportVO.slice.rowSorting={});if(G6v.ignoreScroll){var V6v=this.cube_.slice_;this.cube_.setSlice(a3v.data_._structure.Slice.fromObject(e3v.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(V6v);}this.reportVO.connectionInfo.data=v6v;this.cube_.updateData(v6v);this.addDataListeners();a3v.data_.dataprovider_.DataProviderFactory.getDataProvider().reset(!l9f.O8C);this.updateActive=!l9f.F8C;utils.fmSetTimeout(function(){W6v.updateActive=!l9f.O8C;},l9f.m0C);this.cube_.filter();};i3v.prototype.connectTo=function(l6v){this.reportType=R3v.CONNECT_TO;this.cancel();this.setReportState(h3v.START_REPORT);this._setReport(l6v);};i3v.prototype.load=function(p6v){this.reportType=R3v.LOAD;this.cancel();this._load(p6v);};i3v.prototype._load=function(B6v){var X6v=this;this.setReportState(h3v.LOADING_REPORT_FILE);this.reportManager.addEventListener(e3v.report.ReportEvent.REPORT_FILE_LOADED,function(Y6v){return X6v.onReportFileLoaded(Y6v);});this.reportManager.addEventListener(e3v.report.ReportEvent.REPORT_FILE_FAILED,function(){return X6v.onReportFileFailed();});this.reportManager.load(B6v);};i3v.prototype.open=function(){var q6v=this;this.reportType=R3v.OPEN;this.setReportState(h3v.OPENING_REPORT_FILE);this.reportManager.addEventListener(e3v.report.ReportEvent.REPORT_FILE_LOADED,function(u6v){return q6v.onReportFileLoaded(u6v);});this.reportManager.addEventListener(e3v.report.ReportEvent.REPORT_FILE_FAILED,function(){return q6v.onReportFileFailed();});this.reportManager.addEventListener(e3v.report.ReportEvent.REPORT_FILE_CANCELLED,function(){return q6v.onReportFileCancelled();});this.reportManager.open();};i3v.prototype.onReportFileLoaded=function(z6v){a3v.preloader(!l9f.O8C);this.setReportState(h3v.REPORT_FILE_LOADED);this._setReport(z6v.report);};i3v.prototype.onReportFileFailed=function(){a3v.preloader(!l9f.O8C);this.setReportState(h3v.REPORT_FILE_ERROR);this.setReportState(h3v.REPORT_DEFINED);this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.onReportFileCancelled=function(){this.setReportState(h3v.REPORT_FILE_CANCELLED);this.setReportState(h3v.REPORT_DEFINED);this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.dispatchReportChange=function(){this.reportState!=h3v.REPORT_COMPLETE&&this.reportState!=h3v.QUERY_COMPLETE||e3v.JavaScriptHandlers.getInstance().dispatch(new e3v.APIEvent(e3v.JavaScriptHandlers.REPORT_CHANGE));};i3v.prototype._setReport=function(D6v,N6v){void l9f.F8C===N6v&&(N6v=!l9f.O8C);this.reportVO=e3v.report.ReportValueObject.fromObject(D6v);this.reportVO.connectionInfo.isUpdateData=N6v;this.loadLocalization();};i3v.prototype.onReportComplete=function(){this.reportType=R3v.COMPLETE;};i3v.prototype.getReport=function(x6v){void l9f.F8C===x6v&&(x6v={});return A3v.vo.StateValueObject.toReport(this.getCurrentState(x6v));};i3v.prototype.clear=function(){this.cancel();this.reportType=R3v.CLEAR;this.applyEmptyState();this.cube_.cancel();this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.cancel=function(){this.reportManager.cancel();this.removeDataListeners();this.updateActive=!l9f.O8C;a3v.preloader(!l9f.O8C);};i3v.prototype.loadLocalization=function(){var K6v=this;if(l9f.x4C!=this.globalReport.localization&&l9f.C4C!=this.globalReport.localization)this.setReportState(h3v.LOADING_LOCALIZATION),e3v._labels.LabelsManager.getInstance().load(this.globalReport.localization,function(s6v){return K6v.onGlobalLocalizationLoaded(s6v);},!l9f.F8C),this.globalReport.localization=l9f.x4C;else this.onGlobalLocalizationLoaded(!l9f.F8C);};i3v.prototype.onGlobalLocalizationLoaded=function(O6v){var F6v=this;l9f.x4C==this.reportVO.localization||l9f.C4C==this.reportVO.localization?(e3v._labels.LabelsManager.getInstance().reset(),this.onLocalizationLoaded(O6v)):(this.setReportState(h3v.LOADING_LOCALIZATION),e3v._labels.LabelsManager.getInstance().load(this.reportVO.localization,function(M6v){return F6v.onLocalizationLoaded(M6v);}));};i3v.prototype.onLocalizationLoaded=function(b6v){b6v?this.setReportState(h3v.LOCALIZATION_LOADED):this.setReportState(h3v.LOCALIZATION_ERROR);this.loadStructureAndData();};function i3v(){var E3v=J3v.call(this)||this;E3v.cube_=a3v.data_.Cube.getInstance();E3v._globalLocalization=l9f.x4C;E3v.reportType=R3v.UNDEFINED;E3v.reportState=h3v.UNDEFINED;E3v._isReportComplete=!l9f.O8C;E3v._isReportDefined=!l9f.O8C;E3v.updateActive=!l9f.O8C;E3v.connectedToDataSourceHandler=function(){return E3v.onConnectedToDataSource();};E3v.structureLoadedHandler=function(){return E3v.onStructureLoaded();};E3v.dataFileCancelledHandler=function(){return E3v.onDataFileCancelled();};E3v.structureLoadingFailedHandler=function(){return E3v.onStructureLoadingFailed();};E3v.beforeQueryHandler=function(){return E3v.onBeforeQuery();};E3v.queryCompleteHandler=function(){return E3v.onQueryComplete();};E3v.queryErrorHandler=function(){return E3v.onQueryError();};E3v.reportManager=new e3v.report.ReportManager();e3v._options.OptionsManager.getInstance();return E3v;}i3v.prototype.loadStructureAndData=function(){this.reportType!=R3v.CONNECT_TO&&this.reportType!=R3v.OPEN&&(this.applyEmptyState(),e3v._options.OptionsManager.setOptions(this.reportVO.options),e3v._options.OptionsManager.configuratorOpened=e3v._options.OptionsManager.configuratorActive);var j6v=this.reportType;this.setReportState(h3v.REPORT_DEFINED);j6v==this.reportType&&(j6v=this.reportVO.connectionInfo,!utils.nullOrUndefined(this.connectionInfo_)&&!this.connectionInfo_.isEmpty&&this.connectionInfo_.isEqual(j6v)&&this.cube_.connectionInfo_&&this.cube_.structure_&&this.cube_.structure_.isComplete?(a3v.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.rebaseConnection()):(j6v.isEmpty&&this._globalConnectionInfo&&!this._globalConnectionInfo.isEmpty&&(j6v=this._globalConnectionInfo),j6v.isEmpty?(this.connectionInfo_=j6v,this.cube_.cancel(),this.setReportState(h3v.REPORT_COMPLETE),a3v.preloader(!l9f.O8C)):(j6v.isInlineData||this.setReportState(h3v.LOADING_DATA),a3v.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.connect(j6v))));};i3v.prototype.onConnectedToDataSource=function(g6v){this.reportType==R3v.CONNECT_TO&&(this.applyEmptyState(),this.cube_.slice_&&this.cube_.slice_.clear(),this.cube_.structure_&&this.cube_.structure_.clear());this.setReportState(h3v.CONNECTED_TO_DATA_SOURCE);this.connectionInfo_=this.reportVO.connectionInfo;};i3v.prototype.onStructureLoaded=function(o6v){o6v=a3v.data_._structure.Slice.fromObject(this.reportVO.slice,this.cube_.structure_);this.applyReport();this.cube_.setSlice(o6v);this.setReportState(h3v.DATA_LOADED);this.cube_.filter();};i3v.prototype.onDataFileCancelled=function(){this.setReportState(h3v.DATA_FILE_CANCELLED);this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.onStructureLoadingFailed=function(){e3v._options.OptionsManager.setOptions(this.reportVO.options);this.cube_.cancel();a3v.preloader(!l9f.O8C);this.setReportState(h3v.DATA_ERROR);this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.onBeforeQuery=function(){this.setReportState(h3v.RUNNING_QUERY);};i3v.prototype.onQueryComplete=function(){this.setReportState(h3v.QUERY_COMPLETE);this.reportState!=h3v.REPORT_COMPLETE&&this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.onQueryError=function(){this.setReportState(h3v.QUERY_ERROR);this.reportState!=h3v.REPORT_COMPLETE&&this.setReportState(h3v.REPORT_COMPLETE);};i3v.prototype.addDataListeners=function(){var n6v=this;this.cube_.addEventListener(a3v.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.addEventListener(a3v.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.addEventListener(a3v.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.addEventListener(a3v.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.addEventListener(a3v.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(a3v.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.addEventListener(a3v.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);this.cube_.addEventListener(h3v.REPORT_CHANGED,function(){return n6v.dispatchReportChange();});};i3v.prototype.removeDataListeners=function(){this.cube_.removeEventListener(a3v.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(a3v.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);};i3v.prototype.save=function(t6v,L6v,a6v,e6v,c6v){void l9f.F8C===c6v&&(c6v=!l9f.O8C);return this.reportManager.save(t6v,L6v,a6v,e6v,c6v,this.getReport(t6v instanceof Object?t6v:{}));};i3v.prototype.getCurrentState=function(R6v){var V8x="withGlobals";var W8x="withDefaults";var A6v=R6v.hasOwnProperty(W8x)?!l9f.F8C==R6v.withDefaults:!l9f.O8C;R6v=R6v.hasOwnProperty(V8x)?!l9f.F8C==R6v.withGlobals:!l9f.O8C;var h6v=new A3v.vo.StateValueObject();h6v.withDefaults=A6v;h6v.withGlobals=R6v;h6v._connectionInfo=R6v&&this._connectionInfo.isEmpty&&!this._globalConnectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;h6v._structure=this.cube_.structure_;h6v._slice=this.cube_.slice_;h6v._options=e3v._options.OptionsManager.getOptions(A6v,R6v);h6v.formats=e3v.format.FormatManager.getAllFormats();h6v.conditions=e3v.condition.ConditionManager.conditions;h6v.customFields=e3v.report.CustomFieldsManager.customFields;h6v.rowSizes=e3v.sizes.SizesManager.rowSizesNamed;h6v.columnSizes=e3v.sizes.SizesManager.columnSizesNamed;h6v.startTableRow=e3v.sizes.SizesManager.startTableRow;h6v.rowHeaderSizes=e3v.sizes.SizesManager.rowHeaderSizes;h6v.columnHeaderSizes=e3v.sizes.SizesManager.columnHeaderSizes;h6v.rowFilterSizes=e3v.sizes.SizesManager.rowFilterSizes;h6v.expandedRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(a3v.data_.consts.AxisName.ROWS_AXIS).expandedTuplesBasedOnUniqueNames:[];h6v.expandedColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(a3v.data_.consts.AxisName.COLUMNS_AXIS).expandedTuplesBasedOnUniqueNames:[];h6v.drilledRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(a3v.data_.consts.AxisName.ROWS_AXIS).drilledTuplesBasedOnUniqueNames:[];h6v.drilledColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(a3v.data_.consts.AxisName.COLUMNS_AXIS).drilledTuplesBasedOnUniqueNames:[];this.reportVO&&(h6v.localization=R6v&&l9f.x4C==this.reportVO.localization&&l9f.x4C!=this._globalLocalization?this._globalLocalization:this.reportVO.localization);return h6v;};i3v.prototype.spreadGlobal=function(Q6v){this._globalConnectionInfo=Q6v.connectionInfo;e3v._options.OptionsManager.setGlobalOptions(Q6v.options);this._globalLocalization=Q6v.localization;};i3v.prototype.applyEmptyState=function(){a3v.data_.dataprovider_.DataProviderFactory.dispose();e3v.sizes.SizesManager.clear();e3v.condition.ConditionManager.removeAll();e3v.format.FormatManager.clear();e3v.report.CustomFieldsManager.customFields=[];e3v._options.OptionsManager.clear();};i3v.prototype.applyReport=function(){e3v._options.OptionsManager.setOptions(this.reportVO.options);e3v.sizes.SizesManager.clear();e3v.sizes.SizesManager.applySizes(this.reportVO.rowSizes,this.reportVO.columnSizes,this.reportVO.rowSizesByIdx,this.reportVO.columnSizesByIdx,this.reportVO.rowHeaderSizes,this.reportVO.columnHeaderSizes,this.reportVO.rowFilterSizes);var k6v;e3v.condition.ConditionManager.removeAll();for(k6v=l9f.F8C;k6v<this.reportVO.conditions.length;k6v++){var f6v=e3v.condition.vo.ConditionValueObject.fromObject(this.reportVO.conditions[k6v]);e3v.condition.ConditionManager.add(f6v);}e3v.format.FormatManager.clear();for(k6v=l9f.F8C;k6v<this.reportVO.formats.length;k6v++)e3v.format.FormatManager.setFormat(this.reportVO.formats[k6v]);e3v.report.CustomFieldsManager.customFields=this.reportVO.customFields;};i3v.prototype.dispose=function(){this.cancel();e3v.condition.ConditionManager.dispose();e3v._options.OptionsManager.dispose();e3v.printing.PrintingManager.dispose();e3v.integration.IntegrationDataManager.dispose();e3v._labels.LabelsManager.dispose();e3v.sizes.SizesManager.dispose();e3v.format.FormatManager.dispose();e3v.report.CustomFieldsManager.customFields=[];this._connectionInfo=this.reportManager=l9f.x4C;this.globalReport={};this.cube_=this.reportVO=this.globalReportVO=l9f.x4C;};return i3v;}(events.EventDispatcher);A3v.StateManager=Q3v;}(e3v._state||(e3v._state={})));}(a3v.model||(a3v.model={})));}(pivot||(pivot={})));(function(J6v){var i6v=function(){var s8x='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';var K8x='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="{0}"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="A1" sqref="A1"/></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" defaultColWidth="15" x14ac:dyDescent="0.25"/><cols>{1}</cols><sheetData>{2}</sheetData>{3}<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>';var x8x='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="5" uniqueCount="5">{0}</sst>';var D8x='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">{0}<fonts count="{1}" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>{2}</fonts><fills count="{3}">{4}</fills><borders count="2"><border><left/><right/><top/><bottom/><diagonal/></border><border><left style="thin"><color theme="0" tint="-0.14996795556505021"/></left><right style="thin"><color theme="0" tint="-0.14996795556505021"/></right><top style="thin"><color theme="0" tint="-0.14996795556505021"/></top><bottom style="thin"><color theme="0" tint="-0.14996795556505021"/></bottom><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="{5}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>{6}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext></extLst></styleSheet>';var N8x='<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>';var z8x='<Relationship Id="{0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="{1}"/>';var u8x='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/>{0}</Relationships>';var q8x='<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9302"/><workbookPr defaultThemeVersion="124226"/><bookViews><workbookView xWindow="360" yWindow="210" windowWidth="16860" windowHeight="9150"/></bookViews><sheets>{0}</sheets><calcPr calcId="144525"/></workbook>';var Y8x='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>EC2</dc:creator><cp:lastModifiedBy>EC2</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2010-12-22T15:19:38Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2010-12-22T15:20:08Z</dcterms:modified></cp:coreProperties>';var B8x='<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>3</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="3" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr><vt:lpstr>Sheet2</vt:lpstr><vt:lpstr>Sheet3</vt:lpstr></vt:vector></TitlesOfParts><Company>Amazon.com</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>';var X8x='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var p8x='<Override PartName="{0}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>';var l8x='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>{0}</Types>';E6v.CONTENT_TYPES_XML=l8x;E6v.CONTENT_TYPES_XML_SHEET=p8x;E6v._RELS=X8x;E6v.APP_XML=B8x;E6v.CORE_XML=Y8x;E6v.WORKBOOK_XML=q8x;E6v.WORKBOOK_XML_RELS=u8x;E6v.WORKBOOK_XML_RELS_SHEET=z8x;E6v.THEME=N8x;E6v.STYLES_XML=D8x;E6v.SHARED_STRING_XML=x8x;E6v.SHEET_XML=K8x;function E6v(){}E6v.XML_HEADER=s8x;return E6v;}();J6v.XLSTemplates=i6v;}(xls||(xls={})));(function(H6v){(function(Z6v){var y6v=function(S6v){var O8x="Measures";__extends(d6v,S6v);d6v.getInstance=function(){void U9VV.F8C==d6v.instance&&(d6v.instance=new d6v());return d6v.instance;};function d6v(){var I6v=S6v.call(this)||this;I6v.queryType=Z6v.consts.QueryType.SELECT;if(U9VV.x4C!=d6v.instance)throw Error(v9VV.D5C);return I6v;}d6v.prototype.setSlice=function(T6v){var F8x="slice_changed";T6v.isEmpty&&H6v.model._options.OptionsManager.showDefaultSlice&&T6v.makeDefault();T6v&&!T6v.isEqual(this.slice_)&&this.dispatchWith(F8x);this.slice_=T6v;};d6v.prototype.rebaseConnection=function(){this.structure_&&(this.structure_.isComplete=!U9VV.O8C,this.removeAllCalculatedMeasures());for(var w6v=this.structure_.allHierarchies(!U9VV.O8C),m6v=U9VV.F8C;m6v<w6v.length;m6v++){var r6v=w6v.getItemAt(m6v);r6v.clearFilter();r6v.clearSort(H6v.model._options.OptionsManager.flatView);}this.slice_&&this.slice_.clear();this.dispatchStructureLoaded();};d6v.prototype.connect=function(P6v){var C6v=this;utils.nullOrUndefined(this.__structureLoader)||this.__structureLoader.cancel();this.__structureLoader=Z6v.StructureLoaderFactory.getStructureLoader(P6v);this.__structureLoader.load(P6v,function(){return C6v.dispatchStructureLoaded();},function(){C6v.dispatchWith(Z6v.DataEvent.STRUCTURE_LOADING_FAILED);},function(){C6v.cancel(!U9VV.O8C);C6v.connectionInfo_=P6v;C6v.structureLoader=C6v.__structureLoader;C6v.localDataStorage=new Z6v.LocalDataStorage(C6v);C6v.__structureLoader=U9VV.x4C;C6v.localDataStorage.datePattern=H6v.model._options.OptionsManager.datePattern;C6v.localDataStorage.dateTimePattern=H6v.model._options.OptionsManager.dateTimePattern;U9VV.x4C!=C6v.structure_&&C6v.structure_.clear();C6v.structure_=new Z6v._structure.GenericStructure();C6v.structure_.localDataStorage=C6v.localDataStorage;C6v.dispatchWith(Z6v.DataEvent.STRUCTURE_CONNECTED);},function(){C6v.dispatchWith(Z6v.DataEvent.STRUCTURE_CANCELLED);});};d6v.prototype.dispatchStructureLoaded=function(){this.structure_.isComplete=!U9VV.F8C;this.dispatchWith(Z6v.DataEvent.STRUCTURE_LOADED);};d6v.prototype.cancel=function(U5v){var J7x=U9VV;void J7x.F8C===U5v&&(U5v=!J7x.F8C);utils.ThreadManager.isRunning()&&utils.ThreadManager.cancel();this.structureLoader&&(this.structureLoader.cancel(),this.structureLoader=J7x.x4C);U5v&&this.structure_&&(this.structure_.clear(),this.structure_=J7x.x4C);U5v&&this.slice_&&(this.slice_.clear(),this.slice_=J7x.x4C);U5v&&this.localDataStorage&&(this.localDataStorage.clearAll(),this.localDataStorage=J7x.x4C);};d6v.prototype.dispatchQueryComplete=function(){var v5v=new Z6v.QueryCompleteEvent(this.queryType);this.dispatch(v5v);};d6v.prototype.dispatchQueryError=function(){this.dispatchWith(Z6v.DataEvent.QUERY_ERROR);};d6v.prototype.filter=function(){this.queryType=Z6v.consts.QueryType.FILTER;this.select();};d6v.prototype.clearSortValues=function(G5v){G5v.sortMeasure=U9VV.x4C;G5v.sortTuple=U9VV.x4C;G5v.sortType=Z6v.consts.SortType.UNSORTED;G5v.totalSortType=Z6v.consts.SortType.UNSORTED;G5v.totalSortMeasure=U9VV.x4C;};d6v.prototype.sort=function(){this.dispatchQueryComplete();};d6v.prototype.expand=function(l5v,p5v,W5v,V5v){var H7x=U9VV;void H7x.F8C===W5v&&(W5v=H7x.x4C);void H7x.F8C===V5v&&(V5v=!H7x.F8C);this._tuple=l5v;this._axisName=p5v;this._measure=W5v;this.queryType=Z6v.consts.QueryType.EXPAND;var X5v=new Z6v.BeforeQueryEvent(Z6v.consts.QueryType.EXPAND);this.dispatch(X5v);this.localDataStorage.expand(l5v,p5v,W5v);V5v&&this.dispatchQueryComplete();};d6v.prototype.collapse=function(q5v,u5v,B5v,Y5v){var S8f=U9VV;void S8f.F8C===B5v&&(B5v=S8f.x4C);void S8f.F8C===Y5v&&(Y5v=!S8f.F8C);this.localDataStorage.collapse(q5v,u5v,B5v);this.query=new Z6v.Query();this.queryType=this.query.type=Z6v.consts.QueryType.COLLAPSE;Y5v&&this.dispatchQueryComplete();};d6v.prototype.drillDown=function(D5v,z5v,x5v,N5v){void U9VV.F8C===N5v&&(N5v=U9VV.x4C);this._tuple=D5v;this._axisName=x5v;this._measure=N5v;this._member=z5v;this._levelName=void U9VV.F8C;z5v.hierarchy_.drillDownMember(z5v);this.queryType=Z6v.consts.QueryType.DRILL_DOWN;var K5v=new Z6v.BeforeQueryEvent(Z6v.consts.QueryType.DRILL_DOWN);this.dispatch(K5v);this.localDataStorage.drillDown(D5v,z5v,x5v,N5v);this.dispatchQueryComplete();};d6v.prototype.drillUp=function(s5v,F5v,M5v,O5v){void U9VV.F8C===O5v&&(O5v=U9VV.x4C);F5v.hierarchy_.drillUpMember(F5v);this.localDataStorage.drillUp(s5v,F5v,M5v,O5v);this.query=new Z6v.Query();this.queryType=this.query.type=Z6v.consts.QueryType.DRILL_UP;s5v=new Z6v.BeforeQueryEvent(Z6v.consts.QueryType.DRILL_UP);this.dispatch(s5v);this.dispatchQueryComplete();};d6v.prototype.select=function(){var b5v=new Z6v.BeforeQueryEvent(this.queryType==Z6v.consts.QueryType.FILTER?this.queryType:Z6v.consts.QueryType.SELECT);this.dispatch(b5v);for(b5v=U9VV.F8C;b5v<this.slice_.pages.length;b5v++)this.slice_.pages.getItemAt(b5v).clearValuesFilter();this.structure_.measures_.length>this.localDataStorage.factKeys.length&&this.addCalculatedMeasuresToDataStorage();this.localDataStorage.filter();this.localDataStorage.select();this.dispatchQueryComplete();};d6v.prototype.addCalculatedMeasuresToDataStorage=function(){var w8f=U9VV;for(var j5v=w8f.F8C;j5v<this.structure_.measures_.length;j5v++){var g5v=this.structure_.measures_.getItemAt(j5v);if(g5v.calculated){for(var n5v=!w8f.F8C,o5v=w8f.F8C;o5v<this.localDataStorage.factKeys.length;o5v++)this.localDataStorage.factKeys[o5v].toString()==g5v.uniqueName&&(n5v=!w8f.O8C);n5v&&this.localDataStorage.addFactKey(g5v.uniqueName,g5v.params,g5v.individual);}}this.slice_.axisWithMeasures.sortToSet&&(j5v=this.slice_.axisWithMeasures.sortToSet,(g5v=this.structure_.findMeasure(j5v.measure))&&this.slice_.axisWithMeasures.setSort(g5v,j5v.tuple,j5v.type));};d6v.prototype.addCalculatedMeasure=function(t5v){if(U9VV.x4C==this.structure_.findMeasure(t5v.uniqueName)){if(t5v.calculated){var c5v=new utils.Lexer();t5v.params=c5v.parse(t5v.formula);}t5v.calculated&&U9VV.x4C==t5v.params||(this.structure_.measuresHierarchy&&this.structure_.addMeasure(t5v),t5v.calculated?this.localDataStorage.addFactKey(t5v.uniqueName,t5v.params,t5v.individual):this.localDataStorage.addFactKey(t5v.uniqueName),this.structure_.isComplete&&this.refresh());}else c5v=new utils.Lexer(),t5v.params=c5v.parse(t5v.formula),t5v.calculated&&U9VV.x4C==t5v.params||(this.localDataStorage.updateFactKey(t5v.uniqueName,t5v.params,t5v.individual),c5v=this.structure_.findMeasure(t5v.uniqueName),c5v.caption=t5v.caption,c5v.formula=t5v.formula,c5v.individual=t5v.individual,c5v.params=t5v.params,this.structure_.isComplete&&this.refresh());};d6v.prototype.removeCalculatedMeasure=function(L5v,a5v){void U9VV.F8C===a5v&&(a5v=!U9VV.F8C);var e5v=this.structure_.findMeasure(L5v);e5v&&e5v.calculated&&(this.structure_.removeMeasure(L5v),this.localDataStorage.removeFactKey(L5v),this.slice_.removeMeasure(L5v),a5v&&this.structure_.isComplete&&this.refresh());};d6v.prototype.removeAllCalculatedMeasures=function(){for(var h5v=U9VV.F8C;h5v<this.structure_.measures_.length;){var R5v=this.structure_.measures_.getItemAt(h5v);R5v.calculated?this.removeCalculatedMeasure(R5v.uniqueName,!U9VV.O8C):h5v++;}this.structure_.isComplete&&this.refresh();};d6v.prototype.refresh=function(){this.structure_.isComplete?(this.connectionInfo_.dataSourceType==Z6v.consts.DataSourceType.EMPTY&&utils.nullOrUndefined(this.slice_)&&this.dispatchStructureLoaded(),this.filter()):this.connectionInfo_.dataSourceType==Z6v.consts.DataSourceType.EMPTY&&this.dispatchStructureLoaded();};d6v.prototype.loadMemberChildren=function(Q5v,k5v,f5v){var A5v=this;this.structureLoader.loadMemberChildren(Q5v,k5v,f5v,function(){return A5v.dispatchQueryError();});};d6v.prototype.updateData=function(i5v){this.structureLoader.updateData(i5v);this.dispatchStructureLoaded();};d6v.prototype.dispose=function(){var h0f=U9VV;utils.ThreadManager.dispose();try{this.structure_.clear();}catch(J5v){}this.slice_=this.structure_=h0f.x4C;try{this.localDataStorage.clearAll();}catch(E5v){}this.localDataStorage=h0f.x4C;try{this.structureLoader.cancel();}catch(H5v){}this.structureLoader=h0f.x4C;try{this.__structureLoader.cancel();}catch(Z5v){}this.__structureLoader=h0f.x4C;d6v.instance=h0f.x4C;};d6v.MEASURES_NAME=O8x;return d6v;}(events.EventDispatcher);Z6v.Cube=y6v;}(H6v.data_||(H6v.data_={})));}(pivot||(pivot={})));(function(y5v){var S5v=function(){var L0x=U9VV;var t8x="93973261726688";var b8x="Version 1.0.2";Object.defineProperty(I5v.prototype,W9VV.v8x,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportComplete;},enumerable:!L0x.F8C,configurable:!L0x.F8C});Object.defineProperty(I5v.prototype,W9VV.G8x,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportDefined;},enumerable:!L0x.F8C,configurable:!L0x.F8C});I5v.prototype.runDelayedCalls=function(){var P5v=this;utils.fmSetTimeout(function(){for(;L0x.F8C<P5v.delayedApiCallsOnReportReady.length;)P5v.delayedApiCallsOnReportReady.shift().call(P5v);},L0x.O8C);};I5v.prototype.delayApiCall=function(v7v,U7v){void L0x.F8C===U7v&&(U7v=L0x.O8C);L0x.F8C==U7v?this.delayedApiCallsOnReportDefined.push(v7v):this.delayedApiCallsOnReportReady.push(v7v);};I5v.prototype.onOpeningReportFile=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.OPENING_REPORT_FILE));};I5v.prototype.onLoadingReportFile=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.LOADING_REPORT_FILE));};I5v.prototype.onReportFileLoaded=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.REPORT_FILE_LOADED));};I5v.prototype.onReportFileError=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.REPORT_FILE_ERROR));};I5v.prototype.onReportFileCancelled=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.REPORT_FILE_CANCELLED));};I5v.prototype.onReportDefined=function(){for(this.model_.state_.reportType==y5v.model._state.ReportType.INIT&&utils.fmSetTimeout(function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.READY));},L0x.O8C);L0x.F8C<this.delayedApiCallsOnReportDefined.length;)this.delayedApiCallsOnReportDefined.shift().call(this);};I5v.prototype.onLoadingLocalization=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.LOADING_LOCALIZATION));};I5v.prototype.onLocalizationLoaded=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.LOCALIZATION_LOADED));};I5v.prototype.onLocalizationError=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.LOCALIZATION_ERROR));};I5v.prototype.onLoadingData=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.LOADING_DATA));};I5v.prototype.onDataLoaded=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.DATA_LOADED));};I5v.prototype.onDataFileCancelled=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.DATA_FILE_CANCELLED));};I5v.prototype.onDataError=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.DATA_ERROR));};I5v.prototype.onEmptySlice=function(){};I5v.prototype.onRunningQuery=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.RUNNING_QUERY));};I5v.prototype.onQueryComplete=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.QUERY_COMPLETE));y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.UPDATE));};I5v.prototype.onQueryError=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.QUERY_ERROR));};I5v.prototype.onReportComplete=function(){};I5v.prototype.onBeforeGridDraw=function(G7v){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.BEFORE_GRID_DRAW,G7v.data));};I5v.prototype.onRenderComplete=function(){var W7v=this;this.isReportComplete&&this.model_.state_.reportType!=y5v.model._state.ReportType.COMPLETE&&utils.fmSetTimeout(function(){W7v.runDelayedCalls();W7v.model_.state_.reportType=y5v.model._state.ReportType.COMPLETE;y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.REPORT_COMPLETE));},L0x.O8C);};I5v.prototype.onExportStart=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.EXPORT_START));};I5v.prototype.onExportComplete=function(){utils.fmSetTimeout(function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.EXPORT_COMPLETE));},L0x.O8C);};I5v.prototype.onPrintStart=function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.PRINT_START));};I5v.prototype.onPrintComplete=function(){utils.fmSetTimeout(function(){y5v.model.JavaScriptHandlers.getInstance().dispatch(new y5v.model.APIEvent(y5v.model.JavaScriptHandlers.PRINT_COMPLETE));},L0x.O8C);};I5v.prototype.getAllConditions=function(){return this.isReportComplete?this.model_.getAllConditions():L0x.x4C;};I5v.prototype.getCondition=function(V7v){return this.isReportComplete?this.model_.getCondition(V7v):L0x.x4C;};I5v.prototype.addCondition=function(l7v){var p7v=this;this.isReportComplete?L0x.x4C!=l7v&&this.model_.addCondition(l7v):this.delayApiCall(function(){return p7v.addCondition(l7v);});};I5v.prototype.removeCondition=function(X7v){var B7v=this;this.isReportComplete?this.model_.removeCondition(X7v):this.delayApiCall(function(){return B7v.removeCondition(X7v);});};I5v.prototype.removeAllConditions=function(){var Y7v=this;this.isReportComplete?this.model_.removeAllConditions():this.delayApiCall(function(){return Y7v.removeAllConditions();});};I5v.prototype.open=function(){this.model_.open();};I5v.prototype.load=function(q7v){this.model_.load(q7v);};I5v.prototype.getReport=function(u7v){return this.model_.getReport(u7v).toObject();};I5v.prototype.setReport=function(z7v){if(L0x.K2C==typeof z7v)try{z7v=JSON.parse(z7v);}catch(N7v){y5v.uialert(y5v.model._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT,y5v.model._labels.Labels.ERROR,y5v.AlertType.ERROR);return;}this.model_.setReport({report:z7v});};I5v.prototype.getData=function(D7v,x7v,K7v){var s7v=this;this.isReportComplete?this.model_.getData(D7v,x7v,K7v):this.delayApiCall(function(){return s7v.getData(D7v,x7v,K7v);});};I5v.prototype.save=function(O7v,M7v,b7v,j7v,g7v){var M8x="callbackHandler";var o7v=this;void L0x.F8C===O7v&&(O7v={filename:v9VV.R8B});void L0x.F8C===M7v&&(M7v=L0x.x4C);void L0x.F8C===b7v&&(b7v=L0x.x4C);void L0x.F8C===j7v&&(j7v=L0x.x4C);void L0x.F8C===g7v&&(g7v=!L0x.O8C);var F7v=b7v;this.isReportComplete?(O7v instanceof Object&&O7v.hasOwnProperty(M8x)&&(F7v=O7v.callbackHandler),L0x.x4C!=F7v&&L0x.K2C==typeof F7v&&(F7v=y5v.model.JavaScriptHandlers.getFunctionByName(F7v)),this.model_.save(O7v,M7v,L0x.x4C!=F7v?function(n7v){return F7v(n7v);}:L0x.x4C,j7v,g7v)):this.delayApiCall(function(){return o7v.save(O7v,M7v,b7v,j7v,g7v);});};I5v.prototype.updateData=function(c7v,t7v){var L7v=this;L0x.x4C!=c7v&&(utils.nullOrUndefined(t7v)?t7v={partial:!L0x.O8C}:v9VV.k5C==typeof t7v&&(t7v={partial:t7v}),this.isReportDefined?this.model_.updateData(c7v,t7v):this.delayApiCall(function(){return L7v.updateData(c7v,t7v);},L0x.F8C));};I5v.prototype.connectTo=function(a7v){var e7v=this;L0x.x4C!=a7v&&(this.isReportDefined?this.model_.connectTo(a7v):this.delayApiCall(function(){return e7v.connectTo(a7v);},L0x.F8C));};I5v.prototype.addCalculatedMeasure=function(h7v){var R7v=this;this.isReportComplete?L0x.x4C!=h7v&&this.model_.addCalculatedMeasure(y5v.data_._structure.GenericMeasure.fromObject(h7v)):this.delayApiCall(function(){return R7v.addCalculatedMeasure(h7v);});};I5v.prototype.removeCalculatedMeasure=function(A7v){var Q7v=this;this.isReportComplete?this.model_.removeCalculatedMeasure(A7v):this.delayApiCall(function(){return Q7v.removeCalculatedMeasure(A7v);});};I5v.prototype.removeAllCalculatedMeasures=function(){var k7v=this;this.isReportComplete?this.model_.removeAllCalculatedMeasures():this.delayApiCall(function(){return k7v.removeAllCalculatedMeasures();});};I5v.prototype.clear=function(){var f7v=this;this.isReportComplete?this.model_.clear():this.delayApiCall(function(){return f7v.clear();});};I5v.prototype.dispose=function(){utils.fmdocument.dispose();utils.fmwindow.dispose();utils.Timers.dispose();this.model_.dispose();this.view_.dispose();this.model_=this.view_=L0x.x4C;I5v.instance=L0x.x4C;y5v.model.JavaScriptHandlers.dispose();};I5v.prototype.refresh=function(){var i7v=this;this.isReportComplete?this.view_.draw():this.delayApiCall(function(){return i7v.refresh();});};I5v.prototype.expandAllData=function(J7v){var E7v=this;void L0x.F8C===J7v&&(J7v=!L0x.F8C);this.isReportComplete?this.model_.expandAllData(J7v):this.delayApiCall(function(){return E7v.expandAllData(J7v);});};I5v.prototype.expandData=function(H7v){var Z7v=this;this.isReportComplete?this.model_.expandData(H7v):this.delayApiCall(function(){return Z7v.expandData(H7v);});};I5v.prototype.collapseAllData=function(){var y7v=this;this.isReportComplete?this.model_.collapseAllData():this.delayApiCall(function(){return y7v.collapseAllData();});};I5v.prototype.collapseData=function(d7v){var S7v=this;this.isReportComplete?this.model_.collapseData(d7v):this.delayApiCall(function(){return S7v.collapseData(d7v);});};I5v.prototype.print=function(I7v){var T7v=this;void L0x.F8C===I7v&&(I7v=L0x.x4C);this.isReportComplete?this.model_.print(y5v.model.printing.PrintOptions.fromObject(I7v)):this.delayApiCall(function(){return T7v.print(I7v);});};I5v.prototype.exportTo=function(r7v,w7v,m7v){var C7v=this;void L0x.F8C===w7v&&(w7v=L0x.x4C);void L0x.F8C===m7v&&(m7v=L0x.x4C);if(this.isReportComplete){if(L0x.x4C!=r7v){L0x.x4C!=m7v&&L0x.K2C==typeof m7v&&(m7v=y5v.model.JavaScriptHandlers.getFunctionByName(m7v));var P7v=L0x.x4C!=m7v?function(){for(var v9C=[],U9C=L0x.F8C;U9C<arguments.length;U9C++)v9C[U9C]=arguments[U9C];return m7v.apply(L0x.x4C,v9C);}:L0x.x4C;this.model_.exportTo(r7v,y5v.model._export.ExportOptions.fromObject(w7v),P7v);}}else this.delayApiCall(function(){return C7v.exportTo(r7v,w7v,m7v);});};I5v.prototype.getFilter=function(G9C){return this.isReportComplete?this.model_.getFilter(G9C):L0x.x4C;};I5v.prototype.getFilterProperties=function(W9C){return this.isReportComplete?this.model_.getFilterProperties(W9C):L0x.x4C;};I5v.prototype.setFilter=function(l9C,p9C,V9C){var X9C=this;void L0x.F8C===V9C&&(V9C=!L0x.O8C);this.isReportComplete?this.model_.setFilter(l9C,p9C,V9C):this.delayApiCall(function(){return X9C.setFilter(l9C,p9C,V9C);});};I5v.prototype.clearFilter=function(B9C){var Y9C=this;this.isReportComplete?this.model_.clearFilter(B9C):this.delayApiCall(function(){return Y9C.clearFilter(B9C);});};I5v.prototype.on=function(u9C,q9C){L0x.K2C==typeof q9C&&(q9C=y5v.model.JavaScriptHandlers.getFunctionByName(q9C));y5v.model.JavaScriptHandlers.getInstance().addEventListener(u9C,q9C);};I5v.prototype.off=function(N9C,z9C){L0x.K2C==typeof z9C&&(z9C=y5v.model.JavaScriptHandlers.getFunctionByName(z9C));L0x.x4C==z9C?y5v.model.JavaScriptHandlers.getInstance().removeAllEventListeners(N9C):y5v.model.JavaScriptHandlers.getInstance().removeEventListener(N9C,z9C);};I5v.prototype.getRows=function(){return this.isReportComplete?this.model_.getRows():L0x.x4C;};I5v.prototype.getColumns=function(){return this.isReportComplete?this.model_.getColumns():L0x.x4C;};I5v.prototype.getPages=function(){return this.isReportComplete?this.model_.getPages():L0x.x4C;};I5v.prototype.getMeasures=function(){return this.isReportComplete?this.model_.getMeasures():L0x.x4C;};I5v.prototype.getAllMeasures=function(){return this.isReportComplete?this.model_.getAllMeasures():L0x.x4C;};I5v.prototype.sortValues=function(D9C,x9C,K9C,s9C){var F9C=this;this.isReportComplete?this.model_.sortValues(D9C,x9C,K9C,s9C):this.delayApiCall(function(){return F9C.sortValues(D9C,x9C,K9C,s9C);});};I5v.prototype.setSort=function(O9C,M9C){var b9C=this;this.isReportComplete?this.model_.setSort(O9C,M9C):this.delayApiCall(function(){return b9C.setSort(O9C,M9C);});};I5v.prototype.getSort=function(j9C){return this.isReportComplete?this.model_.getSort(j9C):L0x.x4C;};I5v.prototype.setTopX=function(g9C,o9C,n9C){var t9C=this;this.isReportComplete?this.model_.setTopX(g9C,o9C,n9C):this.delayApiCall(function(){return t9C.setTopX(g9C,o9C,n9C);});};I5v.prototype.setBottomX=function(c9C,L9C,a9C){var e9C=this;this.isReportComplete?this.model_.setBottomX(c9C,L9C,a9C):this.delayApiCall(function(){return e9C.setBottomX(c9C,L9C,a9C);});};I5v.prototype.getOptions=function(){return this.isReportComplete?this.model_.getOptions():L0x.x4C;};I5v.prototype.setOptions=function(h9C){var R9C=this;this.isReportComplete?this.model_.setOptions(h9C):this.delayApiCall(function(){return R9C.setOptions(h9C);});};I5v.prototype.getMembers=function(Q9C,k9C,A9C){var f9C=this;if(this.isReportComplete)return L0x.K2C==typeof A9C&&(A9C=y5v.model.JavaScriptHandlers.getFunctionByName(A9C)),this.model_.getMembers(Q9C,k9C,A9C);this.delayApiCall(function(){return f9C.getMembers(Q9C,k9C,A9C);});};I5v.prototype.runQuery=function(i9C){var J9C=this;this.isReportComplete?L0x.x4C!=i9C&&this.model_.runQuery(i9C):this.delayApiCall(function(){return J9C.runQuery(i9C);});};I5v.prototype.getAllHierarchies=function(){return this.isReportComplete?this.model_.getAllHierarchies():L0x.x4C;};I5v.prototype.replaceHierarchyCaption=function(E9C){var H9C=this;this.isReportComplete?this.model_.replaceHierarchyCaption(E9C):this.delayApiCall(function(){return H9C.replaceHierarchyCaption(E9C);});};I5v.prototype.getFormat=function(Z9C){return this.isReportComplete?this.model_.getFormat(Z9C):L0x.x4C;};I5v.prototype.setFormat=function(y9C,d9C){var S9C=this;this.isReportComplete?L0x.x4C!=y9C&&this.model_.setFormat(y9C,d9C):this.delayApiCall(function(){return S9C.setFormat(y9C,d9C);});};I5v.prototype.getCell=function(I9C,T9C){return this.isReportComplete?this.view_.getCell(I9C,T9C):L0x.x4C;};I5v.prototype.getSelectedCell=function(){return this.isReportComplete?this.view_.getSelectedCell():L0x.x4C;};I5v.prototype.setSelectedCell=function(m9C,w9C){var r9C=this;this.isReportComplete?this.view_.setSelectedCell(m9C,w9C):this.delayApiCall(function(){return r9C.setSelectedCell(m9C,w9C);});};I5v.prototype.removeSelection=function(){var C9C=this;this.isReportComplete?this.view_.removeSelection():this.delayApiCall(function(){return C9C.removeSelection();});};I5v.prototype.openFieldsList=function(){var P9C=this;this.isCreationComplete?this.view_.openFieldsList():this.delayApiCall(function(){return P9C.openFieldsList();});};I5v.prototype.closeFieldsList=function(){var U1C=this;this.isCreationComplete?this.view_.closeFieldsList():this.delayApiCall(function(){return U1C.closeFieldsList();});};I5v.prototype.customizeCell=function(v1C){y5v._view.grid.vo.GridCell.customizeCellFunction=v1C;this.isCreationComplete&&this.refresh();};I5v.BUILD_VERSION=b8x;function I5v(m5v,r5v){var n8x="WebDataRocks Reporting Component:\nUnable to create the component. DOM element is null.";var o8x="' is not found.";var g8x="WebDataRocks Reporting Component:\nUnable to create the component. DOM element with id '";var j8x="WebDataRocks Reporting Component is not completely supported by this version of browser. Please update your browser. Continue anyway?";var T5v=this;this.isCreationComplete=!L0x.O8C;this.api=L0x.x4C;this.delayedApiCallsOnReportDefined=[];this.delayedApiCallsOnReportReady=[];L0x.x4C!=I5v.instance&&I5v.instance.dispose();I5v.instance=this;this.api=r5v;utils.nullOrUndefined(m5v)&&(m5v={});if(!L0x.O8C!=utils.isHTML5Supported()||!L0x.O8C!=confirm(j8x)){var w5v;m5v.container instanceof HTMLElement?w5v=m5v.container:utils.nullOrUndefined(m5v.container)||(w5v=v9VV.R7C==m5v.container.substr(L0x.F8C,L0x.O8C)?m5v.container.substring(L0x.O8C):m5v.container,w5v=document.getElementById(w5v));L0x.x4C==w5v?(w5v=!L0x.O8C==utils.nullOrEmpty(m5v.container)?g8x+m5v.container+o8x:n8x,console.error(w5v),alert(w5v)):(this.model_=y5v.model.PivotModel.getInstance(),this.model_.state_.addEventListener(y5v.model._state.StateEvent.OPENING_REPORT_FILE,function(){return T5v.onOpeningReportFile();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.LOADING_REPORT_FILE,function(){return T5v.onLoadingReportFile();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.REPORT_FILE_LOADED,function(){return T5v.onReportFileLoaded();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.REPORT_FILE_ERROR,function(){return T5v.onReportFileError();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.REPORT_FILE_CANCELLED,function(){return T5v.onReportFileCancelled();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.REPORT_DEFINED,function(){return T5v.onReportDefined();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.LOADING_DATA,function(){return T5v.onLoadingData();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.DATA_LOADED,function(){return T5v.onDataLoaded();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.DATA_ERROR,function(){return T5v.onDataError();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.DATA_FILE_CANCELLED,function(){return T5v.onDataFileCancelled();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.LOADING_LOCALIZATION,function(){return T5v.onLoadingLocalization();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.LOCALIZATION_LOADED,function(){return T5v.onLocalizationLoaded();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.LOCALIZATION_ERROR,function(){return T5v.onLocalizationError();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.EMPTY_SLICE,function(){return T5v.onEmptySlice();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.RUNNING_QUERY,function(){return T5v.onRunningQuery();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.QUERY_COMPLETE,function(){return T5v.onQueryComplete();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.QUERY_ERROR,function(){return T5v.onQueryError();}),this.model_.state_.addEventListener(y5v.model._state.StateEvent.REPORT_COMPLETE,function(){return T5v.onReportComplete();}),this.model_.addEventListener(d5v.EXPORT,function(){return T5v.onExportStart();}),this.model_.addEventListener(d5v.EXPORT_COMPLETE,function(){return T5v.onExportComplete();}),this.model_.addEventListener(d5v.PRINT,function(){return T5v.onPrintStart();}),this.model_.addEventListener(d5v.PRINT_COMPLETE,function(){return T5v.onPrintComplete();}),this.view_=new y5v._view.PivotView(uicontrols.UIElement.convert(w5v),m5v),this.view_.addEventListener(y5v._view.ViewEvent.BEFORE_GRID_DRAW,function(C5v){return T5v.onBeforeGridDraw(C5v);}),this.view_.addEventListener(y5v._view.ViewEvent.RENDER_COMPLETE,function(){return T5v.onRenderComplete();}),this.model_.init(m5v),this.isCreationComplete=!L0x.F8C);}}I5v.BUILD_DATE=t8x;return I5v;}();y5v.Pivot=S5v;var d5v=function(){var c8x="print";G1C.PRINT=c8x;G1C.PRINT_COMPLETE=v9VV.W8Q;G1C.EXPORT=v9VV.M1B;G1C.EXPORT_COMPLETE=v9VV.v8Q;function G1C(){}return G1C;}();y5v.PivotEvent=d5v;}(pivot||(pivot={})));this.PivotApi=PivotApi;return this["PivotApi"](p)};
/** @license FileSaver.js | Copyright (c) 2016 Eli Grey [https://github.com/eligrey/FileSaver.js] | MIT License [https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md] */
var savingAs=savingAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var k=a.document,n=k.createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in n,x=function(c){var e=k.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(e)},q=a.webkitRequestFileSystem,u=a.requestFileSystem||q||a.mozRequestFileSystem,
y=function(c){(a.setImmediate||a.setTimeout)(function(){throw c;},0)},r=0,s=function(c){var e=function(){"string"===typeof c?(a.URL||a.webkitURL||a).revokeObjectURL(c):c.remove()};a.chrome?e():setTimeout(e,500)},t=function(c,a,d){a=[].concat(a);for(var b=a.length;b--;){var l=c["on"+a[b]];if("function"===typeof l)try{l.call(c,d||c)}catch(f){y(f)}}},m=function(c,e){var d=this,b=c.type,l=!1,f,p,k=function(){t(d,["writestart","progress","write","writeend"])},g=function(){if(l||!f)f=(a.URL||a.webkitURL||
a).createObjectURL(c);p?p.location.href=f:void 0==a.open(f,"_blank")&&"undefined"!==typeof safari&&(a.location.href=f);d.readyState=d.DONE;k();s(f)},h=function(a){return function(){if(d.readyState!==d.DONE)return a.apply(this,arguments)}},m={create:!0,exclusive:!1},v;d.readyState=d.INIT;e||(e="download");if(w)f=(a.URL||a.webkitURL||a).createObjectURL(c),n.href=f,n.download=e,x(n),d.readyState=d.DONE,k(),s(f);else{a.chrome&&b&&"application/octet-stream"!==b&&(v=c.slice||c.webkitSlice,c=v.call(c,0,
c.size,"application/octet-stream"),l=!0);q&&"download"!==e&&(e+=".download");if("application/octet-stream"===b||q)p=a;u?(r+=c.size,u(a.TEMPORARY,r,h(function(a){a.root.getDirectory("saved",m,h(function(a){var b=function(){a.getFile(e,m,h(function(a){a.createWriter(h(function(b){b.onwriteend=function(b){p.location.href=a.toURL();d.readyState=d.DONE;t(d,"writeend",b);s(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&g()};["writestart","progress","write","abort"].forEach(function(a){b["on"+
a]=d["on"+a]});b.write(c);d.abort=function(){b.abort();d.readyState=d.DONE};d.readyState=d.WRITING}),g)}),g)};a.getFile(e,{create:!1},h(function(a){a.remove();b()}),h(function(a){a.code===a.NOT_FOUND_ERR?b():g()}))}),g)}),g)):g()}},b=m.prototype;b.abort=function(){this.readyState=this.DONE;t(this,"abort")};b.readyState=b.INIT=0;b.WRITING=1;b.DONE=2;b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null;return function(a,b){return new m(a,b)}}}("undefined"!==typeof self&&
self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&null!==module?module.exports=savingAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define("savingAs",function(){return savingAs});
/** @license jsPDF v1.4.1 | Copyright (c) 2010-2016 James Hall <james@parall.ax> [https://github.com/MrRio/jsPDF] | MIT License [https://github.com/MrRio/jsPDF/blob/master/MIT-LICENSE.txt] */
var u4b={'T4':256,'f4':"helvetica",'K3':' 0 R','P4':"http://www.w3.org/1999/xhtml",'C3':"function",'r4':'endobj','e4':"italic",'N4':'object','X3':'>>','d4':'function','B4':'number','L4':"bold",'G4':0.264583,'L3':'putXobjectDict','U3':'undefined','A3':'postPutResources','M3':" ",'p3':"undefined",'E4':'putResources','K4':false,'u3':"times",'F3':'addPage','U4':255,'n4':"string",'q3':'Unicode','V3':'string','w4':"normal",'A4':'right','H4':"courier",'p4':null,'q4':true,'D4':' ','I3':"application/octet-stream"};var jsPDF=(function(r1){'use strict';var p2='1.3',s2={'a0':[2383.94,3370.39],'a1':[1683.78,2383.94],'a2':[1190.55,1683.78],'a3':[841.89,1190.55],'a4':[595.28,841.89],'a5':[419.53,595.28],'a6':[297.64,419.53],'a7':[209.76,297.64],'a8':[147.40,209.76],'a9':[104.88,147.40],'a10':[73.70,104.88],'b0':[2834.65,4008.19],'b1':[2004.09,2834.65],'b2':[1417.32,2004.09],'b3':[1000.63,1417.32],'b4':[708.66,1000.63],'b5':[498.90,708.66],'b6':[354.33,498.90],'b7':[249.45,354.33],'b8':[175.75,249.45],'b9':[124.72,175.75],'b10':[87.87,124.72],'c0':[2599.37,3676.54],'c1':[1836.85,2599.37],'c2':[1298.27,1836.85],'c3':[918.43,1298.27],'c4':[649.13,918.43],'c5':[459.21,649.13],'c6':[323.15,459.21],'c7':[229.61,323.15],'c8':[161.57,229.61],'c9':[113.39,161.57],'c10':[79.37,113.39],'dl':[311.81,623.62],'letter':[612,792],'government-letter':[576,756],'legal':[612,1008],'junior-legal':[576,360],'ledger':[1224,792],'tabloid':[792,1224],'credit-card':[153,243]};function k2(s){var t={};this.subscribe=function(g,j,m){if(typeof j!==u4b.d4){return u4b.K4;}if(!t.hasOwnProperty(g)){t[g]={};}var n=Math.random().toString(35);t[g][n]=[j,!!m];return n;};this.unsubscribe=function(g){for(var j in t){if(t[j][g]){delete  t[j][g];return u4b.q4;}}return u4b.K4;};this.publish=function(j){if(t.hasOwnProperty(j)){var m=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[j]){var q=t[j][o];try{q[0].apply(s,m);}catch(g){if(r1.console){console.error('jsPDF PubSub Error',g.message,g);}}if(q[1])n.push(o);}if(n.length)n.forEach(this.unsubscribe);}};}function w1(U,Y,W,Q){var s0="' is not recognized. See or extend .CapJoinStyles property for valid styles",k0={};if(typeof U===u4b.N4){k0=U;U=k0.orientation;Y=k0.unit||Y;W=k0.format||W;Q=k0.compress||k0.compressPdf||Q;}Y=Y||'mm';W=W||'a4';U=(''+(U||'P')).toLowerCase();var m0=(''+W).toLowerCase(),j0=!!Q&&typeof Uint8Array===u4b.d4,e0=k0.textColor||'0 g',R=k0.drawColor||'0 G',S=k0.fontSize||16,y0=k0.lineHeight||1.15,f0=k0.lineWidth||0.200025,v0=2,z0=!1,C0=[],Z={},I0={},w0,l0,U0,O0=0,D0,N0=[],t1={},x1=[],W0=0,q1=0,Q0=0,f1,F0,E1,o1,u1,X0={'title':'','subject':'','author':'','keywords':'','creator':''},B0={},i1=new k2(B0),q0=function(g){return g.toFixed(2);},K0=function(g){return g.toFixed(3);},H0=function(g){return ('0'+parseInt(g)).slice(-2);},g0=function(g){if(z0){N0[D0].push(g);}else{Q0+=g.length+1;x1.push(g);}},v1=function(){v0++;C0[v0]=Q0;g0(v0+' 0 obj');return v0;},H1=function(g){g0('stream');g0(g);g0('endstream');},W1=function(){var g,j,m,n,o,q,s,t,v;s=r1.adler32cs||w1.adler32cs;if(j0&&typeof s===u4b.U3){j0=u4b.K4;}for(g=1;g<=O0;g++){v1();t=(f1=t1[g].width)*l0;v=(F0=t1[g].height)*l0;g0('<</Type /Page');g0('/Parent 1 0 R');g0('/Resources 2 0 R');g0('/MediaBox [0 0 '+q0(t)+u4b.D4+q0(v)+']');g0('/Contents '+(v0+1)+' 0 R>>');g0(u4b.r4);j=N0[g].join('\n');v1();if(j0){m=[];n=j.length;while(n--){m[n]=j.charCodeAt(n);}q=s.from(j);o=new Deflater(6);o.append(new Uint8Array(m));j=o.flush();m=new Uint8Array(j.length+6);m.set(new Uint8Array([120,156])),m.set(j,2);m.set(new Uint8Array([q&0xFF,(q>>8)&0xFF,(q>>16)&0xFF,(q>>24)&0xFF]),j.length+2);j=String.fromCharCode.apply(u4b.p4,m);g0('<</Length '+j.length+' /Filter [/FlateDecode]>>');}else{g0('<</Length '+j.length+'>>');}H1(j);g0(u4b.r4);}C0[1]=Q0;g0('1 0 obj');g0('<</Type /Pages');var H='/Kids [';for(n=0;n<O0;n++){H+=(3+2*n)+' 0 R ';}g0(H+']');g0('/Count '+O0);g0(u4b.X3);g0(u4b.r4);},X1=function(g){g.objectNumber=v1();g0('<</BaseFont/'+g.PostScriptName+'/Type/Font');if(typeof g.encoding===u4b.V3){g0('/Encoding/'+g.encoding);}g0('/Subtype/Type1>>');g0(u4b.r4);},h1=function(){for(var g in Z){if(Z.hasOwnProperty(g)){X1(Z[g]);}}},I1=function(){i1.publish(u4b.L3);},Y1=function(){g0('/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]');g0('/Font <<');for(var g in Z){if(Z.hasOwnProperty(g)){g0('/'+g+u4b.D4+Z[g].objectNumber+u4b.K3);}}g0(u4b.X3);g0('/XObject <<');I1();g0(u4b.X3);},l1=function(){h1();i1.publish(u4b.E4);C0[2]=Q0;g0('2 0 obj');g0('<<');Y1();g0(u4b.X3);g0(u4b.r4);i1.publish(u4b.A3);},y1=function(g,j,m){if(!I0.hasOwnProperty(j)){I0[j]={};}I0[j][m]=g;},z2=function(g,j,m,n){var o='F'+(Object.keys(Z).length+1).toString(10),q=Z[o]={'id':o,'PostScriptName':g,'fontName':j,'fontStyle':m,'encoding':n,'metadata':{}};y1(o,j,m);i1.publish('addFont',q);return o;},U2=function(){var g=u4b.f4,j=u4b.u3,m=u4b.H4,n=u4b.w4,o=u4b.L4,q=u4b.e4,s="bolditalic",t='StandardEncoding',v=[['Helvetica',g,n],['Helvetica-Bold',g,o],['Helvetica-Oblique',g,q],['Helvetica-BoldOblique',g,s],['Courier',m,n],['Courier-Bold',m,o],['Courier-Oblique',m,q],['Courier-BoldOblique',m,s],['Times-Roman',j,n],['Times-Bold',j,o],['Times-Italic',j,q],['Times-BoldItalic',j,s]];for(var H=0,z=v.length;H<z;H++){var I=z2(v[H][0],v[H][1],v[H][2],t),K=v[H][0].split('-');y1(I,K[0],K[1]||'');}i1.publish('addFonts',{fonts:Z,dictionary:I0});},w2=function j3(n){n.foo=function o(){try{return n.apply(this,arguments);}catch(g){var j=g.stack||'';if(~j.indexOf(' at '))j=j.split(" at ")[1];var m="Error in function "+j.split("\n")[0].split('<')[0]+": "+g.message;if(r1.console){r1.console.error(m,g);if(r1.alert)alert(m);}else{throw  new Error(m);}}};n.foo.bar=n;return n.foo;},Z1=function(g,j){var m,n,o,q,s,t,v,H,z;j=j||{};o=j.sourceEncoding||u4b.q3;s=j.outputEncoding;if((j.autoencode||s)&&Z[w0].metadata&&Z[w0].metadata[o]&&Z[w0].metadata[o].encoding){q=Z[w0].metadata[o].encoding;if(!s&&Z[w0].encoding){s=Z[w0].encoding;}if(!s&&q.codePages){s=q.codePages[0];}if(typeof s===u4b.V3){s=q[s];}if(s){v=u4b.K4;t=[];for(m=0,n=g.length;m<n;m++){H=s[g.charCodeAt(m)];if(H){t.push(String.fromCharCode(H));}else{t.push(g[m]);}if(t[m].charCodeAt(0)>>8){v=u4b.q4;}}g=t.join('');}}m=g.length;while(v===undefined&&m!==0){if(g.charCodeAt(m-1)>>8){v=u4b.q4;}m--;}if(!v){return g;}t=j.noBOM?[]:[254,u4b.U4];for(m=0,n=g.length;m<n;m++){H=g.charCodeAt(m);z=H>>8;if(z>>8){throw  new Error("Character at position "+m+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");}t.push(z);t.push(H-(z<<8));}return String.fromCharCode.apply(undefined,t);},f2=function(g,j){return Z1(g,j).replace(/\\/g,'\\\\').replace(/\(/g,'\\(').replace(/\)/g,'\\)');},B2=function(){g0('/Producer (jsPDF '+w1.version+')');for(var g in X0){if(X0.hasOwnProperty(g)&&X0[g]){g0('/'+g.substr(0,1).toUpperCase()+g.substr(1)+' ('+f2(X0[g])+')');}}var j=new Date(),m=j.getTimezoneOffset(),n=m<0?'+':'-',o=Math.floor(Math.abs(m/60)),q=Math.abs(m%60),s=[n,H0(o),"'",H0(q),"'"].join('');g0(['/CreationDate (D:',j.getFullYear(),H0(j.getMonth()+1),H0(j.getDate()),H0(j.getHours()),H0(j.getMinutes()),H0(j.getSeconds()),s,')'].join(''));},X2=function(){g0('/Type /Catalog');g0('/Pages 1 0 R');if(!o1)o1='fullwidth';switch(o1){case 'fullwidth':g0('/OpenAction [3 0 R /FitH null]');break;case 'fullheight':g0('/OpenAction [3 0 R /FitV null]');break;case 'fullpage':g0('/OpenAction [3 0 R /Fit]');break;case 'original':g0('/OpenAction [3 0 R /XYZ null null 1]');break;default:var g=''+o1;if(g.substr(g.length-1)==='%')o1=parseInt(o1)/100;if(typeof o1===u4b.B4){g0('/OpenAction [3 0 R /XYZ null null '+q0(o1)+']');}}if(!u1)u1='continuous';switch(u1){case 'continuous':g0('/PageLayout /OneColumn');break;case 'single':g0('/PageLayout /SinglePage');break;case 'two':case 'twoleft':g0('/PageLayout /TwoColumnLeft');break;case 'tworight':g0('/PageLayout /TwoColumnRight');break;}if(E1){g0('/PageMode /'+E1);}i1.publish('putCatalog');},A2=function(){g0('/Size '+(v0+1));g0('/Root '+v0+u4b.K3);g0('/Info '+(v0-1)+u4b.K3);},V2=function(g,j){var m=typeof j===u4b.V3&&j.toLowerCase();if(typeof g===u4b.V3){var n=g.toLowerCase();if(s2.hasOwnProperty(n)){g=s2[n][0]/l0;j=s2[n][1]/l0;}}if(Array.isArray(g)){j=g[1];g=g[0];}if(m){switch(m.substr(0,1)){case 'l':if(j>g)m='s';break;case 'p':if(g>j)m='s';break;}if(m==='s'){U0=g;g=j;j=U0;}}z0=u4b.q4;N0[++O0]=[];t1[O0]={width:Number(g)||f1,height:Number(j)||F0};g2(O0);},M1=function(){V2.apply(this,arguments);g0(q0(f0*l0)+' w');g0(R);if(W0!==0){g0(W0+' J');}if(q1!==0){g0(q1+' j');}i1.publish(u4b.F3,{pageNumber:O0});},g2=function(g){if(g>0&&g<=O0){D0=g;f1=t1[g].width;F0=t1[g].height;}},r2=function(j,m){var n;j=j!==undefined?j:Z[w0].fontName;m=m!==undefined?m:Z[w0].fontStyle;try{n=I0[j][m];}catch(g){}if(!n){throw  new Error("Unable to look up font label for font '"+j+"', '"+m+"'. Refer to getFontList() for available fonts.");}return n;},h2=function(){z0=u4b.K4;v0=2;x1=[];C0=[];g0('%PDF-'+p2);W1();l1();v1();g0('<<');B2();g0(u4b.X3);g0(u4b.r4);v1();g0('<<');X2();g0(u4b.X3);g0(u4b.r4);var g=Q0,j,m="0000000000";g0('xref');g0('0 '+(v0+1));g0(m+' 65535 f ');for(j=1;j<=v0;j++){g0((m+C0[j]).slice(-10)+' 00000 n ');}g0('trailer');g0('<<');A2();g0(u4b.X3);g0('startxref');g0(g);g0('%%EOF');z0=u4b.q4;return x1.join('\n');},d2=function(g){var j='S';if(g==='F'){j='f';}else if(g==='FD'||g==='DF'){j='B';}else if(g==='f'||g==='f*'||g==='B'||g==='B*'){j=g;}return j;},D2=function(){var g=h2(),j=g.length,m=new ArrayBuffer(j),n=new Uint8Array(m);while(j--)n[j]=g.charCodeAt(j);return m;},o2=function(){return new Blob([D2()],{type:"application/pdf"});},Y2=w2(function(g,j){var m='dataurlnewwindow',n=(''+g).substr(0,6)==='dataur'?'data:application/pdf;base64,'+btoa(h2()):0;switch(g){case undefined:return h2();case 'save':if(navigator.getUserMedia){if(r1.URL===undefined||r1.URL.createObjectURL===undefined){return B0.output(m);}}saveAs(o2(),j);if(typeof saveAs.unload===u4b.d4){if(r1.setTimeout){setTimeout(saveAs.unload,911);}}break;case 'arraybuffer':return D2();case 'blob':return o2();case 'bloburi':case 'bloburl':return r1.URL&&r1.URL.createObjectURL(o2())||void 0;case 'datauristring':case 'dataurlstring':return n;case m:var o=r1.open(n);if(o||typeof safari===u4b.p3)return o;case 'datauri':case 'dataurl':return r1.document.location.href=n;default:throw  new Error('Output type "'+g+'" is not supported.');}});switch(Y){case 'pt':l0=1;break;case 'mm':l0=72/25.4;break;case 'cm':l0=72/2.54;break;case 'in':l0=72;break;case 'px':l0=96/72;break;case 'pc':l0=12;break;case 'em':l0=12;break;case 'ex':l0=6;break;default:throw ('Invalid unit: '+Y);}B0.internal={'pdfEscape':f2,'getStyle':d2,'getFont':function(){return Z[r2.apply(B0,arguments)];},'getFontSize':function(){return S;},'getLineHeight':function(){return S*y0;},'write':function(g){g0(arguments.length===1?g:Array.prototype.join.call(arguments,' '));},'getCoordinateString':function(g){return q0(g*l0);},'getVerticalCoordinateString':function(g){return q0((F0-g)*l0);},'collections':{},'newObject':v1,'putStream':H1,'events':i1,'scaleFactor':l0,'pageSize':{get width(){return f1;},get height(){return F0;}},'output':function(g,j){return Y2(g,j);},'getNumberOfPages':function(){return N0.length-1;},'pages':N0};B0.addPage=function(){M1.apply(this,arguments);return this;};B0.setPage=function(){g2.apply(this,arguments);return this;};B0.setDisplayMode=function(g,j,m){o1=g;u1=j;E1=m;return this;},B0.text=function(j,m,n,o,q,s){function t(g){g=g.split("\t").join(Array(k0.TabLen||9).join(" "));return f2(g,o);}if(typeof j==='number'){U0=n;n=m;m=j;j=U0;}if(typeof j==='string'&&j.match(/[\n\r]/)){j=j.split(/\r\n|\r|\n/g);}if(typeof o==='number'){q=o;o=null;}var v='',H='Td',z;if(q){q*=(Math.PI/180);var I=Math.cos(q),K=Math.sin(q);v=[q0(I),q0(K),q0(K*-1),q0(I),''].join(" ");H='Tm';}o=o||{};if(!('noBOM' in o))o.noBOM=true;if(!('autoencode' in o))o.autoencode=true;if(typeof j==='string'){if(s==="center"){var M=this.getStringUnitWidth(j)*S/l0;m-=M/2;}else if(s==="right"){var M=this.getStringUnitWidth(j)*S/l0;m-=M;}j=t(j);}else if(j instanceof Array){var N=j.concat(),P=[],O=N.length;while(O--){P.push(t(N.shift()));}var X=Math.ceil((F0-n)*l0/(S*y0));if(0<=X&&X<P.length+1){z=P.splice(X-1);}j=P.join(") Tj\nT* (");}else{throw  new Error('Type of text must be string or Array. "'+j+'" is not recognized.');}g0('BT\n/'+w0+' '+S+' Tf\n'+(S*y0)+' TL\n'+e0+'\n'+v+q0(m*l0)+' '+q0((F0-n)*l0)+' '+H+'\n('+j+') Tj\nET');if(z){this.addPage();this.text(z,m,S*1.7/l0);}return this;};B0.lstext=function(g,j,m,n){for(var o=0,q=g.length;o<q;o++,j+=n)this.text(g[o],j,m);};B0.line=function(g,j,m,n){return this.lines([[m-g,n-j]],g,j);};B0.clip=function(){g0('W');g0('S');};B0.lines=function(g,j,m,n,o,q){var s,t,v,H,z,I,K,M,N,P,O;if(typeof g==='number'){U0=m;m=j;j=g;g=U0;}n=n||[1,1];g0(K0(j*l0)+' '+K0((F0-m)*l0)+' m ');s=n[0];t=n[1];H=g.length;P=j;O=m;for(v=0;v<H;v++){z=g[v];if(z.length===2){P=z[0]*s+P;O=z[1]*t+O;g0(K0(P*l0)+' '+K0((F0-O)*l0)+' l');}else{I=z[0]*s+P;K=z[1]*t+O;M=z[2]*s+P;N=z[3]*t+O;P=z[4]*s+P;O=z[5]*t+O;g0(K0(I*l0)+' '+K0((F0-K)*l0)+' '+K0(M*l0)+' '+K0((F0-N)*l0)+' '+K0(P*l0)+' '+K0((F0-O)*l0)+' c');}}if(q){g0(' h');}if(o!==null){g0(d2(o));}return this;};B0.rect=function(g,j,m,n,o){var q=d2(o);g0([q0(g*l0),q0((F0-j)*l0),q0(m*l0),q0(-n*l0),'re'].join(' '));if(o!==null){g0(d2(o));}return this;};B0.triangle=function(g,j,m,n,o,q,s){this.lines([[m-g,n-j],[o-m,q-n],[g-o,j-q]],g,j,[1,1],s,u4b.q4);return this;};B0.roundedRect=function(g,j,m,n,o,q,s){var t=4/3*(Math.SQRT2-1);this.lines([[(m-2*o),0],[(o*t),0,o,q-(q*t),o,q],[0,(n-2*q)],[0,(q*t),-(o*t),q,-o,q],[(-m+2*o),0],[-(o*t),0,-o,-(q*t),-o,-q],[0,(-n+2*q)],[0,-(q*t),(o*t),-q,o,-q]],g+o,j,[1,1],s);return this;};B0.ellipse=function(g,j,m,n,o){var q=4/3*(Math.SQRT2-1)*m,s=4/3*(Math.SQRT2-1)*n;g0([q0((g+m)*l0),q0((F0-j)*l0),'m',q0((g+m)*l0),q0((F0-(j-s))*l0),q0((g+q)*l0),q0((F0-(j-n))*l0),q0(g*l0),q0((F0-(j-n))*l0),'c'].join(u4b.D4));g0([q0((g-q)*l0),q0((F0-(j-n))*l0),q0((g-m)*l0),q0((F0-(j-s))*l0),q0((g-m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));g0([q0((g-m)*l0),q0((F0-(j+s))*l0),q0((g-q)*l0),q0((F0-(j+n))*l0),q0(g*l0),q0((F0-(j+n))*l0),'c'].join(u4b.D4));g0([q0((g+q)*l0),q0((F0-(j+n))*l0),q0((g+m)*l0),q0((F0-(j+s))*l0),q0((g+m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));if(o!==u4b.p4){g0(d2(o));}return this;};B0.circle=function(g,j,m,n){return this.ellipse(g,j,m,m,n);};B0.setProperties=function(g){for(var j in X0){if(X0.hasOwnProperty(j)&&g[j]){X0[j]=g[j];}}return this;};B0.setFontSize=function(g){S=g;return this;};B0.setFont=function(g,j){w0=r2(g,j);return this;};B0.setFontStyle=B0.setFontType=function(g){w0=r2(undefined,g);return this;};B0.getFontList=function(){var g={},j,m,n;for(j in I0){if(I0.hasOwnProperty(j)){g[j]=n=[];for(m in I0[j]){if(I0[j].hasOwnProperty(m)){n.push(m);}}}}return g;};B0.setLineWidth=function(g){g0((g*l0).toFixed(2)+' w');return this;};B0.setDrawColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' G';}else{o=q0(g/u4b.U4)+' G';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'RG'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'RG'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'K'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'K'].join(u4b.D4);}}g0(o);return this;};B0.setFillColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' g';}else{o=q0(g/u4b.U4)+' g';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'rg'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'rg'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'k'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'k'].join(u4b.D4);}}g0(o);return this;};B0.setTextColor=function(g,j,m){if((typeof g===u4b.V3)&&/^#[0-9A-Fa-f]{6}$/.test(g)){var n=parseInt(g.substr(1),16);g=(n>>16)&u4b.U4;j=(n>>8)&u4b.U4;m=(n&u4b.U4);}if((g===0&&j===0&&m===0)||(typeof j===u4b.U3)){e0=K0(g/u4b.U4)+' g';}else{e0=[K0(g/u4b.U4),K0(j/u4b.U4),K0(m/u4b.U4),'rg'].join(u4b.D4);}return this;};B0.CapJoinStyles={0:0,'butt':0,'but':0,'miter':0,1:1,'round':1,'rounded':1,'circle':1,2:2,'projecting':2,'project':2,'square':2,'bevel':2};B0.setLineCap=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line cap style of '"+g+s0);}W0=j;g0(j+' J');return this;};B0.setLineJoin=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line join style of '"+g+s0);}q1=j;g0(j+' j');return this;};B0.output=Y2;B0.save=function(g){B0.output('save',g);};for(var U1 in w1.API){if(w1.API.hasOwnProperty(U1)){if(U1==='events'&&w1.API.events.length){(function(g,j){var m,n,o;for(o=j.length-1;o!==-1;o--){m=j[o][0];n=j[o][1];g.subscribe.apply(g,[m].concat(typeof n==='function'?[n]:n));}}(i1,w1.API.events));}else{B0[U1]=w1.API[U1];}}}U2();w0='F1';M1(W,U);i1.publish('initialized');return B0;}w1.API={events:[]};w1.version="1.0.272-debug 2014-09-29T15:09:diegocr";if(typeof define===u4b.d4&&define.amd){define('jsPDF',function(){return w1;});}else{r1.jsPDF=w1;}return w1;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this));(function(k0){'use strict';k0.addHTML=function(M,N,P,O,X){'use strict';if(typeof html2canvas==='undefined'&&typeof rasterizeHTML==='undefined')throw  new Error('You need either '+'https://github.com/niklasvh/html2canvas'+' or https://github.com/cburgmer/rasterizeHTML.js');if(typeof N!=='number'){O=N;X=P;}if(typeof O==='function'){X=O;O=null;}var U=this.internal,Y=U.scaleFactor,W=U.pageSize.width,Q=U.pageSize.height;O=O||{};O.onrendered=function(o){N=parseInt(N)||0;P=parseInt(P)||0;var q=O.dim||{},s=q.h||0,t=q.w||Math.min(W,o.width/Y)-N,v='JPEG';if(O.format)v=O.format;if(o.height>Q&&O.pagesplit){var H=function(){var g=0;while(1){var j=document.createElement('canvas');j.width=Math.min(W*Y,o.width);j.height=Math.min(Q*Y,o.height-g);var m=j.getContext('2d');m.drawImage(o,0,g,o.width,j.height,0,0,j.width,j.height);var n=[j,N,g?0:P,j.width/Y,j.height/Y,v,null,'SLOW'];this.addImage.apply(this,n);g+=j.height;if(g>=o.height)break;this.addPage();}X(t,g,null,n);}.bind(this);if(o.nodeName==='CANVAS'){var z=new Image();z.onload=H;z.src=o.toDataURL("image/png");o=z;}else{H();}}else{var I=Math.random().toString(35),K=[o,N,P,t,s,v,I,'SLOW'];this.addImage.apply(this,K);X(t,s,I,K);}}.bind(this);if(typeof html2canvas!=='undefined'&&!O.rstz){return html2canvas(M,O);}if(typeof rasterizeHTML!=='undefined'){var s0='drawDocument';if(typeof M==='string'){s0=/^http/.test(M)?'drawURL':'drawHTML';}O.width=O.width||(W*Y);return rasterizeHTML[s0](M,void 0,O).then(function(g){O.onrendered(g.image);},function(g){X(null,g);});}return null;};})(jsPDF.API);;(function(P){'use strict';var O='addImage_',X=['jpeg','jpg','png'],U=function(g){var j=this.internal.newObject(),m=this.internal.write,n=this.internal.putStream;g['n']=j;m('<</Type /XObject');m('/Subtype /Image');m('/Width '+g['w']);m('/Height '+g['h']);if(g['cs']===this.color_spaces.INDEXED){m('/ColorSpace [/Indexed /DeviceRGB '+(g['pal'].length/3-1)+' '+('smask' in g?j+2:j+1)+' 0 R]');}else{m('/ColorSpace /'+g['cs']);if(g['cs']===this.color_spaces.DEVICE_CMYK){m('/Decode [1 0 1 0 1 0 1 0]');}}m('/BitsPerComponent '+g['bpc']);if('f' in g){m('/Filter /'+g['f']);}if('dp' in g){m('/DecodeParms <<'+g['dp']+'>>');}if('trns' in g&&g['trns'].constructor==Array){var o='',q=0,s=g['trns'].length;for(;q<s;q++)o+=(g['trns'][q]+' '+g['trns'][q]+' ');m('/Mask ['+o+']');}if('smask' in g){m('/SMask '+(j+1)+' 0 R');}m('/Length '+g['data'].length+'>>');n(g['data']);m('endobj');if('smask' in g){var t='/Predictor 15 /Colors 1 /BitsPerComponent '+g['bpc']+' /Columns '+g['w'];var v={'w':g['w'],'h':g['h'],'cs':'DeviceGray','bpc':g['bpc'],'dp':t,'data':g['smask']};if('f' in g)v.f=g['f'];U.call(this,v);}if(g['cs']===this.color_spaces.INDEXED){this.internal.newObject();m('<< /Length '+g['pal'].length+'>>');n(this.arrayBufferToBinaryString(new Uint8Array(g['pal'])));m('endobj');}},Y=function(){var g=this.internal.collections[O+'images'];for(var j in g){U.call(this,g[j]);}},W=function(){var g=this.internal.collections[O+'images'],j=this.internal.write,m;for(var n in g){m=g[n];j('/I'+m['i'],m['n'],'0','R');}},Q=function(g){if(g&&typeof g==='string')g=g.toUpperCase();return g in P.image_compression?g:P.image_compression.NONE;},s0=function(){var g=this.internal.collections[O+'images'];if(!g){this.internal.collections[O+'images']=g={};this.internal.events.subscribe('putResources',Y);this.internal.events.subscribe('putXobjectDict',W);}return g;},k0=function(n){var o=0;if(n){o=Object.keys?Object.keys(n).length:(function(g){var j=0;for(var m in g){if(g.hasOwnProperty(m)){j++;}}return j;})(n);}return o;},m0=function(g){return typeof g==='undefined'||g===null;},j0=function(g){return typeof g==='string'&&P.sHashCode(g);},e0=function(g){return X.indexOf(g)===-1;},R=function(g){return typeof P['process'+g.toUpperCase()]!=='function';},S=function(g){return typeof g==='object'&&g.nodeType===1;},y0=function(g,j,m){if(g.nodeName==='IMG'&&g.hasAttribute('src')){var n=''+g.getAttribute('src');if(!m&&n.indexOf('data:image/')===0)return n;if(!j&&/\.png(?:[?#].*)?$/i.test(n))j='png';}if(g.nodeName==='CANVAS'){var o=g;}else{var o=document.createElement('canvas');o.width=g.clientWidth||g.width;o.height=g.clientHeight||g.height;var q=o.getContext('2d');if(!q){throw ('addImage requires canvas to be supported by browser.');}if(m){var s,t,v,H,z,I,K,M=Math.PI/180,N;if(typeof m==='object'){s=m.x;t=m.y;v=m.bg;m=m.angle;}N=m*M;H=Math.abs(Math.cos(N));z=Math.abs(Math.sin(N));I=o.width;K=o.height;o.width=K*z+I*H;o.height=K*H+I*z;if(isNaN(s))s=o.width/2;if(isNaN(t))t=o.height/2;q.clearRect(0,0,o.width,o.height);q.fillStyle=v||'white';q.fillRect(0,0,o.width,o.height);q.save();q.translate(s,t);q.rotate(N);q.drawImage(g,-(I/2),-(K/2));q.rotate(-N);q.translate(-s,-t);q.restore();}else{q.drawImage(g,0,0,o.width,o.height);}}return o.toDataURL((''+j).toLowerCase()=='png'?'image/png':'image/jpeg');},f0=function(g,j){var m;if(j){for(var n in j){if(g===j[n].alias){m=j[n];break;}}}return m;},v0=function(g,j,m){if(!g&&!j){g=-96;j=-96;}if(g<0){g=(-1)*m['w']*72/g/this.internal.scaleFactor;}if(j<0){j=(-1)*m['h']*72/j/this.internal.scaleFactor;}if(g===0){g=j*m['w']/m['h'];}if(j===0){j=g*m['h']/m['w'];}return [g,j];},z0=function(g,j,m,n,o,q,s){var t=v0.call(this,m,n,o),v=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString;m=t[0];n=t[1];s[q]=o;this.internal.write('q',v(m),'0 0',v(n),v(g),H(j+n),'cm /I'+o['i'],'Do Q');};P.color_spaces={DEVICE_RGB:'DeviceRGB',DEVICE_GRAY:'DeviceGray',DEVICE_CMYK:'DeviceCMYK',CAL_GREY:'CalGray',CAL_RGB:'CalRGB',LAB:'Lab',ICC_BASED:'ICCBased',INDEXED:'Indexed',PATTERN:'Pattern',SEPERATION:'Seperation',DEVICE_N:'DeviceN'};P.decode={DCT_DECODE:'DCTDecode',FLATE_DECODE:'FlateDecode',LZW_DECODE:'LZWDecode',JPX_DECODE:'JPXDecode',JBIG2_DECODE:'JBIG2Decode',ASCII85_DECODE:'ASCII85Decode',ASCII_HEX_DECODE:'ASCIIHexDecode',RUN_LENGTH_DECODE:'RunLengthDecode',CCITT_FAX_DECODE:'CCITTFaxDecode'};P.image_compression={NONE:'NONE',FAST:'FAST',MEDIUM:'MEDIUM',SLOW:'SLOW'};P.sHashCode=function(m){return Array.prototype.reduce&&m.split("").reduce(function(g,j){g=((g<<5)-g)+j.charCodeAt(0);return g&g;},0);};P.isString=function(g){return typeof g==='string';};P.extractInfoFromBase64DataURI=function(g){return /^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(g);};P.supportsArrayBuffer=function(){return typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined';};P.isArrayBuffer=function(g){if(!this.supportsArrayBuffer())return false;return g instanceof ArrayBuffer;};P.isArrayBufferView=function(g){if(!this.supportsArrayBuffer())return false;if(typeof Uint32Array==='undefined')return false;return (g instanceof Int8Array||g instanceof Uint8Array||(typeof Uint8ClampedArray!=='undefined'&&g instanceof Uint8ClampedArray)||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array);};P.binaryStringToUint8Array=function(g){var j=g.length,m=new Uint8Array(j);for(var n=0;n<j;n++){m[n]=g.charCodeAt(n);}return m;};P.arrayBufferToBinaryString=function(g){if(this.isArrayBuffer(g))g=new Uint8Array(g);var j='',m=g.byteLength;for(var n=0;n<m;n++){j+=String.fromCharCode(g[n]);}return j;};P.arrayBufferToBase64=function(g){var j='',m='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',n=new Uint8Array(g),o=n.byteLength,q=o%3,s=o-q,t,v,H,z,I;for(var K=0;K<s;K=K+3){I=(n[K]<<16)|(n[K+1]<<8)|n[K+2];t=(I&16515072)>>18;v=(I&258048)>>12;H=(I&4032)>>6;z=I&63;j+=m[t]+m[v]+m[H]+m[z];}if(q==1){I=n[s];t=(I&252)>>2;v=(I&3)<<4;j+=m[t]+m[v]+'==';}else if(q==2){I=(n[s]<<8)|n[s+1];t=(I&64512)>>10;v=(I&1008)>>4;H=(I&15)<<2;j+=m[t]+m[v]+m[H]+'=';}return j;};P.createImageInfo=function(g,j,m,n,o,q,s,t,v,H,z,I){var K={alias:t,w:j,h:m,cs:n,bpc:o,i:s,data:g};if(q)K.f=q;if(v)K.dp=v;if(H)K.trns=H;if(z)K.pal=z;if(I)K.smask=I;return K;};P.addImage=function(g,j,m,n,o,q,s,t,v){'use strict';if(typeof j!=='string'){var H=q;q=o;o=n;n=m;m=j;j=H;}if(typeof g==='object'&&!S(g)&&"imageData" in g){var z=g;g=z.imageData;j=z.format||j;m=z.x||m||0;n=z.y||n||0;o=z.w||o;q=z.h||q;s=z.alias||s;t=z.compression||t;v=z.rotation||z.angle||v;}if(isNaN(m)||isNaN(n)){console.error('jsPDF.addImage: Invalid coordinates',arguments);throw  new Error('Invalid coordinates passed to jsPDF.addImage');}var I=s0.call(this),K;if(!(K=f0(g,I))){var M;if(S(g))g=y0(g,j,v);if(m0(s))s=j0(g);if(!(K=f0(s,I))){if(this.isString(g)){var N=this.extractInfoFromBase64DataURI(g);if(N){j=N[2];g=atob(N[3]);}else{if(g.charCodeAt(0)===0x89&&g.charCodeAt(1)===0x50&&g.charCodeAt(2)===0x4e&&g.charCodeAt(3)===0x47)j='png';}}j=(j||'JPEG').toLowerCase();if(e0(j))throw  new Error('addImage currently only supports formats '+X+', not \''+j+'\'');if(R(j))throw  new Error('please ensure that the plugin for \''+j+'\' support is added');if(this.supportsArrayBuffer()){M=g;g=this.binaryStringToUint8Array(g);}K=this['process'+j.toUpperCase()](g,k0(I),s,Q(t),M);if(!K)throw  new Error('An unkwown error occurred whilst processing the image');}}z0.call(this,m,n,o,q,K,K.i,I);return this;};var C0=function(g){'use strict';var j,m,n;if(!g.charCodeAt(0)===0xff||!g.charCodeAt(1)===0xd8||!g.charCodeAt(2)===0xff||!g.charCodeAt(3)===0xe0||!g.charCodeAt(6)==='J'.charCodeAt(0)||!g.charCodeAt(7)==='F'.charCodeAt(0)||!g.charCodeAt(8)==='I'.charCodeAt(0)||!g.charCodeAt(9)==='F'.charCodeAt(0)||!g.charCodeAt(10)===0x00){throw  new Error('getJpegSize requires a binary string jpeg file');}var o=g.charCodeAt(4)*256+g.charCodeAt(5),q=4,s=g.length;while(q<s){q+=o;if(g.charCodeAt(q)!==0xff){throw  new Error('getJpegSize could not find the size of the image');}if(g.charCodeAt(q+1)===0xc0||g.charCodeAt(q+1)===0xc1||g.charCodeAt(q+1)===0xc2||g.charCodeAt(q+1)===0xc3||g.charCodeAt(q+1)===0xc4||g.charCodeAt(q+1)===0xc5||g.charCodeAt(q+1)===0xc6||g.charCodeAt(q+1)===0xc7){m=g.charCodeAt(q+5)*256+g.charCodeAt(q+6);j=g.charCodeAt(q+7)*256+g.charCodeAt(q+8);n=g.charCodeAt(q+9);return [j,m,n];}else{q+=2;o=g.charCodeAt(q)*256+g.charCodeAt(q+1);}}},Z=function(g){var j=(g[0]<<8)|g[1];if(j!==0xFFD8)throw  new Error('Supplied data is not a JPEG');var m=g.length,n=(g[4]<<8)+g[5],o=4,q,s,t,v;while(o<m){o+=n;q=I0(g,o);n=(q[2]<<8)+q[3];if((q[1]===0xC0||q[1]===0xC2)&&q[0]===0xFF&&n>7){q=I0(g,o+5);s=(q[2]<<8)+q[3];t=(q[0]<<8)+q[1];v=q[4];return {width:s,height:t,numcomponents:v};}o+=2;}throw  new Error('getJpegSizeFromBytes could not find the size of the image');},I0=function(g,j){return g.subarray(j,j+5);};P.processJPEG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,t=8,v;if(this.isString(g)){v=C0(g);return this.createImageInfo(g,v[0],v[1],v[3]==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){v=Z(g);g=o||this.arrayBufferToBinaryString(g);return this.createImageInfo(g,v.width,v.height,v.numcomponents==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}return null;};P.processJPG=function(){return this.processJPEG.apply(this,arguments);};})(jsPDF.API);(function(j){'use strict';j.autoPrint=function(){'use strict';var g;this.internal.events.subscribe(u4b.A3,function(){g=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj");});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+g+" 0"+" R");});return this;};})(jsPDF.API);(function(S){'use strict';var y0,f0,v0,z0=3,C0=13,Z,I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1,l0=function(g,j,m,n,o){I0={'x':g,'y':j,'w':m,'h':n,'ln':o};},U0=function(){return I0;},O0={left:0,top:0,bottom:0};S.setHeaderFunction=function(g){Z=g;};S.getTextDimensions=function(g){y0=this.internal.getFont().fontName;f0=this.table_font_size||this.internal.getFontSize();v0=this.internal.getFont().fontStyle;var j=u4b.G4*72/25.4,m,n;n=document.createElement('font');n.id="jsPDFCell";n.style.fontStyle=v0;n.style.fontName=y0;n.style.fontSize=f0+'pt';n.textContent=g;document.body.appendChild(n);m={w:(n.offsetWidth+1)*j,h:(n.offsetHeight+1)*j};document.body.removeChild(n);return m;};S.cellAddPage=function(){var g=this.margins||O0;this.addPage();l0(g.left,g.top,undefined,undefined);w0+=1;};S.cellInitialize=function(){I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined};w0=1;};S.cell=function(g,j,m,n,o,q,s){var t=U0();if(t.ln!==undefined){if(t.ln===q){g=t.x+t.w;j=t.y;}else{var v=this.margins||O0;if((t.y+t.h+n+C0)>=this.internal.pageSize.height-v.bottom){this.cellAddPage();if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(q,true);}}j=(U0().y+U0().h);}}if(o[0]!==undefined){if(this.printingHeaderRow){this.rect(g,j,m,n,'FD');}else{this.rect(g,j,m,n);}if(s==='right'){if(o instanceof Array){for(var H=0;H<o.length;H++){var z=o[H],I=this.getStringUnitWidth(z)*this.internal.getFontSize();this.text(z,g+m-I-z0,j+this.internal.getLineHeight()*(H+1));}}}else{this.text(o,g+z0,j+this.internal.getLineHeight());}}l0(g,j,m,n,q);return this;};S.arrayMax=function(g,j){var m=g[0],n,o,q;for(n=0,o=g.length;n<o;n+=1){q=g[n];if(j){if(j(m,q)===-1){m=q;}}else{if(q>m){m=q;}}}return m;};S.table=function(j,m,n,o,q){if(!n){throw 'No data for PDF table';}var s=[],t=[],v,H,z,I,K={},M={},N,P,O=[],X,U=[],Y,W,Q,s0=false,k0=true,m0=12,j0=O0;j0.width=this.internal.pageSize.width;if(q){if(q.autoSize===true){s0=true;}if(q.printHeaders===false){k0=false;}if(q.fontSize){m0=q.fontSize;}if(q.margins){j0=q.margins;}}this.lnMod=0;I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1;this.printHeaders=k0;this.margins=j0;this.setFontSize(m0);this.table_font_size=m0;if(o===undefined||(o===null)){s=Object.keys(n[0]);}else if(o[0]&&(typeof o[0]!=='string')){var e0=0.264583*72/25.4;for(H=0,z=o.length;H<z;H+=1){v=o[H];s.push(v.name);t.push(v.prompt);M[v.name]=v.width*e0;}}else{s=o;}if(s0){Q=function(g){return g[v];};for(H=0,z=s.length;H<z;H+=1){v=s[H];K[v]=n.map(Q);O.push(this.getTextDimensions(t[H]||v).w);P=K[v];for(X=0,I=P.length;X<I;X+=1){N=P[X];O.push(this.getTextDimensions(N).w);}M[v]=S.arrayMax(O);}}if(k0){var R=this.calculateLineHeight(s,M,t.length?t:s);for(H=0,z=s.length;H<z;H+=1){v=s[H];U.push([j,m,M[v],R,String(t.length?t[H]:v)]);}this.setTableHeaderRow(U);this.printHeaderRow(1,false);}for(H=0,z=n.length;H<z;H+=1){var R;Y=n[H];R=this.calculateLineHeight(s,M,Y);for(X=0,W=s.length;X<W;X+=1){v=s[X];this.cell(j,m,M[v],R,Y[v],H+2,v.align);}}this.lastCellPos=I0;this.table_x=j;this.table_y=m;return this;};S.calculateLineHeight=function(g,j,m){var n,o=0;for(var q=0;q<g.length;q++){n=g[q];m[n]=this.splitTextToSize(String(m[n]),j[n]-z0);var s=this.internal.getLineHeight()*m[n].length+z0;if(s>o)o=s;}return o;};S.setTableHeaderRow=function(g){this.tableHeaderRow=g;};S.printHeaderRow=function(g,j){if(!this.tableHeaderRow){throw 'Property tableHeaderRow does not exist.';}var m,n,o,q;this.printingHeaderRow=true;if(Z!==undefined){var s=Z(this,w0);l0(s[0],s[1],s[2],s[3],-1);}this.setFontStyle('bold');var t=[];for(o=0,q=this.tableHeaderRow.length;o<q;o+=1){this.setFillColor(200,200,200);m=this.tableHeaderRow[o];if(j){m[1]=this.margins&&this.margins.top||0;t.push(m);}n=[].concat(m);this.cell.apply(this,n.concat(g));}if(t.length>0){this.setTableHeaderRow(t);}this.setFontStyle('normal');this.printingHeaderRow=false;};})(jsPDF.API);(function(v0){var z0='left',C0='htmlRenderingFinished',Z="padding-right",I0="padding-left",w0="margin-right",l0="margin-left",U0="padding-bottom",O0="padding-top",D0="margin-bottom",N0="margin-top",t1="line-height",x1="font-size",W0="font-style",q1="font-family",Q0,f1,F0,E1,o1,u1,X0,B0,i1,q0,K0,H0,g0,v1,H1,W1,X1,h1,I1;Q0=(function(){return function(g){j.prototype=g;return new j();};function j(){}})();i1=function(g){var j,m,n,o,q,s,t;m=0;n=g.length;j=void 0;o=u4b.K4;s=u4b.K4;while(!o&&m!==n){j=g[m]=g[m].trimLeft();if(j){o=u4b.q4;}m++;}m=n-1;while(n&&!s&&m!==-1){j=g[m]=g[m].trimRight();if(j){s=u4b.q4;}m--;}q=/\s+$/g;t=u4b.q4;m=0;while(m!==n){j=g[m].replace(/\s+/g,u4b.M3);if(t){j=j.trimLeft();}if(j){t=q.test(j);}g[m]=j;m++;}return g;};q0=function(g,j,m,n){this.pdf=g;this.x=j;this.y=m;this.settings=n;this.watchFunctions=[];this.init();return this;};K0=function(g){var j,m,n;j=void 0;n=g.split(",");m=n.shift();while(!j&&m){j=F0[m.trim().toLowerCase()];m=n.shift();}return j;};H0=function(g){g=g==="auto"?"0px":g;if(g.indexOf("em")>-1&&!isNaN(Number(g.replace("em","")))){g=Number(g.replace("em",""))*18.719+"px";}if(g.indexOf("pt")>-1&&!isNaN(Number(g.replace("pt","")))){g=Number(g.replace("pt",""))*1.333+"px";}var j,m,n;m=void 0;j=16.00;n=g0[g];if(n){return n;}n={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:g}];if(n!==m){return g0[g]=n/j;}if(n=parseFloat(g)){return g0[g]=n/j;}n=g.match(/([\d\.]+)(px)/);if(n.length===3){return g0[g]=parseFloat(n[1])/j;}return g0[g]=1;};B0=function(o){var q="display",s,t,v;v=(function(m){var n;n=(function(g){if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(g,u4b.p4);}else if(g.currentStyle){return g.currentStyle;}else{return g.style;}})(m);return function(j){j=j.replace(/-\D/g,function(g){return g.charAt(1).toUpperCase();});return n[j];};})(o);s={};t=void 0;s[q1]=K0(v(q1))||u4b.u3;s[W0]=E1[v(W0)]||u4b.w4;s["text-align"]=TextAlignMap[v("text-align")]||"left";t=o1[v("font-weight")]||u4b.w4;if(t===u4b.L4){if(s[W0]===u4b.w4){s[W0]=t;}else{s[W0]=t+s[W0];}}s[x1]=H0(v(x1))||1;s[t1]=H0(v(t1))||1;s[q]=(v(q)==="inline"?"inline":"block");t=(s[q]==="block");s[N0]=t&&H0(v(N0))||0;s[D0]=t&&H0(v(D0))||0;s[O0]=t&&H0(v(O0))||0;s[U0]=t&&H0(v(U0))||0;s[l0]=t&&H0(v(l0))||0;s[w0]=t&&H0(v(w0))||0;s[I0]=t&&H0(v(I0))||0;s[Z]=t&&H0(v(Z))||0;s["float"]=u1[v("cssFloat")]||"none";s["clear"]=X0[v("clear")]||"none";return s;};v1=function(g,j,m){var n,o,q,s,t;q=u4b.K4;o=void 0;s=void 0;t=void 0;n=m["#"+g.id];if(n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}n=m[g.nodeName];if(!q&&n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}return q;};I1=function(g,j){var m,n,o,q,s,t,v,H,z,I;m=[];n=[];o=0;I=g.rows[0].cells.length;H=g.clientWidth;while(o<I){z=g.rows[0].cells[o];n[o]={name:z.textContent.toLowerCase().replace(/\s+/g,''),prompt:z.textContent.replace(/\r?\n/g,''),width:(z.clientWidth/H)*j.pdf.internal.pageSize.width};o++;}o=1;while(o<g.rows.length){t=g.rows[o];s={};q=0;while(q<t.cells.length){s[n[q].name]=t.cells[q].textContent.replace(/\r?\n/g,'');q++;}m.push(s);o++;}return v={rows:m,headers:n};};var Y1={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},l1=1;f1=function(o,q,s){var t,v,H,z,I,K,M,N,P;v=o.childNodes;t=void 0;H=B0(o);I=H.display==="block";if(I){q.setBlockBoundary();q.setBlockStyle(H);}M=0.264583*72/25.4;z=0;K=v.length;while(z<K){t=v[z];if(typeof t==="object"){q.executeWatchFunctions(t);if(t.nodeType===1&&t.nodeName==='HEADER'){var O=t,X=q.pdf.margins_doc.top;q.pdf.internal.events.subscribe('addPage',function(g){q.y=X;f1(O,q,s);q.pdf.margins_doc.top=q.y+10;q.y+=10;},false);}if(t.nodeType===8&&t.nodeName==="#comment"){if(~t.textContent.indexOf("ADD_PAGE")){q.pdf.addPage();q.y=q.pdf.margins_doc.top;}}else if(t.nodeType===1&&!Y1[t.nodeName]){var U;if(t.nodeName==="IMG"){var Y=t.getAttribute("src");U=H1[q.pdf.sHashCode(Y)||Y];}if(U){if((q.pdf.internal.pageSize.height-q.pdf.margins_doc.bottom<q.y+t.height)&&(q.y>q.pdf.margins_doc.top)){q.pdf.addPage();q.y=q.pdf.margins_doc.top;q.executeWatchFunctions(t);}var W=B0(t),Q=q.x,s0=12/q.pdf.internal.scaleFactor,k0=(W["margin-left"]+W["padding-left"])*s0,m0=(W["margin-right"]+W["padding-right"])*s0,j0=(W["margin-top"]+W["padding-top"])*s0,e0=(W["margin-bottom"]+W["padding-bottom"])*s0;if(W['float']!==undefined&&W['float']==='right'){Q+=q.settings.width-t.width-m0;}else{Q+=k0;}q.pdf.addImage(U,Q,q.y+j0,t.width,t.height);U=undefined;if(W['float']==='right'||W['float']==='left'){q.watchFunctions.push((function(g,j,m,n){if(q.y>=j){q.x+=g;q.settings.width+=m;return true;}else if(n&&n.nodeType===1&&!Y1[n.nodeName]&&q.x+n.width>(q.pdf.margins_doc.left+q.pdf.margins_doc.width)){q.x+=g;q.y=j;q.settings.width+=m;return true;}else{return false;}}).bind(this,(W['float']==='left')?-t.width-k0-m0:0,q.y+t.height+j0+e0,t.width));q.watchFunctions.push((function(g,j,m){if(q.y<g&&j===q.pdf.internal.getNumberOfPages()){if(m.nodeType===1&&B0(m).clear==='both'){q.y=g;return true;}else{return false;}}else{return true;}}).bind(this,q.y+t.height,q.pdf.internal.getNumberOfPages()));q.settings.width-=t.width+k0+m0;if(W['float']==='left'){q.x+=t.width+k0+m0;}}else{q.y+=t.height+e0;}}else if(t.nodeName==="TABLE"){N=I1(t,q);q.y+=10;q.pdf.table(q.x,q.y,N.rows,N.headers,{autoSize:false,printHeaders:true,margins:q.pdf.margins_doc});q.y=q.pdf.lastCellPos.y+q.pdf.lastCellPos.h+20;}else if(t.nodeName==="OL"||t.nodeName==="UL"){l1=1;if(!v1(t,q,s)){f1(t,q,s);}q.y+=10;}else if(t.nodeName==="LI"){var R=q.x;q.x+=t.parentNode.nodeName==="UL"?22:10;q.y+=3;if(!v1(t,q,s)){f1(t,q,s);}q.x=R;}else if(t.nodeName==="BR"){q.y+=H["font-size"]*q.pdf.internal.scaleFactor;}else{if(!v1(t,q,s)){f1(t,q,s);}}}else if(t.nodeType===3){var S=t.nodeValue;if(t.nodeValue&&t.parentNode.nodeName==="LI"){if(t.parentNode.parentNode.nodeName==="OL"){S=l1++ +'. '+S;}else{var y0=H["font-size"]*16,f0=2;if(y0>20){f0=3;}P=function(g,j){this.pdf.circle(g,j,f0,'FD');};}}q.addText(S,H);}else if(typeof t==="string"){q.addText(t,H);}}z++;}if(I){return q.setBlockBoundary(P);}};H1={};W1=function(q,s,t,v){var H=q.getElementsByTagName('img'),z=H.length,I,K=0;function M(){s.pdf.internal.events.publish('imagesLoaded');v(I);}function N(j,m,n){if(!j)return ;var o=new Image();I=++K;o.crossOrigin='';o.onerror=o.onload=function(){if(o.complete){if(o.src.indexOf('data:image/')===0){o.width=m||o.width||0;o.height=n||o.height||0;}if(o.width+o.height){var g=s.pdf.sHashCode(j)||j;H1[g]=H1[g]||o;}}if(!--K){M();}};o.src=j;}while(z--)N(H[z].getAttribute("src"),H[z].width,H[z].height);return K||M();};X1=function(q,s,t){var v=q.getElementsByTagName("footer");if(v.length>0){v=v[0];var H=s.pdf.internal.write,z=s.y;s.pdf.internal.write=function(){};f1(v,s,t);var I=Math.ceil(s.y-z)+5;s.y=z;s.pdf.internal.write=H;s.pdf.margins_doc.bottom+=I;var K=function(g){var j=g!==undefined?g.pageNumber:1,m=s.y;s.y=s.pdf.internal.pageSize.height-s.pdf.margins_doc.bottom;s.pdf.margins_doc.bottom-=I;var n=v.getElementsByTagName('span');for(var o=0;o<n.length;++o){if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1){n[o].innerHTML=j;}if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){n[o].innerHTML='###jsPDFVarTotalPages###';}}f1(v,s,t);s.pdf.margins_doc.bottom+=I;s.y=m;},M=v.getElementsByTagName('span');for(var N=0;N<M.length;++N){if((" "+M[N].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){s.pdf.internal.events.subscribe('htmlRenderingFinished',s.pdf.putTotalPages.bind(s.pdf,'###jsPDFVarTotalPages###'),true);}}s.pdf.internal.events.subscribe('addPage',K,false);K();Y1['FOOTER']=1;}};h1=function(q,s,t,v,H,z){if(!s)return u4b.K4;if(typeof s!==u4b.n4&&!s.parentNode)s=''+s.innerHTML;if(typeof s===u4b.n4){s=(function(g){var $frame,$hiddendiv,n,o;n="jsPDFhtmlText"+Date.now().toString()+(Math.random()*1000).toFixed(0);o="position: absolute !important;"+"clip: rect(1px 1px 1px 1px); /* IE6, IE7 */"+"clip: rect(1px, 1px, 1px, 1px);"+"padding:0 !important;"+"border:0 !important;"+"height: 1px !important;"+"width: 1px !important; "+"top:auto;"+"left:-100px;"+"overflow: hidden;";$hiddendiv=document.createElement('div');$hiddendiv.style.cssText=o;$hiddendiv.innerHTML="<iframe style=\"height:1px;width:1px\" name=\""+n+"\" />";document.body.appendChild($hiddendiv);$frame=window.frames[n];$frame.document.body.innerHTML=g;return $frame.document.body;})(s.replace(/<\/?script[^>]*?>/gi,''));}var I=new q0(q,t,v,H),K;W1.call(this,s,I,H.elementHandlers,function(g){X1(s,I,H.elementHandlers);f1(s,I,H.elementHandlers);I.pdf.internal.events.publish(C0);K=I.dispose();if(typeof z===u4b.d4)z(K);else if(g)console.error('jsPDF Warning: rendering issues? provide a callback to fromHTML!');});return K||{x:I.x,y:I.y};};q0.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q");};q0.prototype.dispose=function(){this.pdf.internal.write("Q");return {x:this.x,y:this.y,ready:u4b.q4};};q0.prototype.executeWatchFunctions=function(g){var j=false,m=[];if(this.watchFunctions.length>0){for(var n=0;n<this.watchFunctions.length;++n){if(this.watchFunctions[n](g)===true){j=true;}else{m.push(this.watchFunctions[n]);}}this.watchFunctions=m;}return j;};q0.prototype.splitFragmentsIntoLines=function(g,j){var m,n,o,q,s,t,v,H,z,I,K,M,N,P,O;n=12;K=this.pdf.internal.scaleFactor;s={};o=void 0;I=void 0;q=void 0;t=void 0;O=void 0;z=void 0;H=void 0;v=void 0;M=[];N=[M];m=0;P=this.settings.width;while(g.length){t=g.shift();O=j.shift();if(t){o=O["font-family"];I=O["font-style"];q=s[o+I];if(!q){q=this.pdf.internal.getFont(o,I).metadata.Unicode;s[o+I]=q;}z={widths:q.widths,kerning:q.kerning,fontSize:O["font-size"]*n,textIndent:m};H=this.pdf.getStringUnitWidth(t,z)*z.fontSize/K;if(m+H>P){v=this.pdf.splitTextToSize(t,P,z);M.push([v.shift(),O]);while(v.length){M=[[v.shift(),O]];N.push(M);}m=this.pdf.getStringUnitWidth(M[0][0],z)*z.fontSize/K;}else{M.push([t,O]);m+=H;}}}if(O['text-align']!==undefined&&(O['text-align']==='center'||O['text-align']==='right'||O['text-align']==='justify')){for(var X=0;X<N.length;++X){var U=this.pdf.getStringUnitWidth(N[X][0][0],z)*z.fontSize/K;if(X>0){N[X][0][1]=Q0(N[X][0][1]);}var Y=(P-U);if(O['text-align']==='right'){N[X][0][1]['margin-left']=Y;}else if(O['text-align']==='center'){N[X][0][1]['margin-left']=Y/2;}else if(O['text-align']==='justify'){var W=N[X][0][0].split(' ').length-1;N[X][0][1]['word-spacing']=Y/W;if(X===(N.length-1)){N[X][0][1]['word-spacing']=0;}}}}return N;};q0.prototype.RenderTextFragment=function(g,j){var m,n,o;o=0;m=12;if(this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()){this.pdf.internal.write("ET","Q");this.pdf.addPage();this.y=this.pdf.margins_doc.top;this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");o=Math.max(o,j["line-height"],j["font-size"]);this.pdf.internal.write(0,(-1*m*o).toFixed(2),"Td");}n=this.pdf.internal.getFont(j["font-family"],j["font-style"]);if(j['word-spacing']!==undefined&&j['word-spacing']>0){this.pdf.internal.write(j['word-spacing'].toFixed(2),"Tw");}this.pdf.internal.write("/"+n.id,(m*j["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(g)+") Tj");if(j['word-spacing']!==undefined){this.pdf.internal.write(0,"Tw");}};q0.prototype.renderParagraph=function(n){var o,q,s,t,v,H,z,I,K,M,N,P,O,X,U;t=i1(this.paragraph.text);X=this.paragraph.style;o=this.paragraph.blockstyle;O=this.paragraph.blockstyle||{};this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:o};if(!t.join("").trim()){return ;}I=this.splitFragmentsIntoLines(t,X);z=void 0;K=void 0;q=12;s=q/this.pdf.internal.scaleFactor;P=(Math.max((o["margin-top"]||0)-(O["margin-bottom"]||0),0)+(o["padding-top"]||0))*s;N=((o["margin-bottom"]||0)+(o["padding-bottom"]||0))*s;M=this.pdf.internal.write;v=void 0;H=void 0;this.y+=P;M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");var Y=0;while(I.length){z=I.shift();K=0;v=0;H=z.length;while(v!==H){if(z[v][0].trim()){K=Math.max(K,z[v][1]["line-height"],z[v][1]["font-size"]);U=z[v][1]["font-size"]*7;}v++;}var W=0;if(z[0][1]["margin-left"]!==undefined&&z[0][1]["margin-left"]>0){wantedIndent=this.pdf.internal.getCoordinateString(z[0][1]["margin-left"]);W=wantedIndent-Y;Y=wantedIndent;}M(W,(-1*q*K).toFixed(2),"Td");v=0;H=z.length;while(v!==H){if(z[v][0]){this.RenderTextFragment(z[v][0],z[v][1]);}v++;}this.y+=K*s;if(this.executeWatchFunctions(z[0][1])&&I.length>0){var Q=[],s0=[];I.forEach(function(g){var j=0,m=g.length;while(j!==m){if(g[j][0]){Q.push(g[j][0]+' ');s0.push(g[j][1]);}++j;}});I=this.splitFragmentsIntoLines(i1(Q),s0);M("ET","Q");M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");}}if(n&&typeof n==="function"){n.call(this,this.x-9,this.y-U/2);}M("ET","Q");return this.y+=N;};q0.prototype.setBlockBoundary=function(g){return this.renderParagraph(g);};q0.prototype.setBlockStyle=function(g){return this.paragraph.blockstyle=g;};q0.prototype.addText=function(g,j){this.paragraph.text.push(g);return this.paragraph.style.push(j);};F0={helvetica:u4b.f4,"sans-serif":u4b.f4,"times new roman":u4b.u3,serif:u4b.u3,times:u4b.u3,monospace:u4b.H4,courier:u4b.H4};o1={100:u4b.w4,200:u4b.w4,300:u4b.w4,400:u4b.w4,500:u4b.L4,600:u4b.L4,700:u4b.L4,800:u4b.L4,900:u4b.L4,normal:u4b.w4,bold:u4b.L4,bolder:u4b.L4,lighter:u4b.w4};E1={normal:u4b.w4,italic:u4b.e4,oblique:u4b.e4};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};u1={none:'none',right:u4b.A4,left:z0};X0={none:'none',both:'both'};g0={normal:1};v0.fromHTML=function(g,j,m,n,o,q){"use strict";this.margins_doc=q||{top:0,bottom:0};if(!n)n={};if(!n.elementHandlers)n.elementHandlers={};return h1(this,g,isNaN(j)?4:j,isNaN(m)?4:m,n,o);};})(jsPDF.API);(function(m){'use strict';var n,o,q;m.addJS=function(j){q=j;this.internal.events.subscribe(u4b.A3,function(g){n=this.internal.newObject();this.internal.write('<< /Names [(EmbeddedJS) '+(n+1)+' 0 R] >>',u4b.r4);o=this.internal.newObject();this.internal.write('<< /S /JavaScript /JS (',q,') >>',u4b.r4);});this.internal.events.subscribe('putCatalog',function(){if(n!==undefined&&o!==undefined){this.internal.write('/Names <</JavaScript '+n+' 0 R>>');}});return this;};}(jsPDF.API));(function(S){'use strict';var y0=function(){return typeof PNG!=='function'||typeof FlateStream!=='function';},f0=function(g){return g!==S.image_compression.NONE&&v0();},v0=function(){var g=typeof Deflater==='function';if(!g)throw  new Error("requires deflate.js for compression");return g;},z0=function(g,j,m,n){var o=5,q=U0;switch(n){case S.image_compression.FAST:o=3;q=l0;break;case S.image_compression.MEDIUM:o=6;q=O0;break;case S.image_compression.SLOW:o=9;q=D0;break;}g=I0(g,j,m,q);var s=new Uint8Array(C0(o)),t=Z(g),v=new Deflater(o),H=v.append(g),z=v.flush(),I=s.length+H.length+z.length,K=new Uint8Array(I+4);K.set(s);K.set(H,s.length);K.set(z,s.length+H.length);K[I++]=(t>>>24)&0xff;K[I++]=(t>>>16)&0xff;K[I++]=(t>>>8)&0xff;K[I++]=t&0xff;return S.arrayBufferToBinaryString(K);},C0=function(g,j){var m=8,n=Math.LOG2E*Math.log(0x8000)-8,o=(n<<4)|m,q=o<<8,s=Math.min(3,((j-1)&0xff)>>1);q|=(s<<6);q|=0;q+=31-(q%31);return [o,(q&0xff)&0xff];},Z=function(g,j){var m=1,n=m&0xffff,o=(m>>>16)&0xffff,q=g.length,s,t=0;while(q>0){s=q>j?j:q;q-=s;do {n+=g[t++];o+=n;}while(--s);n%=65521;o%=65521;}return ((o<<16)|n)>>>0;},I0=function(g,j,m,n){var o=g.length/j,q=new Uint8Array(g.length+o),s=t1(),t=0,v,H,z;for(;t<o;t++){z=t*j;v=g.subarray(z,z+j);if(n){q.set(n(v,m,H),z+t);}else{var I=0,K=s.length,M=[];for(;I<K;I++)M[I]=s[I](v,m,H);var N=x1(M.concat());q.set(M[N],z+t);}H=v;}return q;},w0=function(g,j,m){var n=Array.apply([],g);n.unshift(0);return n;},l0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=1;for(;o<q;o++){s=g[o-j]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},U0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=2;for(;o<q;o++){s=m&&m[o]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},O0=function(g,j,m){var n=[],o=0,q=g.length,s,t;n[0]=3;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;n[o+1]=(g[o]+0x0100-((s+t)>>>1))&0xff;}return n;},D0=function(g,j,m){var n=[],o=0,q=g.length,s,t,v,H;n[0]=4;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;v=m&&m[o-j]||0;H=N0(s,t,v);n[o+1]=(g[o]-H+0x0100)&0xff;}return n;},N0=function(g,j,m){var n=g+j-m,o=Math.abs(n-g),q=Math.abs(n-j),s=Math.abs(n-m);return (o<=q&&o<=s)?g:(q<=s)?j:m;},t1=function(){return [w0,l0,U0,O0,D0];},x1=function(g){var j=0,m=g.length,n,o,q;while(j<m){n=W0(g[j].slice(1));if(n<o||!o){o=n;q=j;}j++;}return q;},W0=function(g){var j=0,m=g.length,n=0;while(j<m)n+=Math.abs(g[j++]);return n;},q1=function(g){console.log("width: "+g.width);console.log("height: "+g.height);console.log("bits: "+g.bits);console.log("colorType: "+g.colorType);console.log("transparency:");console.log(g.transparency);console.log("text:");console.log(g.text);console.log("compressionMethod: "+g.compressionMethod);console.log("filterMethod: "+g.filterMethod);console.log("interlaceMethod: "+g.interlaceMethod);console.log("imgData:");console.log(g.imgData);console.log("palette:");console.log(g.palette);console.log("colors: "+g.colors);console.log("colorSpace: "+g.colorSpace);console.log("pixelBitlength: "+g.pixelBitlength);console.log("hasAlphaChannel: "+g.hasAlphaChannel);};S.processPNG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.FLATE_DECODE,t=8,v,H,z,I,K,M;if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){if(y0())throw  new Error("PNG support requires png.js and zlib.js");v=new PNG(g);g=v.imgData;t=v.bits;q=v.colorSpace;I=v.colors;if([4,6].indexOf(v.colorType)!==-1){if(v.bits===8){var N=window['Uint'+v.pixelBitlength+'Array'],P=new N(v.decodePixels().buffer),O=P.length,X=new Uint8Array(O*v.colors),U=new Uint8Array(O),Y=v.pixelBitlength-v.bits,W=0,Q=0,s0,k0;for(;W<O;W++){s0=P[W];k0=0;while(k0<Y){X[Q++]=(s0>>>k0)&0xff;k0=k0+v.bits;}U[W]=(s0>>>k0)&0xff;}}if(v.bits===16){var P=new Uint32Array(v.decodePixels().buffer),O=P.length,X=new Uint8Array((O*(32/v.pixelBitlength))*v.colors),U=new Uint8Array(O*(32/v.pixelBitlength)),m0=v.colors>1,W=0,Q=0,j0=0,s0;while(W<O){s0=P[W++];X[Q++]=(s0>>>0)&0xFF;if(m0){X[Q++]=(s0>>>16)&0xFF;s0=P[W++];X[Q++]=(s0>>>0)&0xFF;}U[j0++]=(s0>>>16)&0xFF;}t=8;}if(f0(n)){g=z0(X,v.width*v.colors,v.colors,n);M=z0(U,v.width,1,n);}else{g=X;M=U;s=null;}}if(v.colorType===3){q=this.color_spaces.INDEXED;K=v.palette;if(v.transparency.indexed){var e0=v.transparency.indexed,R=0,W=0,O=e0.length;for(;W<O;++W)R+=e0[W];R=R/255;if(R===O-1&&e0.indexOf(0)!==-1){z=[e0.indexOf(0)];}else if(R!==O){var P=v.decodePixels(),U=new Uint8Array(P.length),W=0,O=P.length;for(;W<O;W++)U[W]=e0[P[W]];M=z0(U,v.width,1);}}}if(s===this.decode.FLATE_DECODE)H='/Predictor 15 /Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;else H='/Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;if(this.isArrayBuffer(g)||this.isArrayBufferView(g))g=this.arrayBufferToBinaryString(g);if(M&&this.isArrayBuffer(M)||this.isArrayBufferView(M))M=this.arrayBufferToBinaryString(M);return this.createImageInfo(g,v.width,v.height,q,t,s,j,m,H,z,K,M);}throw  new Error("Unsupported PNG image data, try using JPEG instead.");};})(jsPDF.API);(function(e0){'use strict';e0.addSVG=function(s,t,v,H,z){var I;if(t===I||v===I){throw  new Error("addSVG needs values for 'x' and 'y'");}function K(g,j){var m=j.createElement('style');m.type='text/css';if(m.styleSheet){m.styleSheet.cssText=g;}else{m.appendChild(j.createTextNode(g));}j.getElementsByTagName("head")[0].appendChild(m);}function M(g){var j='childframe',m=g.createElement('iframe');K('.jsPDF_sillysvg_iframe {display:none;position:absolute;}',g);m.name=j;m.setAttribute("width",0);m.setAttribute("height",0);m.setAttribute("frameborder","0");m.setAttribute("scrolling","no");m.setAttribute("seamless","seamless");m.setAttribute("class","jsPDF_sillysvg_iframe");g.body.appendChild(m);return m;}function N(g,j){var m=(j.contentWindow||j.contentDocument).document;m.write(g);m.close();return m.getElementsByTagName('svg')[0];}function P(g){'use strict';var j=parseFloat(g[1]),m=parseFloat(g[2]),n=[],o=3,q=g.length;while(o<q){if(g[o]==='c'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2]),parseFloat(g[o+3]),parseFloat(g[o+4]),parseFloat(g[o+5]),parseFloat(g[o+6])]);o+=7;}else if(g[o]==='l'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2])]);o+=3;}else{o+=1;}}return [j,m,n];}var O=M(document),X=N(s,O),U=[1,1],Y=parseFloat(X.getAttribute('width')),W=parseFloat(X.getAttribute('height'));if(Y&&W){if(H&&z){U=[H/Y,z/W];}else if(H){U=[H/Y,H/Y];}else if(z){U=[z/W,z/W];}}var Q,s0,k0,m0,j0=X.childNodes;for(Q=0,s0=j0.length;Q<s0;Q++){k0=j0[Q];if(k0.tagName&&k0.tagName.toUpperCase()==='PATH'){m0=P(k0.getAttribute("d").split(' '));m0[0]=m0[0]*U[0]+t;m0[1]=m0[1]*U[1]+v;this.lines.call(this,m0[2],m0[0],m0[1],U);}}return this;};})(jsPDF.API);;(function(k0){'use strict';var m0=k0.getCharWidthsArray=function(g,j){if(!j){j={};}var m=j.widths?j.widths:this.internal.getFont().metadata.Unicode.widths,n=m.fof?m.fof:1,o=j.kerning?j.kerning:this.internal.getFont().metadata.Unicode.kerning,q=o.fof?o.fof:1,s,t,v,H=0,z=m[0]||n,I=[];for(s=0,t=g.length;s<t;s++){v=g.charCodeAt(s);I.push((m[v]||z)/n+(o[v]&&o[v][H]||0)/q);H=v;}return I;},j0=function(g){var j=g.length,m=0;while(j){;j--;m+=g[j];}return m;},e0=k0.getStringUnitWidth=function(g,j){return j0(m0.call(this,g,j));},R=function(g,j,m,n){var o=[];var q=0,s=g.length,t=0;while(q!==s&&t+j[q]<m){t+=j[q];q++;}o.push(g.slice(0,q));var v=q;t=0;while(q!==s){if(t+j[q]>n){o.push(g.slice(v,q));t=0;v=q;}t+=j[q];q++;}if(v!==q){o.push(g.slice(v,q));}return o;},S=function(n,o,q){if(!q){q={};}var s=[],t=[s],v=q.textIndent||0,H=0,z=0,I,K,M=n.split(' '),N=m0(' ',q)[0],P,O,X,U;if(q.lineIndent===-1){U=M[0].length+2;}else{U=q.lineIndent||0;}if(U){var Y=Array(U).join(" "),W=[];M.map(function(m){m=m.split(/\s*\n/);if(m.length>1){W=W.concat(m.map(function(g,j){return (j&&g.length?"\n":"")+g;}));}else{W.push(m[0]);}});M=W;U=e0(Y,q);}for(P=0,O=M.length;P<O;P++){var Q=0;I=M[P];if(U&&I[0]=="\n"){I=I.substr(1);Q=1;}K=m0(I,q);z=j0(K);if(v+H+z>o||Q){if(z>o){X=R(I,K,o-(v+H),o);s.push(X.shift());s=[X.pop()];while(X.length){t.push([X.shift()]);}z=j0(K.slice(I.length-s[0].length));}else{s=[I];}t.push(s);v=z+U;H=N;}else{s.push(I);v+=H+z;H=N;}}if(U){var s0=function(g,j){return (j?Y:'')+g.join(" ");};}else{var s0=function(g){return g.join(" ");};}return t.map(s0);};k0.splitTextToSize=function(q,s,t){'use strict';if(!t){t={};}var v=t.fontSize||this.internal.getFontSize(),H=(function(g){var j={0:1},m={};if(!g.widths||!g.kerning){var n=this.internal.getFont(g.fontName,g.fontStyle),o='Unicode';if(n.metadata[o]){return {widths:n.metadata[o].widths||j,kerning:n.metadata[o].kerning||m};}}else{return {widths:g.widths,kerning:g.kerning};}return {widths:j,kerning:m};}).call(this,t),z;if(Array.isArray(q)){z=q;}else{z=q.split(/\r?\n/);}var I=1.0*this.internal.scaleFactor*s/v;H.textIndent=t.textIndent?t.textIndent*1.0*this.internal.scaleFactor/v:0;H.lineIndent=t.lineIndent;var K,M,N=[];for(K=0,M=z.length;K<M;K++){N=N.concat(S(z[K],I,H));}return N;};})(jsPDF.API);;(function(X){'use strict';var U=function(g){var j='0123456789abcdef',m='klmnopqrstuvwxyz',n={};for(var o=0;o<m.length;o++){n[m[o]]=j[o];}var q,s={},t=1,v,H=s,z=[],I,K='',M='',N,P=g.length-1,O;o=1;while(o!=P){O=g[o];o+=1;if(O=="'"){if(v){N=v.join('');v=q;}else{v=[];}}else if(v){v.push(O);}else if(O=='{'){z.push([H,N]);H={};N=q;}else if(O=='}'){I=z.pop();I[0][I[1]]=H;N=q;H=I[0];}else if(O=='-'){t=-1;}else{if(N===q){if(n.hasOwnProperty(O)){K+=n[O];N=parseInt(K,16)*t;t=+1;K='';}else{K+=O;}}else{if(n.hasOwnProperty(O)){M+=n[O];H[N]=parseInt(M,16)*t;t=+1;N=q;M='';}else{M+=O;}}}}return s;},Y={'codePages':['WinAnsiEncoding'],'WinAnsiEncoding':U("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},W={'Unicode':{'Courier':Y,'Courier-Bold':Y,'Courier-BoldOblique':Y,'Courier-Oblique':Y,'Helvetica':Y,'Helvetica-Bold':Y,'Helvetica-BoldOblique':Y,'Helvetica-Oblique':Y,'Times-Roman':Y,'Times-Bold':Y,'Times-BoldItalic':Y,'Times-Italic':Y}},Q={'Unicode':{'Courier-Oblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-BoldItalic':U("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica-Bold':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Courier-BoldOblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Bold':U("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),'Helvetica-BoldOblique':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier-Bold':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Italic':U("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),'Times-Roman':U("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),'Helvetica-Oblique':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};X.events.push(['addFonts',function(g){var j,m,n,o,q='Unicode',s;for(m in g.fonts){if(g.fonts.hasOwnProperty(m)){j=g.fonts[m];n=Q[q][j.PostScriptName];if(n){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.widths=n.widths;o.kerning=n.kerning;}s=W[q][j.PostScriptName];if(s){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.encoding=s;if(s.codePages&&s.codePages.length){j.encoding=s.codePages[0];}}}}}]);})(jsPDF.API);(function(o){'use strict';o.putTotalPages=function(g){'use strict';var j=new RegExp(g,'g');for(var m=1;m<=this.internal.getNumberOfPages();m++){for(var n=0;n<this.internal.pages[m].length;n++)this.internal.pages[m][n]=this.internal.pages[m][n].replace(j,this.internal.getNumberOfPages());}return this;};})(jsPDF.API);(function(S){"use strict";S.URL=S.URL||S.webkitURL;if(S.Blob&&S.URL){try{new Blob;return ;}catch(g){}}var y0=S.BlobBuilder||S.WebKitBlobBuilder||S.MozBlobBuilder||(function(t){var v=function(g){return Object.prototype.toString.call(g).match(/^\[object\s(.*)\]$/)[1];},H=function z(){this.data=[];},I=function K(g,j,m){this.data=g;this.size=g.length;this.type=j;this.encoding=m;},M=H.prototype,N=I.prototype,P=t.FileReaderSync,O=function(g){this.code=this[this.name=g];},X=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR "+"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),U=X.length,Y=t.URL||t.webkitURL||t,W=Y.createObjectURL,Q=Y.revokeObjectURL,s0=Y,k0=t.btoa,m0=t.atob,j0=t.ArrayBuffer,e0=t.Uint8Array,R=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;I.fake=N.fake=true;while(U--){O.prototype[X[U]]=U+1;}if(!Y.createObjectURL){s0=t.URL=function(g){var j=document.createElementNS("http://www.w3.org/1999/xhtml","a"),m;j.href=g;if(!("origin" in j)){if(j.protocol.toLowerCase()==="data:"){j.origin=null;}else{m=g.match(R);j.origin=m&&m[1];}}return j;};}s0.createObjectURL=function(g){var j=g.type,m;if(j===null){j="application/octet-stream";}if(g instanceof I){m="data:"+j;if(g.encoding==="base64"){return m+";base64,"+g.data;}else if(g.encoding==="URI"){return m+","+decodeURIComponent(g.data);}if(k0){return m+";base64,"+k0(g.data);}else{return m+","+encodeURIComponent(g.data);}}else if(W){return W.call(Y,g);}};s0.revokeObjectURL=function(g){if(g.substring(0,5)!=="data:"&&Q){Q.call(Y,g);}};M.append=function(g){var j=this.data;if(e0&&(g instanceof j0||g instanceof e0)){var m="",n=new e0(g),o=0,q=n.length;for(;o<q;o++){m+=String.fromCharCode(n[o]);}j.push(m);}else if(v(g)==="Blob"||v(g)==="File"){if(P){var s=new P;j.push(s.readAsBinaryString(g));}else{throw  new O("NOT_READABLE_ERR");}}else if(g instanceof I){if(g.encoding==="base64"&&m0){j.push(m0(g.data));}else if(g.encoding==="URI"){j.push(decodeURIComponent(g.data));}else if(g.encoding==="raw"){j.push(g.data);}}else{if(typeof g!=="string"){g+="";}j.push(unescape(encodeURIComponent(g)));}};M.getBlob=function(g){if(!arguments.length){g=null;}return new I(this.data.join(""),g,"raw");};M.toString=function(){return "[object BlobBuilder]";};N.slice=function(g,j,m){var n=arguments.length;if(n<3){m=null;}return new I(this.data.slice(g,n>1?j:this.data.length),m,this.encoding);};N.toString=function(){return "[object Blob]";};N.close=function(){this.size=0;delete  this.data;};return H;}(S));S.Blob=function(g,j){var m=j?(j.type||""):"",n=new y0();if(g){for(var o=0,q=g.length;o<q;o++){n.append(g[o]);}}return n.getBlob(m);};}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));var saveAs=saveAs||(typeof navigator!==u4b.p3&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator))||(function(U){"use strict";var Y="download";if(typeof navigator!==u4b.p3&&/MSIE [1-9]\./.test(navigator.userAgent)){return ;}var W=U.document,Q=function(){return U.URL||U.webkitURL||U;},s0=W.createElementNS(u4b.P4,"a"),k0=Y in s0,m0=function(g){var j=W.createEvent("MouseEvents");j.initMouseEvent("click",u4b.q4,u4b.K4,U,0,0,0,0,0,u4b.K4,u4b.K4,u4b.K4,u4b.K4,0,u4b.p4);g.dispatchEvent(j);},j0=U.webkitRequestFileSystem,e0=U.requestFileSystem||j0||U.mozRequestFileSystem,R=function(g){(U.setImmediate||U.setTimeout)(function(){throw g;},0);},S=u4b.I3,y0=0,f0=10,v0=function(g){var j=function(){if(typeof g===u4b.n4){Q().revokeObjectURL(g);}else{g.remove();}};if(U.chrome){j();}else{setTimeout(j,f0);}},z0=function(j,m,n){m=[].concat(m);var o=m.length;while(o--){var q=j["on"+m[o]];if(typeof q===u4b.C3){try{q.call(j,n||j);}catch(g){R(g);}}}},C0=function(s,t){var v=this,H=s.type,z=u4b.K4,I,K,M=function(){z0(v,"writestart progress write writeend".split(u4b.M3));},N=function(){if(z||!I){I=Q().createObjectURL(s);}if(K){K.location.href=I;}else{var g=U.open(I,"_blank");if(g==undefined&&typeof safari!==u4b.p3){U.location.href=I;}}v.readyState=v.DONE;M();v0(I);},P=function(g){return function(){if(v.readyState!==v.DONE){return g.apply(this,arguments);}};},O={create:u4b.q4,exclusive:u4b.K4},X;v.readyState=v.INIT;if(!t){t=Y;}if(k0){I=Q().createObjectURL(s);s0.href=I;s0.download=t;m0(s0);v.readyState=v.DONE;M();v0(I);return ;}if(U.chrome&&H&&H!==S){X=s.slice||s.webkitSlice;s=X.call(s,0,s.size,S);z=u4b.q4;}if(j0&&t!==Y){t+=".download";}if(H===S||j0){K=U;}if(!e0){N();return ;}y0+=s.size;e0(U.TEMPORARY,y0,P(function(q){q.root.getDirectory("saved",O,P(function(n){var o=function(){n.getFile(t,O,P(function(m){m.createWriter(P(function(j){j.onwriteend=function(g){K.location.href=m.toURL();v.readyState=v.DONE;z0(v,"writeend",g);v0(m);};j.onerror=function(){var g=j.error;if(g.code!==g.ABORT_ERR){N();}};"writestart progress write abort".split(" ").forEach(function(g){j["on"+g]=v["on"+g];});j.write(s);v.abort=function(){j.abort();v.readyState=v.DONE;};v.readyState=v.WRITING;}),N);}),N);};n.getFile(t,{create:false},P(function(g){g.remove();o();}),P(function(g){if(g.code===g.NOT_FOUND_ERR){o();}else{N();}}));}),N);}),N);},Z=C0.prototype,I0=function(g,j){return new C0(g,j);};Z.abort=function(){var g=this;g.readyState=g.DONE;z0(g,"abort");};Z.readyState=Z.INIT=0;Z.WRITING=1;Z.DONE=2;Z.error=Z.onwritestart=Z.onprogress=Z.onwrite=Z.onabort=Z.onerror=Z.onwriteend=null;return I0;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this.content));if(typeof module!==u4b.p3&&module!==u4b.p4){module.exports=saveAs;}else if((typeof define!==u4b.p3&&0)){define([],function(){return saveAs;});}void function(g,j){if(typeof module==='object'){module.exports=j();}else if(0==='function'){define(j);}else{g.adler32cs=j();}}(jsPDF,function(){var K=typeof ArrayBuffer==='function'&&typeof Uint8Array==='function',M=null,N=(function(){if(!K)return function j(){return false;};try{var m=require('buffer');if(typeof m.Buffer==='function')M=m.Buffer;}catch(g){}return function j(g){return g instanceof ArrayBuffer||M!==null&&g instanceof M;};}()),P=(function(){if(M!==null){return function j(g){return new M(g,'utf8').toString('binary');};}else{return function j(g){return unescape(encodeURIComponent(g));};}}()),O=65521,X=function X(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length;o<q;o++){m=(m+(j.charCodeAt(o)&0xFF))%O;n=(n+m)%O;}return (n<<16|m)>>>0;},U=function U(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length,s;o<q;o++){m=(m+j[o])%O;n=(n+m)%O;}return (n<<16|m)>>>0;},Y={},W=Y.Adler32=(function(){var m=function n(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!isFinite(g=g==null?1:+g)){throw  new Error('First arguments needs to be a finite number.');}this.checksum=g>>>0;};var o=m.prototype={};o.constructor=m;m.from=function(g){g.prototype=o;return g;}(function q(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');this.checksum=X(1,g.toString());});m.fromUtf8=function(g){g.prototype=o;return g;}(function s(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());this.checksum=X(1,j);});if(K){m.fromBuffer=function(g){g.prototype=o;return g;}(function t(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(1,j);});}o.update=function v(g){if(g==null)throw  new Error('First argument needs to be a string.');g=g.toString();return this.checksum=X(this.checksum,g);};o.updateUtf8=function H(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return this.checksum=X(this.checksum,j);};if(K){o.updateBuffer=function z(g){if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(this.checksum,j);};}o.clone=function I(){return new n(this.checksum);};return m;}());Y.from=function Q(g){if(g==null)throw  new Error('First argument needs to be a string.');return X(1,g.toString());};Y.fromUtf8=function s0(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return X(1,j);};if(K){Y.fromBuffer=function k0(g){if(!N(g))throw  new Error('First argument need to be ArrayBuffer.');var j=new Uint8Array(g);return U(1,j);};}return Y;});var Deflater=(function(Y2){var U1=15,r1=30,p2=19,s2=29,k2=u4b.T4,w1=(k2+1+s2),s3=(2*w1+1),t2=u4b.T4,D3=7,r3=16,o3=17,l3=18,d3=8*2,Z2=-1,E3=1,G2=2,G3=0,m2=0,v3=1,H3=3,B1=4,O1=0,t3=1,F2=2,R1=-2,O3=-3,n2=-5,x3=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function R0(){var M=this;function N(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.extra_bits,o=M.stat_desc.extra_base,q=M.stat_desc.max_length,s,t,v,H,z,I,K=0;for(H=0;H<=U1;H++)g.bl_count[H]=0;j[g.heap[g.heap_max]*2+1]=0;for(s=g.heap_max+1;s<s3;s++){t=g.heap[s];H=j[j[t*2+1]*2+1]+1;if(H>q){H=q;K++;}j[t*2+1]=H;if(t>M.max_code)continue;g.bl_count[H]++;z=0;if(t>=o)z=n[t-o];I=j[t*2];g.opt_len+=I*(H+z);if(m)g.static_len+=I*(m[t*2+1]+z);}if(K===0)return ;do {H=q-1;while(g.bl_count[H]===0)H--;g.bl_count[H]--;g.bl_count[H+1]+=2;g.bl_count[q]--;K-=2;}while(K>0);for(H=q;H!==0;H--){t=g.bl_count[H];while(t!==0){v=g.heap[--s];if(v>M.max_code)continue;if(j[v*2+1]!=H){g.opt_len+=(H-j[v*2+1])*j[v*2];j[v*2+1]=H;}t--;}}}function P(g,j){var m=0;do {m|=g&1;g>>>=1;m<<=1;}while(--j>0);return m>>>1;}function O(g,j,m){var n=[],o=0,q,s,t;for(q=1;q<=U1;q++){n[q]=o=((o+m[q-1])<<1);}for(s=0;s<=j;s++){t=g[s*2+1];if(t===0)continue;g[s*2]=P(n[t]++,t);}}M.build_tree=function(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.elems,o,q,s=-1,t;g.heap_len=0;g.heap_max=s3;for(o=0;o<n;o++){if(j[o*2]!==0){g.heap[++g.heap_len]=s=o;g.depth[o]=0;}else{j[o*2+1]=0;}}while(g.heap_len<2){t=g.heap[++g.heap_len]=s<2?++s:0;j[t*2]=1;g.depth[t]=0;g.opt_len--;if(m)g.static_len-=m[t*2+1];}M.max_code=s;for(o=Math.floor(g.heap_len/2);o>=1;o--)g.pqdownheap(j,o);t=n;do {o=g.heap[1];g.heap[1]=g.heap[g.heap_len--];g.pqdownheap(j,1);q=g.heap[1];g.heap[--g.heap_max]=o;g.heap[--g.heap_max]=q;j[t*2]=(j[o*2]+j[q*2]);g.depth[t]=Math.max(g.depth[o],g.depth[q])+1;j[o*2+1]=j[q*2+1]=t;g.heap[1]=t++;g.pqdownheap(j,1);}while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1];N(g);O(j,M.max_code,g.bl_count);};}R0._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];R0.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];R0.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,u4b.T4,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];R0.d_code=function(g){return ((g)<u4b.T4?x3[g]:x3[u4b.T4+((g)>>>7)]);};R0.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];R0.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];R0.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];R0.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function s1(g,j,m,n,o){var q=this;q.static_tree=g;q.extra_bits=j;q.extra_base=m;q.elems=n;q.max_length=o;}s1.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,u4b.U4,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];s1.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];s1.static_l_desc=new s1(s1.static_ltree,R0.extra_lbits,k2+1,w1,U1);s1.static_d_desc=new s1(s1.static_dtree,R0.extra_dbits,0,r1,U1);s1.static_bl_desc=new s1(u4b.p4,R0.extra_blbits,0,p2,D3);var J3=9,N3=8;function V1(g,j,m,n,o){var q=this;q.good_length=g;q.max_lazy=j;q.nice_length=m;q.max_chain=n;q.func=o;}var w3=0,H2=1,e2=2,T1=[new V1(0,0,0,0,w3),new V1(4,4,8,4,H2),new V1(4,5,16,8,H2),new V1(4,6,32,32,H2),new V1(4,4,16,16,e2),new V1(8,16,32,32,e2),new V1(8,16,128,128,e2),new V1(8,32,128,u4b.T4,e2),new V1(32,128,258,1024,e2),new V1(32,258,258,4096,e2)],O2=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],F1=0,L2=1,u2=2,M2=3,P3=0x20,i3=42,Q2=113,v2=666,h3=8,R3=0,f3=1,Q3=2,e1=3,P2=258,C1=(P2+e1+1);function y3(g,j,m,n){var o=g[j*2],q=g[m*2];return (o<q||(o==q&&n[j]<=n[m]));}function S3(){var K=this,M,N,P,O,X,U,Y,W,Q,s0,k0,m0,j0,e0,R,S,y0,f0,v0,z0,C0,Z,I0,w0,l0,U0,O0,D0,N0,t1,x1,W0,q1,Q0,f1=new R0(),F0=new R0(),E1=new R0();K.depth=[];var o1,u1,X0,B0,i1,q0,K0,H0;K.bl_count=[];K.heap=[];W0=[];q1=[];Q0=[];function g0(){var g;s0=2*U;m0[e0-1]=0;for(g=0;g<e0-1;g++){m0[g]=0;}O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;Z=0;f0=0;w0=0;v0=l0=e1-1;C0=0;j0=0;}function v1(){var g;for(g=0;g<w1;g++)W0[g*2]=0;for(g=0;g<r1;g++)q1[g*2]=0;for(g=0;g<p2;g++)Q0[g*2]=0;W0[t2*2]=1;K.opt_len=K.static_len=0;X0=i1=0;}function H1(){f1.dyn_tree=W0;f1.stat_desc=s1.static_l_desc;F0.dyn_tree=q1;F0.stat_desc=s1.static_d_desc;E1.dyn_tree=Q0;E1.stat_desc=s1.static_bl_desc;K0=0;H0=0;q0=8;v1();}K.pqdownheap=function(g,j){var m=K.heap,n=m[j],o=j<<1;while(o<=K.heap_len){if(o<K.heap_len&&y3(g,m[o+1],m[o],K.depth)){o++;}if(y3(g,n,m[o],K.depth))break;m[j]=m[o];j=o;o<<=1;}m[j]=n;};function W1(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}g[(j+1)*2+1]=0xffff;for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){Q0[o*2]+=s;}else if(o!==0){if(o!=n)Q0[o*2]++;Q0[r3*2]++;}else if(s<=10){Q0[o3*2]++;}else{Q0[l3*2]++;}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function X1(){var g;W1(W0,f1.max_code);W1(q1,F0.max_code);E1.build_tree(K);for(g=p2-1;g>=3;g--){if(Q0[R0.bl_order[g]*2+1]!==0)break;}K.opt_len+=3*(g+1)+5+5+4;return g;}function h1(g){K.pending_buf[K.pending++]=g;}function I1(g){h1(g&0xff);h1((g>>>8)&0xff);}function Y1(g){h1((g>>8)&0xff);h1((g&0xff)&0xff);}function l1(g,j){var m,n=j;if(H0>d3-n){m=g;K0|=((m<<H0)&0xffff);I1(K0);K0=m>>>(d3-H0);H0+=n-d3;}else{K0|=(((g)<<H0)&0xffff);H0+=n;}}function y1(g,j){var m=g*2;l1(j[m]&0xffff,j[m+1]&0xffff);}function z2(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){do {y1(o,Q0);}while(--s!==0);}else if(o!==0){if(o!=n){y1(o,Q0);s--;}y1(r3,Q0);l1(s-3,2);}else if(s<=10){y1(o3,Q0);l1(s-3,3);}else{y1(l3,Q0);l1(s-11,7);}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function U2(g,j,m){var n;l1(g-257,5);l1(j-1,5);l1(m-4,4);for(n=0;n<m;n++){l1(Q0[R0.bl_order[n]*2+1],3);}z2(W0,g-1);z2(q1,j-1);}function w2(){if(H0==16){I1(K0);K0=0;H0=0;}else if(H0>=8){h1(K0&0xff);K0>>>=8;H0-=8;}}function j3(){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();if(1+q0+10-H0<9){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();}q0=7;}function Z1(g,j){var m,n,o;K.pending_buf[B0+X0*2]=(g>>>8)&0xff;K.pending_buf[B0+X0*2+1]=g&0xff;K.pending_buf[o1+X0]=j&0xff;X0++;if(g===0){W0[j*2]++;}else{i1++;g--;W0[(R0._length_code[j]+k2+1)*2]++;q1[R0.d_code(g)*2]++;}if((X0&0x1fff)===0&&D0>2){m=X0*8;n=Z-f0;for(o=0;o<r1;o++){m+=q1[o*2]*(5+R0.extra_dbits[o]);}m>>>=3;if((i1<Math.floor(X0/2))&&m<Math.floor(n/2))return u4b.q4;}return (X0==u1-1);}function f2(g,j){var m,n,o=0,q,s;if(X0!==0){do {m=((K.pending_buf[B0+o*2]<<8)&0xff00)|(K.pending_buf[B0+o*2+1]&0xff);n=(K.pending_buf[o1+o])&0xff;o++;if(m===0){y1(n,g);}else{q=R0._length_code[n];y1(q+k2+1,g);s=R0.extra_lbits[q];if(s!==0){n-=R0.base_length[q];l1(n,s);}m--;q=R0.d_code(m);y1(q,j);s=R0.extra_dbits[q];if(s!==0){m-=R0.base_dist[q];l1(m,s);}}}while(o<X0);}y1(t2,g);q0=g[t2*2+1];}function B2(){if(H0>8){I1(K0);}else if(H0>0){h1(K0&0xff);}K0=0;H0=0;}function X2(g,j,m){B2();q0=8;if(m){I1(j);I1(~j);}K.pending_buf.set(Q.subarray(g,g+j),K.pending);K.pending+=j;}function A2(g,j,m){l1((R3<<1)+(m?1:0),3);X2(g,j,u4b.q4);}function V2(g,j,m){var n,o,q=0;if(D0>0){f1.build_tree(K);F0.build_tree(K);q=X1();n=(K.opt_len+3+7)>>>3;o=(K.static_len+3+7)>>>3;if(o<=n)n=o;}else{n=o=j+5;}if((j+4<=n)&&g!=-1){A2(g,j,m);}else if(o==n){l1((f3<<1)+(m?1:0),3);f2(s1.static_ltree,s1.static_dtree);}else{l1((Q3<<1)+(m?1:0),3);U2(f1.max_code+1,F0.max_code+1,q+1);f2(W0,q1);}v1();if(m){B2();}}function M1(g){V2(f0>=0?f0:-1,Z-f0,g);f0=Z;M.flush_pending();}function g2(){var g,j,m,n;do {n=(s0-w0-Z);if(n===0&&Z===0&&w0===0){n=U;}else if(n==-1){n--;}else if(Z>=U+U-C1){Q.set(Q.subarray(U,U+U),0);I0-=U;Z-=U;f0-=U;g=e0;m=g;do {j=(m0[--m]&0xffff);m0[m]=(j>=U?j-U:0);}while(--g!==0);g=U;m=g;do {j=(k0[--m]&0xffff);k0[m]=(j>=U?j-U:0);}while(--g!==0);n+=U;}if(M.avail_in===0)return ;g=M.read_buf(Q,Z+w0,n);w0+=g;if(w0>=e1){j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}while(w0<C1&&M.avail_in!==0);}function r2(g){var j=0xffff,m;if(j>P-5){j=P-5;}while(u4b.q4){if(w0<=1){g2();if(w0===0&&g==m2)return F1;if(w0===0)break;}Z+=w0;w0=0;m=f0+j;if(Z===0||Z>=m){w0=(Z-m);Z=m;M1(u4b.K4);if(M.avail_out===0)return F1;}if(Z-f0>=U-C1){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0)return (g==B1)?u2:F1;return g==B1?M2:L2;}function h2(g){var j=U0,m=Z,n,o,q=l0,s=Z>(U-C1)?Z-(U-C1):0,t=x1,v=W,H=Z+P2,z=Q[m+q-1],I=Q[m+q];if(l0>=t1){j>>=2;}if(t>w0)t=w0;do {n=g;if(Q[n+q]!=I||Q[n+q-1]!=z||Q[n]!=Q[m]||Q[++n]!=Q[m+1])continue;m+=2;n++;do {}while(Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&m<H);o=P2-(H-m);m=H-P2;if(o>q){I0=g;q=o;if(o>=t)break;z=Q[m+q-1];I=Q[m+q];}}while((g=(k0[g&v]&0xffff))>s&&--j!==0);if(q<=w0)return q;return w0;}function d2(g){var j=0,m;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}if(j!==0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}}if(v0>=e1){m=Z1(Z-I0,v0-e1);w0-=v0;if(v0<=O0&&w0>=e1){v0--;do {Z++;j0=((j0<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}while(--v0!==0);Z++;}else{Z+=v0;v0=0;j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}else{m=Z1(0,Q[Z]&0xff);w0--;Z++;}if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function D2(g){var j=0,m,n;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}l0=v0;z0=I0;v0=e1-1;if(j!==0&&l0<O0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}if(v0<=5&&(N0==E3||(v0==e1&&Z-I0>4096))){v0=e1-1;}}if(l0>=e1&&v0<=l0){n=Z+w0-e1;m=Z1(Z-1-z0,l0-e1);w0-=l0-1;l0-=2;do {if(++Z<=n){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}}while(--l0!==0);C0=0;v0=e1-1;Z++;if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}else if(C0!==0){m=Z1(0,Q[Z-1]&0xff);if(m){M1(u4b.K4);}Z++;w0--;if(M.avail_out===0)return F1;}else{C0=1;Z++;w0--;}}if(C0!==0){m=Z1(0,Q[Z-1]&0xff);C0=0;}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function o2(g){g.total_in=g.total_out=0;g.msg=u4b.p4;K.pending=0;K.pending_out=0;N=Q2;X=m2;H1();g0();return O1;}K.deflateInit=function(g,j,m,n,o,q){if(!n)n=h3;if(!o)o=N3;if(!q)q=G3;g.msg=u4b.p4;if(j==Z2)j=6;if(o<1||o>J3||n!=h3||m<9||m>15||j<0||j>9||q<0||q>G2){return R1;}g.dstate=K;Y=m;U=1<<Y;W=U-1;R=o+7;e0=1<<R;S=e0-1;y0=Math.floor((R+e1-1)/e1);Q=new Uint8Array(U*2);k0=[];m0=[];u1=1<<(o+6);K.pending_buf=new Uint8Array(u1*4);P=u1*4;B0=Math.floor(u1/2);o1=(1+2)*u1;D0=j;N0=q;O=n&0xff;return o2(g);};K.deflateEnd=function(){if(N!=i3&&N!=Q2&&N!=v2){return R1;}K.pending_buf=u4b.p4;m0=u4b.p4;k0=u4b.p4;Q=u4b.p4;K.dstate=u4b.p4;return N==Q2?O3:O1;};K.deflateParams=function(g,j,m){var n=O1;if(j==Z2){j=6;}if(j<0||j>9||m<0||m>G2){return R1;}if(T1[D0].func!=T1[j].func&&g.total_in!==0){n=g.deflate(v3);}if(D0!=j){D0=j;O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;}N0=m;return n;};K.deflateSetDictionary=function(g,j,m){var n=m,o,q=0;if(!j||N!=i3)return R1;if(n<e1)return O1;if(n>U-C1){n=U-C1;q=m-n;}Q.set(j.subarray(q,q+n),0);Z=n;f0=n;j0=Q[0]&0xff;j0=(((j0)<<y0)^(Q[1]&0xff))&S;for(o=0;o<=n-e1;o++){j0=(((j0)<<y0)^(Q[(o)+(e1-1)]&0xff))&S;k0[o&W]=m0[j0];m0[j0]=o;}return O1;};K.deflate=function(g,j){var m,n,o,q,s;if(j>B1||j<0){return R1;}if(!g.next_out||(!g.next_in&&g.avail_in!==0)||(N==v2&&j!=B1)){g.msg=O2[F2-(R1)];return R1;}if(g.avail_out===0){g.msg=O2[F2-(n2)];return n2;}M=g;q=X;X=j;if(N==i3){n=(h3+((Y-8)<<4))<<8;o=((D0-1)&0xff)>>1;if(o>3)o=3;n|=(o<<6);if(Z!==0)n|=P3;n+=31-(n%31);N=Q2;Y1(n);}if(K.pending!==0){M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}else if(M.avail_in===0&&j<=q&&j!=B1){M.msg=O2[F2-(n2)];return n2;}if(N==v2&&M.avail_in!==0){g.msg=O2[F2-(n2)];return n2;}if(M.avail_in!==0||w0!==0||(j!=m2&&N!=v2)){s=-1;switch(T1[D0].func){case w3:s=r2(j);break;case H2:s=d2(j);break;case e2:s=D2(j);break;default:}if(s==u2||s==M2){N=v2;}if(s==F1||s==u2){if(M.avail_out===0){X=-1;}return O1;}if(s==L2){if(j==v3){j3();}else{A2(0,0,u4b.K4);if(j==H3){for(m=0;m<e0;m++)m0[m]=0;}}M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}}if(j!=B1)return O1;return t3;};}function z3(){var g=this;g.next_in_index=0;g.next_out_index=0;g.avail_in=0;g.total_in=0;g.avail_out=0;g.total_out=0;}z3.prototype={deflateInit:function(g,j){var m=this;m.dstate=new S3();if(!j)j=U1;return m.dstate.deflateInit(m,g,j);},deflate:function(g){var j=this;if(!j.dstate){return R1;}return j.dstate.deflate(j,g);},deflateEnd:function(){var g=this;if(!g.dstate)return R1;var j=g.dstate.deflateEnd();g.dstate=u4b.p4;return j;},deflateParams:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateParams(m,g,j);},deflateSetDictionary:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateSetDictionary(m,g,j);},read_buf:function(g,j,m){var n=this,o=n.avail_in;if(o>m)o=m;if(o===0)return 0;n.avail_in-=o;g.set(n.next_in.subarray(n.next_in_index,n.next_in_index+o),j);n.next_in_index+=o;n.total_in+=o;return o;},flush_pending:function(){var g=this,j=g.dstate.pending;if(j>g.avail_out)j=g.avail_out;if(j===0)return ;g.next_out.set(g.dstate.pending_buf.subarray(g.dstate.pending_out,g.dstate.pending_out+j),g.next_out_index);g.next_out_index+=j;g.dstate.pending_out+=j;g.total_out+=j;g.avail_out-=j;g.dstate.pending-=j;if(g.dstate.pending===0){g.dstate.pending_out=0;}}};return function T3(H){var z="deflating: ",I=this,K=new z3(),M=512,N=m2,P=new Uint8Array(M);if(typeof H==u4b.p3)H=Z2;K.deflateInit(H);K.next_out=P;I.append=function(j,m){var n,o=[],q=0,s=0,t=0,v;if(!j.length)return ;K.next_in_index=0;K.next_in=j;K.avail_in=j.length;do {K.next_out_index=0;K.avail_out=M;n=K.deflate(N);if(n!=O1)throw "deflating: "+K.msg;if(K.next_out_index)if(K.next_out_index==M)o.push(new Uint8Array(P));else o.push(new Uint8Array(P.subarray(0,K.next_out_index)));t+=K.next_out_index;if(m&&K.next_in_index>0&&K.next_in_index!=q){m(K.next_in_index);q=K.next_in_index;}}while(K.avail_in>0||K.avail_out===0);v=new Uint8Array(t);o.forEach(function(g){v.set(g,s);s+=g.length;});return v;};I.flush=function(){var j,m=[],n=0,o=0,q;do {K.next_out_index=0;K.avail_out=M;j=K.deflate(B1);if(j!=t3&&j!=O1)throw z+K.msg;if(M-K.avail_out>0)m.push(new Uint8Array(P.subarray(0,K.next_out_index)));o+=K.next_out_index;}while(K.avail_in>0||K.avail_out===0);K.deflateEnd();q=new Uint8Array(o);m.forEach(function(g){q.set(g,n);n+=g.length;});return q;};};})(this);(function(C0){var Z;Z=(function(){var m0,j0,e0,R,S,y0,f0,v0;z0.load=function(m,n,o){var q,s=this;if(typeof n==='function'){o=n;}q=new XMLHttpRequest;q.open("GET",m,true);q.responseType="arraybuffer";q.onload=function(){var g,j;g=new Uint8Array(q.response||q.mozResponseArrayBuffer);j=new z0(g);if(typeof (n!=null?n.getContext:void 0)==='function'){j.render(n);}return typeof o==="function"?o(j):void 0;};return q.send(null);};R=0;e0=1;S=2;j0=0;m0=1;function z0(m){var n,o,q,s,t,v,H,z,I,K,M,N,P,O,X;this.data=m;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};v=null;while(true){n=this.readUInt32();K=((function(){var g,j;j=[];for(H=g=0;g<4;H=++g){j.push(String.fromCharCode(this.data[this.pos++]));}return j;}).call(this)).join('');switch(K){case 'IHDR':this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case 'acTL':this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case 'PLTE':this.palette=this.read(n);break;case 'fcTL':if(v){this.animation.frames.push(v);}this.pos+=4;v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};t=this.readUInt16();s=this.readUInt16()||100;v.delay=1000*t/s;v.disposeOp=this.data[this.pos++];v.blendOp=this.data[this.pos++];v.data=[];break;case 'IDAT':case 'fdAT':if(K==='fdAT'){this.pos+=4;n-=4;}m=(v!=null?v.data:void 0)||this.imgData;for(H=P=0;0<=n?P<n:P>n;H=0<=n?++P:--P){m.push(this.data[this.pos++]);}break;case 'tRNS':this.transparency={};switch(this.colorType){case 3:q=this.palette.length/3;this.transparency.indexed=this.read(n);if(this.transparency.indexed.length>q)throw  new Error('More transparent colors than palette size');M=q-this.transparency.indexed.length;if(M>0){for(H=O=0;0<=M?O<M:O>M;H=0<=M?++O:--O){this.transparency.indexed.push(255);}}break;case 0:this.transparency.grayscale=this.read(n)[0];break;case 2:this.transparency.rgb=this.read(n);}break;case 'tEXt':N=this.read(n);z=N.indexOf(0);I=String.fromCharCode.apply(String,N.slice(0,z));this.text[I]=String.fromCharCode.apply(String,N.slice(z+1));break;case 'IEND':if(v){this.animation.frames.push(v);}this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}).call(this);this.hasAlphaChannel=(X=this.colorType)===4||X===6;o=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*o;this.colorSpace=(function(){switch(this.colors){case 1:return 'DeviceGray';case 3:return 'DeviceRGB';}}).call(this);this.imgData=new Uint8Array(this.imgData);return ;default:this.pos+=n;}this.pos+=4;if(this.pos>this.data.length){throw  new Error("Incomplete or corrupt PNG file");}}return ;}z0.prototype.read=function(g){var j,m,n;n=[];for(j=m=0;0<=g?m<g:m>g;j=0<=g?++m:--m){n.push(this.data[this.pos++]);}return n;};z0.prototype.readUInt32=function(){var g,j,m,n;g=this.data[this.pos++]<<24;j=this.data[this.pos++]<<16;m=this.data[this.pos++]<<8;n=this.data[this.pos++];return g|j|m|n;};z0.prototype.readUInt16=function(){var g,j;g=this.data[this.pos++]<<8;j=this.data[this.pos++];return g|j;};z0.prototype.decodePixels=function(g){var j,m,n,o,q,s,t,v,H,z,I,K,M,N,P,O,X,U,Y,W,Q,s0,k0;if(g==null){g=this.imgData;}if(g.length===0){return new Uint8Array(0);}g=new FlateStream(g);g=g.getBytes();K=this.pixelBitlength/8;O=K*this.width;M=new Uint8Array(O*this.height);s=g.length;P=0;N=0;m=0;while(N<s){switch(g[N++]){case 0:for(o=Y=0;Y<O;o=Y+=1){M[m++]=g[N++];}break;case 1:for(o=W=0;W<O;o=W+=1){j=g[N++];q=o<K?0:M[m-K];M[m++]=(j+q)%256;}break;case 2:for(o=Q=0;Q<O;o=Q+=1){j=g[N++];n=(o-(o%K))/K;X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(X+j)%256;}break;case 3:for(o=s0=0;s0<O;o=s0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(j+Math.floor((q+X)/2))%256;}break;case 4:for(o=k0=0;k0<O;o=k0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];if(P===0){X=U=0;}else{X=M[(P-1)*O+n*K+(o%K)];U=n&&M[(P-1)*O+(n-1)*K+(o%K)];}t=q+X-U;v=Math.abs(t-q);z=Math.abs(t-X);I=Math.abs(t-U);if(v<=z&&v<=I){H=q;}else if(z<=I){H=X;}else{H=U;}M[m++]=(j+H)%256;}break;default:throw  new Error("Invalid filter algorithm: "+g[N-1]);}P++;}return M;};z0.prototype.decodePalette=function(){var g,j,m,n,o,q,s,t,v,H;n=this.palette;s=this.transparency.indexed||[];q=new Uint8Array((s.length||0)+n.length);o=0;m=n.length;g=0;for(j=t=0,v=n.length;t<v;j=t+=3){q[o++]=n[j];q[o++]=n[j+1];q[o++]=n[j+2];q[o++]=(H=s[g++])!=null?H:255;}return q;};z0.prototype.copyToImageData=function(g,j){var m,n,o,q,s,t,v,H,z,I,K;n=this.colors;z=null;m=this.hasAlphaChannel;if(this.palette.length){z=(K=this._decodedPalette)!=null?K:this._decodedPalette=this.decodePalette();n=4;m=true;}o=g.data||g;H=o.length;s=z||j;q=t=0;if(n===1){while(q<H){v=z?j[q/4]*4:t;I=s[v++];o[q++]=I;o[q++]=I;o[q++]=I;o[q++]=m?s[v++]:255;t=v;}}else{while(q<H){v=z?j[q/4]*4:t;o[q++]=s[v++];o[q++]=s[v++];o[q++]=s[v++];o[q++]=m?s[v++]:255;t=v;}}};z0.prototype.decode=function(){var g;g=new Uint8Array(this.width*this.height*4);this.copyToImageData(g,this.decodePixels());return g;};try{f0=C0.document.createElement('canvas');v0=f0.getContext('2d');}catch(g){return -1;}y0=function(g){var j;v0.width=g.width;v0.height=g.height;v0.clearRect(0,0,g.width,g.height);v0.putImageData(g,0,0);j=new Image;j.src=f0.toDataURL();return j;};z0.prototype.decodeFrames=function(g){var j,m,n,o,q,s,t,v;if(!this.animation){return ;}t=this.animation.frames;v=[];for(m=q=0,s=t.length;q<s;m=++q){j=t[m];n=g.createImageData(j.width,j.height);o=this.decodePixels(new Uint8Array(j.data));this.copyToImageData(n,o);j.imageData=n;v.push(j.image=y0(n));}return v;};z0.prototype.renderFrame=function(g,j){var m,n,o;n=this.animation.frames;m=n[j];o=n[j-1];if(j===0){g.clearRect(0,0,this.width,this.height);}if((o!=null?o.disposeOp:void 0)===e0){g.clearRect(o.xOffset,o.yOffset,o.width,o.height);}else if((o!=null?o.disposeOp:void 0)===S){g.putImageData(o.imageData,o.xOffset,o.yOffset);}if(m.blendOp===j0){g.clearRect(m.xOffset,m.yOffset,m.width,m.height);}return g.drawImage(m.image,m.xOffset,m.yOffset);};z0.prototype.animate=function(m){var n,o,q,s,t,v,H=this;o=0;v=this.animation,s=v.numFrames,q=v.frames,t=v.numPlays;return (n=function(){var g,j;g=o++%s;j=q[g];H.renderFrame(m,g);if(s>1&&o/s<t){return H.animation._timeout=setTimeout(n,j.delay);}})();};z0.prototype.stopAnimation=function(){var g;return clearTimeout((g=this.animation)!=null?g._timeout:void 0);};z0.prototype.render=function(g){var j,m;if(g._png){g._png.stopAnimation();}g._png=this;g.width=this.width;g.height=this.height;j=g.getContext("2d");if(this.animation){this.decodeFrames(j);return this.animate(j);}else{m=j.createImageData(this.width,this.height);this.copyToImageData(m,this.decodePixels());return j.putImageData(m,0,0);}};return z0;})();C0.PNG=Z;})(typeof window!==u4b.p3&&window||this);var DecodeStream=(function(){function s(){this.pos=0;this.bufferLength=0;this.eof=u4b.K4;this.buffer=u4b.p4;}s.prototype={ensureBuffer:function decodestream_ensureBuffer(g){var j=this.buffer,m=j?j.byteLength:0;if(g<m)return j;var n=512;while(n<g)n<<=1;var o=new Uint8Array(n);for(var q=0;q<m;++q)o[q]=j[q];return this.buffer=o;},getByte:function decodestream_getByte(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return this.buffer[this.pos++];},getBytes:function decodestream_getBytes(g){var j=this.pos;if(g){this.ensureBuffer(j+g);var m=j+g;while(!this.eof&&this.bufferLength<m)this.readBlock();var n=this.bufferLength;if(m>n)m=n;}else{while(!this.eof)this.readBlock();var m=this.bufferLength;}this.pos=m;return this.buffer.subarray(j,m);},lookChar:function decodestream_lookChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos]);},getChar:function decodestream_getChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos++]);},makeSubStream:function decodestream_makeSubstream(g,j,m){var n=g+j;while(this.bufferLength<=n&&!this.eof)this.readBlock();return new Stream(this.buffer,g,j,m);},skip:function decodestream_skip(g){if(!g)g=1;this.pos+=g;},reset:function decodestream_reset(){this.pos=0;}};return s;})(),FlateStream=(function(){if(typeof Uint32Array===u4b.U3){return undefined;}var I0=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w0=new Uint32Array([0x00003,0x00004,0x00005,0x00006,0x00007,0x00008,0x00009,0x0000a,0x1000b,0x1000d,0x1000f,0x10011,0x20013,0x20017,0x2001b,0x2001f,0x30023,0x3002b,0x30033,0x3003b,0x40043,0x40053,0x40063,0x40073,0x50083,0x500a3,0x500c3,0x500e3,0x00102,0x00102,0x00102]),l0=new Uint32Array([0x00001,0x00002,0x00003,0x00004,0x10005,0x10007,0x20009,0x2000d,0x30011,0x30019,0x40021,0x40031,0x50041,0x50061,0x60081,0x600c1,0x70101,0x70181,0x80201,0x80301,0x90401,0x90601,0xa0801,0xa0c01,0xb1001,0xb1801,0xc2001,0xc3001,0xd4001,0xd6001]),U0=[new Uint32Array([0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c0,0x70108,0x80060,0x80020,0x900a0,0x80000,0x80080,0x80040,0x900e0,0x70104,0x80058,0x80018,0x90090,0x70114,0x80078,0x80038,0x900d0,0x7010c,0x80068,0x80028,0x900b0,0x80008,0x80088,0x80048,0x900f0,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c8,0x7010a,0x80064,0x80024,0x900a8,0x80004,0x80084,0x80044,0x900e8,0x70106,0x8005c,0x8001c,0x90098,0x70116,0x8007c,0x8003c,0x900d8,0x7010e,0x8006c,0x8002c,0x900b8,0x8000c,0x8008c,0x8004c,0x900f8,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c4,0x70109,0x80062,0x80022,0x900a4,0x80002,0x80082,0x80042,0x900e4,0x70105,0x8005a,0x8001a,0x90094,0x70115,0x8007a,0x8003a,0x900d4,0x7010d,0x8006a,0x8002a,0x900b4,0x8000a,0x8008a,0x8004a,0x900f4,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cc,0x7010b,0x80066,0x80026,0x900ac,0x80006,0x80086,0x80046,0x900ec,0x70107,0x8005e,0x8001e,0x9009c,0x70117,0x8007e,0x8003e,0x900dc,0x7010f,0x8006e,0x8002e,0x900bc,0x8000e,0x8008e,0x8004e,0x900fc,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c2,0x70108,0x80061,0x80021,0x900a2,0x80001,0x80081,0x80041,0x900e2,0x70104,0x80059,0x80019,0x90092,0x70114,0x80079,0x80039,0x900d2,0x7010c,0x80069,0x80029,0x900b2,0x80009,0x80089,0x80049,0x900f2,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900ca,0x7010a,0x80065,0x80025,0x900aa,0x80005,0x80085,0x80045,0x900ea,0x70106,0x8005d,0x8001d,0x9009a,0x70116,0x8007d,0x8003d,0x900da,0x7010e,0x8006d,0x8002d,0x900ba,0x8000d,0x8008d,0x8004d,0x900fa,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c6,0x70109,0x80063,0x80023,0x900a6,0x80003,0x80083,0x80043,0x900e6,0x70105,0x8005b,0x8001b,0x90096,0x70115,0x8007b,0x8003b,0x900d6,0x7010d,0x8006b,0x8002b,0x900b6,0x8000b,0x8008b,0x8004b,0x900f6,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900ce,0x7010b,0x80067,0x80027,0x900ae,0x80007,0x80087,0x80047,0x900ee,0x70107,0x8005f,0x8001f,0x9009e,0x70117,0x8007f,0x8003f,0x900de,0x7010f,0x8006f,0x8002f,0x900be,0x8000f,0x8008f,0x8004f,0x900fe,0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c1,0x70108,0x80060,0x80020,0x900a1,0x80000,0x80080,0x80040,0x900e1,0x70104,0x80058,0x80018,0x90091,0x70114,0x80078,0x80038,0x900d1,0x7010c,0x80068,0x80028,0x900b1,0x80008,0x80088,0x80048,0x900f1,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c9,0x7010a,0x80064,0x80024,0x900a9,0x80004,0x80084,0x80044,0x900e9,0x70106,0x8005c,0x8001c,0x90099,0x70116,0x8007c,0x8003c,0x900d9,0x7010e,0x8006c,0x8002c,0x900b9,0x8000c,0x8008c,0x8004c,0x900f9,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c5,0x70109,0x80062,0x80022,0x900a5,0x80002,0x80082,0x80042,0x900e5,0x70105,0x8005a,0x8001a,0x90095,0x70115,0x8007a,0x8003a,0x900d5,0x7010d,0x8006a,0x8002a,0x900b5,0x8000a,0x8008a,0x8004a,0x900f5,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cd,0x7010b,0x80066,0x80026,0x900ad,0x80006,0x80086,0x80046,0x900ed,0x70107,0x8005e,0x8001e,0x9009d,0x70117,0x8007e,0x8003e,0x900dd,0x7010f,0x8006e,0x8002e,0x900bd,0x8000e,0x8008e,0x8004e,0x900fd,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c3,0x70108,0x80061,0x80021,0x900a3,0x80001,0x80081,0x80041,0x900e3,0x70104,0x80059,0x80019,0x90093,0x70114,0x80079,0x80039,0x900d3,0x7010c,0x80069,0x80029,0x900b3,0x80009,0x80089,0x80049,0x900f3,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900cb,0x7010a,0x80065,0x80025,0x900ab,0x80005,0x80085,0x80045,0x900eb,0x70106,0x8005d,0x8001d,0x9009b,0x70116,0x8007d,0x8003d,0x900db,0x7010e,0x8006d,0x8002d,0x900bb,0x8000d,0x8008d,0x8004d,0x900fb,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c7,0x70109,0x80063,0x80023,0x900a7,0x80003,0x80083,0x80043,0x900e7,0x70105,0x8005b,0x8001b,0x90097,0x70115,0x8007b,0x8003b,0x900d7,0x7010d,0x8006b,0x8002b,0x900b7,0x8000b,0x8008b,0x8004b,0x900f7,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900cf,0x7010b,0x80067,0x80027,0x900af,0x80007,0x80087,0x80047,0x900ef,0x70107,0x8005f,0x8001f,0x9009f,0x70117,0x8007f,0x8003f,0x900df,0x7010f,0x8006f,0x8002f,0x900bf,0x8000f,0x8008f,0x8004f,0x900ff]),9],O0=[new Uint32Array([0x50000,0x50010,0x50008,0x50018,0x50004,0x50014,0x5000c,0x5001c,0x50002,0x50012,0x5000a,0x5001a,0x50006,0x50016,0x5000e,0x00000,0x50001,0x50011,0x50009,0x50019,0x50005,0x50015,0x5000d,0x5001d,0x50003,0x50013,0x5000b,0x5001b,0x50007,0x50017,0x5000f,0x00000]),5];function D0(g){throw  new Error(g);}function N0(g){var j=0,m=g[j++],n=g[j++];if(m==-1||n==-1)D0('Invalid header in flate stream');if((m&0x0f)!=0x08)D0('Unknown compression method in flate stream');if((((m<<8)+n)%31)!=0)D0('Bad FCHECK in flate stream');if(n&0x20)D0('FDICT bit set in flate stream');this.bytes=g;this.bytesPos=j;this.codeSize=0;this.codeBuf=0;DecodeStream.call(this);}N0.prototype=Object.create(DecodeStream.prototype);N0.prototype.getBits=function(g){var j=this.codeSize,m=this.codeBuf,n=this.bytes,o=this.bytesPos,q;while(j<g){if(typeof (q=n[o++])==u4b.U3)D0('Bad encoding in flate stream');m|=q<<j;j+=8;}q=m&((1<<g)-1);this.codeBuf=m>>g;this.codeSize=j-=g;this.bytesPos=o;return q;};N0.prototype.getCode=function(g){var j=g[0],m=g[1],n=this.codeSize,o=this.codeBuf,q=this.bytes,s=this.bytesPos;while(n<m){var t;if(typeof (t=q[s++])==u4b.U3)D0('Bad encoding in flate stream');o|=(t<<n);n+=8;}var v=j[o&((1<<m)-1)],H=v>>16,z=v&0xffff;if(n==0||n<H||H==0)D0('Bad encoding in flate stream');this.codeBuf=(o>>H);this.codeSize=(n-H);this.bytesPos=s;return z;};N0.prototype.generateHuffmanTable=function(g){var j=g.length,m=0;for(var n=0;n<j;++n){if(g[n]>m)m=g[n];}var o=1<<m,q=new Uint32Array(o);for(var s=1,t=0,v=2;s<=m;++s,t<<=1,v<<=1){for(var H=0;H<j;++H){if(g[H]==s){var z=0,I=t;for(var n=0;n<s;++n){z=(z<<1)|(I&1);I>>=1;}for(var n=z;n<o;n+=v)q[n]=(s<<16)|H;++t;}}}return [q,m];};N0.prototype.readBlock=function(){function s(g,j,m,n,o){var q=g.getBits(m)+n;while(q-->0)j[k0++]=o;}var t=this.getBits(3);if(t&1)this.eof=true;t>>=1;if(t==0){var v=this.bytes,H=this.bytesPos,z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var I=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');I|=(z<<8);if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var K=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');K|=(z<<8);if(K!=(~I&0xffff))D0('Bad uncompressed block length in flate stream');this.codeBuf=0;this.codeSize=0;var M=this.bufferLength,N=this.ensureBuffer(M+I),P=M+I;this.bufferLength=P;for(var O=M;O<P;++O){if(typeof (z=v[H++])=='undefined'){this.eof=true;break;}N[O]=z;}this.bytesPos=H;return ;}var X,U;if(t==1){X=U0;U=O0;}else if(t==2){var Y=this.getBits(5)+257,W=this.getBits(5)+1,Q=this.getBits(4)+4,s0=Array(I0.length),k0=0;while(k0<Q)s0[I0[k0++]]=this.getBits(3);var m0=this.generateHuffmanTable(s0),j0=0,k0=0,e0=Y+W,R=new Array(e0);while(k0<e0){var S=this.getCode(m0);if(S==16){s(this,R,2,3,j0);}else if(S==17){s(this,R,3,3,j0=0);}else if(S==18){s(this,R,7,11,j0=0);}else{R[k0++]=j0=S;}}X=this.generateHuffmanTable(R.slice(0,Y));U=this.generateHuffmanTable(R.slice(Y,e0));}else{D0('Unknown block type in flate stream');}var N=this.buffer,y0=N?N.length:0,f0=this.bufferLength;while(true){var v0=this.getCode(X);if(v0<256){if(f0+1>=y0){N=this.ensureBuffer(f0+1);y0=N.length;}N[f0++]=v0;continue;}if(v0==256){this.bufferLength=f0;return ;}v0-=257;v0=w0[v0];var z0=v0>>16;if(z0>0)z0=this.getBits(z0);var j0=(v0&0xffff)+z0;v0=this.getCode(U);v0=l0[v0];z0=v0>>16;if(z0>0)z0=this.getBits(z0);var C0=(v0&0xffff)+z0;if(f0+j0>=y0){N=this.ensureBuffer(f0+j0);y0=N.length;}for(var Z=0;Z<j0;++Z,++f0)N[f0]=N[f0-C0];}};return N0;})();(function(N){var P='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';if(typeof N.btoa===u4b.U3){N.btoa=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}do {j=g.charCodeAt(H++);m=g.charCodeAt(H++);n=g.charCodeAt(H++);v=j<<16|m<<8|n;o=v>>18&0x3f;q=v>>12&0x3f;s=v>>6&0x3f;t=v&0x3f;K[z++]=P.charAt(o)+P.charAt(q)+P.charAt(s)+P.charAt(t);}while(H<g.length);I=K.join('');var M=g.length%3;return (M?I.slice(0,M-3):I)+'==='.slice(M||3);};}if(typeof N.atob===u4b.U3){N.atob=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}g+='';do {o=P.indexOf(g.charAt(H++));q=P.indexOf(g.charAt(H++));s=P.indexOf(g.charAt(H++));t=P.indexOf(g.charAt(H++));v=o<<18|q<<12|s<<6|t;j=v>>16&0xff;m=v>>8&0xff;n=v&0xff;if(s==64){K[z++]=String.fromCharCode(j);}else if(t==64){K[z++]=String.fromCharCode(j,m);}else{K[z++]=String.fromCharCode(j,m,n);}}while(H<g.length);I=K.join('');return I;};}if(!Array.prototype.map){Array.prototype.map=function(g){if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var j=Object(this),m=j.length>>>0,n=new Array(m),o=arguments.length>1?arguments[1]:void 0;for(var q=0;q<m;q++){if(q in j)n[q]=g.call(o,j[q],q,j);}return n;};}if(!Array.isArray){Array.isArray=function(g){return Object.prototype.toString.call(g)==='[object Array]';};}if(!Array.prototype.forEach){Array.prototype.forEach=function(g,j){"use strict";if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var m=Object(this),n=m.length>>>0;for(var o=0;o<n;o++){if(o in m)g.call(j,m[o],o,m);}};}if(!Object.keys){Object.keys=(function(){'use strict';var o=Object.prototype.hasOwnProperty,q=!({toString:null}).propertyIsEnumerable('toString'),s=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],t=s.length;return function(g){if(typeof g!=='object'&&(typeof g!=='function'||g===null)){throw  new TypeError();}var j=[],m,n;for(m in g){if(o.call(g,m)){j.push(m);}}if(q){for(n=0;n<t;n++){if(o.call(g,s[n])){j.push(s[n]);}}}return j;};}());}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"");};}if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/g,"");};}})(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this);
/** @license Promise polyfill | Copyright (c) 2014 Taylor Hakes [https://github.com/taylorhakes/promise-polyfill] | MIT License [https://github.com/taylorhakes/promise-polyfill/blob/master/LICENSE] */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},c=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=u,n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();l.Promise?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=u):l.Promise=n});
/** @license html2canvas v0.5.0-beta3 | Copyright (c) 2018 Niklas von Hertzen [https://html2canvas.hertzen.com] | MIT License [https://github.com/niklasvh/html2canvas/blob/master/LICENSE] */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(f){t("Unable to copy canvas content from",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(n===!0||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,f):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e("./log");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=o,p.height=t,p.scrolling="no",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),"view"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+"px",o.documentElement.style.left=-s+"px",o.documentElement.style.position="absolute")),n(p))},50)},o.open(),o.write("<!DOCTYPE html><html></html>"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{"./log":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if(n=n||{},n.logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async="undefined"==typeof n.async?!0:n.async,n.allowTaint="undefined"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer="undefined"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled="undefined"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout="undefined"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+d,s="["+l+"='"+d+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s),p=Promise.resolve("function"==typeof n.onclone?n.onclone(u.document):!0);return p.then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w="view"===f.type?o:s(i.document),b="view"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",l,"height:",s),v("Resulting crop with width",n.width,"and height",n.height,"with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var p=n("./support"),c=n("./renderers/canvas"),y=n("./imageloader"),m=n("./nodeparser"),r=n("./nodecontainer"),v=n("./log"),w=n("./utils"),b=n("./clone"),g=n("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;f.exports=k,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return k})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,n){function f(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),n.complete===!0&&e(n)})}}var o=e("./log"),d=e("./utils").smallImage;n.exports=f},{"./log":13,"./utils":26}],6:[function(e,n){function f(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e("./utils").smallImage;n.exports=f},{"./utils":26}],7:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){var f=e("./core");return f(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var o=e("./utils"),d=o.getBounds,i=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,n.exports=f},{}],10:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,f.image.complete===!0&&o(f.image)})}n.exports=f},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),d=e("./imagecontainer"),i=e("./dummyimagecontainer"),t=e("./proxyimagecontainer"),l=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),a=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),c=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o("Added image #"+e.length,"string"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new d(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return"linear-gradient"===e.method?new a(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var n=new i(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o("Succesfully loaded image #"+(n+1),e)},function(f){o("Failed loading image #"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d["catch"](function(){clearTimeout(f)}),d},n.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case"center":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?"%":n[3];return{color:new d(n[1]),stop:"%"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,n.exports=f},{"./color":3,"./gradientcontainer":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var n=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",f=f.trim().split(" "),1===f.length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":3,"./utils":26}],15:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(W(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}
}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var f=e.css("border"+n+"Radius"),o=f.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position"),f=-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto";return"auto"!==f}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./stackingcontext"),V=e("./utils"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper"),d=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css("backgroundClip"),t=[];switch(i){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return Promise.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function d(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){c("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}var a=e("./xhr"),p=e("./utils"),c=e("./log"),y=e("./clone"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,n){function f(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin="Anonymous",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e})["catch"](i)})}var o=e("./proxy").ProxyURL;n.exports=f},{"./proxy":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement("canvas");return d.width=n.width,d.height=n.height,o=d.getContext("2d"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./xhr"),d=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{"./utils":26,"./xhr":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./svgcontainer":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":14}],26:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=" \r\n	",u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":9}],28:[function(e,n){function f(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}n.exports=f},{}]},{},[4])(4)});
/** @license JSZip v3.1.5 | Copyright (c) 2009-2016 Stuart Knightley <stuart@stuartk.com> [https://stuk.github.io/jszip/] | MIT or GPLv3 License [https://raw.github.com/Stuk/jszip/master/LICENSE.markdown] */
var r0="\x00\x00",k0='application/zip',e0="application/zip",n0="undefined",q0=null,h0=false;"use strict";var JSZip=function(k,l){this.files={};this.root="";if(k){this.load(k,l);}};JSZip.signature={LOCAL_FILE_HEADER:"\x50\x4b\x03\x04",CENTRAL_FILE_HEADER:"\x50\x4b\x01\x02",CENTRAL_DIRECTORY_END:"\x50\x4b\x05\x06",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"\x50\x4b\x06\x07",ZIP64_CENTRAL_DIRECTORY_END:"\x50\x4b\x06\x06",DATA_DESCRIPTOR:"\x50\x4b\x07\x08"};JSZip.defaults={base64:h0,binary:h0,dir:h0,date:q0,compression:q0};JSZip.support={arraybuffer:(function(){return typeof ArrayBuffer!==n0&&typeof Uint8Array!==n0;})(),nodebuffer:(function(){return typeof Buffer!==n0;})(),uint8array:(function(){return typeof Uint8Array!==n0;})(),blob:(function(){if(typeof ArrayBuffer===n0){return h0;}var l=new ArrayBuffer(0);try{return new Blob([l],{type:e0}).size===0;}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob(k0).size===0;}catch(k){}return h0;})()};JSZip.prototype=(function(){var p,v;if(JSZip.support.uint8array&&typeof TextEncoder==="function"&&typeof TextDecoder==="function"){p=new TextEncoder("utf-8");v=new TextDecoder("utf-8");}var w=function(k){if(k._data instanceof JSZip.CompressedObject){k._data=k._data.getContent();k.options.binary=true;k.options.base64=false;if(JSZip.utils.getTypeOf(k._data)==="uint8array"){var l=k._data;k._data=new Uint8Array(l.length);if(l.length!==0){k._data.set(l,0);}}}return k._data;},E=function(k){var l=w(k),n=JSZip.utils.getTypeOf(l);if(n==="string"){if(!k.options.binary){if(p){return p.encode(l);}if(JSZip.support.nodebuffer){return new Buffer(l,"utf-8");}}return k.asBinary();}return l;},z=function(k){var l=w(this);if(l===null||typeof l==="undefined"){return "";}if(this.options.base64){l=JSZip.base64.decode(l);}if(k&&this.options.binary){l=JSZip.prototype.utf8decode(l);}else{l=JSZip.utils.transformTo("string",l);}if(!k&&!this.options.binary){l=JSZip.prototype.utf8encode(l);}return l;},J=function(k,l,n){this.name=k;this._data=l;this.options=n;};J.prototype={asText:function(){return z.call(this,true);},asBinary:function(){return z.call(this,false);},asNodeBuffer:function(){var k=E(this);return JSZip.utils.transformTo("nodebuffer",k);},asUint8Array:function(){var k=E(this);return JSZip.utils.transformTo("uint8array",k);},asArrayBuffer:function(){return this.asUint8Array().buffer;}};var I=function(k,l){var n="",r;for(r=0;r<l;r++){n+=String.fromCharCode(k&0xff);k=k>>>8;}return n;},P=function(){var k={},l,n;for(l=0;l<arguments.length;l++){for(n in arguments[l]){if(arguments[l].hasOwnProperty(n)&&typeof k[n]==="undefined"){k[n]=arguments[l][n];}}}return k;},F=function(k){k=k||{};if(k.base64===true&&k.binary==null){k.binary=true;}k=P(k,JSZip.defaults);k.date=k.date||new Date();if(k.compression!==null)k.compression=k.compression.toUpperCase();return k;},K=function(k,l,n){var r=D(k),u=JSZip.utils.getTypeOf(l);if(r){x.call(this,r);}n=F(n);if(n.dir||l===null||typeof l==="undefined"){n.base64=false;n.binary=false;l=null;}else if(u==="string"){if(n.binary&&!n.base64){if(n.optimizedBinaryString!==true){l=JSZip.utils.string2binary(l);}}}else{n.base64=false;n.binary=true;if(!u&&!(l instanceof JSZip.CompressedObject)){throw  new Error("The data of '"+k+"' is in an unsupported format !");}if(u==="arraybuffer"){l=JSZip.utils.transformTo("uint8array",l);}}return this.files[k]=new J(k,l,n);},D=function(k){if(k.slice(-1)=='/'){k=k.substring(0,k.length-1);}var l=k.lastIndexOf('/');return (l>0)?k.substring(0,l):"";},x=function(k){if(k.slice(-1)!="/"){k+="/";}if(!this.files[k]){K.call(this,k,null,{dir:true});}return this.files[k];},G=function(k,l){var n=new JSZip.CompressedObject(),r;if(k._data instanceof JSZip.CompressedObject){n.uncompressedSize=k._data.uncompressedSize;n.crc32=k._data.crc32;if(n.uncompressedSize===0||k.options.dir){l=JSZip.compressions['STORE'];n.compressedContent="";n.crc32=0;}else if(k._data.compressionMethod===l.magic){n.compressedContent=k._data.getCompressedContent();}else{r=k._data.getContent();n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}}else{r=E(k);if(!r||r.length===0||k.options.dir){l=JSZip.compressions['STORE'];r="";}n.uncompressedSize=r.length;n.crc32=this.crc32(r);n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}n.compressedSize=n.compressedContent.length;n.compressionMethod=l.magic;return n;},V=function(k,l,n,r){var u=n.compressedContent,s=this.utf8encode(l.name),C=s!==l.name,y=l.options,B,A;B=y.date.getHours();B=B<<6;B=B|y.date.getMinutes();B=B<<5;B=B|y.date.getSeconds()/2;A=y.date.getFullYear()-1980;A=A<<4;A=A|(y.date.getMonth()+1);A=A<<5;A=A|y.date.getDate();var m="";m+="\x0A\x00";m+=C?"\x00\x08":"\x00\x00";m+=n.compressionMethod;m+=I(B,2);m+=I(A,2);m+=I(n.crc32,4);m+=I(n.compressedSize,4);m+=I(n.uncompressedSize,4);m+=I(s.length,2);m+="\x00\x00";var q=JSZip.signature.LOCAL_FILE_HEADER+m+s,o=JSZip.signature.CENTRAL_FILE_HEADER+"\x14\x00"+m+"\x00\x00"+"\x00\x00"+"\x00\x00"+(l.options.dir===true?"\x10\x00\x00\x00":"\x00\x00\x00\x00")+I(r,4)+s;return {fileRecord:q,dirRecord:o,compressedObject:n};},N=function(){this.data=[];};N.prototype={append:function(k){k=JSZip.utils.transformTo("string",k);this.data.push(k);},finalize:function(){return this.data.join("");}};var L=function(k){this.data=new Uint8Array(k);this.index=0;};L.prototype={append:function(k){if(k.length!==0){k=JSZip.utils.transformTo("uint8array",k);this.data.set(k,this.index);this.index+=k.length;}},finalize:function(){return this.data;}};return {load:function(k,l){throw  new Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(k){var l=[],n,r,u,s;for(n in this.files){if(!this.files.hasOwnProperty(n)){continue;}u=this.files[n];s=new J(u.name,u._data,P(u.options));r=n.slice(this.root.length,n.length);if(n.slice(0,this.root.length)===this.root&&k(r,s)){l.push(s);}}return l;},file:function(n,r,u){if(arguments.length===1){if(JSZip.utils.isRegExp(n)){var s=n;return this.filter(function(k,l){return !l.options.dir&&s.test(k);});}else{return this.filter(function(k,l){return !l.options.dir&&k===n;})[0]||null;}}else{n=this.root+n;K.call(this,n,r,u);}return this;},folder:function(n){if(!n){return this;}if(JSZip.utils.isRegExp(n)){return this.filter(function(k,l){return l.options.dir&&n.test(k);});}var r=this.root+n,u=x.call(this,r),s=this.clone();s.root=u.name;return s;},remove:function(n){n=this.root+n;var r=this.files[n];if(!r){if(n.slice(-1)!="/"){n+="/";}r=this.files[n];}if(r){if(!r.options.dir){delete  this.files[n];}else{var u=this.filter(function(k,l){return l.name.slice(0,n.length)===n;});for(var s=0;s<u.length;s++){delete  this.files[u[s].name];}}}return this;},generate:function(k){k=P(k||{},{base64:true,compression:"STORE",type:"base64"});JSZip.utils.checkSupport(k.type);var l=[],n=0,r=0,u,s;for(var C in this.files){if(!this.files.hasOwnProperty(C)){continue;}var y=this.files[C],B=y.options.compression||k.compression.toUpperCase(),A=JSZip.compressions[B];if(!A){throw  new Error(B+" is not a valid compression method !");}var m=G.call(this,y,A),q=V.call(this,C,y,m,n);n+=q.fileRecord.length+m.compressedSize;r+=q.dirRecord.length;l.push(q);}var o="";o=JSZip.signature.CENTRAL_DIRECTORY_END+"\x00\x00"+"\x00\x00"+I(l.length,2)+I(l.length,2)+I(r,4)+I(n,4)+"\x00\x00";switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "blob":case "nodebuffer":u=new L(n+r+o.length);break;case "base64":default :u=new N(n+r+o.length);break;}for(s=0;s<l.length;s++){u.append(l[s].fileRecord);u.append(l[s].compressedObject.compressedContent);}for(s=0;s<l.length;s++){u.append(l[s].dirRecord);}u.append(o);var t=u.finalize();switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return JSZip.utils.transformTo(k.type.toLowerCase(),t);case "blob":return JSZip.utils.arrayBuffer2Blob(JSZip.utils.transformTo("arraybuffer",t));case "base64":return (k.base64)?JSZip.base64.encode(t):t;default :return t;}},crc32:function crc32(k,l){if(typeof k==="undefined"||!k.length){return 0;}var n=JSZip.utils.getTypeOf(k)!=="string",r=[0x00000000,0x77073096,0xEE0E612C,0x990951BA,0x076DC419,0x706AF48F,0xE963A535,0x9E6495A3,0x0EDB8832,0x79DCB8A4,0xE0D5E91E,0x97D2D988,0x09B64C2B,0x7EB17CBD,0xE7B82D07,0x90BF1D91,0x1DB71064,0x6AB020F2,0xF3B97148,0x84BE41DE,0x1ADAD47D,0x6DDDE4EB,0xF4D4B551,0x83D385C7,0x136C9856,0x646BA8C0,0xFD62F97A,0x8A65C9EC,0x14015C4F,0x63066CD9,0xFA0F3D63,0x8D080DF5,0x3B6E20C8,0x4C69105E,0xD56041E4,0xA2677172,0x3C03E4D1,0x4B04D447,0xD20D85FD,0xA50AB56B,0x35B5A8FA,0x42B2986C,0xDBBBC9D6,0xACBCF940,0x32D86CE3,0x45DF5C75,0xDCD60DCF,0xABD13D59,0x26D930AC,0x51DE003A,0xC8D75180,0xBFD06116,0x21B4F4B5,0x56B3C423,0xCFBA9599,0xB8BDA50F,0x2802B89E,0x5F058808,0xC60CD9B2,0xB10BE924,0x2F6F7C87,0x58684C11,0xC1611DAB,0xB6662D3D,0x76DC4190,0x01DB7106,0x98D220BC,0xEFD5102A,0x71B18589,0x06B6B51F,0x9FBFE4A5,0xE8B8D433,0x7807C9A2,0x0F00F934,0x9609A88E,0xE10E9818,0x7F6A0DBB,0x086D3D2D,0x91646C97,0xE6635C01,0x6B6B51F4,0x1C6C6162,0x856530D8,0xF262004E,0x6C0695ED,0x1B01A57B,0x8208F4C1,0xF50FC457,0x65B0D9C6,0x12B7E950,0x8BBEB8EA,0xFCB9887C,0x62DD1DDF,0x15DA2D49,0x8CD37CF3,0xFBD44C65,0x4DB26158,0x3AB551CE,0xA3BC0074,0xD4BB30E2,0x4ADFA541,0x3DD895D7,0xA4D1C46D,0xD3D6F4FB,0x4369E96A,0x346ED9FC,0xAD678846,0xDA60B8D0,0x44042D73,0x33031DE5,0xAA0A4C5F,0xDD0D7CC9,0x5005713C,0x270241AA,0xBE0B1010,0xC90C2086,0x5768B525,0x206F85B3,0xB966D409,0xCE61E49F,0x5EDEF90E,0x29D9C998,0xB0D09822,0xC7D7A8B4,0x59B33D17,0x2EB40D81,0xB7BD5C3B,0xC0BA6CAD,0xEDB88320,0x9ABFB3B6,0x03B6E20C,0x74B1D29A,0xEAD54739,0x9DD277AF,0x04DB2615,0x73DC1683,0xE3630B12,0x94643B84,0x0D6D6A3E,0x7A6A5AA8,0xE40ECF0B,0x9309FF9D,0x0A00AE27,0x7D079EB1,0xF00F9344,0x8708A3D2,0x1E01F268,0x6906C2FE,0xF762575D,0x806567CB,0x196C3671,0x6E6B06E7,0xFED41B76,0x89D32BE0,0x10DA7A5A,0x67DD4ACC,0xF9B9DF6F,0x8EBEEFF9,0x17B7BE43,0x60B08ED5,0xD6D6A3E8,0xA1D1937E,0x38D8C2C4,0x4FDFF252,0xD1BB67F1,0xA6BC5767,0x3FB506DD,0x48B2364B,0xD80D2BDA,0xAF0A1B4C,0x36034AF6,0x41047A60,0xDF60EFC3,0xA867DF55,0x316E8EEF,0x4669BE79,0xCB61B38C,0xBC66831A,0x256FD2A0,0x5268E236,0xCC0C7795,0xBB0B4703,0x220216B9,0x5505262F,0xC5BA3BBE,0xB2BD0B28,0x2BB45A92,0x5CB36A04,0xC2D7FFA7,0xB5D0CF31,0x2CD99E8B,0x5BDEAE1D,0x9B64C2B0,0xEC63F226,0x756AA39C,0x026D930A,0x9C0906A9,0xEB0E363F,0x72076785,0x05005713,0x95BF4A82,0xE2B87A14,0x7BB12BAE,0x0CB61B38,0x92D28E9B,0xE5D5BE0D,0x7CDCEFB7,0x0BDBDF21,0x86D3D2D4,0xF1D4E242,0x68DDB3F8,0x1FDA836E,0x81BE16CD,0xF6B9265B,0x6FB077E1,0x18B74777,0x88085AE6,0xFF0F6A70,0x66063BCA,0x11010B5C,0x8F659EFF,0xF862AE69,0x616BFFD3,0x166CCF45,0xA00AE278,0xD70DD2EE,0x4E048354,0x3903B3C2,0xA7672661,0xD06016F7,0x4969474D,0x3E6E77DB,0xAED16A4A,0xD9D65ADC,0x40DF0B66,0x37D83BF0,0xA9BCAE53,0xDEBB9EC5,0x47B2CF7F,0x30B5FFE9,0xBDBDF21C,0xCABAC28A,0x53B39330,0x24B4A3A6,0xBAD03605,0xCDD70693,0x54DE5729,0x23D967BF,0xB3667A2E,0xC4614AB8,0x5D681B02,0x2A6F2B94,0xB40BBE37,0xC30C8EA1,0x5A05DF1B,0x2D02EF8D];if(typeof (l)=="undefined"){l=0;}var u=0,s=0,C=0;l=l^(-1);for(var y=0,B=k.length;y<B;y++){C=n?k[y]:k.charCodeAt(y);s=(l^C)&0xFF;u=r[s];l=(l>>>8)^u;}return l^(-1);},clone:function(){var k=new JSZip();for(var l in this){if(typeof this[l]!=="function"){k[l]=this[l];}}return k;},utf8encode:function(k){if(p){var l=p.encode(k);return JSZip.utils.transformTo("string",l);}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("string",new Buffer(k,"utf-8"));}var n=[],r=0;for(var u=0;u<k.length;u++){var s=k.charCodeAt(u);if(s<128){n[r++]=String.fromCharCode(s);}else if((s>127)&&(s<2048)){n[r++]=String.fromCharCode((s>>6)|192);n[r++]=String.fromCharCode((s&63)|128);}else{n[r++]=String.fromCharCode((s>>12)|224);n[r++]=String.fromCharCode(((s>>6)&63)|128);n[r++]=String.fromCharCode((s&63)|128);}}return n.join("");},utf8decode:function(k){var l=[],n=0,r=JSZip.utils.getTypeOf(k),u=r!=="string",s=0,C=0,y=0,B=0,A=0;if(v){return v.decode(JSZip.utils.transformTo("uint8array",k));}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("nodebuffer",k).toString("utf-8");}while(s<k.length){C=u?k[s]:k.charCodeAt(s);if(C<128){l[n++]=String.fromCharCode(C);s++;}else if((C>191)&&(C<224)){B=u?k[s+1]:k.charCodeAt(s+1);l[n++]=String.fromCharCode(((C&31)<<6)|(B&63));s+=2;}else{B=u?k[s+1]:k.charCodeAt(s+1);A=u?k[s+2]:k.charCodeAt(s+2);l[n++]=String.fromCharCode(((C&15)<<12)|((B&63)<<6)|(A&63));s+=3;}}return l.join("");}};}());JSZip.compressions={"STORE":{magic:r0,compress:function(k){return k;},uncompress:function(k){return k;},compressInputType:q0,uncompressInputType:q0}};(function(){JSZip.utils={string2binary:function(k){var l="";for(var n=0;n<k.length;n++){l+=String.fromCharCode(k.charCodeAt(n)&0xff);}return l;},string2Uint8Array:function(k){return JSZip.utils.transformTo("uint8array",k);},uint8Array2String:function(k){return JSZip.utils.transformTo("string",k);},arrayBuffer2Blob:function(l){JSZip.utils.checkSupport("blob");try{return new Blob([l],{type:"application/zip"});}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob('application/zip');}catch(k){}throw  new Error("Bug : can't construct the Blob.");},string2Blob:function(k){var l=JSZip.utils.transformTo("arraybuffer",k);return JSZip.utils.arrayBuffer2Blob(l);}};function m(k){return k;};function q(k,l){for(var n=0;n<k.length;++n){l[n]=k.charCodeAt(n)&0xFF;}return l;};function o(l){var n=65536,r=[],u=l.length,s=JSZip.utils.getTypeOf(l),C=0,y=true;try{switch(s){case "uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,new Buffer(0));break;}}catch(k){y=false;}if(!y){var B="";for(var A=0;A<l.length;A++){B+=String.fromCharCode(l[A]);}return B;}while(C<u&&n>1){try{if(s==="array"||s==="nodebuffer"){r.push(String.fromCharCode.apply(null,l.slice(C,Math.min(C+n,u))));}else{r.push(String.fromCharCode.apply(null,l.subarray(C,Math.min(C+n,u))));}C+=n;}catch(k){n=Math.floor(n/2);}}return r.join("");};function t(k,l){for(var n=0;n<k.length;n++){l[n]=k[n];}return l;};var p={};p["string"]={"string":m,"array":function(k){return q(k,new Array(k.length));},"arraybuffer":function(k){return p["string"]["uint8array"](k).buffer;},"uint8array":function(k){return q(k,new Uint8Array(k.length));},"nodebuffer":function(k){return q(k,new Buffer(k.length));}};p["array"]={"string":o,"array":m,"arraybuffer":function(k){return (new Uint8Array(k)).buffer;},"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(k);}};p["arraybuffer"]={"string":function(k){return o(new Uint8Array(k));},"array":function(k){return t(new Uint8Array(k),new Array(k.byteLength));},"arraybuffer":m,"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(new Uint8Array(k));}};p["uint8array"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return k.buffer;},"uint8array":m,"nodebuffer":function(k){return new Buffer(k);}};p["nodebuffer"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return p["nodebuffer"]["uint8array"](k).buffer;},"uint8array":function(k){return t(k,new Uint8Array(k.length));},"nodebuffer":m};JSZip.utils.transformTo=function(k,l){if(!l){l="";}if(!k){return l;}JSZip.utils.checkSupport(k);var n=JSZip.utils.getTypeOf(l),r=p[n][k](l);return r;};JSZip.utils.getTypeOf=function(k){if(typeof k==="string"){return "string";}if(Object.prototype.toString.call(k)==="[object Array]"){return "array";}if(JSZip.support.nodebuffer&&Buffer.isBuffer(k)){return "nodebuffer";}if(JSZip.support.uint8array&&k instanceof Uint8Array){return "uint8array";}if(JSZip.support.arraybuffer&&k instanceof ArrayBuffer){return "arraybuffer";}};JSZip.utils.isRegExp=function(k){return Object.prototype.toString.call(k)==="[object RegExp]";};JSZip.utils.checkSupport=function(k){var l=true;switch(k.toLowerCase()){case "uint8array":l=JSZip.support.uint8array;break;case "arraybuffer":l=JSZip.support.arraybuffer;break;case "nodebuffer":l=JSZip.support.nodebuffer;break;case "blob":l=JSZip.support.blob;break;}if(!l){throw  new Error(k+" is not supported by this browser");}};})();(function(){JSZip.CompressedObject=function(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=q0;this.compressedContent=q0;};JSZip.CompressedObject.prototype={getContent:function(){return q0;},getCompressedContent:function(){return q0;}};})();JSZip.base64=(function(){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return {encode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;while(m<k.length){r=k.charCodeAt(m++);u=k.charCodeAt(m++);s=k.charCodeAt(m++);C=r>>2;y=((r&3)<<4)|(u>>4);B=((u&15)<<2)|(s>>6);A=s&63;if(isNaN(u)){B=A=64;}else if(isNaN(s)){A=64;}n=n+q.charAt(C)+q.charAt(y)+q.charAt(B)+q.charAt(A);}return n;},decode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(m<k.length){C=q.indexOf(k.charAt(m++));y=q.indexOf(k.charAt(m++));B=q.indexOf(k.charAt(m++));A=q.indexOf(k.charAt(m++));r=(C<<2)|(y>>4);u=((y&15)<<4)|(B>>2);s=((B&3)<<6)|A;n=n+String.fromCharCode(r);if(B!=64){n=n+String.fromCharCode(u);}if(A!=64){n=n+String.fromCharCode(s);}}return n;}};}());
void 0!==window.jQuery&&(window.jQuery.fn.webdatarocks=function(a){a=a||{};a.container=this.get(0);a=window.WebDataRocks?window.WebDataRocks(a):window.PivotApi(a);this.data("webdatarocks",a);return a});
void 0!==window.angular&&window.angular.module("webdatarocks",[]).directive("wbrPivot",function(){function d(b,c){void 0!==b.wbrGlobal&&(c.global=b.wbrGlobal);void 0!==b.wbrWidth&&(c.width=b.wbrWidth);void 0!==b.wbrHeight&&(c.height=b.wbrHeight);void 0!==b.wbrToolbar&&(c.toolbar=!0===b.wbrToolbar||"true"==b.wbrToolbar||"on"==b.wbrToolbar)}return{restrict:"A",scope:{report:"=wbrReport",customizeCell:"&wbrCustomizeCell",cellclick:"&wbrCellClick",celldoubleclick:"&wbrCellDoubleClick",dataerror:"&wbrDataError",
datafilecancelled:"&wbrDataFileCancelled",dataloaded:"&wbrDataLoaded",datachanged:"&wbrDataChanged",fieldslistclose:"&wbrFieldsListClose",fieldslistopen:"&wbrFieldsListOpen",filteropen:"&wbrFilteropen",fullscreen:"&wbrFullscreen",loadingdata:"&wbrLoadingData",loadinglocalization:"&wbrLoadingLocalization",loadingolapstructure:"&wbrLoadingOlapStructure",loadingreportfile:"&wbrLoadingReportFile",localizationerror:"&wbrLocalizationError",localizationloaded:"&wbrLocalizationLoaded",openingreportfile:"&wbrOpeningReportFile",
querycomplete:"&wbrQueryComplete",queryerror:"&wbrQueryError",ready:"&wbrReady",reportchange:"&wbrReportChange",reportcomplete:"&wbrReportComplete",reportfilecancelled:"&wbrReportFileCancelled",reportfileerror:"&wbrReportFileError",reportfileloaded:"&wbrReportFileLoaded",runningquery:"&wbrRunningQuery",update:"&wbrUpdate",beforetoolbarcreated:"&wbrBeforeToolbarCreated"},link:function(b,c,e,a){a={};a.container=c[0];d(e,a);b.customizeCell&&(a.customizeCell=function(a,c){return b.customizeCell({html:a,
data:c})});b.cellclick&&(a.cellclick=function(a){b.cellclick({cell:a})});b.celldoubleclick&&(a.celldoubleclick=function(a){b.celldoubleclick({cell:a})});a.dataerror=b.dataerror;a.datafilecancelled=b.datafilecancelled;a.dataloaded=b.dataloaded;a.datachanged&&(a.datachanged=function(a){b.datachanged({event:a})});a.fieldslistclose=b.fieldslistclose;a.fieldslistopen=b.fieldslistopen;a.filteropen&&(a.filteropen=function(a){b.filteropen({params:a})});a.fullscreen&&(a.fullscreen=function(a){b.fullscreen({fullScreenMode:a})});
a.loadingdata=b.loadingdata;a.loadinglocalization=b.loadinglocalization;a.loadingolapstructure=b.loadingolapstructure;a.loadingreportfile=b.loadingreportfile;a.localizationerror=b.localizationerror;a.localizationloaded=b.localizationloaded;a.olapstructureerror=b.olapstructureerror;a.olapstructureloaded=b.olapstructureloaded;a.openingreportfile=b.openingreportfile;a.querycomplete=b.querycomplete;a.queryerror=b.queryerror;b.ready&&(a.ready=function(){b.ready({pivot:f})});a.reportchange=b.reportchange;
a.reportcomplete=b.reportcomplete;a.reportfilecancelled=b.reportfilecancelled;a.reportfileerror=b.reportfileerror;a.reportfileloaded=b.reportfileloaded;a.runningquery=b.runningquery;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.update=b.update;b.beforetoolbarcreated&&(a.beforetoolbarcreated=function(a){b.beforetoolbarcreated({toolbar:a})});b.report&&(a.report=b.report);b.global&&(a.global=b.global);var f=new WebDataRocks(a)}}});
void 0!==window.React&&(window.WebDataRocksReact={Pivot:React.createClass({propTypes:{global:React.PropTypes.object,width:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),height:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),report:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),toolbar:React.PropTypes.bool,customizeCell:React.PropTypes.func,cellclick:React.PropTypes.func,celldoubleclick:React.PropTypes.func,dataerror:React.PropTypes.func,
datafilecancelled:React.PropTypes.func,dataloaded:React.PropTypes.func,datachanged:React.PropTypes.func,fieldslistclose:React.PropTypes.func,fieldslistopen:React.PropTypes.func,filteropen:React.PropTypes.func,fullscreen:React.PropTypes.func,loadingdata:React.PropTypes.func,loadinglocalization:React.PropTypes.func,loadingolapstructure:React.PropTypes.func,loadingreportfile:React.PropTypes.func,localizationerror:React.PropTypes.func,localizationloaded:React.PropTypes.func,olapstructureerror:React.PropTypes.func,
olapstructureloaded:React.PropTypes.func,openingreportfile:React.PropTypes.func,querycomplete:React.PropTypes.func,queryerror:React.PropTypes.func,ready:React.PropTypes.func,reportchange:React.PropTypes.func,reportcomplete:React.PropTypes.func,reportfilecancelled:React.PropTypes.func,reportfileerror:React.PropTypes.func,reportfileloaded:React.PropTypes.func,runningquery:React.PropTypes.func,update:React.PropTypes.func,beforetoolbarcreated:React.PropTypes.func},render:function(){return React.DOM.div()},
componentDidMount:function(){var a={};a.container=ReactDOM.findDOMNode(this);this.parseProps(a);this.webdatarocks=new window.WebDataRocks(a)},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){},parseProps:function(a){for(var b in this.props)a[b]=this.props[b]}})});

if("object"===typeof module&&module.exports){module.exports=WebDataRocks;}